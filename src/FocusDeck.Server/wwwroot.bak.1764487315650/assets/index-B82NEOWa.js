function UD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Pp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Efe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var oS={exports:{}},Ag={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5;function FD(){if(S5)return Ag;S5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Ag.Fragment=e,Ag.jsx=n,Ag.jsxs=n,Ag}var w5;function GD(){return w5||(w5=1,oS.exports=FD()),oS.exports}var E=GD(),lS={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5;function qD(){if(C5)return dt;C5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function x(Y){return Y===null||typeof Y!="object"?null:(Y=b&&Y[b]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function A(Y,ie,F){this.props=Y,this.context=ie,this.refs=_,this.updater=F||S}A.prototype.isReactComponent={},A.prototype.setState=function(Y,ie){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ie,"setState")},A.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function O(){}O.prototype=A.prototype;function z(Y,ie,F){this.props=Y,this.context=ie,this.refs=_,this.updater=F||S}var L=z.prototype=new O;L.constructor=z,k(L,A.prototype),L.isPureReactComponent=!0;var I=Array.isArray;function j(){}var P={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Q(Y,ie,F){var we=F.ref;return{$$typeof:t,type:Y,key:ie,ref:we!==void 0?we:null,props:F}}function q(Y,ie){return Q(Y.type,ie,Y.props)}function X(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function W(Y){var ie={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(F){return ie[F]})}var le=/\/+/g;function Z(Y,ie){return typeof Y=="object"&&Y!==null&&Y.key!=null?W(""+Y.key):ie.toString(36)}function te(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(j,j):(Y.status="pending",Y.then(function(ie){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ie)},function(ie){Y.status==="pending"&&(Y.status="rejected",Y.reason=ie)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function V(Y,ie,F,we,Be){var De=typeof Y;(De==="undefined"||De==="boolean")&&(Y=null);var je=!1;if(Y===null)je=!0;else switch(De){case"bigint":case"string":case"number":je=!0;break;case"object":switch(Y.$$typeof){case t:case e:je=!0;break;case m:return je=Y._init,V(je(Y._payload),ie,F,we,Be)}}if(je)return Be=Be(Y),je=we===""?"."+Z(Y,0):we,I(Be)?(F="",je!=null&&(F=je.replace(le,"$&/")+"/"),V(Be,ie,F,"",function(nt){return nt})):Be!=null&&(X(Be)&&(Be=q(Be,F+(Be.key==null||Y&&Y.key===Be.key?"":(""+Be.key).replace(le,"$&/")+"/")+je)),ie.push(Be)),1;je=0;var ot=we===""?".":we+":";if(I(Y))for(var Ke=0;Ke<Y.length;Ke++)we=Y[Ke],De=ot+Z(we,Ke),je+=V(we,ie,F,De,Be);else if(Ke=x(Y),typeof Ke=="function")for(Y=Ke.call(Y),Ke=0;!(we=Y.next()).done;)we=we.value,De=ot+Z(we,Ke++),je+=V(we,ie,F,De,Be);else if(De==="object"){if(typeof Y.then=="function")return V(te(Y),ie,F,we,Be);throw ie=String(Y),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return je}function re(Y,ie,F){if(Y==null)return Y;var we=[],Be=0;return V(Y,we,"","",function(De){return ie.call(F,De,Be++)}),we}function ee(Y){if(Y._status===-1){var ie=Y._result;ie=ie(),ie.then(function(F){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=F)},function(F){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=F)}),Y._status===-1&&(Y._status=0,Y._result=ie)}if(Y._status===1)return Y._result.default;throw Y._result}var de=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},G={map:re,forEach:function(Y,ie,F){re(Y,function(){ie.apply(this,arguments)},F)},count:function(Y){var ie=0;return re(Y,function(){ie++}),ie},toArray:function(Y){return re(Y,function(ie){return ie})||[]},only:function(Y){if(!X(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return dt.Activity=g,dt.Children=G,dt.Component=A,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=z,dt.StrictMode=r,dt.Suspense=u,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,dt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return P.H.useMemoCache(Y)}},dt.cache=function(Y){return function(){return Y.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(Y,ie,F){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var we=k({},Y.props),Be=Y.key;if(ie!=null)for(De in ie.key!==void 0&&(Be=""+ie.key),ie)!H.call(ie,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ie.ref===void 0||(we[De]=ie[De]);var De=arguments.length-2;if(De===1)we.children=F;else if(1<De){for(var je=Array(De),ot=0;ot<De;ot++)je[ot]=arguments[ot+2];we.children=je}return Q(Y.type,Be,we)},dt.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},dt.createElement=function(Y,ie,F){var we,Be={},De=null;if(ie!=null)for(we in ie.key!==void 0&&(De=""+ie.key),ie)H.call(ie,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Be[we]=ie[we]);var je=arguments.length-2;if(je===1)Be.children=F;else if(1<je){for(var ot=Array(je),Ke=0;Ke<je;Ke++)ot[Ke]=arguments[Ke+2];Be.children=ot}if(Y&&Y.defaultProps)for(we in je=Y.defaultProps,je)Be[we]===void 0&&(Be[we]=je[we]);return Q(Y,De,Be)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(Y){return{$$typeof:l,render:Y}},dt.isValidElement=X,dt.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ee}},dt.memo=function(Y,ie){return{$$typeof:d,type:Y,compare:ie===void 0?null:ie}},dt.startTransition=function(Y){var ie=P.T,F={};P.T=F;try{var we=Y(),Be=P.S;Be!==null&&Be(F,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(j,de)}catch(De){de(De)}finally{ie!==null&&F.types!==null&&(ie.types=F.types),P.T=ie}},dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},dt.use=function(Y){return P.H.use(Y)},dt.useActionState=function(Y,ie,F){return P.H.useActionState(Y,ie,F)},dt.useCallback=function(Y,ie){return P.H.useCallback(Y,ie)},dt.useContext=function(Y){return P.H.useContext(Y)},dt.useDebugValue=function(){},dt.useDeferredValue=function(Y,ie){return P.H.useDeferredValue(Y,ie)},dt.useEffect=function(Y,ie){return P.H.useEffect(Y,ie)},dt.useEffectEvent=function(Y){return P.H.useEffectEvent(Y)},dt.useId=function(){return P.H.useId()},dt.useImperativeHandle=function(Y,ie,F){return P.H.useImperativeHandle(Y,ie,F)},dt.useInsertionEffect=function(Y,ie){return P.H.useInsertionEffect(Y,ie)},dt.useLayoutEffect=function(Y,ie){return P.H.useLayoutEffect(Y,ie)},dt.useMemo=function(Y,ie){return P.H.useMemo(Y,ie)},dt.useOptimistic=function(Y,ie){return P.H.useOptimistic(Y,ie)},dt.useReducer=function(Y,ie,F){return P.H.useReducer(Y,ie,F)},dt.useRef=function(Y){return P.H.useRef(Y)},dt.useState=function(Y){return P.H.useState(Y)},dt.useSyncExternalStore=function(Y,ie,F){return P.H.useSyncExternalStore(Y,ie,F)},dt.useTransition=function(){return P.H.useTransition()},dt.version="19.2.0",dt}var E5;function Bp(){return E5||(E5=1,lS.exports=qD()),lS.exports}var N=Bp();const Ye=Pp(N),W6=UD({__proto__:null,default:Ye},[N]);var cS={exports:{}},Ng={},uS={exports:{}},fS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k5;function VD(){return k5||(k5=1,(function(t){function e(V,re){var ee=V.length;V.push(re);e:for(;0<ee;){var de=ee-1>>>1,G=V[de];if(0<i(G,re))V[de]=re,V[ee]=G,ee=de;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var re=V[0],ee=V.pop();if(ee!==re){V[0]=ee;e:for(var de=0,G=V.length,Y=G>>>1;de<Y;){var ie=2*(de+1)-1,F=V[ie],we=ie+1,Be=V[we];if(0>i(F,ee))we<G&&0>i(Be,F)?(V[de]=Be,V[we]=ee,de=we):(V[de]=F,V[ie]=ee,de=ie);else if(we<G&&0>i(Be,ee))V[de]=Be,V[we]=ee,de=we;else break e}}return re}function i(V,re){var ee=V.sortIndex-re.sortIndex;return ee!==0?ee:V.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],m=1,g=null,b=3,x=!1,S=!1,k=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function L(V){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=V)r(d),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(d)}}function I(V){if(k=!1,L(V),!S)if(n(u)!==null)S=!0,j||(j=!0,W());else{var re=n(d);re!==null&&te(I,re.startTime-V)}}var j=!1,P=-1,H=5,Q=-1;function q(){return _?!0:!(t.unstable_now()-Q<H)}function X(){if(_=!1,j){var V=t.unstable_now();Q=V;var re=!0;try{e:{S=!1,k&&(k=!1,O(P),P=-1),x=!0;var ee=b;try{t:{for(L(V),g=n(u);g!==null&&!(g.expirationTime>V&&q());){var de=g.callback;if(typeof de=="function"){g.callback=null,b=g.priorityLevel;var G=de(g.expirationTime<=V);if(V=t.unstable_now(),typeof G=="function"){g.callback=G,L(V),re=!0;break t}g===n(u)&&r(u),L(V)}else r(u);g=n(u)}if(g!==null)re=!0;else{var Y=n(d);Y!==null&&te(I,Y.startTime-V),re=!1}}break e}finally{g=null,b=ee,x=!1}re=void 0}}finally{re?W():j=!1}}}var W;if(typeof z=="function")W=function(){z(X)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Z=le.port2;le.port1.onmessage=X,W=function(){Z.postMessage(null)}}else W=function(){A(X,0)};function te(V,re){P=A(function(){V(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(V){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var ee=b;b=re;try{return V()}finally{b=ee}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=b;b=V;try{return re()}finally{b=ee}},t.unstable_scheduleCallback=function(V,re,ee){var de=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,V){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ee+G,V={id:m++,callback:re,priorityLevel:V,startTime:ee,expirationTime:G,sortIndex:-1},ee>de?(V.sortIndex=ee,e(d,V),n(u)===null&&V===n(d)&&(k?(O(P),P=-1):k=!0,te(I,ee-de))):(V.sortIndex=G,e(u,V),S||x||(S=!0,j||(j=!0,W()))),V},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(V){var re=b;return function(){var ee=b;b=re;try{return V.apply(this,arguments)}finally{b=ee}}}})(fS)),fS}var T5;function bE(){return T5||(T5=1,uS.exports=VD()),uS.exports}var dS={exports:{}},Li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function YD(){if(_5)return Li;_5=1;var t=Bp();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:m}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Li.createPortal=function(u,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,m)},Li.flushSync=function(u){var d=a.T,m=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=m,r.d.f()}},Li.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Li.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Li.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):m==="script"&&r.d.X(u,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Li.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Li.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=l(m,d.crossOrigin);r.d.L(u,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Li.preloadModule=function(u,d){if(typeof u=="string")if(d){var m=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Li.requestFormReset=function(u){r.d.r(u)},Li.unstable_batchedUpdates=function(u,d){return u(d)},Li.useFormState=function(u,d,m){return a.H.useFormState(u,d,m)},Li.useFormStatus=function(){return a.H.useHostTransitionStatus()},Li.version="19.2.0",Li}var M5;function J6(){if(M5)return dS.exports;M5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dS.exports=YD(),dS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5;function KD(){if(A5)return Ng;A5=1;var t=bE(),e=Bp(),n=J6();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var p=o,y=c;;){var C=p.return;if(C===null)break;var T=C.alternate;if(T===null){if(y=C.return,y!==null){p=y;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===p)return u(C),o;if(T===y)return u(C),c;T=T.sibling}throw Error(r(188))}if(p.return!==y.return)p=C,y=T;else{for(var D=!1,U=C.child;U;){if(U===p){D=!0,p=C,y=T;break}if(U===y){D=!0,y=C,p=T;break}U=U.sibling}if(!D){for(U=T.child;U;){if(U===p){D=!0,p=T,y=C;break}if(U===y){D=!0,y=T,p=C;break}U=U.sibling}if(!D)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:c}function m(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=m(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),z=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var le=Symbol.for("react.client.reference");function Z(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===le?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case A:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList";case Q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case z:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case L:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:Z(o.type)||"Memo";case H:c=o._payload,o=o._init;try{return Z(o(c))}catch{}}return null}var te=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},de=[],G=-1;function Y(o){return{current:o}}function ie(o){0>G||(o.current=de[G],de[G]=null,G--)}function F(o,c){G++,de[G]=o.current,o.current=c}var we=Y(null),Be=Y(null),De=Y(null),je=Y(null);function ot(o,c){switch(F(De,c),F(Be,o),F(we,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?q4(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=q4(c),o=V4(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ie(we),F(we,o)}function Ke(){ie(we),ie(Be),ie(De)}function nt(o){o.memoizedState!==null&&F(je,o);var c=we.current,p=V4(c,o.type);c!==p&&(F(Be,o),F(we,p))}function Nn(o){Be.current===o&&(ie(we),ie(Be)),je.current===o&&(ie(je),kg._currentValue=ee)}var Xt,Rn;function Gn(o){if(Xt===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);Xt=c&&c[1]||"",Rn=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+o+Rn}var Dr=!1;function tr(o,c){if(!o||Dr)return"";Dr=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var he=ge}Reflect.construct(o,[],Se)}else{try{Se.call()}catch(ge){he=ge}o.call(Se.prototype)}}else{try{throw Error()}catch(ge){he=ge}(Se=o())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),D=T[0],U=T[1];if(D&&U){var J=D.split(`
`),ue=U.split(`
`);for(C=y=0;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;for(;C<ue.length&&!ue[C].includes("DetermineComponentFrameRoot");)C++;if(y===J.length||C===ue.length)for(y=J.length-1,C=ue.length-1;1<=y&&0<=C&&J[y]!==ue[C];)C--;for(;1<=y&&0<=C;y--,C--)if(J[y]!==ue[C]){if(y!==1||C!==1)do if(y--,C--,0>C||J[y]!==ue[C]){var be=`
`+J[y].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=y&&0<=C);break}}}finally{Dr=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?Gn(p):""}function si(o,c){switch(o.tag){case 26:case 27:case 5:return Gn(o.type);case 16:return Gn("Lazy");case 13:return o.child!==c&&c!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return tr(o.type,!1);case 11:return tr(o.type.render,!1);case 1:return tr(o.type,!0);case 31:return Gn("Activity");default:return""}}function Va(o){try{var c="",p=null;do c+=si(o,p),p=o,o=o.return;while(o);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var ys=Object.prototype.hasOwnProperty,nr=t.unstable_scheduleCallback,Gi=t.unstable_cancelCallback,Ei=t.unstable_shouldYield,On=t.unstable_requestPaint,qn=t.unstable_now,Ec=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,_e=t.unstable_UserBlockingPriority,qe=t.unstable_NormalPriority,Je=t.unstable_LowPriority,xt=t.unstable_IdlePriority,vn=t.log,qi=t.unstable_setDisableYieldValue,vr=null,Dn=null;function dr(o){if(typeof vn=="function"&&qi(o),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(vr,o)}catch{}}var Ut=Math.clz32?Math.clz32:Pd,bs=Math.log,ki=Math.LN2;function Pd(o){return o>>>=0,o===0?32:31-(bs(o)/ki|0)|0}var kc=256,Mo=262144,un=4194304;function zn(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Vn(o,c,p){var y=o.pendingLanes;if(y===0)return 0;var C=0,T=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var U=y&134217727;return U!==0?(y=U&~T,y!==0?C=zn(y):(D&=U,D!==0?C=zn(D):p||(p=U&~o,p!==0&&(C=zn(p))))):(U=y&~T,U!==0?C=zn(U):D!==0?C=zn(D):p||(p=y&~o,p!==0&&(C=zn(p)))),C===0?0:c!==0&&c!==C&&(c&T)===0&&(T=C&-C,p=c&-c,T>=p||T===32&&(p&4194048)!==0)?c:C}function ai(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function oi(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var o=un;return un<<=1,(un&62914560)===0&&(un=4194304),o}function li(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Vi(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ln(o,c,p,y,C,T){var D=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var U=o.entanglements,J=o.expirationTimes,ue=o.hiddenUpdates;for(p=D&~p;0<p;){var be=31-Ut(p),Se=1<<be;U[be]=0,J[be]=-1;var he=ue[be];if(he!==null)for(ue[be]=null,be=0;be<he.length;be++){var ge=he[be];ge!==null&&(ge.lane&=-536870913)}p&=~Se}y!==0&&ci(o,y,0),T!==0&&C===0&&o.tag!==0&&(o.suspendedLanes|=T&~(D&~c))}function ci(o,c,p){o.pendingLanes|=c,o.suspendedLanes&=~c;var y=31-Ut(c);o.entangledLanes|=c,o.entanglements[y]=o.entanglements[y]|1073741824|p&261930}function Yr(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var y=31-Ut(p),C=1<<y;C&c|o[y]&c&&(o[y]|=c),p&=~C}}function Yi(o,c){var p=c&-c;return p=(p&42)!==0?1:vs(p),(p&(o.suspendedLanes|c))!==0?0:p}function vs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function xs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ki(){var o=re.p;return o!==0?o:(o=window.event,o===void 0?32:p5(o.type))}function Ti(o,c){var p=re.p;try{return re.p=o,c()}finally{re.p=p}}var Xi=Math.random().toString(36).slice(2),rr="__reactFiber$"+Xi,Kr="__reactProps$"+Xi,Ao="__reactContainer$"+Xi,la="__reactEvents$"+Xi,No="__reactListeners$"+Xi,sf="__reactHandles$"+Xi,Bd="__reactResources$"+Xi,Ya="__reactMarker$"+Xi;function vl(o){delete o[rr],delete o[Kr],delete o[la],delete o[No],delete o[sf]}function xl(o){var c=o[rr];if(c)return c;for(var p=o.parentNode;p;){if(c=p[Ao]||p[rr]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=$4(o);o!==null;){if(p=o[rr])return p;o=$4(o)}return c}o=p,p=o.parentNode}return null}function Sl(o){if(o=o[rr]||o[Ao]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Tc(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ro(o){var c=o[Bd];return c||(c=o[Bd]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ir(o){o[Ya]=!0}var Ka=new Set,Id={};function Oo(o,c){Qi(o,c),Qi(o+"Capture",c)}function Qi(o,c){for(Id[o]=c,o=0;o<c.length;o++)Ka.add(c[o])}var Wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),af={},xn={};function tm(o){return ys.call(xn,o)?!0:ys.call(af,o)?!1:Wi.test(o)?xn[o]=!0:(af[o]=!0,!1)}function _c(o,c,p){if(tm(c))if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+p)}}function of(o,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+p)}}function ca(o,c,p,y){if(y===null)o.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(c,p,""+y)}}function Ss(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Hd(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function nm(o,c,p){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var C=y.get,T=y.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return C.call(this)},set:function(D){p=""+D,T.call(this,D)}}),Object.defineProperty(o,c,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function lf(o){if(!o._valueTracker){var c=Hd(o)?"checked":"value";o._valueTracker=nm(o,c,""+o[c])}}function Xr(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),y="";return o&&(y=Hd(o)?o.checked?"true":"false":o.value),o=y,o!==p?(c.setValue(o),!0):!1}function fn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ud=/[\n"\\]/g;function Qr(o){return o.replace(Ud,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Mc(o,c,p,y,C,T,D,U){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),c!=null?D==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ss(c)):o.value!==""+Ss(c)&&(o.value=""+Ss(c)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),c!=null?Vs(o,D,Ss(c)):p!=null?Vs(o,D,Ss(p)):y!=null&&o.removeAttribute("value"),C==null&&T!=null&&(o.defaultChecked=!!T),C!=null&&(o.checked=C&&typeof C!="function"&&typeof C!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.name=""+Ss(U):o.removeAttribute("name")}function Fd(o,c,p,y,C,T,D,U){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||p!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){lf(o);return}p=p!=null?""+Ss(p):"",c=c!=null?""+Ss(c):p,U||c===o.value||(o.value=c),o.defaultValue=c}y=y??C,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=U?o.checked:!!y,o.defaultChecked=!!y,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D),lf(o)}function Vs(o,c,p){c==="number"&&fn(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Xa(o,c,p,y){if(o=o.options,c){c={};for(var C=0;C<p.length;C++)c["$"+p[C]]=!0;for(p=0;p<o.length;p++)C=c.hasOwnProperty("$"+o[p].value),o[p].selected!==C&&(o[p].selected=C),C&&y&&(o[p].defaultSelected=!0)}else{for(p=""+Ss(p),c=null,C=0;C<o.length;C++){if(o[C].value===p){o[C].selected=!0,y&&(o[C].defaultSelected=!0);return}c!==null||o[C].disabled||(c=o[C])}c!==null&&(c.selected=!0)}}function Gd(o,c,p){if(c!=null&&(c=""+Ss(c),c!==o.value&&(o.value=c),p==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=p!=null?""+Ss(p):""}function qd(o,c,p,y){if(c==null){if(y!=null){if(p!=null)throw Error(r(92));if(te(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),c=p}p=Ss(c),o.defaultValue=p,y=o.textContent,y===p&&y!==""&&y!==null&&(o.value=y),lf(o)}function wl(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Sy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rm(o,c,p){var y=c.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":y?o.setProperty(c,p):typeof p!="number"||p===0||Sy.has(c)?c==="float"?o.cssFloat=p:o[c]=(""+p).trim():o[c]=p+"px"}function im(o,c,p){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var C in c)y=c[C],c.hasOwnProperty(C)&&p[C]!==y&&rm(o,C,y)}else for(var T in c)c.hasOwnProperty(T)&&rm(o,T,c[T])}function Vd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cf(o){return sm.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Qa(){}var Yd=null;function Kd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Cl=null,Do=null;function am(o){var c=Sl(o);if(c&&(o=c.stateNode)){var p=o[Kr]||null;e:switch(o=c.stateNode,c.type){case"input":if(Mc(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Qr(""+c)+'"][type="radio"]'),c=0;c<p.length;c++){var y=p[c];if(y!==o&&y.form===o.form){var C=y[Kr]||null;if(!C)throw Error(r(90));Mc(y,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(c=0;c<p.length;c++)y=p[c],y.form===o.form&&Xr(y)}break e;case"textarea":Gd(o,p.value,p.defaultValue);break e;case"select":c=p.value,c!=null&&Xa(o,!!p.multiple,c,!1)}}}var Xd=!1;function om(o,c,p){if(Xd)return o(c,p);Xd=!0;try{var y=o(c);return y}finally{if(Xd=!1,(Cl!==null||Do!==null)&&(Ws(),Cl&&(c=Cl,o=Do,Do=Cl=null,am(c),o)))for(c=0;c<o.length;c++)am(o[c])}}function Ac(o,c){var p=o.stateNode;if(p===null)return null;var y=p[Kr]||null;if(y===null)return null;p=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=!1;if(ua)try{var Nc={};Object.defineProperty(Nc,"passive",{get:function(){lm=!0}}),window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{lm=!1}var Ji=null,Qd=null,El=null;function uf(){if(El)return El;var o,c=Qd,p=c.length,y,C="value"in Ji?Ji.value:Ji.textContent,T=C.length;for(o=0;o<p&&c[o]===C[o];o++);var D=p-o;for(y=1;y<=D&&c[p-y]===C[T-y];y++);return El=C.slice(o,1<y?1-y:void 0)}function ff(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Rc(){return!0}function Cy(){return!1}function ui(o){function c(p,y,C,T,D){this._reactName=p,this._targetInst=C,this.type=y,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(p=o[U],this[U]=p?p(T):T[U]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Rc:Cy,this.isPropagationStopped=Cy,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),c}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=ui(zo),Oc=g({},zo,{view:0,detail:0}),Ey=ui(Oc),hf,Wd,Dc,zc=g({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eh,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Dc&&(Dc&&o.type==="mousemove"?(hf=o.screenX-Dc.screenX,Wd=o.screenY-Dc.screenY):Wd=hf=0,Dc=o),hf)},movementY:function(o){return"movementY"in o?o.movementY:Wd}}),cm=ui(zc),ky=g({},zc,{dataTransfer:0}),Ty=ui(ky),um=g({},Oc,{relatedTarget:0}),Jd=ui(um),_y=g({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),_2=ui(_y),M2=g({},zo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),My=ui(M2),pf=g({},zo,{data:0}),$d=ui(pf),Zd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Ny[o])?!!c[o]:!1}function eh(){return fm}var Ry=g({},Oc,{key:function(o){if(o.key){var c=Zd[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=ff(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ay[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eh,charCode:function(o){return o.type==="keypress"?ff(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ff(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),kl=ui(Ry),th=g({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dm=ui(th),hm=g({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eh}),Oy=ui(hm),Dy=g({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),A2=ui(Dy),zr=g({},zc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),zy=ui(zr),jy=g({},zo,{newState:0,oldState:0}),Ly=ui(jy),Py=[9,13,27,32],Tl=ua&&"CompositionEvent"in window,jc=null;ua&&"documentMode"in document&&(jc=document.documentMode);var nh=ua&&"TextEvent"in window&&!jc,pm=ua&&(!Tl||jc&&8<jc&&11>=jc),By=" ",mf=!1;function rh(o,c){switch(o){case"keyup":return Py.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _l=!1;function Iy(o,c){switch(o){case"compositionend":return mm(c);case"keypress":return c.which!==32?null:(mf=!0,By);case"textInput":return o=c.data,o===By&&mf?null:o;default:return null}}function gm(o,c){if(_l)return o==="compositionend"||!Tl&&rh(o,c)?(o=uf(),El=Qd=Ji=null,_l=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return pm&&c.locale!=="ko"?null:c.data;default:return null}}var ym={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!ym[o.type]:c==="textarea"}function ih(o,c,p,y){Cl?Do?Do.push(y):Do=[y]:Cl=y,c=q1(c,"onChange"),0<c.length&&(p=new df("onChange","change",null,p,y),o.push({event:p,listeners:c}))}var jo=null,Ml=null;function Hy(o){B4(o,0)}function Lc(o){var c=Tc(o);if(Xr(c))return o}function vm(o,c){if(o==="change")return c}var fa=!1;if(ua){var gf;if(ua){var xm="oninput"in document;if(!xm){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),xm=typeof Sm.oninput=="function"}gf=xm}else gf=!1;fa=gf&&(!document.documentMode||9<document.documentMode)}function ws(){jo&&(jo.detachEvent("onpropertychange",yf),Ml=jo=null)}function yf(o){if(o.propertyName==="value"&&Lc(Ml)){var c=[];ih(c,Ml,o,Kd(o)),om(Hy,c)}}function Uy(o,c,p){o==="focusin"?(ws(),jo=c,Ml=p,jo.attachEvent("onpropertychange",yf)):o==="focusout"&&ws()}function wm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Lc(Ml)}function Fy(o,c){if(o==="click")return Lc(c)}function Gy(o,c){if(o==="input"||o==="change")return Lc(c)}function Cm(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var fi=typeof Object.is=="function"?Object.is:Cm;function Pc(o,c){if(fi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),y=Object.keys(c);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var C=p[y];if(!ys.call(c,C)||!fi(o[C],c[C]))return!1}return!0}function bf(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Bc(o,c){var p=bf(o);o=0;for(var y;p;){if(p.nodeType===3){if(y=o+p.textContent.length,o<=c&&y>=c)return{node:p,offset:c-o};o=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=bf(p)}}function Zt(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Zt(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function qy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=fn(o.document);c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)o=c.contentWindow;else break;c=fn(o.document)}return c}function Em(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Vy=ua&&"documentMode"in document&&11>=document.documentMode,da=null,ha=null,Ic=null,sh=!1;function Hc(o,c,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;sh||da==null||da!==fn(y)||(y=da,"selectionStart"in y&&Em(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Ic&&Pc(Ic,y)||(Ic=y,y=q1(ha,"onSelect"),0<y.length&&(c=new df("onSelect","select",null,c,p),o.push({event:c,listeners:y}),c.target=da)))}function Wr(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var Al={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},vf={},km={};ua&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Wa(o){if(vf[o])return vf[o];if(!Al[o])return o;var c=Al[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in km)return vf[o]=c[p];return o}var ah=Wa("animationend"),xf=Wa("animationiteration"),Tm=Wa("animationstart"),Yy=Wa("transitionrun"),N2=Wa("transitionstart"),Ky=Wa("transitioncancel"),_m=Wa("transitionend"),Cs=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function Es(o,c){Cs.set(o,c),Oo(c,[o])}var wf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ks=[],Ja=0,xr=0;function Cf(){for(var o=Ja,c=xr=Ja=0;c<o;){var p=ks[c];ks[c++]=null;var y=ks[c];ks[c++]=null;var C=ks[c];ks[c++]=null;var T=ks[c];if(ks[c++]=null,y!==null&&C!==null){var D=y.pending;D===null?C.next=C:(C.next=D.next,D.next=C),y.pending=C}T!==0&&Lo(p,C,T)}}function Sr(o,c,p,y){ks[Ja++]=o,ks[Ja++]=c,ks[Ja++]=p,ks[Ja++]=y,xr|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function oh(o,c,p,y){return Sr(o,c,p,y),Ts(o)}function di(o,c){return Sr(o,null,null,c),Ts(o)}function Lo(o,c,p){o.lanes|=p;var y=o.alternate;y!==null&&(y.lanes|=p);for(var C=!1,T=o.return;T!==null;)T.childLanes|=p,y=T.alternate,y!==null&&(y.childLanes|=p),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(C=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,C&&c!==null&&(C=31-Ut(p),o=T.hiddenUpdates,y=o[C],y===null?o[C]=[c]:y.push(c),c.lane=p|536870912),T):null}function Ts(o){if(50<tl)throw tl=0,Xl=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Po={};function Mm(o,c,p,y){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(o,c,p,y){return new Mm(o,c,p,y)}function lh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _i(o,c){var p=o.alternate;return p===null?(p=Sn(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Uc(o,c){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,c=p.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function pa(o,c,p,y,C,T){var D=0;if(y=o,typeof o=="function")lh(o)&&(D=1);else if(typeof o=="string")D=AD(o,p,we.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Q:return o=Sn(31,p,c,C),o.elementType=Q,o.lanes=T,o;case k:return Bo(p.children,C,T,c);case _:D=8,C|=24;break;case A:return o=Sn(12,p,c,C|2),o.elementType=A,o.lanes=T,o;case I:return o=Sn(13,p,c,C),o.elementType=I,o.lanes=T,o;case j:return o=Sn(19,p,c,C),o.elementType=j,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z:D=10;break e;case O:D=9;break e;case L:D=11;break e;case P:D=14;break e;case H:D=16,y=null;break e}D=29,p=Error(r(130,o===null?"null":typeof o,"")),y=null}return c=Sn(D,p,c,C),c.elementType=o,c.type=y,c.lanes=T,c}function Bo(o,c,p,y){return o=Sn(7,o,y,c),o.lanes=p,o}function ch(o,c,p){return o=Sn(6,o,null,c),o.lanes=p,o}function Fc(o){var c=Sn(18,null,null,0);return c.stateNode=o,c}function uh(o,c,p){return c=Sn(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Ef=new WeakMap;function $i(o,c){if(typeof o=="object"&&o!==null){var p=Ef.get(o);return p!==void 0?p:(c={value:o,source:c,stack:Va(c)},Ef.set(o,c),c)}return{value:o,source:c,stack:Va(c)}}var Io=[],Ho=0,Gc=null,qc=0,Mi=[],dn=0,$a=null,wn=1,Ys="";function ma(o,c){Io[Ho++]=qc,Io[Ho++]=Gc,Gc=o,qc=c}function Xy(o,c,p){Mi[dn++]=wn,Mi[dn++]=Ys,Mi[dn++]=$a,$a=o;var y=wn;o=Ys;var C=32-Ut(y)-1;y&=~(1<<C),p+=1;var T=32-Ut(c)+C;if(30<T){var D=C-C%5;T=(y&(1<<D)-1).toString(32),y>>=D,C-=D,wn=1<<32-Ut(c)+C|p<<C|y,Ys=T+o}else wn=1<<T|p<<C|y,Ys=o}function ga(o){o.return!==null&&(ma(o,1),Xy(o,1,0))}function fh(o){for(;o===Gc;)Gc=Io[--Ho],Io[Ho]=null,qc=Io[--Ho],Io[Ho]=null;for(;o===$a;)$a=Mi[--dn],Mi[dn]=null,Ys=Mi[--dn],Mi[dn]=null,wn=Mi[--dn],Mi[dn]=null}function dh(o,c){Mi[dn++]=wn,Mi[dn++]=Ys,Mi[dn++]=$a,wn=c.id,Ys=c.overflow,$a=o}var Pn=null,en=null,At=!1,Za=null,Zi=!1,Vc=Error(r(519));function ya(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ba($i(c,o)),Vc}function Qy(o){var c=o.stateNode,p=o.type,y=o.memoizedProps;switch(c[rr]=o,c[Kr]=y,p){case"dialog":Ot("cancel",c),Ot("close",c);break;case"iframe":case"object":case"embed":Ot("load",c);break;case"video":case"audio":for(p=0;p<Is.length;p++)Ot(Is[p],c);break;case"source":Ot("error",c);break;case"img":case"image":case"link":Ot("error",c),Ot("load",c);break;case"details":Ot("toggle",c);break;case"input":Ot("invalid",c),Fd(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Ot("invalid",c);break;case"textarea":Ot("invalid",c),qd(c,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||c.textContent===""+p||y.suppressHydrationWarning===!0||F4(c.textContent,p)?(y.popover!=null&&(Ot("beforetoggle",c),Ot("toggle",c)),y.onScroll!=null&&Ot("scroll",c),y.onScrollEnd!=null&&Ot("scrollend",c),y.onClick!=null&&(c.onclick=Qa),c=!0):c=!1,c||ya(o,!0)}function Wy(o){for(Pn=o.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:Pn=Pn.return}}function Yc(o){if(o!==Pn)return!1;if(!At)return Wy(o),At=!0,!1;var c=o.tag,p;if((p=c!==3&&c!==27)&&((p=c===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||Y2(o.type,o.memoizedProps)),p=!p),p&&en&&ya(o),Wy(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=J4(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=J4(o)}else c===27?(c=en,du(o.type)?(o=J2,J2=null,en=o):en=c):en=Pn?Oa(o.stateNode.nextSibling):null;return!0}function Uo(){en=Pn=null,At=!1}function hh(){var o=Za;return o!==null&&(In===null?In=o:In.push.apply(In,o),Za=null),o}function ba(o){Za===null?Za=[o]:Za.push(o)}var Kc=Y(null),Fo=null,va=null;function eo(o,c,p){F(Kc,c._currentValue),c._currentValue=p}function xa(o){o._currentValue=Kc.current,ie(Kc)}function ph(o,c,p){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===p)break;o=o.return}}function mh(o,c,p,y){var C=o.child;for(C!==null&&(C.return=o);C!==null;){var T=C.dependencies;if(T!==null){var D=C.child;T=T.firstContext;e:for(;T!==null;){var U=T;T=C;for(var J=0;J<c.length;J++)if(U.context===c[J]){T.lanes|=p,U=T.alternate,U!==null&&(U.lanes|=p),ph(T.return,p,o),y||(D=null);break e}T=U.next}}else if(C.tag===18){if(D=C.return,D===null)throw Error(r(341));D.lanes|=p,T=D.alternate,T!==null&&(T.lanes|=p),ph(D,p,o),D=null}else D=C.child;if(D!==null)D.return=C;else for(D=C;D!==null;){if(D===o){D=null;break}if(C=D.sibling,C!==null){C.return=D.return,D=C;break}D=D.return}C=D}}function Sa(o,c,p,y){o=null;for(var C=c,T=!1;C!==null;){if(!T){if((C.flags&524288)!==0)T=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var D=C.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var U=C.type;fi(C.pendingProps.value,D.value)||(o!==null?o.push(U):o=[U])}}else if(C===je.current){if(D=C.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(o!==null?o.push(kg):o=[kg])}C=C.return}o!==null&&mh(c,o,p,y),c.flags|=262144}function kf(o){for(o=o.firstContext;o!==null;){if(!fi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Go(o){Fo=o,va=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function it(o){return Jy(Fo,o)}function Xc(o,c){return Fo===null&&Go(o),Jy(o,c)}function Jy(o,c){var p=c._currentValue;if(c={context:c,memoizedValue:p,next:null},va===null){if(o===null)throw Error(r(308));va=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else va=va.next=c;return p}var $y=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(p,y){o.push(y)}};this.abort=function(){c.aborted=!0,o.forEach(function(p){return p()})}},R2=t.unstable_scheduleCallback,O2=t.unstable_NormalPriority,sr={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new $y,data:new Map,refCount:0}}function Nl(o){o.refCount--,o.refCount===0&&R2(O2,function(){o.controller.abort()})}var es=null,gh=0,to=0,_s=null;function Nm(o,c){if(es===null){var p=es=[];gh=0,to=pe(),_s={status:"pending",value:void 0,then:function(y){p.push(y)}}}return gh++,c.then(Rm,Rm),c}function Rm(){if(--gh===0&&es!==null){_s!==null&&(_s.status="fulfilled");var o=es;es=null,to=0,_s=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Om(o,c){var p=[],y={status:"pending",value:null,reason:null,then:function(C){p.push(C)}};return o.then(function(){y.status="fulfilled",y.value=c;for(var C=0;C<p.length;C++)(0,p[C])(c)},function(C){for(y.status="rejected",y.reason=C,C=0;C<p.length;C++)(0,p[C])(void 0)}),y}var Zy=V.S;V.S=function(o,c){vg=qn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Nm(o,c),Zy!==null&&Zy(o,c)};var qo=Y(null);function yh(){var o=qo.current;return o!==null?o:at.pooledCache}function Tf(o,c){c===null?F(qo,qo.current):F(qo,c.pool)}function Dm(){var o=yh();return o===null?null:{parent:sr._currentValue,pool:o}}var Rl=Error(r(460)),_f=Error(r(474)),mt=Error(r(542)),bh={then:function(){}};function Ai(o){return o=o.status,o==="fulfilled"||o==="rejected"}function vh(o,c,p){switch(p=o[p],p===void 0?o.push(c):p!==c&&(c.then(Qa,Qa),c=p),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,zl(o),o;default:if(typeof c.status=="string")c.then(Qa,Qa);else{if(o=at,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(y){if(c.status==="pending"){var C=c;C.status="fulfilled",C.value=y}},function(y){if(c.status==="pending"){var C=c;C.status="rejected",C.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,zl(o),o}throw wa=c,Rl}}function Ol(o){try{var c=o._init;return c(o._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(wa=p,Rl):p}}var wa=null;function Dl(){if(wa===null)throw Error(r(459));var o=wa;return wa=null,o}function zl(o){if(o===Rl||o===mt)throw Error(r(483))}var jl=null,Ll=0;function Mf(o){var c=Ll;return Ll+=1,jl===null&&(jl=[]),vh(jl,o,c)}function Ms(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Qc(o,c){throw c.$$typeof===b?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function xh(o){function c(se,ne){if(o){var ce=se.deletions;ce===null?(se.deletions=[ne],se.flags|=16):ce.push(ne)}}function p(se,ne){if(!o)return null;for(;ne!==null;)c(se,ne),ne=ne.sibling;return null}function y(se){for(var ne=new Map;se!==null;)se.key!==null?ne.set(se.key,se):ne.set(se.index,se),se=se.sibling;return ne}function C(se,ne){return se=_i(se,ne),se.index=0,se.sibling=null,se}function T(se,ne,ce){return se.index=ce,o?(ce=se.alternate,ce!==null?(ce=ce.index,ce<ne?(se.flags|=67108866,ne):ce):(se.flags|=67108866,ne)):(se.flags|=1048576,ne)}function D(se){return o&&se.alternate===null&&(se.flags|=67108866),se}function U(se,ne,ce,xe){return ne===null||ne.tag!==6?(ne=ch(ce,se.mode,xe),ne.return=se,ne):(ne=C(ne,ce),ne.return=se,ne)}function J(se,ne,ce,xe){var Qe=ce.type;return Qe===k?be(se,ne,ce.props.children,xe,ce.key):ne!==null&&(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===H&&Ol(Qe)===ne.type)?(ne=C(ne,ce.props),Ms(ne,ce),ne.return=se,ne):(ne=pa(ce.type,ce.key,ce.props,null,se.mode,xe),Ms(ne,ce),ne.return=se,ne)}function ue(se,ne,ce,xe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=uh(ce,se.mode,xe),ne.return=se,ne):(ne=C(ne,ce.children||[]),ne.return=se,ne)}function be(se,ne,ce,xe,Qe){return ne===null||ne.tag!==7?(ne=Bo(ce,se.mode,xe,Qe),ne.return=se,ne):(ne=C(ne,ce),ne.return=se,ne)}function Se(se,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=ch(""+ne,se.mode,ce),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return ce=pa(ne.type,ne.key,ne.props,null,se.mode,ce),Ms(ce,ne),ce.return=se,ce;case S:return ne=uh(ne,se.mode,ce),ne.return=se,ne;case H:return ne=Ol(ne),Se(se,ne,ce)}if(te(ne)||W(ne))return ne=Bo(ne,se.mode,ce,null),ne.return=se,ne;if(typeof ne.then=="function")return Se(se,Mf(ne),ce);if(ne.$$typeof===z)return Se(se,Xc(se,ne),ce);Qc(se,ne)}return null}function he(se,ne,ce,xe){var Qe=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Qe!==null?null:U(se,ne,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return ce.key===Qe?J(se,ne,ce,xe):null;case S:return ce.key===Qe?ue(se,ne,ce,xe):null;case H:return ce=Ol(ce),he(se,ne,ce,xe)}if(te(ce)||W(ce))return Qe!==null?null:be(se,ne,ce,xe,null);if(typeof ce.then=="function")return he(se,ne,Mf(ce),xe);if(ce.$$typeof===z)return he(se,ne,Xc(se,ce),xe);Qc(se,ce)}return null}function ge(se,ne,ce,xe,Qe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return se=se.get(ce)||null,U(ne,se,""+xe,Qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return se=se.get(xe.key===null?ce:xe.key)||null,J(ne,se,xe,Qe);case S:return se=se.get(xe.key===null?ce:xe.key)||null,ue(ne,se,xe,Qe);case H:return xe=Ol(xe),ge(se,ne,ce,xe,Qe)}if(te(xe)||W(xe))return se=se.get(ce)||null,be(ne,se,xe,Qe,null);if(typeof xe.then=="function")return ge(se,ne,ce,Mf(xe),Qe);if(xe.$$typeof===z)return ge(se,ne,ce,Xc(ne,xe),Qe);Qc(ne,xe)}return null}function He(se,ne,ce,xe){for(var Qe=null,Ft=null,Ge=ne,bt=ne=0,jt=null;Ge!==null&&bt<ce.length;bt++){Ge.index>bt?(jt=Ge,Ge=null):jt=Ge.sibling;var Gt=he(se,Ge,ce[bt],xe);if(Gt===null){Ge===null&&(Ge=jt);break}o&&Ge&&Gt.alternate===null&&c(se,Ge),ne=T(Gt,ne,bt),Ft===null?Qe=Gt:Ft.sibling=Gt,Ft=Gt,Ge=jt}if(bt===ce.length)return p(se,Ge),At&&ma(se,bt),Qe;if(Ge===null){for(;bt<ce.length;bt++)Ge=Se(se,ce[bt],xe),Ge!==null&&(ne=T(Ge,ne,bt),Ft===null?Qe=Ge:Ft.sibling=Ge,Ft=Ge);return At&&ma(se,bt),Qe}for(Ge=y(Ge);bt<ce.length;bt++)jt=ge(Ge,se,bt,ce[bt],xe),jt!==null&&(o&&jt.alternate!==null&&Ge.delete(jt.key===null?bt:jt.key),ne=T(jt,ne,bt),Ft===null?Qe=jt:Ft.sibling=jt,Ft=jt);return o&&Ge.forEach(function(yu){return c(se,yu)}),At&&ma(se,bt),Qe}function rt(se,ne,ce,xe){if(ce==null)throw Error(r(151));for(var Qe=null,Ft=null,Ge=ne,bt=ne=0,jt=null,Gt=ce.next();Ge!==null&&!Gt.done;bt++,Gt=ce.next()){Ge.index>bt?(jt=Ge,Ge=null):jt=Ge.sibling;var yu=he(se,Ge,Gt.value,xe);if(yu===null){Ge===null&&(Ge=jt);break}o&&Ge&&yu.alternate===null&&c(se,Ge),ne=T(yu,ne,bt),Ft===null?Qe=yu:Ft.sibling=yu,Ft=yu,Ge=jt}if(Gt.done)return p(se,Ge),At&&ma(se,bt),Qe;if(Ge===null){for(;!Gt.done;bt++,Gt=ce.next())Gt=Se(se,Gt.value,xe),Gt!==null&&(ne=T(Gt,ne,bt),Ft===null?Qe=Gt:Ft.sibling=Gt,Ft=Gt);return At&&ma(se,bt),Qe}for(Ge=y(Ge);!Gt.done;bt++,Gt=ce.next())Gt=ge(Ge,se,bt,Gt.value,xe),Gt!==null&&(o&&Gt.alternate!==null&&Ge.delete(Gt.key===null?bt:Gt.key),ne=T(Gt,ne,bt),Ft===null?Qe=Gt:Ft.sibling=Gt,Ft=Gt);return o&&Ge.forEach(function(HD){return c(se,HD)}),At&&ma(se,bt),Qe}function rn(se,ne,ce,xe){if(typeof ce=="object"&&ce!==null&&ce.type===k&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:e:{for(var Qe=ce.key;ne!==null;){if(ne.key===Qe){if(Qe=ce.type,Qe===k){if(ne.tag===7){p(se,ne.sibling),xe=C(ne,ce.props.children),xe.return=se,se=xe;break e}}else if(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===H&&Ol(Qe)===ne.type){p(se,ne.sibling),xe=C(ne,ce.props),Ms(xe,ce),xe.return=se,se=xe;break e}p(se,ne);break}else c(se,ne);ne=ne.sibling}ce.type===k?(xe=Bo(ce.props.children,se.mode,xe,ce.key),xe.return=se,se=xe):(xe=pa(ce.type,ce.key,ce.props,null,se.mode,xe),Ms(xe,ce),xe.return=se,se=xe)}return D(se);case S:e:{for(Qe=ce.key;ne!==null;){if(ne.key===Qe)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){p(se,ne.sibling),xe=C(ne,ce.children||[]),xe.return=se,se=xe;break e}else{p(se,ne);break}else c(se,ne);ne=ne.sibling}xe=uh(ce,se.mode,xe),xe.return=se,se=xe}return D(se);case H:return ce=Ol(ce),rn(se,ne,ce,xe)}if(te(ce))return He(se,ne,ce,xe);if(W(ce)){if(Qe=W(ce),typeof Qe!="function")throw Error(r(150));return ce=Qe.call(ce),rt(se,ne,ce,xe)}if(typeof ce.then=="function")return rn(se,ne,Mf(ce),xe);if(ce.$$typeof===z)return rn(se,ne,Xc(se,ce),xe);Qc(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(p(se,ne.sibling),xe=C(ne,ce),xe.return=se,se=xe):(p(se,ne),xe=ch(ce,se.mode,xe),xe.return=se,se=xe),D(se)):p(se,ne)}return function(se,ne,ce,xe){try{Ll=0;var Qe=rn(se,ne,ce,xe);return jl=null,Qe}catch(Ge){if(Ge===Rl||Ge===mt)throw Ge;var Ft=Sn(29,Ge,null,se.mode);return Ft.lanes=xe,Ft.return=se,Ft}finally{}}}var no=xh(!0),Sh=xh(!1),hi=!1;function Af(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zm(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ro(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Vo(o,c,p){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Ve&2)!==0){var C=y.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),y.pending=c,c=Ts(o),Lo(o,null,p),c}return Sr(o,y,c,p),Ts(o)}function Yo(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194048)!==0)){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Yr(o,p)}}function Xe(o,c){var p=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var C=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var D={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};T===null?C=T=D:T=T.next=D,p=p.next}while(p!==null);T===null?C=T=c:T=T.next=c}else C=T=c;p={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}var jm=!1;function Nf(){if(jm){var o=_s;if(o!==null)throw o}}function Wc(o,c,p,y){jm=!1;var C=o.updateQueue;hi=!1;var T=C.firstBaseUpdate,D=C.lastBaseUpdate,U=C.shared.pending;if(U!==null){C.shared.pending=null;var J=U,ue=J.next;J.next=null,D===null?T=ue:D.next=ue,D=J;var be=o.alternate;be!==null&&(be=be.updateQueue,U=be.lastBaseUpdate,U!==D&&(U===null?be.firstBaseUpdate=ue:U.next=ue,be.lastBaseUpdate=J))}if(T!==null){var Se=C.baseState;D=0,be=ue=J=null,U=T;do{var he=U.lane&-536870913,ge=he!==U.lane;if(ge?(ht&he)===he:(y&he)===he){he!==0&&he===to&&(jm=!0),be!==null&&(be=be.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var He=o,rt=U;he=c;var rn=p;switch(rt.tag){case 1:if(He=rt.payload,typeof He=="function"){Se=He.call(rn,Se,he);break e}Se=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=rt.payload,he=typeof He=="function"?He.call(rn,Se,he):He,he==null)break e;Se=g({},Se,he);break e;case 2:hi=!0}}he=U.callback,he!==null&&(o.flags|=64,ge&&(o.flags|=8192),ge=C.callbacks,ge===null?C.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:U.tag,payload:U.payload,callback:U.callback,next:null},be===null?(ue=be=ge,J=Se):be=be.next=ge,D|=he;if(U=U.next,U===null){if(U=C.shared.pending,U===null)break;ge=U,U=ge.next,ge.next=null,C.lastBaseUpdate=ge,C.shared.pending=null}}while(!0);be===null&&(J=Se),C.baseState=J,C.firstBaseUpdate=ue,C.lastBaseUpdate=be,T===null&&(C.shared.lanes=0),Aa|=D,o.lanes=D,o.memoizedState=Se}}function Jc(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function e1(o,c){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Jc(p[o],c)}var $c=Y(null),wh=Y(0);function t1(o,c){o=is,F(wh,o),F($c,c),is=o|c.baseLanes}function Lm(){F(wh,is),F($c,$c.current)}function Rf(){is=wh.current,ie($c),ie(wh)}var Ni=Y(null),pi=null;function io(o){var c=o.alternate;F(Nt,Nt.current&1),F(Ni,o),pi===null&&(c===null||$c.current!==null||c.memoizedState!==null)&&(pi=o)}function Pm(o){F(Nt,Nt.current),F(Ni,o),pi===null&&(pi=o)}function n1(o){o.tag===22?(F(Nt,Nt.current),F(Ni,o),pi===null&&(pi=o)):Ri()}function Ri(){F(Nt,Nt.current),F(Ni,Ni.current)}function Yn(o){ie(Ni),pi===o&&(pi=null),ie(Nt)}var Nt=Y(0);function ts(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Q2(p)||W2(p)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var hn=0,ut=null,Qt=null,kt=null,As=!1,Zc=!1,Pl=!1,Ch=0,Of=0,eu=null,Bm=0;function Cn(){throw Error(r(321))}function Im(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!fi(o[p],c[p]))return!1;return!0}function Eh(o,c,p,y,C,T){return hn=T,ut=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=o===null||o.memoizedState===null?z1:sg,Pl=!1,T=p(y,C),Pl=!1,Zc&&(T=Bl(c,p,y,C)),r1(o),T}function r1(o){V.H=tu;var c=Qt!==null&&Qt.next!==null;if(hn=0,kt=Qt=ut=null,As=!1,Of=0,eu=null,c)throw Error(r(300));o===null||ar||(o=o.dependencies,o!==null&&kf(o)&&(ar=!0))}function Bl(o,c,p,y){ut=o;var C=0;do{if(Zc&&(eu=null),Of=0,Zc=!1,25<=C)throw Error(r(301));if(C+=1,kt=Qt=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}V.H=Ns,T=c(p,y)}while(Zc);return T}function Il(){var o=V.H,c=o.useState()[0];return c=typeof c.then=="function"?Df(c):c,o=o.useState()[0],(Qt!==null?Qt.memoizedState:null)!==o&&(ut.flags|=1024),c}function Hm(){var o=Ch!==0;return Ch=0,o}function Um(o,c,p){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~p}function Fm(o){if(As){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}As=!1}hn=0,kt=Qt=ut=null,Zc=!1,Of=Ch=0,eu=null}function hr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ut.memoizedState=kt=o:kt=kt.next=o,kt}function Kn(){if(Qt===null){var o=ut.alternate;o=o!==null?o.memoizedState:null}else o=Qt.next;var c=kt===null?ut.memoizedState:kt.next;if(c!==null)kt=c,Qt=o;else{if(o===null)throw ut.alternate===null?Error(r(467)):Error(r(310));Qt=o,o={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},kt===null?ut.memoizedState=kt=o:kt=kt.next=o}return kt}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(o){var c=Of;return Of+=1,eu===null&&(eu=[]),o=vh(eu,o,c),c=ut,(kt===null?c.memoizedState:kt.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?z1:sg),o}function Ko(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Df(o);if(o.$$typeof===z)return it(o)}throw Error(r(438,String(o)))}function Gm(o){var c=null,p=ut.updateQueue;if(p!==null&&(c=p.memoCache),c==null){var y=ut.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(C){return C.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),p===null&&(p=kh(),ut.updateQueue=p),p.memoCache=c,p=c.data[c.index],p===void 0)for(p=c.data[c.index]=Array(o),y=0;y<o;y++)p[y]=q;return c.index++,p}function so(o,c){return typeof c=="function"?c(o):c}function Th(o){var c=Kn();return qm(c,Qt,o)}function qm(o,c,p){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var C=o.baseQueue,T=y.pending;if(T!==null){if(C!==null){var D=C.next;C.next=T.next,T.next=D}c.baseQueue=C=T,y.pending=null}if(T=o.baseState,C===null)o.memoizedState=T;else{c=C.next;var U=D=null,J=null,ue=c,be=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(ht&Se)===Se:(hn&Se)===Se){var he=ue.revertLane;if(he===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===to&&(be=!0);else if((hn&he)===he){ue=ue.next,he===to&&(be=!0);continue}else Se={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(U=J=Se,D=T):J=J.next=Se,ut.lanes|=he,Aa|=he;Se=ue.action,Pl&&p(T,Se),T=ue.hasEagerState?ue.eagerState:p(T,Se)}else he={lane:Se,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},J===null?(U=J=he,D=T):J=J.next=he,ut.lanes|=Se,Aa|=Se;ue=ue.next}while(ue!==null&&ue!==c);if(J===null?D=T:J.next=U,!fi(T,o.memoizedState)&&(ar=!0,be&&(p=_s,p!==null)))throw p;o.memoizedState=T,o.baseState=D,o.baseQueue=J,y.lastRenderedState=T}return C===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function Vm(o){var c=Kn(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var y=p.dispatch,C=p.pending,T=c.memoizedState;if(C!==null){p.pending=null;var D=C=C.next;do T=o(T,D.action),D=D.next;while(D!==C);fi(T,c.memoizedState)||(ar=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),p.lastRenderedState=T}return[T,y]}function i1(o,c,p){var y=ut,C=Kn(),T=At;if(T){if(p===void 0)throw Error(r(407));p=p()}else p=c();var D=!fi((Qt||C).memoizedState,p);if(D&&(C.memoizedState=p,ar=!0),C=C.queue,Zm(o1.bind(null,y,C,o),[o]),C.getSnapshot!==c||D||kt!==null&&kt.memoizedState.tag&1){if(y.flags|=2048,Xo(9,{destroy:void 0},a1.bind(null,y,C,p,c),null),at===null)throw Error(r(349));T||(hn&127)!==0||s1(y,c,p)}return p}function s1(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=ut.updateQueue,c===null?(c=kh(),ut.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function a1(o,c,p,y){c.value=p,c.getSnapshot=y,l1(c)&&c1(o)}function o1(o,c,p){return p(function(){l1(c)&&c1(o)})}function l1(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!fi(o,p)}catch{return!0}}function c1(o){var c=di(o,2);c!==null&&yt(c,o,2)}function Ym(o){var c=hr();if(typeof o=="function"){var p=o;if(o=p(),Pl){dr(!0);try{p()}finally{dr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:o},c}function Km(o,c,p,y){return o.baseState=p,qm(o,Qt,typeof y=="function"?y:so)}function D2(o,c,p,y,C){if(Nh(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:C,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){T.listeners.push(D)}};V.T!==null?p(!0):T.isTransition=!1,y(T),p=c.pending,p===null?(T.next=c.pending=T,u1(c,T)):(T.next=p.next,c.pending=p.next=T)}}function u1(o,c){var p=c.action,y=c.payload,C=o.state;if(c.isTransition){var T=V.T,D={};V.T=D;try{var U=p(C,y),J=V.S;J!==null&&J(D,U),f1(o,c,U)}catch(ue){Xm(o,c,ue)}finally{T!==null&&D.types!==null&&(T.types=D.types),V.T=T}}else try{T=p(C,y),f1(o,c,T)}catch(ue){Xm(o,c,ue)}}function f1(o,c,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){d1(o,c,y)},function(y){return Xm(o,c,y)}):d1(o,c,p)}function d1(o,c,p){c.status="fulfilled",c.value=p,h1(c),o.state=p,c=o.pending,c!==null&&(p=c.next,p===c?o.pending=null:(p=p.next,c.next=p,u1(o,p)))}function Xm(o,c,p){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=p,h1(c),c=c.next;while(c!==y)}o.action=null}function h1(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Qm(o,c){return c}function Wm(o,c){if(At){var p=at.formState;if(p!==null){e:{var y=ut;if(At){if(en){t:{for(var C=en,T=Zi;C.nodeType!==8;){if(!T){C=null;break t}if(C=Oa(C.nextSibling),C===null){C=null;break t}}T=C.data,C=T==="F!"||T==="F"?C:null}if(C){en=Oa(C.nextSibling),y=C.data==="F!";break e}}ya(y)}y=!1}y&&(c=p[0])}}return p=hr(),p.memoizedState=p.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qm,lastRenderedState:c},p.queue=y,p=R1.bind(null,ut,y),y.dispatch=p,y=Ym(!1),T=ig.bind(null,ut,!1,y.queue),y=hr(),C={state:c,dispatch:null,action:o,pending:null},y.queue=C,p=D2.bind(null,ut,C,T,p),C.dispatch=p,y.memoizedState=o,[c,p,!1]}function p1(o){var c=Kn();return Jm(c,Qt,o)}function Jm(o,c,p){if(c=qm(o,c,Qm)[0],o=Th(so)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=Df(c)}catch(D){throw D===Rl?mt:D}else y=c;c=Kn();var C=c.queue,T=C.dispatch;return p!==c.memoizedState&&(ut.flags|=2048,Xo(9,{destroy:void 0},m1.bind(null,C,p),null)),[y,T,o]}function m1(o,c){o.action=c}function $m(o){var c=Kn(),p=Qt;if(p!==null)return Jm(c,p,o);Kn(),c=c.memoizedState,p=Kn();var y=p.queue.dispatch;return p.memoizedState=o,[c,y,!1]}function Xo(o,c,p,y){return o={tag:o,create:p,deps:y,inst:c,next:null},c=ut.updateQueue,c===null&&(c=kh(),ut.updateQueue=c),p=c.lastEffect,p===null?c.lastEffect=o.next=o:(y=p.next,p.next=o,o.next=y,c.lastEffect=o),o}function _h(){return Kn().memoizedState}function Mh(o,c,p,y){var C=hr();ut.flags|=o,C.memoizedState=Xo(1|c,{destroy:void 0},p,y===void 0?null:y)}function Ah(o,c,p,y){var C=Kn();y=y===void 0?null:y;var T=C.memoizedState.inst;Qt!==null&&y!==null&&Im(y,Qt.memoizedState.deps)?C.memoizedState=Xo(c,T,p,y):(ut.flags|=o,C.memoizedState=Xo(1|c,T,p,y))}function g1(o,c){Mh(8390656,8,o,c)}function Zm(o,c){Ah(2048,8,o,c)}function y1(o){ut.flags|=4;var c=ut.updateQueue;if(c===null)c=kh(),ut.updateQueue=c,c.events=[o];else{var p=c.events;p===null?c.events=[o]:p.push(o)}}function b1(o){var c=Kn().memoizedState;return y1({ref:c,nextImpl:o}),function(){if((Ve&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function v1(o,c){return Ah(4,2,o,c)}function x1(o,c){return Ah(4,4,o,c)}function S1(o,c){if(typeof c=="function"){o=o();var p=c(o);return function(){typeof p=="function"?p():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function w1(o,c,p){p=p!=null?p.concat([o]):null,Ah(4,4,S1.bind(null,c,o),p)}function eg(){}function C1(o,c){var p=Kn();c=c===void 0?null:c;var y=p.memoizedState;return c!==null&&Im(c,y[1])?y[0]:(p.memoizedState=[o,c],o)}function E1(o,c){var p=Kn();c=c===void 0?null:c;var y=p.memoizedState;if(c!==null&&Im(c,y[1]))return y[0];if(y=o(),Pl){dr(!0);try{o()}finally{dr(!1)}}return p.memoizedState=[y,c],y}function tg(o,c,p){return p===void 0||(hn&1073741824)!==0&&(ht&261930)===0?o.memoizedState=c:(o.memoizedState=p,o=St(),ut.lanes|=o,Aa|=o,p)}function k1(o,c,p,y){return fi(p,c)?p:$c.current!==null?(o=tg(o,p,y),fi(o,c)||(ar=!0),o):(hn&42)===0||(hn&1073741824)!==0&&(ht&261930)===0?(ar=!0,o.memoizedState=p):(o=St(),ut.lanes|=o,Aa|=o,c)}function T1(o,c,p,y,C){var T=re.p;re.p=T!==0&&8>T?T:8;var D=V.T,U={};V.T=U,ig(o,!1,c,p);try{var J=C(),ue=V.S;if(ue!==null&&ue(U,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var be=Om(J,y);zf(o,c,be,as(o))}else zf(o,c,y,as(o))}catch(Se){zf(o,c,{then:function(){},status:"rejected",reason:Se},as())}finally{re.p=T,D!==null&&U.types!==null&&(D.types=U.types),V.T=D}}function z2(){}function ng(o,c,p,y){if(o.tag!==5)throw Error(r(476));var C=_1(o).queue;T1(o,C,c,ee,p===null?z2:function(){return M1(o),p(y)})}function _1(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:ee},next:null};var p={};return c.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:p},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function M1(o){var c=_1(o);c.next===null&&(c=o.alternate.memoizedState),zf(o,c.next.queue,{},as())}function rg(){return it(kg)}function A1(){return Kn().memoizedState}function N1(){return Kn().memoizedState}function j2(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var p=as();o=ro(p);var y=Vo(c,o,p);y!==null&&(yt(y,c,p),Yo(y,c,p)),c={cache:Am()},o.payload=c;return}c=c.return}}function L2(o,c,p){var y=as();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Nh(o)?O1(c,p):(p=oh(o,c,p,y),p!==null&&(yt(p,o,y),D1(p,c,y)))}function R1(o,c,p){var y=as();zf(o,c,p,y)}function zf(o,c,p,y){var C={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Nh(o))O1(c,C);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var D=c.lastRenderedState,U=T(D,p);if(C.hasEagerState=!0,C.eagerState=U,fi(U,D))return Sr(o,c,C,0),at===null&&Cf(),!1}catch{}finally{}if(p=oh(o,c,C,y),p!==null)return yt(p,o,y),D1(p,c,y),!0}return!1}function ig(o,c,p,y){if(y={lane:2,revertLane:pe(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Nh(o)){if(c)throw Error(r(479))}else c=oh(o,p,y,2),c!==null&&yt(c,o,2)}function Nh(o){var c=o.alternate;return o===ut||c!==null&&c===ut}function O1(o,c){Zc=As=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function D1(o,c,p){if((p&4194048)!==0){var y=c.lanes;y&=o.pendingLanes,p|=y,c.lanes=p,Yr(o,p)}}var tu={readContext:it,use:Ko,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};tu.useEffectEvent=Cn;var z1={readContext:it,use:Ko,useCallback:function(o,c){return hr().memoizedState=[o,c===void 0?null:c],o},useContext:it,useEffect:g1,useImperativeHandle:function(o,c,p){p=p!=null?p.concat([o]):null,Mh(4194308,4,S1.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Mh(4194308,4,o,c)},useInsertionEffect:function(o,c){Mh(4,2,o,c)},useMemo:function(o,c){var p=hr();c=c===void 0?null:c;var y=o();if(Pl){dr(!0);try{o()}finally{dr(!1)}}return p.memoizedState=[y,c],y},useReducer:function(o,c,p){var y=hr();if(p!==void 0){var C=p(c);if(Pl){dr(!0);try{p(c)}finally{dr(!1)}}}else C=c;return y.memoizedState=y.baseState=C,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:C},y.queue=o,o=o.dispatch=L2.bind(null,ut,o),[y.memoizedState,o]},useRef:function(o){var c=hr();return o={current:o},c.memoizedState=o},useState:function(o){o=Ym(o);var c=o.queue,p=R1.bind(null,ut,c);return c.dispatch=p,[o.memoizedState,p]},useDebugValue:eg,useDeferredValue:function(o,c){var p=hr();return tg(p,o,c)},useTransition:function(){var o=Ym(!1);return o=T1.bind(null,ut,o.queue,!0,!1),hr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,p){var y=ut,C=hr();if(At){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),at===null)throw Error(r(349));(ht&127)!==0||s1(y,c,p)}C.memoizedState=p;var T={value:p,getSnapshot:c};return C.queue=T,g1(o1.bind(null,y,T,o),[o]),y.flags|=2048,Xo(9,{destroy:void 0},a1.bind(null,y,T,p,c),null),p},useId:function(){var o=hr(),c=at.identifierPrefix;if(At){var p=Ys,y=wn;p=(y&~(1<<32-Ut(y)-1)).toString(32)+p,c="_"+c+"R_"+p,p=Ch++,0<p&&(c+="H"+p.toString(32)),c+="_"}else p=Bm++,c="_"+c+"r_"+p.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:rg,useFormState:Wm,useActionState:Wm,useOptimistic:function(o){var c=hr();c.memoizedState=c.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=p,c=ig.bind(null,ut,!0,p),p.dispatch=c,[o,c]},useMemoCache:Gm,useCacheRefresh:function(){return hr().memoizedState=j2.bind(null,ut)},useEffectEvent:function(o){var c=hr(),p={impl:o};return c.memoizedState=p,function(){if((Ve&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},sg={readContext:it,use:Ko,useCallback:C1,useContext:it,useEffect:Zm,useImperativeHandle:w1,useInsertionEffect:v1,useLayoutEffect:x1,useMemo:E1,useReducer:Th,useRef:_h,useState:function(){return Th(so)},useDebugValue:eg,useDeferredValue:function(o,c){var p=Kn();return k1(p,Qt.memoizedState,o,c)},useTransition:function(){var o=Th(so)[0],c=Kn().memoizedState;return[typeof o=="boolean"?o:Df(o),c]},useSyncExternalStore:i1,useId:A1,useHostTransitionStatus:rg,useFormState:p1,useActionState:p1,useOptimistic:function(o,c){var p=Kn();return Km(p,Qt,o,c)},useMemoCache:Gm,useCacheRefresh:N1};sg.useEffectEvent=b1;var Ns={readContext:it,use:Ko,useCallback:C1,useContext:it,useEffect:Zm,useImperativeHandle:w1,useInsertionEffect:v1,useLayoutEffect:x1,useMemo:E1,useReducer:Vm,useRef:_h,useState:function(){return Vm(so)},useDebugValue:eg,useDeferredValue:function(o,c){var p=Kn();return Qt===null?tg(p,o,c):k1(p,Qt.memoizedState,o,c)},useTransition:function(){var o=Vm(so)[0],c=Kn().memoizedState;return[typeof o=="boolean"?o:Df(o),c]},useSyncExternalStore:i1,useId:A1,useHostTransitionStatus:rg,useFormState:$m,useActionState:$m,useOptimistic:function(o,c){var p=Kn();return Qt!==null?Km(p,Qt,o,c):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:Gm,useCacheRefresh:N1};Ns.useEffectEvent=b1;function Rh(o,c,p,y){c=o.memoizedState,p=p(y,c),p=p==null?c:g({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var jf={enqueueSetState:function(o,c,p){o=o._reactInternals;var y=as(),C=ro(y);C.payload=c,p!=null&&(C.callback=p),c=Vo(o,C,y),c!==null&&(yt(c,o,y),Yo(c,o,y))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var y=as(),C=ro(y);C.tag=1,C.payload=c,p!=null&&(C.callback=p),c=Vo(o,C,y),c!==null&&(yt(c,o,y),Yo(c,o,y))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=as(),y=ro(p);y.tag=2,c!=null&&(y.callback=c),c=Vo(o,y,p),c!==null&&(yt(c,o,p),Yo(c,o,p))}};function ag(o,c,p,y,C,T,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,T,D):c.prototype&&c.prototype.isPureReactComponent?!Pc(p,y)||!Pc(C,T):!0}function og(o,c,p,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,y),c.state!==o&&jf.enqueueReplaceState(c,c.state,null)}function Qo(o,c){var p=c;if("ref"in c){p={};for(var y in c)y!=="ref"&&(p[y]=c[y])}if(o=o.defaultProps){p===c&&(p=g({},p));for(var C in o)p[C]===void 0&&(p[C]=o[C])}return p}function j1(o){wf(o)}function lg(o){console.error(o)}function cg(o){wf(o)}function Oh(o,c){try{var p=o.onUncaughtError;p(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function L1(o,c,p){try{var y=o.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function ug(o,c,p){return p=ro(p),p.tag=3,p.payload={element:null},p.callback=function(){Oh(o,c)},p}function fg(o){return o=ro(o),o.tag=3,o}function P1(o,c,p,y){var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var T=y.value;o.payload=function(){return C(T)},o.callback=function(){L1(c,p,y)}}var D=p.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){L1(c,p,y),typeof C!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var U=y.stack;this.componentDidCatch(y.value,{componentStack:U!==null?U:""})})}function pr(o,c,p,y,C){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=p.alternate,c!==null&&Sa(c,p,C,!0),p=Ni.current,p!==null){switch(p.tag){case 31:case 13:return pi===null?lu():p.alternate===null&&En===0&&(En=3),p.flags&=-257,p.flags|=65536,p.lanes=C,y===bh?p.flags|=16384:(c=p.updateQueue,c===null?p.updateQueue=new Set([y]):c.add(y),Kf(o,y,C)),!1;case 22:return p.flags|=65536,y===bh?p.flags|=16384:(c=p.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=c):(p=c.retryQueue,p===null?c.retryQueue=new Set([y]):p.add(y)),Kf(o,y,C)),!1}throw Error(r(435,p.tag))}return Kf(o,y,C),lu(),!1}if(At)return c=Ni.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=C,y!==Vc&&(o=Error(r(422),{cause:y}),ba($i(o,p)))):(y!==Vc&&(c=Error(r(423),{cause:y}),ba($i(c,p))),o=o.current.alternate,o.flags|=65536,C&=-C,o.lanes|=C,y=$i(y,p),C=ug(o.stateNode,y,C),Xe(o,C),En!==4&&(En=2)),!1;var T=Error(r(520),{cause:y});if(T=$i(T,p),Kl===null?Kl=[T]:Kl.push(T),En!==4&&(En=2),c===null)return!0;y=$i(y,p),p=c;do{switch(p.tag){case 3:return p.flags|=65536,o=C&-C,p.lanes|=o,o=ug(p.stateNode,y,o),Xe(p,o),!1;case 1:if(c=p.type,T=p.stateNode,(p.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Wn===null||!Wn.has(T))))return p.flags|=65536,C&=-C,p.lanes|=C,C=fg(C),P1(C,o,p,y),Xe(p,C),!1}p=p.return}while(p!==null);return!1}var Dh=Error(r(461)),ar=!1;function wr(o,c,p,y){c.child=o===null?Sh(c,null,p,y):no(c,o.child,p,y)}function dg(o,c,p,y,C){p=p.render;var T=c.ref;if("ref"in y){var D={};for(var U in y)U!=="ref"&&(D[U]=y[U])}else D=y;return Go(c),y=Eh(o,c,p,D,T,C),U=Hm(),o!==null&&!ar?(Um(o,c,C),Xn(o,c,C)):(At&&U&&ga(c),c.flags|=1,wr(o,c,y,C),c.child)}function Hl(o,c,p,y,C){if(o===null){var T=p.type;return typeof T=="function"&&!lh(T)&&T.defaultProps===void 0&&p.compare===null?(c.tag=15,c.type=T,zh(o,c,T,y,C)):(o=pa(p.type,null,y,c,c.mode,C),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!Hh(o,C)){var D=T.memoizedProps;if(p=p.compare,p=p!==null?p:Pc,p(D,y)&&o.ref===c.ref)return Xn(o,c,C)}return c.flags|=1,o=_i(T,y),o.ref=c.ref,o.return=c,c.child=o}function zh(o,c,p,y,C){if(o!==null){var T=o.memoizedProps;if(Pc(T,y)&&o.ref===c.ref)if(ar=!1,c.pendingProps=y=T,Hh(o,C))(o.flags&131072)!==0&&(ar=!0);else return c.lanes=o.lanes,Xn(o,c,C)}return nu(o,c,p,y,C)}function Ul(o,c,p,y){var C=y.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|p:p,o!==null){for(y=c.child=o.child,C=0;y!==null;)C=C|y.lanes|y.childLanes,y=y.sibling;y=C&~T}else y=0,c.child=null;return Oi(o,c,T,p,y)}if((p&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Tf(c,T!==null?T.cachePool:null),T!==null?t1(c,T):Lm(),n1(c);else return y=c.lanes=536870912,Oi(o,c,T!==null?T.baseLanes|p:p,p,y)}else T!==null?(Tf(c,T.cachePool),t1(c,T),Ri(),c.memoizedState=null):(o!==null&&Tf(c,null),Lm(),Ri());return wr(o,c,C,p),c.child}function Ca(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Oi(o,c,p,y,C){var T=yh();return T=T===null?null:{parent:sr._currentValue,pool:T},c.memoizedState={baseLanes:p,cachePool:T},o!==null&&Tf(c,null),Lm(),n1(c),o!==null&&Sa(o,c,y,!0),c.childLanes=C,null}function jh(o,c){return c=Ih({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function B1(o,c,p){return no(c,o.child,null,p),o=jh(c,c.pendingProps),o.flags|=2,Yn(c),c.memoizedState=null,o}function Lh(o,c,p){var y=c.pendingProps,C=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(At){if(y.mode==="hidden")return o=jh(c,y),c.lanes=536870912,Ca(null,o);if(Pm(c),(o=en)?(o=W4(o,Zi),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:$a!==null?{id:wn,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},p=Fc(o),p.return=c,c.child=p,Pn=c,en=null)):o=null,o===null)throw ya(c);return c.lanes=536870912,null}return jh(c,y)}var T=o.memoizedState;if(T!==null){var D=T.dehydrated;if(Pm(c),C)if(c.flags&256)c.flags&=-257,c=B1(o,c,p);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(ar||Sa(o,c,p,!1),C=(p&o.childLanes)!==0,ar||C){if(y=at,y!==null&&(D=Yi(y,p),D!==0&&D!==T.retryLane))throw T.retryLane=D,di(o,D),yt(y,o,D),Dh;lu(),c=B1(o,c,p)}else o=T.treeContext,en=Oa(D.nextSibling),Pn=c,At=!0,Za=null,Zi=!1,o!==null&&dh(c,o),c=jh(c,y),c.flags|=4096;return c}return o=_i(o.child,{mode:y.mode,children:y.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Fl(o,c){var p=c.ref;if(p===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(c.flags|=4194816)}}function nu(o,c,p,y,C){return Go(c),p=Eh(o,c,p,y,void 0,C),y=Hm(),o!==null&&!ar?(Um(o,c,C),Xn(o,c,C)):(At&&y&&ga(c),c.flags|=1,wr(o,c,p,C),c.child)}function Lf(o,c,p,y,C,T){return Go(c),c.updateQueue=null,p=Bl(c,y,p,C),r1(o),y=Hm(),o!==null&&!ar?(Um(o,c,T),Xn(o,c,T)):(At&&y&&ga(c),c.flags|=1,wr(o,c,p,T),c.child)}function Ph(o,c,p,y,C){if(Go(c),c.stateNode===null){var T=Po,D=p.contextType;typeof D=="object"&&D!==null&&(T=it(D)),T=new p(y,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=jf,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=y,T.state=c.memoizedState,T.refs={},Af(c),D=p.contextType,T.context=typeof D=="object"&&D!==null?it(D):Po,T.state=c.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(Rh(c,p,D,y),T.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(D=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),D!==T.state&&jf.enqueueReplaceState(T,T.state,null),Wc(c,y,T,C),Nf(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(o===null){T=c.stateNode;var U=c.memoizedProps,J=Qo(p,U);T.props=J;var ue=T.context,be=p.contextType;D=Po,typeof be=="object"&&be!==null&&(D=it(be));var Se=p.getDerivedStateFromProps;be=typeof Se=="function"||typeof T.getSnapshotBeforeUpdate=="function",U=c.pendingProps!==U,be||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(U||ue!==D)&&og(c,T,y,D),hi=!1;var he=c.memoizedState;T.state=he,Wc(c,y,T,C),Nf(),ue=c.memoizedState,U||he!==ue||hi?(typeof Se=="function"&&(Rh(c,p,Se,y),ue=c.memoizedState),(J=hi||ag(c,p,J,y,he,ue,D))?(be||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ue),T.props=y,T.state=ue,T.context=D,y=J):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{T=c.stateNode,zm(o,c),D=c.memoizedProps,be=Qo(p,D),T.props=be,Se=c.pendingProps,he=T.context,ue=p.contextType,J=Po,typeof ue=="object"&&ue!==null&&(J=it(ue)),U=p.getDerivedStateFromProps,(ue=typeof U=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==Se||he!==J)&&og(c,T,y,J),hi=!1,he=c.memoizedState,T.state=he,Wc(c,y,T,C),Nf();var ge=c.memoizedState;D!==Se||he!==ge||hi||o!==null&&o.dependencies!==null&&kf(o.dependencies)?(typeof U=="function"&&(Rh(c,p,U,y),ge=c.memoizedState),(be=hi||ag(c,p,be,y,he,ge,J)||o!==null&&o.dependencies!==null&&kf(o.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,ge,J),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,ge,J)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=ge),T.props=y,T.state=ge,T.context=J,y=be):(typeof T.componentDidUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),y=!1)}return T=y,Fl(o,c),y=(c.flags&128)!==0,T||y?(T=c.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&y?(c.child=no(c,o.child,null,C),c.child=no(c,null,p,C)):wr(o,c,p,C),c.memoizedState=T.state,o=c.child):o=Xn(o,c,C),o}function I1(o,c,p,y){return Uo(),c.flags|=256,wr(o,c,p,y),c.child}var hg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jr(o){return{baseLanes:o,cachePool:Dm()}}function Bh(o,c,p){return o=o!==null?o.childLanes&~p:0,c&&(o|=bi),o}function H1(o,c,p){var y=c.pendingProps,C=!1,T=(c.flags&128)!==0,D;if((D=T)||(D=o!==null&&o.memoizedState===null?!1:(Nt.current&2)!==0),D&&(C=!0,c.flags&=-129),D=(c.flags&32)!==0,c.flags&=-33,o===null){if(At){if(C?io(c):Ri(),(o=en)?(o=W4(o,Zi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:$a!==null?{id:wn,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},p=Fc(o),p.return=c,c.child=p,Pn=c,en=null)):o=null,o===null)throw ya(c);return W2(o)?c.lanes=32:c.lanes=536870912,null}var U=y.children;return y=y.fallback,C?(Ri(),C=c.mode,U=Ih({mode:"hidden",children:U},C),y=Bo(y,C,p,null),U.return=c,y.return=c,U.sibling=y,c.child=U,y=c.child,y.memoizedState=Jr(p),y.childLanes=Bh(o,D,p),c.memoizedState=hg,Ca(null,y)):(io(c),Pf(c,U))}var J=o.memoizedState;if(J!==null&&(U=J.dehydrated,U!==null)){if(T)c.flags&256?(io(c),c.flags&=-257,c=pg(o,c,p)):c.memoizedState!==null?(Ri(),c.child=o.child,c.flags|=128,c=null):(Ri(),U=y.fallback,C=c.mode,y=Ih({mode:"visible",children:y.children},C),U=Bo(U,C,p,null),U.flags|=2,y.return=c,U.return=c,y.sibling=U,c.child=y,no(c,o.child,null,p),y=c.child,y.memoizedState=Jr(p),y.childLanes=Bh(o,D,p),c.memoizedState=hg,c=Ca(null,y));else if(io(c),W2(U)){if(D=U.nextSibling&&U.nextSibling.dataset,D)var ue=D.dgst;D=ue,y=Error(r(419)),y.stack="",y.digest=D,ba({value:y,source:null,stack:null}),c=pg(o,c,p)}else if(ar||Sa(o,c,p,!1),D=(p&o.childLanes)!==0,ar||D){if(D=at,D!==null&&(y=Yi(D,p),y!==0&&y!==J.retryLane))throw J.retryLane=y,di(o,y),yt(D,o,y),Dh;Q2(U)||lu(),c=pg(o,c,p)}else Q2(U)?(c.flags|=192,c.child=o.child,c=null):(o=J.treeContext,en=Oa(U.nextSibling),Pn=c,At=!0,Za=null,Zi=!1,o!==null&&dh(c,o),c=Pf(c,y.children),c.flags|=4096);return c}return C?(Ri(),U=y.fallback,C=c.mode,J=o.child,ue=J.sibling,y=_i(J,{mode:"hidden",children:y.children}),y.subtreeFlags=J.subtreeFlags&65011712,ue!==null?U=_i(ue,U):(U=Bo(U,C,p,null),U.flags|=2),U.return=c,y.return=c,y.sibling=U,c.child=y,Ca(null,y),y=c.child,U=o.child.memoizedState,U===null?U=Jr(p):(C=U.cachePool,C!==null?(J=sr._currentValue,C=C.parent!==J?{parent:J,pool:J}:C):C=Dm(),U={baseLanes:U.baseLanes|p,cachePool:C}),y.memoizedState=U,y.childLanes=Bh(o,D,p),c.memoizedState=hg,Ca(o.child,y)):(io(c),p=o.child,o=p.sibling,p=_i(p,{mode:"visible",children:y.children}),p.return=c,p.sibling=null,o!==null&&(D=c.deletions,D===null?(c.deletions=[o],c.flags|=16):D.push(o)),c.child=p,c.memoizedState=null,p)}function Pf(o,c){return c=Ih({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Ih(o,c){return o=Sn(22,o,null,c),o.lanes=0,o}function pg(o,c,p){return no(c,o.child,null,p),o=Pf(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function U1(o,c,p){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),ph(o.return,c,p)}function Gl(o,c,p,y,C,T){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:C,treeForkCount:T}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=y,D.tail=p,D.tailMode=C,D.treeForkCount=T)}function Di(o,c,p){var y=c.pendingProps,C=y.revealOrder,T=y.tail;y=y.children;var D=Nt.current,U=(D&2)!==0;if(U?(D=D&1|2,c.flags|=128):D&=1,F(Nt,D),wr(o,c,y,p),y=At?qc:0,!U&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&U1(o,p,c);else if(o.tag===19)U1(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(C){case"forwards":for(p=c.child,C=null;p!==null;)o=p.alternate,o!==null&&ts(o)===null&&(C=p),p=p.sibling;p=C,p===null?(C=c.child,c.child=null):(C=p.sibling,p.sibling=null),Gl(c,!1,C,p,T,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,C=c.child,c.child=null;C!==null;){if(o=C.alternate,o!==null&&ts(o)===null){c.child=C;break}o=C.sibling,C.sibling=p,p=C,C=o}Gl(c,!0,p,null,T,y);break;case"together":Gl(c,!1,null,null,void 0,y);break;default:c.memoizedState=null}return c.child}function Xn(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),Aa|=c.lanes,(p&c.childLanes)===0)if(o!==null){if(Sa(o,c,p,!1),(p&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,p=_i(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=_i(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function Hh(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&kf(o)))}function P2(o,c,p){switch(c.tag){case 3:ot(c,c.stateNode.containerInfo),eo(c,sr,o.memoizedState.cache),Uo();break;case 27:case 5:nt(c);break;case 4:ot(c,c.stateNode.containerInfo);break;case 10:eo(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Pm(c),null;break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(io(c),c.flags|=128,null):(p&c.child.childLanes)!==0?H1(o,c,p):(io(c),o=Xn(o,c,p),o!==null?o.sibling:null);io(c);break;case 19:var C=(o.flags&128)!==0;if(y=(p&c.childLanes)!==0,y||(Sa(o,c,p,!1),y=(p&c.childLanes)!==0),C){if(y)return Di(o,c,p);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),F(Nt,Nt.current),y)break;return null;case 22:return c.lanes=0,Ul(o,c,p,c.pendingProps);case 24:eo(c,sr,o.memoizedState.cache)}return Xn(o,c,p)}function Uh(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps)ar=!0;else{if(!Hh(o,p)&&(c.flags&128)===0)return ar=!1,P2(o,c,p);ar=(o.flags&131072)!==0}else ar=!1,At&&(c.flags&1048576)!==0&&Xy(c,qc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var y=c.pendingProps;if(o=Ol(c.elementType),c.type=o,typeof o=="function")lh(o)?(y=Qo(o,y),c.tag=1,c=Ph(null,c,o,y,p)):(c.tag=0,c=nu(null,c,o,y,p));else{if(o!=null){var C=o.$$typeof;if(C===L){c.tag=11,c=dg(null,c,o,y,p);break e}else if(C===P){c.tag=14,c=Hl(null,c,o,y,p);break e}}throw c=Z(o)||o,Error(r(306,c,""))}}return c;case 0:return nu(o,c,c.type,c.pendingProps,p);case 1:return y=c.type,C=Qo(y,c.pendingProps),Ph(o,c,y,C,p);case 3:e:{if(ot(c,c.stateNode.containerInfo),o===null)throw Error(r(387));y=c.pendingProps;var T=c.memoizedState;C=T.element,zm(o,c),Wc(c,y,null,p);var D=c.memoizedState;if(y=D.cache,eo(c,sr,y),y!==T.cache&&mh(c,[sr],p,!0),Nf(),y=D.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:D.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=I1(o,c,y,p);break e}else if(y!==C){C=$i(Error(r(424)),c),ba(C),c=I1(o,c,y,p);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(en=Oa(o.firstChild),Pn=c,At=!0,Za=null,Zi=!0,p=Sh(c,null,y,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Uo(),y===C){c=Xn(o,c,p);break e}wr(o,c,y,p)}c=c.child}return c;case 26:return Fl(o,c),o===null?(p=n5(c.type,null,c.pendingProps,null))?c.memoizedState=p:At||(p=c.type,o=c.pendingProps,y=V1(De.current).createElement(p),y[rr]=c,y[Kr]=o,xi(y,p,o),ir(y),c.stateNode=y):c.memoizedState=n5(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return nt(c),o===null&&At&&(y=c.stateNode=Z4(c.type,c.pendingProps,De.current),Pn=c,Zi=!0,C=en,du(c.type)?(J2=C,en=Oa(y.firstChild)):en=C),wr(o,c,c.pendingProps.children,p),Fl(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&At&&((C=y=en)&&(y=gD(y,c.type,c.pendingProps,Zi),y!==null?(c.stateNode=y,Pn=c,en=Oa(y.firstChild),Zi=!1,C=!0):C=!1),C||ya(c)),nt(c),C=c.type,T=c.pendingProps,D=o!==null?o.memoizedProps:null,y=T.children,Y2(C,T)?y=null:D!==null&&Y2(C,D)&&(c.flags|=32),c.memoizedState!==null&&(C=Eh(o,c,Il,null,null,p),kg._currentValue=C),Fl(o,c),wr(o,c,y,p),c.child;case 6:return o===null&&At&&((o=p=en)&&(p=yD(p,c.pendingProps,Zi),p!==null?(c.stateNode=p,Pn=c,en=null,o=!0):o=!1),o||ya(c)),null;case 13:return H1(o,c,p);case 4:return ot(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=no(c,null,y,p):wr(o,c,y,p),c.child;case 11:return dg(o,c,c.type,c.pendingProps,p);case 7:return wr(o,c,c.pendingProps,p),c.child;case 8:return wr(o,c,c.pendingProps.children,p),c.child;case 12:return wr(o,c,c.pendingProps.children,p),c.child;case 10:return y=c.pendingProps,eo(c,c.type,y.value),wr(o,c,y.children,p),c.child;case 9:return C=c.type._context,y=c.pendingProps.children,Go(c),C=it(C),y=y(C),c.flags|=1,wr(o,c,y,p),c.child;case 14:return Hl(o,c,c.type,c.pendingProps,p);case 15:return zh(o,c,c.type,c.pendingProps,p);case 19:return Di(o,c,p);case 31:return Lh(o,c,p);case 22:return Ul(o,c,p,c.pendingProps);case 24:return Go(c),y=it(sr),o===null?(C=yh(),C===null&&(C=at,T=Am(),C.pooledCache=T,T.refCount++,T!==null&&(C.pooledCacheLanes|=p),C=T),c.memoizedState={parent:y,cache:C},Af(c),eo(c,sr,C)):((o.lanes&p)!==0&&(zm(o,c),Wc(c,null,null,p),Nf()),C=o.memoizedState,T=c.memoizedState,C.parent!==y?(C={parent:y,cache:y},c.memoizedState=C,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=C),eo(c,sr,y)):(y=T.cache,eo(c,sr,y),y!==C.cache&&mh(c,[sr],p,!0))),wr(o,c,c.pendingProps.children,p),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ea(o){o.flags|=4}function Bf(o,c,p,y,C){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(C&335544128)===C)if(o.stateNode.complete)o.flags|=8192;else if(Tn())o.flags|=8192;else throw wa=bh,_f}else o.flags&=-16777217}function mg(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!o5(c))if(Tn())o.flags|=8192;else throw wa=bh,_f}function ao(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?jn():536870912,o.lanes|=c,sn|=c)}function ka(o,c){if(!At)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Wt(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,y=0;if(c)for(var C=o.child;C!==null;)p|=C.lanes|C.childLanes,y|=C.subtreeFlags&65011712,y|=C.flags&65011712,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)p|=C.lanes|C.childLanes,y|=C.subtreeFlags,y|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=y,o.childLanes=p,c}function If(o,c,p){var y=c.pendingProps;switch(fh(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(c),null;case 1:return Wt(c),null;case 3:return p=c.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),xa(sr),Ke(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(Yc(c)?Ea(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,hh())),Wt(c),null;case 26:var C=c.type,T=c.memoizedState;return o===null?(Ea(c),T!==null?(Wt(c),mg(c,T)):(Wt(c),Bf(c,C,null,y,p))):T?T!==o.memoizedState?(Ea(c),Wt(c),mg(c,T)):(Wt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==y&&Ea(c),Wt(c),Bf(c,C,o,y,p)),null;case 27:if(Nn(c),p=De.current,C=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Ea(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}o=we.current,Yc(c)?Qy(c):(o=Z4(C,y,p),c.stateNode=o,Ea(c))}return Wt(c),null;case 5:if(Nn(c),C=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Ea(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}if(T=we.current,Yc(c))Qy(c);else{var D=V1(De.current);switch(T){case 1:T=D.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:T=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":T=D.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":T=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":T=D.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof y.is=="string"?D.createElement("select",{is:y.is}):D.createElement("select"),y.multiple?T.multiple=!0:y.size&&(T.size=y.size);break;default:T=typeof y.is=="string"?D.createElement(C,{is:y.is}):D.createElement(C)}}T[rr]=c,T[Kr]=y;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)T.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=T;e:switch(xi(T,C,y),C){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Ea(c)}}return Wt(c),Bf(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,p),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==y&&Ea(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(o=De.current,Yc(c)){if(o=c.stateNode,p=c.memoizedProps,y=null,C=Pn,C!==null)switch(C.tag){case 27:case 5:y=C.memoizedProps}o[rr]=c,o=!!(o.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||F4(o.nodeValue,p)),o||ya(c,!0)}else o=V1(o).createTextNode(y),o[rr]=c,c.stateNode=o}return Wt(c),null;case 31:if(p=c.memoizedState,o===null||o.memoizedState!==null){if(y=Yc(c),p!==null){if(o===null){if(!y)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[rr]=c}else Uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),o=!1}else p=hh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=p),o=!0;if(!o)return c.flags&256?(Yn(c),c):(Yn(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Wt(c),null;case 13:if(y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(C=Yc(c),y!==null&&y.dehydrated!==null){if(o===null){if(!C)throw Error(r(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[rr]=c}else Uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),C=!1}else C=hh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=C),C=!0;if(!C)return c.flags&256?(Yn(c),c):(Yn(c),null)}return Yn(c),(c.flags&128)!==0?(c.lanes=p,c):(p=y!==null,o=o!==null&&o.memoizedState!==null,p&&(y=c.child,C=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(C=y.alternate.memoizedState.cachePool.pool),T=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==C&&(y.flags|=2048)),p!==o&&p&&(c.child.flags|=8192),ao(c,c.updateQueue),Wt(c),null);case 4:return Ke(),o===null&&U2(c.stateNode.containerInfo),Wt(c),null;case 10:return xa(c.type),Wt(c),null;case 19:if(ie(Nt),y=c.memoizedState,y===null)return Wt(c),null;if(C=(c.flags&128)!==0,T=y.rendering,T===null)if(C)ka(y,!1);else{if(En!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=ts(o),T!==null){for(c.flags|=128,ka(y,!1),o=T.updateQueue,c.updateQueue=o,ao(c,o),c.subtreeFlags=0,o=p,p=c.child;p!==null;)Uc(p,o),p=p.sibling;return F(Nt,Nt.current&1|2),At&&ma(c,y.treeForkCount),c.child}o=o.sibling}y.tail!==null&&qn()>Qn&&(c.flags|=128,C=!0,ka(y,!1),c.lanes=4194304)}else{if(!C)if(o=ts(T),o!==null){if(c.flags|=128,C=!0,o=o.updateQueue,c.updateQueue=o,ao(c,o),ka(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!At)return Wt(c),null}else 2*qn()-y.renderingStartTime>Qn&&p!==536870912&&(c.flags|=128,C=!0,ka(y,!1),c.lanes=4194304);y.isBackwards?(T.sibling=c.child,c.child=T):(o=y.last,o!==null?o.sibling=T:c.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=qn(),o.sibling=null,p=Nt.current,F(Nt,C?p&1|2:p&1),At&&ma(c,y.treeForkCount),o):(Wt(c),null);case 22:case 23:return Yn(c),Rf(),y=c.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(p&536870912)!==0&&(c.flags&128)===0&&(Wt(c),c.subtreeFlags&6&&(c.flags|=8192)):Wt(c),p=c.updateQueue,p!==null&&ao(c,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048),o!==null&&ie(qo),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),xa(sr),Wt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function Rs(o,c){switch(fh(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return xa(sr),Ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Nn(c),null;case 31:if(c.memoizedState!==null){if(Yn(c),c.alternate===null)throw Error(r(340));Uo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Yn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Uo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ie(Nt),null;case 4:return Ke(),null;case 10:return xa(c.type),null;case 22:case 23:return Yn(c),Rf(),o!==null&&ie(qo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return xa(sr),null;case 25:return null;default:return null}}function ns(o,c){switch(fh(c),c.tag){case 3:xa(sr),Ke();break;case 26:case 27:case 5:Nn(c);break;case 4:Ke();break;case 31:c.memoizedState!==null&&Yn(c);break;case 13:Yn(c);break;case 19:ie(Nt);break;case 10:xa(c.type);break;case 22:case 23:Yn(c),Rf(),o!==null&&ie(qo);break;case 24:xa(sr)}}function Os(o,c){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var C=y.next;p=C;do{if((p.tag&o)===o){y=void 0;var T=p.create,D=p.inst;y=T(),D.destroy=y}p=p.next}while(p!==C)}}catch(U){Lt(c,c.return,U)}}function jr(o,c,p){try{var y=c.updateQueue,C=y!==null?y.lastEffect:null;if(C!==null){var T=C.next;y=T;do{if((y.tag&o)===o){var D=y.inst,U=D.destroy;if(U!==void 0){D.destroy=void 0,C=c;var J=p,ue=U;try{ue()}catch(be){Lt(C,J,be)}}}y=y.next}while(y!==T)}}catch(be){Lt(c,c.return,be)}}function Ks(o){var c=o.updateQueue;if(c!==null){var p=o.stateNode;try{e1(c,p)}catch(y){Lt(o,o.return,y)}}}function Cr(o,c,p){p.props=Qo(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(y){Lt(o,c,y)}}function oo(o,c){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof p=="function"?o.refCleanup=p(y):p.current=y}}catch(C){Lt(o,c,C)}}function Lr(o,c){var p=o.ref,y=o.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(C){Lt(o,c,C)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(C){Lt(o,c,C)}else p.current=null}function Hf(o){var c=o.type,p=o.memoizedProps,y=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(C){Lt(o,o.return,C)}}function mr(o,c,p){try{var y=o.stateNode;uD(y,o.type,p,c),y[Kr]=c}catch(C){Lt(o,o.return,C)}}function pn(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&du(o.type)||o.tag===4}function Tt(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pn(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&du(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ta(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,c):(c=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,c.appendChild(o),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Qa));else if(y!==4&&(y===27&&du(o.type)&&(p=o.stateNode,c=null),o=o.child,o!==null))for(Ta(o,c,p),o=o.sibling;o!==null;)Ta(o,c,p),o=o.sibling}function mi(o,c,p){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(y!==4&&(y===27&&du(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(mi(o,c,p),o=o.sibling;o!==null;)mi(o,c,p),o=o.sibling}function Fh(o){var c=o.stateNode,p=o.memoizedProps;try{for(var y=o.type,C=c.attributes;C.length;)c.removeAttributeNode(C[0]);xi(c,y,p),c[rr]=o,c[Kr]=p}catch(T){Lt(o,o.return,T)}}var Ds=!1,tn=!1,Xs=!1,F1=typeof WeakSet=="function"?WeakSet:Set,Er=null;function B2(o,c){if(o=o.containerInfo,q2=$1,o=qy(o),Em(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var C=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{p.nodeType,T.nodeType}catch{p=null;break e}var D=0,U=-1,J=-1,ue=0,be=0,Se=o,he=null;t:for(;;){for(var ge;Se!==p||C!==0&&Se.nodeType!==3||(U=D+C),Se!==T||y!==0&&Se.nodeType!==3||(J=D+y),Se.nodeType===3&&(D+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)he=Se,Se=ge;for(;;){if(Se===o)break t;if(he===p&&++ue===C&&(U=D),he===T&&++be===y&&(J=D),(ge=Se.nextSibling)!==null)break;Se=he,he=Se.parentNode}Se=ge}p=U===-1||J===-1?null:{start:U,end:J}}else p=null}p=p||{start:0,end:0}}else p=null;for(V2={focusedElem:o,selectionRange:p},$1=!1,Er=c;Er!==null;)if(c=Er,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Er=o;else for(;Er!==null;){switch(c=Er,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(p=0;p<o.length;p++)C=o[p],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,p=c,C=T.memoizedProps,T=T.memoizedState,y=p.stateNode;try{var He=Qo(p.type,C);o=y.getSnapshotBeforeUpdate(He,T),y.__reactInternalSnapshotBeforeUpdate=o}catch(rt){Lt(p,p.return,rt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,p=o.nodeType,p===9)X2(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":X2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Er=o;break}Er=c.return}}function mn(o,c,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Ls(o,p),y&4&&Os(5,p);break;case 1:if(Ls(o,p),y&4)if(o=p.stateNode,c===null)try{o.componentDidMount()}catch(D){Lt(p,p.return,D)}else{var C=Qo(p.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(C,c,o.__reactInternalSnapshotBeforeUpdate)}catch(D){Lt(p,p.return,D)}}y&64&&Ks(p),y&512&&oo(p,p.return);break;case 3:if(Ls(o,p),y&64&&(o=p.updateQueue,o!==null)){if(c=null,p.child!==null)switch(p.child.tag){case 27:case 5:c=p.child.stateNode;break;case 1:c=p.child.stateNode}try{e1(o,c)}catch(D){Lt(p,p.return,D)}}break;case 27:c===null&&y&4&&Fh(p);case 26:case 5:Ls(o,p),c===null&&y&4&&Hf(p),y&512&&oo(p,p.return);break;case 12:Ls(o,p);break;case 31:Ls(o,p),y&4&&Wo(o,p);break;case 13:Ls(o,p),y&4&&ru(o,p),y&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=v.bind(null,p),bD(o,p))));break;case 22:if(y=p.memoizedState!==null||Ds,!y){c=c!==null&&c.memoizedState!==null||tn,C=Ds;var T=tn;Ds=y,(tn=c)&&!T?gi(o,p,(p.subtreeFlags&8772)!==0):Ls(o,p),Ds=C,tn=T}break;case 30:break;default:Ls(o,p)}}function Uf(o){var c=o.alternate;c!==null&&(o.alternate=null,Uf(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&vl(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qt=null,$r=!1;function zs(o,c,p){for(p=p.child;p!==null;)Gh(o,c,p),p=p.sibling}function Gh(o,c,p){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(vr,p)}catch{}switch(p.tag){case 26:tn||Lr(p,c),zs(o,c,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:tn||Lr(p,c);var y=qt,C=$r;du(p.type)&&(qt=p.stateNode,$r=!1),zs(o,c,p),wg(p.stateNode),qt=y,$r=C;break;case 5:tn||Lr(p,c);case 6:if(y=qt,C=$r,qt=null,zs(o,c,p),qt=y,$r=C,qt!==null)if($r)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(p.stateNode)}catch(T){Lt(p,c,T)}else try{qt.removeChild(p.stateNode)}catch(T){Lt(p,c,T)}break;case 18:qt!==null&&($r?(o=qt,X4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),Jh(o)):X4(qt,p.stateNode));break;case 4:y=qt,C=$r,qt=p.stateNode.containerInfo,$r=!0,zs(o,c,p),qt=y,$r=C;break;case 0:case 11:case 14:case 15:jr(2,p,c),tn||jr(4,p,c),zs(o,c,p);break;case 1:tn||(Lr(p,c),y=p.stateNode,typeof y.componentWillUnmount=="function"&&Cr(p,c,y)),zs(o,c,p);break;case 21:zs(o,c,p);break;case 22:tn=(y=tn)||p.memoizedState!==null,zs(o,c,p),tn=y;break;default:zs(o,c,p)}}function Wo(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Jh(o)}catch(p){Lt(c,c.return,p)}}}function ru(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Jh(o)}catch(p){Lt(c,c.return,p)}}function gg(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new F1),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new F1),c;default:throw Error(r(435,o.tag))}}function lo(o,c){var p=gg(o);c.forEach(function(y){if(!p.has(y)){p.add(y);var C=w.bind(null,o,y);y.then(C,C)}})}function gr(o,c){var p=c.deletions;if(p!==null)for(var y=0;y<p.length;y++){var C=p[y],T=o,D=c,U=D;e:for(;U!==null;){switch(U.tag){case 27:if(du(U.type)){qt=U.stateNode,$r=!1;break e}break;case 5:qt=U.stateNode,$r=!1;break e;case 3:case 4:qt=U.stateNode.containerInfo,$r=!0;break e}U=U.return}if(qt===null)throw Error(r(160));Gh(T,D,C),qt=null,$r=!1,T=C.alternate,T!==null&&(T.return=null),C.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Jo(c,o),c=c.sibling}var js=null;function Jo(o,c){var p=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:gr(c,o),yr(o),y&4&&(jr(3,o,o.return),Os(3,o),jr(5,o,o.return));break;case 1:gr(c,o),yr(o),y&512&&(tn||p===null||Lr(p,p.return)),y&64&&Ds&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var C=js;if(gr(c,o),yr(o),y&512&&(tn||p===null||Lr(p,p.return)),y&4){var T=p!==null?p.memoizedState:null;if(y=o.memoizedState,p===null)if(y===null)if(o.stateNode===null){e:{y=o.type,p=o.memoizedProps,C=C.ownerDocument||C;t:switch(y){case"title":T=C.getElementsByTagName("title")[0],(!T||T[Ya]||T[rr]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=C.createElement(y),C.head.insertBefore(T,C.querySelector("head > title"))),xi(T,y,p),T[rr]=o,ir(T),y=T;break e;case"link":var D=s5("link","href",C).get(y+(p.href||""));if(D){for(var U=0;U<D.length;U++)if(T=D[U],T.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&T.getAttribute("rel")===(p.rel==null?null:p.rel)&&T.getAttribute("title")===(p.title==null?null:p.title)&&T.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){D.splice(U,1);break t}}T=C.createElement(y),xi(T,y,p),C.head.appendChild(T);break;case"meta":if(D=s5("meta","content",C).get(y+(p.content||""))){for(U=0;U<D.length;U++)if(T=D[U],T.getAttribute("content")===(p.content==null?null:""+p.content)&&T.getAttribute("name")===(p.name==null?null:p.name)&&T.getAttribute("property")===(p.property==null?null:p.property)&&T.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&T.getAttribute("charset")===(p.charSet==null?null:p.charSet)){D.splice(U,1);break t}}T=C.createElement(y),xi(T,y,p),C.head.appendChild(T);break;default:throw Error(r(468,y))}T[rr]=o,ir(T),y=T}o.stateNode=y}else a5(C,o.type,o.stateNode);else o.stateNode=i5(C,y,o.memoizedProps);else T!==y?(T===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):T.count--,y===null?a5(C,o.type,o.stateNode):i5(C,y,o.memoizedProps)):y===null&&o.stateNode!==null&&mr(o,o.memoizedProps,p.memoizedProps)}break;case 27:gr(c,o),yr(o),y&512&&(tn||p===null||Lr(p,p.return)),p!==null&&y&4&&mr(o,o.memoizedProps,p.memoizedProps);break;case 5:if(gr(c,o),yr(o),y&512&&(tn||p===null||Lr(p,p.return)),o.flags&32){C=o.stateNode;try{wl(C,"")}catch(He){Lt(o,o.return,He)}}y&4&&o.stateNode!=null&&(C=o.memoizedProps,mr(o,C,p!==null?p.memoizedProps:C)),y&1024&&(Xs=!0);break;case 6:if(gr(c,o),yr(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,p=o.stateNode;try{p.nodeValue=y}catch(He){Lt(o,o.return,He)}}break;case 3:if(X1=null,C=js,js=Y1(c.containerInfo),gr(c,o),js=C,yr(o),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Jh(c.containerInfo)}catch(He){Lt(o,o.return,He)}Xs&&(Xs=!1,qh(o));break;case 4:y=js,js=Y1(o.stateNode.containerInfo),gr(c,o),yr(o),js=y;break;case 12:gr(c,o),yr(o);break;case 31:gr(c,o),yr(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,lo(o,y)));break;case 13:gr(c,o),yr(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(iu=qn()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,lo(o,y)));break;case 22:C=o.memoizedState!==null;var J=p!==null&&p.memoizedState!==null,ue=Ds,be=tn;if(Ds=ue||C,tn=be||J,gr(c,o),tn=be,Ds=ue,yr(o),y&8192)e:for(c=o.stateNode,c._visibility=C?c._visibility&-2:c._visibility|1,C&&(p===null||J||Ds||tn||_a(o)),p=null,c=o;;){if(c.tag===5||c.tag===26){if(p===null){J=p=c;try{if(T=J.stateNode,C)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{U=J.stateNode;var Se=J.memoizedProps.style,he=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;U.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(He){Lt(J,J.return,He)}}}else if(c.tag===6){if(p===null){J=c;try{J.stateNode.nodeValue=C?"":J.memoizedProps}catch(He){Lt(J,J.return,He)}}}else if(c.tag===18){if(p===null){J=c;try{var ge=J.stateNode;C?Q4(ge,!0):Q4(J.stateNode,!1)}catch(He){Lt(J,J.return,He)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;p===c&&(p=null),c=c.return}p===c&&(p=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=o.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,lo(o,p))));break;case 19:gr(c,o),yr(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,lo(o,y)));break;case 30:break;case 21:break;default:gr(c,o),yr(o)}}function yr(o){var c=o.flags;if(c&2){try{for(var p,y=o.return;y!==null;){if(pn(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var C=p.stateNode,T=Tt(o);mi(o,T,C);break;case 5:var D=p.stateNode;p.flags&32&&(wl(D,""),p.flags&=-33);var U=Tt(o);mi(o,U,D);break;case 3:case 4:var J=p.stateNode.containerInfo,ue=Tt(o);Ta(o,ue,J);break;default:throw Error(r(161))}}catch(be){Lt(o,o.return,be)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function qh(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;qh(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ls(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)mn(o,c.alternate,c),c=c.sibling}function _a(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:jr(4,c,c.return),_a(c);break;case 1:Lr(c,c.return);var p=c.stateNode;typeof p.componentWillUnmount=="function"&&Cr(c,c.return,p),_a(c);break;case 27:wg(c.stateNode);case 26:case 5:Lr(c,c.return),_a(c);break;case 22:c.memoizedState===null&&_a(c);break;case 30:_a(c);break;default:_a(c)}o=o.sibling}}function gi(o,c,p){for(p=p&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,C=o,T=c,D=T.flags;switch(T.tag){case 0:case 11:case 15:gi(C,T,p),Os(4,T);break;case 1:if(gi(C,T,p),y=T,C=y.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ue){Lt(y,y.return,ue)}if(y=T,C=y.updateQueue,C!==null){var U=y.stateNode;try{var J=C.shared.hiddenCallbacks;if(J!==null)for(C.shared.hiddenCallbacks=null,C=0;C<J.length;C++)Jc(J[C],U)}catch(ue){Lt(y,y.return,ue)}}p&&D&64&&Ks(T),oo(T,T.return);break;case 27:Fh(T);case 26:case 5:gi(C,T,p),p&&y===null&&D&4&&Hf(T),oo(T,T.return);break;case 12:gi(C,T,p);break;case 31:gi(C,T,p),p&&D&4&&Wo(C,T);break;case 13:gi(C,T,p),p&&D&4&&ru(C,T);break;case 22:T.memoizedState===null&&gi(C,T,p),oo(T,T.return);break;case 30:break;default:gi(C,T,p)}c=c.sibling}}function $o(o,c){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&Nl(p))}function ql(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Nl(o))}function Pr(o,c,p,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)yg(o,c,p,y),c=c.sibling}function yg(o,c,p,y){var C=c.flags;switch(c.tag){case 0:case 11:case 15:Pr(o,c,p,y),C&2048&&Os(9,c);break;case 1:Pr(o,c,p,y);break;case 3:Pr(o,c,p,y),C&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Nl(o)));break;case 12:if(C&2048){Pr(o,c,p,y),o=c.stateNode;try{var T=c.memoizedProps,D=T.id,U=T.onPostCommit;typeof U=="function"&&U(D,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(J){Lt(c,c.return,J)}}else Pr(o,c,p,y);break;case 31:Pr(o,c,p,y);break;case 13:Pr(o,c,p,y);break;case 23:break;case 22:T=c.stateNode,D=c.alternate,c.memoizedState!==null?T._visibility&2?Pr(o,c,p,y):Ma(o,c):T._visibility&2?Pr(o,c,p,y):(T._visibility|=2,Br(o,c,p,y,(c.subtreeFlags&10256)!==0||!1)),C&2048&&$o(D,c);break;case 24:Pr(o,c,p,y),C&2048&&ql(c.alternate,c);break;default:Pr(o,c,p,y)}}function Br(o,c,p,y,C){for(C=C&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,D=c,U=p,J=y,ue=D.flags;switch(D.tag){case 0:case 11:case 15:Br(T,D,U,J,C),Os(8,D);break;case 23:break;case 22:var be=D.stateNode;D.memoizedState!==null?be._visibility&2?Br(T,D,U,J,C):Ma(T,D):(be._visibility|=2,Br(T,D,U,J,C)),C&&ue&2048&&$o(D.alternate,D);break;case 24:Br(T,D,U,J,C),C&&ue&2048&&ql(D.alternate,D);break;default:Br(T,D,U,J,C)}c=c.sibling}}function Ma(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var p=o,y=c,C=y.flags;switch(y.tag){case 22:Ma(p,y),C&2048&&$o(y.alternate,y);break;case 24:Ma(p,y),C&2048&&ql(y.alternate,y);break;default:Ma(p,y)}c=c.sibling}}var Vl=8192;function rs(o,c,p){if(o.subtreeFlags&Vl)for(o=o.child;o!==null;)Vh(o,c,p),o=o.sibling}function Vh(o,c,p){switch(o.tag){case 26:rs(o,c,p),o.flags&Vl&&o.memoizedState!==null&&ND(p,js,o.memoizedState,o.memoizedProps);break;case 5:rs(o,c,p);break;case 3:case 4:var y=js;js=Y1(o.stateNode.containerInfo),rs(o,c,p),js=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Vl,Vl=16777216,rs(o,c,p),Vl=y):rs(o,c,p));break;default:rs(o,c,p)}}function Yl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Zo(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Er=y,Bn(y,o)}Yl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zi(o),o=o.sibling}function zi(o){switch(o.tag){case 0:case 11:case 15:Zo(o),o.flags&2048&&jr(9,o,o.return);break;case 3:Zo(o);break;case 12:Zo(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,yi(o)):Zo(o);break;default:Zo(o)}}function yi(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];Er=y,Bn(y,o)}Yl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:jr(8,c,c.return),yi(c);break;case 22:p=c.stateNode,p._visibility&2&&(p._visibility&=-3,yi(c));break;default:yi(c)}o=o.sibling}}function Bn(o,c){for(;Er!==null;){var p=Er;switch(p.tag){case 0:case 11:case 15:jr(8,p,c);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Nl(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Er=y;else e:for(p=o;Er!==null;){y=Er;var C=y.sibling,T=y.return;if(Uf(y),y===p){Er=null;break e}if(C!==null){C.return=T,Er=C;break e}Er=T}}}var co={getCacheForType:function(o){var c=it(sr),p=c.data.get(o);return p===void 0&&(p=o(),c.data.set(o,p)),p},cacheSignal:function(){return it(sr).controller.signal}},ft=typeof WeakMap=="function"?WeakMap:Map,Ve=0,at=null,gt=null,ht=0,Rt=0,Zr=null,Ps=!1,Qs=!1,bg=!1,is=0,En=0,Aa=0,el=0,Ff=0,bi=0,sn=0,Kl=null,In=null,Hn=!1,iu=0,vg=0,Qn=1/0,kn=null,Wn=null,Vt=0,ss=null,su=null,Bs=0,au=0,ou=null,Gf=null,tl=0,Xl=null;function as(){return(Ve&2)!==0&&ht!==0?ht&-ht:V.T!==null?pe():Ki()}function St(){if(bi===0)if((ht&536870912)===0||At){var o=Mo;Mo<<=1,(Mo&3932160)===0&&(Mo=262144),bi=o}else bi=536870912;return o=Ni.current,o!==null&&(o.flags|=32),bi}function yt(o,c,p){(o===at&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(rl(o,0),or(o,ht,bi,!1)),Vi(o,p),((Ve&2)===0||o!==at)&&(o===at&&((Ve&2)===0&&(el|=p),En===4&&or(o,ht,bi,!1)),Ee(o))}function wt(o,c,p){if((Ve&6)!==0)throw Error(r(327));var y=!p&&(c&127)===0&&(c&o.expiredLanes)===0||ai(o,c),C=y?qf(o,c):vi(o,c,!0),T=y;do{if(C===0){Qs&&!y&&or(o,c,0,!1);break}else{if(p=o.current.alternate,T&&!Yt(p)){C=vi(o,c,!1),T=!1;continue}if(C===2){if(T=c,o.errorRecoveryDisabledLanes&T)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){c=D;e:{var U=o;C=Kl;var J=U.current.memoizedState.isDehydrated;if(J&&(rl(U,D).flags|=256),D=vi(U,D,!1),D!==2){if(bg&&!J){U.errorRecoveryDisabledLanes|=T,el|=T,C=4;break e}T=In,In=C,T!==null&&(In===null?In=T:In.push.apply(In,T))}C=D}if(T=!1,C!==2)continue}}if(C===1){rl(o,0),or(o,c,0,!0);break}e:{switch(y=o,T=C,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:or(y,c,bi,!Ps);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(C=iu+300-qn(),10<C)){if(or(y,c,bi,!Ps),Vn(y,0,!0)!==0)break e;Bs=c,y.timeoutHandle=Y4(_t.bind(null,y,p,In,kn,Hn,c,bi,el,sn,Ps,T,"Throttled",-0,0),C);break e}_t(y,p,In,kn,Hn,c,bi,el,sn,Ps,T,null,-0,0)}}break}while(!0);Ee(o)}function _t(o,c,p,y,C,T,D,U,J,ue,be,Se,he,ge){if(o.timeoutHandle=-1,Se=c.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qa},Vh(c,T,Se);var He=(T&62914560)===T?iu-qn():(T&4194048)===T?vg-qn():0;if(He=RD(Se,He),He!==null){Bs=T,o.cancelPendingCommit=He(fo.bind(null,o,c,T,p,y,C,D,U,J,be,Se,null,he,ge)),or(o,T,D,!ue);return}}fo(o,c,T,p,y,C,D,U,J)}function Yt(o){for(var c=o;;){var p=c.tag;if((p===0||p===11||p===15)&&c.flags&16384&&(p=c.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var C=p[y],T=C.getSnapshot;C=C.value;try{if(!fi(T(),C))return!1}catch{return!1}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function or(o,c,p,y){c&=~Ff,c&=~el,o.suspendedLanes|=c,o.pingedLanes&=~c,y&&(o.warmLanes|=c),y=o.expirationTimes;for(var C=c;0<C;){var T=31-Ut(C),D=1<<T;y[T]=-1,C&=~D}p!==0&&ci(o,p,c)}function Ws(){return(Ve&6)===0?(Pe(0),!1):!0}function nl(){if(gt!==null){if(Rt===0)var o=gt.return;else o=gt,va=Fo=null,Fm(o),jl=null,Ll=0,o=gt;for(;o!==null;)ns(o.alternate,o),o=o.return;gt=null}}function rl(o,c){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,hD(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),Bs=0,nl(),at=o,gt=p=_i(o.current,null),ht=c,Rt=0,Zr=null,Ps=!1,Qs=ai(o,c),bg=!1,sn=bi=Ff=el=Aa=En=0,In=Kl=null,Hn=!1,(c&8)!==0&&(c|=c&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=c;0<y;){var C=31-Ut(y),T=1<<C;c|=o[C],y&=~T}return is=c,Cf(),p}function Na(o,c){ut=null,V.H=tu,c===Rl||c===mt?(c=Dl(),Rt=3):c===_f?(c=Dl(),Rt=4):Rt=c===Dh?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Zr=c,gt===null&&(En=1,Oh(o,$i(c,o.current)))}function Tn(){var o=Ni.current;return o===null?!0:(ht&4194048)===ht?pi===null:(ht&62914560)===ht||(ht&536870912)!==0?o===pi:!1}function uo(){var o=V.H;return V.H=tu,o===null?tu:o}function il(){var o=V.A;return V.A=co,o}function lu(){En=4,Ps||(ht&4194048)!==ht&&Ni.current!==null||(Qs=!0),(Aa&134217727)===0&&(el&134217727)===0||at===null||or(at,ht,bi,!1)}function vi(o,c,p){var y=Ve;Ve|=2;var C=uo(),T=il();(at!==o||ht!==c)&&(kn=null,rl(o,c)),c=!1;var D=En;e:do try{if(Rt!==0&&gt!==null){var U=gt,J=Zr;switch(Rt){case 8:nl(),D=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(c=!0);var ue=Rt;if(Rt=0,Zr=null,Ql(o,U,J,ue),p&&Qs){D=0;break e}break;default:ue=Rt,Rt=0,Zr=null,Ql(o,U,J,ue)}}cu(),D=En;break}catch(be){Na(o,be)}while(!0);return c&&o.shellSuspendCounter++,va=Fo=null,Ve=y,V.H=C,V.A=T,gt===null&&(at=null,ht=0,Cf()),D}function cu(){for(;gt!==null;)Yh(gt)}function qf(o,c){var p=Ve;Ve|=2;var y=uo(),C=il();at!==o||ht!==c?(kn=null,Qn=qn()+500,rl(o,c)):Qs=ai(o,c);e:do try{if(Rt!==0&&gt!==null){c=gt;var T=Zr;t:switch(Rt){case 1:Rt=0,Zr=null,Ql(o,c,T,1);break;case 2:case 9:if(Ai(T)){Rt=0,Zr=null,Vf(c);break}c=function(){Rt!==2&&Rt!==9||at!==o||(Rt=7),Ee(o)},T.then(c,c);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:Ai(T)?(Rt=0,Zr=null,Vf(c)):(Rt=0,Zr=null,Ql(o,c,T,7));break;case 5:var D=null;switch(gt.tag){case 26:D=gt.memoizedState;case 5:case 27:var U=gt;if(D?o5(D):U.stateNode.complete){Rt=0,Zr=null;var J=U.sibling;if(J!==null)gt=J;else{var ue=U.return;ue!==null?(gt=ue,sl(ue)):gt=null}break t}}Rt=0,Zr=null,Ql(o,c,T,5);break;case 6:Rt=0,Zr=null,Ql(o,c,T,6);break;case 8:nl(),En=6;break e;default:throw Error(r(462))}}ji();break}catch(be){Na(o,be)}while(!0);return va=Fo=null,V.H=y,V.A=C,Ve=p,gt!==null?0:(at=null,ht=0,Cf(),En)}function ji(){for(;gt!==null&&!Ei();)Yh(gt)}function Yh(o){var c=Uh(o.alternate,o,is);o.memoizedProps=o.pendingProps,c===null?sl(o):gt=c}function Vf(o){var c=o,p=c.alternate;switch(c.tag){case 15:case 0:c=Lf(p,c,c.pendingProps,c.type,void 0,ht);break;case 11:c=Lf(p,c,c.pendingProps,c.type.render,c.ref,ht);break;case 5:Fm(c);default:ns(p,c),c=gt=Uc(c,is),c=Uh(p,c,is)}o.memoizedProps=o.pendingProps,c===null?sl(o):gt=c}function Ql(o,c,p,y){va=Fo=null,Fm(c),jl=null,Ll=0;var C=c.return;try{if(pr(o,C,c,p,ht)){En=1,Oh(o,$i(p,o.current)),gt=null;return}}catch(T){if(C!==null)throw gt=C,T;En=1,Oh(o,$i(p,o.current)),gt=null;return}c.flags&32768?(At||y===1?o=!0:Qs||(ht&536870912)!==0?o=!1:(Ps=o=!0,(y===2||y===9||y===3||y===6)&&(y=Ni.current,y!==null&&y.tag===13&&(y.flags|=16384))),Yf(c,o)):sl(c)}function sl(o){var c=o;do{if((c.flags&32768)!==0){Yf(c,Ps);return}o=c.return;var p=If(c.alternate,c,is);if(p!==null){gt=p;return}if(c=c.sibling,c!==null){gt=c;return}gt=c=o}while(c!==null);En===0&&(En=5)}function Yf(o,c){do{var p=Rs(o.alternate,o);if(p!==null){p.flags&=32767,gt=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!c&&(o=o.sibling,o!==null)){gt=o;return}gt=o=p}while(o!==null);En=6,gt=null}function fo(o,c,p,y,C,T,D,U,J){o.cancelPendingCommit=null;do uu();while(Vt!==0);if((Ve&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=xr,Ln(o,p,T,D,U,J),o===at&&(gt=at=null,ht=0),su=c,ss=o,Bs=p,au=T,ou=C,Gf=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,M(qe,function(){return Kh(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=V.T,V.T=null,C=re.p,re.p=2,D=Ve,Ve|=4;try{B2(o,c,p)}finally{Ve=D,re.p=C,V.T=y}}Vt=1,lr(),ho(),Wl()}}function lr(){if(Vt===1){Vt=0;var o=ss,c=su,p=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||p){p=V.T,V.T=null;var y=re.p;re.p=2;var C=Ve;Ve|=4;try{Jo(c,o);var T=V2,D=qy(o.containerInfo),U=T.focusedElem,J=T.selectionRange;if(D!==U&&U&&U.ownerDocument&&Zt(U.ownerDocument.documentElement,U)){if(J!==null&&Em(U)){var ue=J.start,be=J.end;if(be===void 0&&(be=ue),"selectionStart"in U)U.selectionStart=ue,U.selectionEnd=Math.min(be,U.value.length);else{var Se=U.ownerDocument||document,he=Se&&Se.defaultView||window;if(he.getSelection){var ge=he.getSelection(),He=U.textContent.length,rt=Math.min(J.start,He),rn=J.end===void 0?rt:Math.min(J.end,He);!ge.extend&&rt>rn&&(D=rn,rn=rt,rt=D);var se=Bc(U,rt),ne=Bc(U,rn);if(se&&ne&&(ge.rangeCount!==1||ge.anchorNode!==se.node||ge.anchorOffset!==se.offset||ge.focusNode!==ne.node||ge.focusOffset!==ne.offset)){var ce=Se.createRange();ce.setStart(se.node,se.offset),ge.removeAllRanges(),rt>rn?(ge.addRange(ce),ge.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),ge.addRange(ce))}}}}for(Se=[],ge=U;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Se.length;U++){var xe=Se[U];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}$1=!!q2,V2=q2=null}finally{Ve=C,re.p=y,V.T=p}}o.current=c,Vt=2}}function ho(){if(Vt===2){Vt=0;var o=ss,c=su,p=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||p){p=V.T,V.T=null;var y=re.p;re.p=2;var C=Ve;Ve|=4;try{mn(o,c.alternate,c)}finally{Ve=C,re.p=y,V.T=p}}Vt=3}}function Wl(){if(Vt===4||Vt===3){Vt=0,On();var o=ss,c=su,p=Bs,y=Gf;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Vt=5:(Vt=0,su=ss=null,Ra(o,o.pendingLanes));var C=o.pendingLanes;if(C===0&&(Wn=null),xs(p),c=c.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(vr,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=V.T,C=re.p,re.p=2,V.T=null;try{for(var T=o.onRecoverableError,D=0;D<y.length;D++){var U=y[D];T(U.value,{componentStack:U.stack})}}finally{V.T=c,re.p=C}}(Bs&3)!==0&&uu(),Ee(o),C=o.pendingLanes,(p&261930)!==0&&(C&42)!==0?o===Xl?tl++:(tl=0,Xl=o):tl=0,Pe(0)}}function Ra(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Nl(c)))}function uu(){return lr(),ho(),Wl(),Kh()}function Kh(){if(Vt!==5)return!1;var o=ss,c=au;au=0;var p=xs(Bs),y=V.T,C=re.p;try{re.p=32>p?32:p,V.T=null,p=ou,ou=null;var T=ss,D=Bs;if(Vt=0,su=ss=null,Bs=0,(Ve&6)!==0)throw Error(r(331));var U=Ve;if(Ve|=4,zi(T.current),yg(T,T.current,D,p),Ve=U,Pe(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(vr,T)}catch{}return!0}finally{re.p=C,V.T=y,Ra(o,c)}}function xg(o,c,p){c=$i(p,c),c=ug(o.stateNode,c,2),o=Vo(o,c,2),o!==null&&(Vi(o,2),Ee(o))}function Lt(o,c,p){if(o.tag===3)xg(o,o,p);else for(;c!==null;){if(c.tag===3){xg(c,o,p);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Wn===null||!Wn.has(y))){o=$i(p,o),p=fg(2),y=Vo(c,p,2),y!==null&&(P1(p,y,c,o),Vi(y,2),Ee(y));break}}c=c.return}}function Kf(o,c,p){var y=o.pingCache;if(y===null){y=o.pingCache=new ft;var C=new Set;y.set(c,C)}else C=y.get(c),C===void 0&&(C=new Set,y.set(c,C));C.has(p)||(bg=!0,C.add(p),o=f.bind(null,o,c,p),c.then(o,o))}function f(o,c,p){var y=o.pingCache;y!==null&&y.delete(c),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,at===o&&(ht&p)===p&&(En===4||En===3&&(ht&62914560)===ht&&300>qn()-iu?(Ve&2)===0&&rl(o,0):Ff|=p,sn===ht&&(sn=0)),Ee(o)}function h(o,c){c===0&&(c=jn()),o=di(o,c),o!==null&&(Vi(o,c),Ee(o))}function v(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),h(o,p)}function w(o,c){var p=0;switch(o.tag){case 31:case 13:var y=o.stateNode,C=o.memoizedState;C!==null&&(p=C.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),h(o,p)}function M(o,c){return nr(o,c)}var R=null,B=null,$=!1,me=!1,Ce=!1,Re=0;function Ee(o){o!==B&&o.next===null&&(B===null?R=B=o:B=B.next=o),me=!0,$||($=!0,ae())}function Pe(o,c){if(!Ce&&me){Ce=!0;do for(var p=!1,y=R;y!==null;){if(o!==0){var C=y.pendingLanes;if(C===0)var T=0;else{var D=y.suspendedLanes,U=y.pingedLanes;T=(1<<31-Ut(42|o)+1)-1,T&=C&~(D&~U),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(p=!0,fe(y,T))}else T=ht,T=Vn(y,y===at?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||ai(y,T)||(p=!0,fe(y,T));y=y.next}while(p);Ce=!1}}function ct(){kr()}function kr(){me=$=!1;var o=0;Re!==0&&dD()&&(o=Re);for(var c=qn(),p=null,y=R;y!==null;){var C=y.next,T=fu(y,c);T===0?(y.next=null,p===null?R=C:p.next=C,C===null&&(B=p)):(p=y,(o!==0||(T&3)!==0)&&(me=!0)),y=C}Vt!==0&&Vt!==5||Pe(o),Re!==0&&(Re=0)}function fu(o,c){for(var p=o.suspendedLanes,y=o.pingedLanes,C=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var D=31-Ut(T),U=1<<D,J=C[D];J===-1?((U&p)===0||(U&y)!==0)&&(C[D]=oi(U,c)):J<=c&&(o.expiredLanes|=U),T&=~U}if(c=at,p=ht,p=Vn(o,o===c?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,p===0||o===c&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&Gi(y),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||ai(o,p)){if(c=p&-p,c===o.callbackPriority)return c;switch(y!==null&&Gi(y),xs(p)){case 2:case 8:p=_e;break;case 32:p=qe;break;case 268435456:p=xt;break;default:p=qe}return y=al.bind(null,o),p=nr(p,y),o.callbackPriority=c,o.callbackNode=p,c}return y!==null&&y!==null&&Gi(y),o.callbackPriority=2,o.callbackNode=null,2}function al(o,c){if(Vt!==0&&Vt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(uu()&&o.callbackNode!==p)return null;var y=ht;return y=Vn(o,o===at?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(wt(o,y,c),fu(o,qn()),o.callbackNode!=null&&o.callbackNode===p?al.bind(null,o):null)}function fe(o,c){if(uu())return null;wt(o,c,!0)}function ae(){pD(function(){(Ve&6)!==0?nr(ye,ct):kr()})}function pe(){if(Re===0){var o=to;o===0&&(o=kc,kc<<=1,(kc&261888)===0&&(kc=256)),Re=o}return Re}function Ae(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:cf(""+o)}function $e(o,c){var p=c.ownerDocument.createElement("input");return p.name=c.name,p.value=c.value,o.id&&p.setAttribute("form",o.id),c.parentNode.insertBefore(p,c),o=new FormData(o),p.parentNode.removeChild(p),o}function _n(o,c,p,y,C){if(c==="submit"&&p&&p.stateNode===C){var T=Ae((C[Kr]||null).action),D=y.submitter;D&&(c=(c=D[Kr]||null)?Ae(c.formAction):D.getAttribute("formAction"),c!==null&&(T=c,D=null));var U=new df("action","action",null,y,C);o.push({event:U,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Re!==0){var J=D?$e(C,D):new FormData(C);ng(p,{pending:!0,data:J,method:C.method,action:T},null,J)}}else typeof T=="function"&&(U.preventDefault(),J=D?$e(C,D):new FormData(C),ng(p,{pending:!0,data:J,method:C.method,action:T},T,J))},currentTarget:C}]})}}for(var et=0;et<Sf.length;et++){var zt=Sf[et],Tr=zt.toLowerCase(),It=zt[0].toUpperCase()+zt.slice(1);Es(Tr,"on"+It)}Es(ah,"onAnimationEnd"),Es(xf,"onAnimationIteration"),Es(Tm,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(Yy,"onTransitionRun"),Es(N2,"onTransitionStart"),Es(Ky,"onTransitionCancel"),Es(_m,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Is));function B4(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var y=o[p],C=y.event;y=y.listeners;e:{var T=void 0;if(c)for(var D=y.length-1;0<=D;D--){var U=y[D],J=U.instance,ue=U.currentTarget;if(U=U.listener,J!==T&&C.isPropagationStopped())break e;T=U,C.currentTarget=ue;try{T(C)}catch(be){wf(be)}C.currentTarget=null,T=J}else for(D=0;D<y.length;D++){if(U=y[D],J=U.instance,ue=U.currentTarget,U=U.listener,J!==T&&C.isPropagationStopped())break e;T=U,C.currentTarget=ue;try{T(C)}catch(be){wf(be)}C.currentTarget=null,T=J}}}}function Ot(o,c){var p=c[la];p===void 0&&(p=c[la]=new Set);var y=o+"__bubble";p.has(y)||(I4(c,o,2,!1),p.add(y))}function H2(o,c,p){var y=0;c&&(y|=4),I4(p,o,y,c)}var G1="_reactListening"+Math.random().toString(36).slice(2);function U2(o){if(!o[G1]){o[G1]=!0,Ka.forEach(function(p){p!=="selectionchange"&&(I2.has(p)||H2(p,!1,o),H2(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[G1]||(c[G1]=!0,H2("selectionchange",!1,c))}}function I4(o,c,p,y){switch(p5(c)){case 2:var C=zD;break;case 8:C=jD;break;default:C=nS}p=C.bind(null,c,p,o),C=void 0,!lm||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),y?C!==void 0?o.addEventListener(c,p,{capture:!0,passive:C}):o.addEventListener(c,p,!0):C!==void 0?o.addEventListener(c,p,{passive:C}):o.addEventListener(c,p,!1)}function F2(o,c,p,y,C){var T=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var D=y.tag;if(D===3||D===4){var U=y.stateNode.containerInfo;if(U===C)break;if(D===4)for(D=y.return;D!==null;){var J=D.tag;if((J===3||J===4)&&D.stateNode.containerInfo===C)return;D=D.return}for(;U!==null;){if(D=xl(U),D===null)return;if(J=D.tag,J===5||J===6||J===26||J===27){y=T=D;continue e}U=U.parentNode}}y=y.return}om(function(){var ue=T,be=Kd(p),Se=[];e:{var he=Cs.get(o);if(he!==void 0){var ge=df,He=o;switch(o){case"keypress":if(ff(p)===0)break e;case"keydown":case"keyup":ge=kl;break;case"focusin":He="focus",ge=Jd;break;case"focusout":He="blur",ge=Jd;break;case"beforeblur":case"afterblur":ge=Jd;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Oy;break;case ah:case xf:case Tm:ge=_2;break;case _m:ge=A2;break;case"scroll":case"scrollend":ge=Ey;break;case"wheel":ge=zy;break;case"copy":case"cut":case"paste":ge=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=dm;break;case"toggle":case"beforetoggle":ge=Ly}var rt=(c&4)!==0,rn=!rt&&(o==="scroll"||o==="scrollend"),se=rt?he!==null?he+"Capture":null:he;rt=[];for(var ne=ue,ce;ne!==null;){var xe=ne;if(ce=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ce===null||se===null||(xe=Ac(ne,se),xe!=null&&rt.push(Sg(ne,xe,ce))),rn)break;ne=ne.return}0<rt.length&&(he=new ge(he,He,null,p,be),Se.push({event:he,listeners:rt}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",he&&p!==Yd&&(He=p.relatedTarget||p.fromElement)&&(xl(He)||He[Ao]))break e;if((ge||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(He=p.relatedTarget||p.toElement,ge=ue,He=He?xl(He):null,He!==null&&(rn=s(He),rt=He.tag,He!==rn||rt!==5&&rt!==27&&rt!==6)&&(He=null)):(ge=null,He=ue),ge!==He)){if(rt=cm,xe="onMouseLeave",se="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(rt=dm,xe="onPointerLeave",se="onPointerEnter",ne="pointer"),rn=ge==null?he:Tc(ge),ce=He==null?he:Tc(He),he=new rt(xe,ne+"leave",ge,p,be),he.target=rn,he.relatedTarget=ce,xe=null,xl(be)===ue&&(rt=new rt(se,ne+"enter",He,p,be),rt.target=ce,rt.relatedTarget=rn,xe=rt),rn=xe,ge&&He)t:{for(rt=oD,se=ge,ne=He,ce=0,xe=se;xe;xe=rt(xe))ce++;xe=0;for(var Qe=ne;Qe;Qe=rt(Qe))xe++;for(;0<ce-xe;)se=rt(se),ce--;for(;0<xe-ce;)ne=rt(ne),xe--;for(;ce--;){if(se===ne||ne!==null&&se===ne.alternate){rt=se;break t}se=rt(se),ne=rt(ne)}rt=null}else rt=null;ge!==null&&H4(Se,he,ge,rt,!1),He!==null&&rn!==null&&H4(Se,rn,He,rt,!0)}}e:{if(he=ue?Tc(ue):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Ft=vm;else if(bm(he))if(fa)Ft=Gy;else{Ft=wm;var Ge=Uy}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&Vd(ue.elementType)&&(Ft=vm):Ft=Fy;if(Ft&&(Ft=Ft(o,ue))){ih(Se,Ft,p,be);break e}Ge&&Ge(o,he,ue),o==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&Vs(he,"number",he.value)}switch(Ge=ue?Tc(ue):window,o){case"focusin":(bm(Ge)||Ge.contentEditable==="true")&&(da=Ge,ha=ue,Ic=null);break;case"focusout":Ic=ha=da=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Hc(Se,p,be);break;case"selectionchange":if(Vy)break;case"keydown":case"keyup":Hc(Se,p,be)}var bt;if(Tl)e:{switch(o){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else _l?rh(o,p)&&(jt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(jt="onCompositionStart");jt&&(pm&&p.locale!=="ko"&&(_l||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&_l&&(bt=uf()):(Ji=be,Qd="value"in Ji?Ji.value:Ji.textContent,_l=!0)),Ge=q1(ue,jt),0<Ge.length&&(jt=new $d(jt,o,null,p,be),Se.push({event:jt,listeners:Ge}),bt?jt.data=bt:(bt=mm(p),bt!==null&&(jt.data=bt)))),(bt=nh?Iy(o,p):gm(o,p))&&(jt=q1(ue,"onBeforeInput"),0<jt.length&&(Ge=new $d("onBeforeInput","beforeinput",null,p,be),Se.push({event:Ge,listeners:jt}),Ge.data=bt)),_n(Se,o,ue,p,be)}B4(Se,c)})}function Sg(o,c,p){return{instance:o,listener:c,currentTarget:p}}function q1(o,c){for(var p=c+"Capture",y=[];o!==null;){var C=o,T=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||T===null||(C=Ac(o,p),C!=null&&y.unshift(Sg(o,C,T)),C=Ac(o,c),C!=null&&y.push(Sg(o,C,T))),o.tag===3)return y;o=o.return}return[]}function oD(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function H4(o,c,p,y,C){for(var T=c._reactName,D=[];p!==null&&p!==y;){var U=p,J=U.alternate,ue=U.stateNode;if(U=U.tag,J!==null&&J===y)break;U!==5&&U!==26&&U!==27||ue===null||(J=ue,C?(ue=Ac(p,T),ue!=null&&D.unshift(Sg(p,ue,J))):C||(ue=Ac(p,T),ue!=null&&D.push(Sg(p,ue,J)))),p=p.return}D.length!==0&&o.push({event:c,listeners:D})}var lD=/\r\n?/g,cD=/\u0000|\uFFFD/g;function U4(o){return(typeof o=="string"?o:""+o).replace(lD,`
`).replace(cD,"")}function F4(o,c){return c=U4(c),U4(o)===c}function nn(o,c,p,y,C,T){switch(p){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||wl(o,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&wl(o,""+y);break;case"className":of(o,"class",y);break;case"tabIndex":of(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":of(o,p,y);break;case"style":im(o,y,T);break;case"data":if(c!=="object"){of(o,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||p!=="href")){o.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=cf(""+y),o.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(p==="formAction"?(c!=="input"&&nn(o,c,"name",C.name,C,null),nn(o,c,"formEncType",C.formEncType,C,null),nn(o,c,"formMethod",C.formMethod,C,null),nn(o,c,"formTarget",C.formTarget,C,null)):(nn(o,c,"encType",C.encType,C,null),nn(o,c,"method",C.method,C,null),nn(o,c,"target",C.target,C,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(p);break}y=cf(""+y),o.setAttribute(p,y);break;case"onClick":y!=null&&(o.onclick=Qa);break;case"onScroll":y!=null&&Ot("scroll",o);break;case"onScrollEnd":y!=null&&Ot("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}p=cf(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""+y):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":y===!0?o.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(p,y):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(p,y):o.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(p):o.setAttribute(p,y);break;case"popover":Ot("beforetoggle",o),Ot("toggle",o),_c(o,"popover",y);break;case"xlinkActuate":ca(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":ca(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":ca(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":ca(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":ca(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":ca(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":ca(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":ca(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":ca(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":_c(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=wy.get(p)||p,_c(o,p,y))}}function G2(o,c,p,y,C,T){switch(p){case"style":im(o,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof y=="string"?wl(o,y):(typeof y=="number"||typeof y=="bigint")&&wl(o,""+y);break;case"onScroll":y!=null&&Ot("scroll",o);break;case"onScrollEnd":y!=null&&Ot("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Id.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(C=p.endsWith("Capture"),c=p.slice(2,C?p.length-7:void 0),T=o[Kr]||null,T=T!=null?T[p]:null,typeof T=="function"&&o.removeEventListener(c,T,C),typeof y=="function")){typeof T!="function"&&T!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(c,y,C);break e}p in o?o[p]=y:y===!0?o.setAttribute(p,""):_c(o,p,y)}}}function xi(o,c,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",o),Ot("load",o);var y=!1,C=!1,T;for(T in p)if(p.hasOwnProperty(T)){var D=p[T];if(D!=null)switch(T){case"src":y=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:nn(o,c,T,D,p,null)}}C&&nn(o,c,"srcSet",p.srcSet,p,null),y&&nn(o,c,"src",p.src,p,null);return;case"input":Ot("invalid",o);var U=T=D=C=null,J=null,ue=null;for(y in p)if(p.hasOwnProperty(y)){var be=p[y];if(be!=null)switch(y){case"name":C=be;break;case"type":D=be;break;case"checked":J=be;break;case"defaultChecked":ue=be;break;case"value":T=be;break;case"defaultValue":U=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:nn(o,c,y,be,p,null)}}Fd(o,T,U,J,ue,D,C,!1);return;case"select":Ot("invalid",o),y=D=T=null;for(C in p)if(p.hasOwnProperty(C)&&(U=p[C],U!=null))switch(C){case"value":T=U;break;case"defaultValue":D=U;break;case"multiple":y=U;default:nn(o,c,C,U,p,null)}c=T,p=D,o.multiple=!!y,c!=null?Xa(o,!!y,c,!1):p!=null&&Xa(o,!!y,p,!0);return;case"textarea":Ot("invalid",o),T=C=y=null;for(D in p)if(p.hasOwnProperty(D)&&(U=p[D],U!=null))switch(D){case"value":y=U;break;case"defaultValue":C=U;break;case"children":T=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:nn(o,c,D,U,p,null)}qd(o,y,C,T);return;case"option":for(J in p)if(p.hasOwnProperty(J)&&(y=p[J],y!=null))switch(J){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:nn(o,c,J,y,p,null)}return;case"dialog":Ot("beforetoggle",o),Ot("toggle",o),Ot("cancel",o),Ot("close",o);break;case"iframe":case"object":Ot("load",o);break;case"video":case"audio":for(y=0;y<Is.length;y++)Ot(Is[y],o);break;case"image":Ot("error",o),Ot("load",o);break;case"details":Ot("toggle",o);break;case"embed":case"source":case"link":Ot("error",o),Ot("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in p)if(p.hasOwnProperty(ue)&&(y=p[ue],y!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:nn(o,c,ue,y,p,null)}return;default:if(Vd(c)){for(be in p)p.hasOwnProperty(be)&&(y=p[be],y!==void 0&&G2(o,c,be,y,p,void 0));return}}for(U in p)p.hasOwnProperty(U)&&(y=p[U],y!=null&&nn(o,c,U,y,p,null))}function uD(o,c,p,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,T=null,D=null,U=null,J=null,ue=null,be=null;for(ge in p){var Se=p[ge];if(p.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":J=Se;default:y.hasOwnProperty(ge)||nn(o,c,ge,null,y,Se)}}for(var he in y){var ge=y[he];if(Se=p[he],y.hasOwnProperty(he)&&(ge!=null||Se!=null))switch(he){case"type":T=ge;break;case"name":C=ge;break;case"checked":ue=ge;break;case"defaultChecked":be=ge;break;case"value":D=ge;break;case"defaultValue":U=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:ge!==Se&&nn(o,c,he,ge,y,Se)}}Mc(o,D,U,J,ue,be,T,C);return;case"select":ge=D=U=he=null;for(T in p)if(J=p[T],p.hasOwnProperty(T)&&J!=null)switch(T){case"value":break;case"multiple":ge=J;default:y.hasOwnProperty(T)||nn(o,c,T,null,y,J)}for(C in y)if(T=y[C],J=p[C],y.hasOwnProperty(C)&&(T!=null||J!=null))switch(C){case"value":he=T;break;case"defaultValue":U=T;break;case"multiple":D=T;default:T!==J&&nn(o,c,C,T,y,J)}c=U,p=D,y=ge,he!=null?Xa(o,!!p,he,!1):!!y!=!!p&&(c!=null?Xa(o,!!p,c,!0):Xa(o,!!p,p?[]:"",!1));return;case"textarea":ge=he=null;for(U in p)if(C=p[U],p.hasOwnProperty(U)&&C!=null&&!y.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:nn(o,c,U,null,y,C)}for(D in y)if(C=y[D],T=p[D],y.hasOwnProperty(D)&&(C!=null||T!=null))switch(D){case"value":he=C;break;case"defaultValue":ge=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==T&&nn(o,c,D,C,y,T)}Gd(o,he,ge);return;case"option":for(var He in p)if(he=p[He],p.hasOwnProperty(He)&&he!=null&&!y.hasOwnProperty(He))switch(He){case"selected":o.selected=!1;break;default:nn(o,c,He,null,y,he)}for(J in y)if(he=y[J],ge=p[J],y.hasOwnProperty(J)&&he!==ge&&(he!=null||ge!=null))switch(J){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:nn(o,c,J,he,y,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in p)he=p[rt],p.hasOwnProperty(rt)&&he!=null&&!y.hasOwnProperty(rt)&&nn(o,c,rt,null,y,he);for(ue in y)if(he=y[ue],ge=p[ue],y.hasOwnProperty(ue)&&he!==ge&&(he!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:nn(o,c,ue,he,y,ge)}return;default:if(Vd(c)){for(var rn in p)he=p[rn],p.hasOwnProperty(rn)&&he!==void 0&&!y.hasOwnProperty(rn)&&G2(o,c,rn,void 0,y,he);for(be in y)he=y[be],ge=p[be],!y.hasOwnProperty(be)||he===ge||he===void 0&&ge===void 0||G2(o,c,be,he,y,ge);return}}for(var se in p)he=p[se],p.hasOwnProperty(se)&&he!=null&&!y.hasOwnProperty(se)&&nn(o,c,se,null,y,he);for(Se in y)he=y[Se],ge=p[Se],!y.hasOwnProperty(Se)||he===ge||he==null&&ge==null||nn(o,c,Se,he,y,ge)}function G4(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fD(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var C=p[y],T=C.transferSize,D=C.initiatorType,U=C.duration;if(T&&U&&G4(D)){for(D=0,U=C.responseEnd,y+=1;y<p.length;y++){var J=p[y],ue=J.startTime;if(ue>U)break;var be=J.transferSize,Se=J.initiatorType;be&&G4(Se)&&(J=J.responseEnd,D+=be*(J<U?1:(U-ue)/(J-ue)))}if(--y,c+=8*(T+D)/(C.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var q2=null,V2=null;function V1(o){return o.nodeType===9?o:o.ownerDocument}function q4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V4(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Y2(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var K2=null;function dD(){var o=window.event;return o&&o.type==="popstate"?o===K2?!1:(K2=o,!0):(K2=null,!1)}var Y4=typeof setTimeout=="function"?setTimeout:void 0,hD=typeof clearTimeout=="function"?clearTimeout:void 0,K4=typeof Promise=="function"?Promise:void 0,pD=typeof queueMicrotask=="function"?queueMicrotask:typeof K4<"u"?function(o){return K4.resolve(null).then(o).catch(mD)}:Y4;function mD(o){setTimeout(function(){throw o})}function du(o){return o==="head"}function X4(o,c){var p=c,y=0;do{var C=p.nextSibling;if(o.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"||p==="/&"){if(y===0){o.removeChild(C),Jh(c);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")wg(o.ownerDocument.documentElement);else if(p==="head"){p=o.ownerDocument.head,wg(p);for(var T=p.firstChild;T;){var D=T.nextSibling,U=T.nodeName;T[Ya]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||p.removeChild(T),T=D}}else p==="body"&&wg(o.ownerDocument.body);p=C}while(p);Jh(c)}function Q4(o,c){var p=o;o=0;do{var y=p.nextSibling;if(p.nodeType===1?c?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(c?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(o===0)break;o--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||o++;p=y}while(p)}function X2(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var p=c;switch(c=c.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":X2(p),vl(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function gD(o,c,p,y){for(;o.nodeType===1;){var C=p;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[Ya])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==C.rel||o.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||o.getAttribute("title")!==(C.title==null?null:C.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(C.src==null?null:C.src)||o.getAttribute("type")!==(C.type==null?null:C.type)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=C.name==null?null:""+C.name;if(C.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=Oa(o.nextSibling),o===null)break}return null}function yD(o,c,p){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=Oa(o.nextSibling),o===null))return null;return o}function W4(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Oa(o.nextSibling),o===null))return null;return o}function Q2(o){return o.data==="$?"||o.data==="$~"}function W2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function bD(o,c){var p=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||p.readyState!=="loading")c();else{var y=function(){c(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Oa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var J2=null;function J4(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"||p==="/&"){if(c===0)return Oa(o.nextSibling);c--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||c++}o=o.nextSibling}return null}function $4(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(c===0)return o;c--}else p!=="/$"&&p!=="/&"||c++}o=o.previousSibling}return null}function Z4(o,c,p){switch(c=V1(p),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function wg(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);vl(o)}var Da=new Map,e5=new Set;function Y1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Jl=re.d;re.d={f:vD,r:xD,D:SD,C:wD,L:CD,m:ED,X:TD,S:kD,M:_D};function vD(){var o=Jl.f(),c=Ws();return o||c}function xD(o){var c=Sl(o);c!==null&&c.tag===5&&c.type==="form"?M1(c):Jl.r(o)}var Xh=typeof document>"u"?null:document;function t5(o,c,p){var y=Xh;if(y&&typeof c=="string"&&c){var C=Qr(c);C='link[rel="'+o+'"][href="'+C+'"]',typeof p=="string"&&(C+='[crossorigin="'+p+'"]'),e5.has(C)||(e5.add(C),o={rel:o,crossOrigin:p,href:c},y.querySelector(C)===null&&(c=y.createElement("link"),xi(c,"link",o),ir(c),y.head.appendChild(c)))}}function SD(o){Jl.D(o),t5("dns-prefetch",o,null)}function wD(o,c){Jl.C(o,c),t5("preconnect",o,c)}function CD(o,c,p){Jl.L(o,c,p);var y=Xh;if(y&&o&&c){var C='link[rel="preload"][as="'+Qr(c)+'"]';c==="image"&&p&&p.imageSrcSet?(C+='[imagesrcset="'+Qr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(C+='[imagesizes="'+Qr(p.imageSizes)+'"]')):C+='[href="'+Qr(o)+'"]';var T=C;switch(c){case"style":T=Qh(o);break;case"script":T=Wh(o)}Da.has(T)||(o=g({rel:"preload",href:c==="image"&&p&&p.imageSrcSet?void 0:o,as:c},p),Da.set(T,o),y.querySelector(C)!==null||c==="style"&&y.querySelector(Cg(T))||c==="script"&&y.querySelector(Eg(T))||(c=y.createElement("link"),xi(c,"link",o),ir(c),y.head.appendChild(c)))}}function ED(o,c){Jl.m(o,c);var p=Xh;if(p&&o){var y=c&&typeof c.as=="string"?c.as:"script",C='link[rel="modulepreload"][as="'+Qr(y)+'"][href="'+Qr(o)+'"]',T=C;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Wh(o)}if(!Da.has(T)&&(o=g({rel:"modulepreload",href:o},c),Da.set(T,o),p.querySelector(C)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Eg(T)))return}y=p.createElement("link"),xi(y,"link",o),ir(y),p.head.appendChild(y)}}}function kD(o,c,p){Jl.S(o,c,p);var y=Xh;if(y&&o){var C=Ro(y).hoistableStyles,T=Qh(o);c=c||"default";var D=C.get(T);if(!D){var U={loading:0,preload:null};if(D=y.querySelector(Cg(T)))U.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},p),(p=Da.get(T))&&$2(o,p);var J=D=y.createElement("link");ir(J),xi(J,"link",o),J._p=new Promise(function(ue,be){J.onload=ue,J.onerror=be}),J.addEventListener("load",function(){U.loading|=1}),J.addEventListener("error",function(){U.loading|=2}),U.loading|=4,K1(D,c,y)}D={type:"stylesheet",instance:D,count:1,state:U},C.set(T,D)}}}function TD(o,c){Jl.X(o,c);var p=Xh;if(p&&o){var y=Ro(p).hoistableScripts,C=Wh(o),T=y.get(C);T||(T=p.querySelector(Eg(C)),T||(o=g({src:o,async:!0},c),(c=Da.get(C))&&Z2(o,c),T=p.createElement("script"),ir(T),xi(T,"link",o),p.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(C,T))}}function _D(o,c){Jl.M(o,c);var p=Xh;if(p&&o){var y=Ro(p).hoistableScripts,C=Wh(o),T=y.get(C);T||(T=p.querySelector(Eg(C)),T||(o=g({src:o,async:!0,type:"module"},c),(c=Da.get(C))&&Z2(o,c),T=p.createElement("script"),ir(T),xi(T,"link",o),p.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(C,T))}}function n5(o,c,p,y){var C=(C=De.current)?Y1(C):null;if(!C)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(c=Qh(p.href),p=Ro(C).hoistableStyles,y=p.get(c),y||(y={type:"style",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=Qh(p.href);var T=Ro(C).hoistableStyles,D=T.get(o);if(D||(C=C.ownerDocument||C,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,D),(T=C.querySelector(Cg(o)))&&!T._p&&(D.instance=T,D.state.loading=5),Da.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Da.set(o,p),T||MD(C,o,p,D.state))),c&&y===null)throw Error(r(528,""));return D}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=p.async,p=p.src,typeof p=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Wh(p),p=Ro(C).hoistableScripts,y=p.get(c),y||(y={type:"script",instance:null,count:0,state:null},p.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Qh(o){return'href="'+Qr(o)+'"'}function Cg(o){return'link[rel="stylesheet"]['+o+"]"}function r5(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function MD(o,c,p,y){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=o.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),xi(c,"link",p),ir(c),o.head.appendChild(c))}function Wh(o){return'[src="'+Qr(o)+'"]'}function Eg(o){return"script[async]"+o}function i5(o,c,p){if(c.count++,c.instance===null)switch(c.type){case"style":var y=o.querySelector('style[data-href~="'+Qr(p.href)+'"]');if(y)return c.instance=y,ir(y),y;var C=g({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),ir(y),xi(y,"style",C),K1(y,p.precedence,o),c.instance=y;case"stylesheet":C=Qh(p.href);var T=o.querySelector(Cg(C));if(T)return c.state.loading|=4,c.instance=T,ir(T),T;y=r5(p),(C=Da.get(C))&&$2(y,C),T=(o.ownerDocument||o).createElement("link"),ir(T);var D=T;return D._p=new Promise(function(U,J){D.onload=U,D.onerror=J}),xi(T,"link",y),c.state.loading|=4,K1(T,p.precedence,o),c.instance=T;case"script":return T=Wh(p.src),(C=o.querySelector(Eg(T)))?(c.instance=C,ir(C),C):(y=p,(C=Da.get(T))&&(y=g({},p),Z2(y,C)),o=o.ownerDocument||o,C=o.createElement("script"),ir(C),xi(C,"link",y),o.head.appendChild(C),c.instance=C);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,K1(y,p.precedence,o));return c.instance}function K1(o,c,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=y.length?y[y.length-1]:null,T=C,D=0;D<y.length;D++){var U=y[D];if(U.dataset.precedence===c)T=U;else if(T!==C)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=p.nodeType===9?p.head:p,c.insertBefore(o,c.firstChild))}function $2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Z2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var X1=null;function s5(o,c,p){if(X1===null){var y=new Map,C=X1=new Map;C.set(p,y)}else C=X1,y=C.get(p),y||(y=new Map,C.set(p,y));if(y.has(o))return y;for(y.set(o,null),p=p.getElementsByTagName(o),C=0;C<p.length;C++){var T=p[C];if(!(T[Ya]||T[rr]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var D=T.getAttribute(c)||"";D=o+D;var U=y.get(D);U?U.push(T):y.set(D,[T])}}return y}function a5(o,c,p){o=o.ownerDocument||o,o.head.insertBefore(p,c==="title"?o.querySelector("head > title"):null)}function AD(o,c,p){if(p===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function o5(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function ND(o,c,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var C=Qh(y.href),T=c.querySelector(Cg(C));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Q1.bind(o),c.then(o,o)),p.state.loading|=4,p.instance=T,ir(T);return}T=c.ownerDocument||c,y=r5(y),(C=Da.get(C))&&$2(y,C),T=T.createElement("link"),ir(T);var D=T;D._p=new Promise(function(U,J){D.onload=U,D.onerror=J}),xi(T,"link",y),p.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(p,c),(c=p.state.preload)&&(p.state.loading&3)===0&&(o.count++,p=Q1.bind(o),c.addEventListener("load",p),c.addEventListener("error",p))}}var eS=0;function RD(o,c){return o.stylesheets&&o.count===0&&J1(o,o.stylesheets),0<o.count||0<o.imgCount?function(p){var y=setTimeout(function(){if(o.stylesheets&&J1(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&eS===0&&(eS=62500*fD());var C=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&J1(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>eS?50:800)+c);return o.unsuspend=p,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(C)}}:null}function Q1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)J1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var W1=null;function J1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,W1=new Map,c.forEach(OD,o),W1=null,Q1.call(o))}function OD(o,c){if(!(c.state.loading&4)){var p=W1.get(o);if(p)var y=p.get(null);else{p=new Map,W1.set(o,p);for(var C=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<C.length;T++){var D=C[T];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(p.set(D.dataset.precedence,D),y=D)}y&&p.set(null,y)}C=c.instance,D=C.getAttribute("data-precedence"),T=p.get(D)||y,T===y&&p.set(null,C),p.set(D,C),this.count++,y=Q1.bind(this),C.addEventListener("load",y),C.addEventListener("error",y),T?T.parentNode.insertBefore(C,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(C,o.firstChild)),c.state.loading|=4}}var kg={$$typeof:z,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function DD(o,c,p,y,C,T,D,U,J){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=y,this.onUncaughtError=C,this.onCaughtError=T,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function l5(o,c,p,y,C,T,D,U,J,ue,be,Se){return o=new DD(o,c,p,D,J,ue,be,Se,U),c=1,T===!0&&(c|=24),T=Sn(3,null,null,c),o.current=T,T.stateNode=o,c=Am(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:y,isDehydrated:p,cache:c},Af(T),o}function c5(o){return o?(o=Po,o):Po}function u5(o,c,p,y,C,T){C=c5(C),y.context===null?y.context=C:y.pendingContext=C,y=ro(c),y.payload={element:p},T=T===void 0?null:T,T!==null&&(y.callback=T),p=Vo(o,y,c),p!==null&&(yt(p,o,c),Yo(p,o,c))}function f5(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function tS(o,c){f5(o,c),(o=o.alternate)&&f5(o,c)}function d5(o){if(o.tag===13||o.tag===31){var c=di(o,67108864);c!==null&&yt(c,o,67108864),tS(o,67108864)}}function h5(o){if(o.tag===13||o.tag===31){var c=as();c=vs(c);var p=di(o,c);p!==null&&yt(p,o,c),tS(o,c)}}var $1=!0;function zD(o,c,p,y){var C=V.T;V.T=null;var T=re.p;try{re.p=2,nS(o,c,p,y)}finally{re.p=T,V.T=C}}function jD(o,c,p,y){var C=V.T;V.T=null;var T=re.p;try{re.p=8,nS(o,c,p,y)}finally{re.p=T,V.T=C}}function nS(o,c,p,y){if($1){var C=rS(y);if(C===null)F2(o,c,y,Z1,p),m5(o,y);else if(PD(C,o,c,p,y))y.stopPropagation();else if(m5(o,y),c&4&&-1<LD.indexOf(o)){for(;C!==null;){var T=Sl(C);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var D=zn(T.pendingLanes);if(D!==0){var U=T;for(U.pendingLanes|=2,U.entangledLanes|=2;D;){var J=1<<31-Ut(D);U.entanglements[1]|=J,D&=~J}Ee(T),(Ve&6)===0&&(Qn=qn()+500,Pe(0))}}break;case 31:case 13:U=di(T,2),U!==null&&yt(U,T,2),Ws(),tS(T,2)}if(T=rS(y),T===null&&F2(o,c,y,Z1,p),T===C)break;C=T}C!==null&&y.stopPropagation()}else F2(o,c,y,null,p)}}function rS(o){return o=Kd(o),iS(o)}var Z1=null;function iS(o){if(Z1=null,o=xl(o),o!==null){var c=s(o);if(c===null)o=null;else{var p=c.tag;if(p===13){if(o=a(c),o!==null)return o;o=null}else if(p===31){if(o=l(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Z1=o,null}function p5(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ec()){case ye:return 2;case _e:return 8;case qe:case Je:return 32;case xt:return 268435456;default:return 32}default:return 32}}var sS=!1,hu=null,pu=null,mu=null,Tg=new Map,_g=new Map,gu=[],LD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m5(o,c){switch(o){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":mu=null;break;case"pointerover":case"pointerout":Tg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":_g.delete(c.pointerId)}}function Mg(o,c,p,y,C,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:p,eventSystemFlags:y,nativeEvent:T,targetContainers:[C]},c!==null&&(c=Sl(c),c!==null&&d5(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),o)}function PD(o,c,p,y,C){switch(c){case"focusin":return hu=Mg(hu,o,c,p,y,C),!0;case"dragenter":return pu=Mg(pu,o,c,p,y,C),!0;case"mouseover":return mu=Mg(mu,o,c,p,y,C),!0;case"pointerover":var T=C.pointerId;return Tg.set(T,Mg(Tg.get(T)||null,o,c,p,y,C)),!0;case"gotpointercapture":return T=C.pointerId,_g.set(T,Mg(_g.get(T)||null,o,c,p,y,C)),!0}return!1}function g5(o){var c=xl(o.target);if(c!==null){var p=s(c);if(p!==null){if(c=p.tag,c===13){if(c=a(p),c!==null){o.blockedOn=c,Ti(o.priority,function(){h5(p)});return}}else if(c===31){if(c=l(p),c!==null){o.blockedOn=c,Ti(o.priority,function(){h5(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function eb(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=rS(o.nativeEvent);if(p===null){p=o.nativeEvent;var y=new p.constructor(p.type,p);Yd=y,p.target.dispatchEvent(y),Yd=null}else return c=Sl(p),c!==null&&d5(c),o.blockedOn=p,!1;c.shift()}return!0}function y5(o,c,p){eb(o)&&p.delete(c)}function BD(){sS=!1,hu!==null&&eb(hu)&&(hu=null),pu!==null&&eb(pu)&&(pu=null),mu!==null&&eb(mu)&&(mu=null),Tg.forEach(y5),_g.forEach(y5)}function tb(o,c){o.blockedOn===c&&(o.blockedOn=null,sS||(sS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BD)))}var nb=null;function b5(o){nb!==o&&(nb=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nb===o&&(nb=null);for(var c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],C=o[c+2];if(typeof y!="function"){if(iS(y||p)===null)continue;break}var T=Sl(p);T!==null&&(o.splice(c,3),c-=3,ng(T,{pending:!0,data:C,method:p.method,action:y},y,C))}}))}function Jh(o){function c(J){return tb(J,o)}hu!==null&&tb(hu,o),pu!==null&&tb(pu,o),mu!==null&&tb(mu,o),Tg.forEach(c),_g.forEach(c);for(var p=0;p<gu.length;p++){var y=gu[p];y.blockedOn===o&&(y.blockedOn=null)}for(;0<gu.length&&(p=gu[0],p.blockedOn===null);)g5(p),p.blockedOn===null&&gu.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var C=p[y],T=p[y+1],D=C[Kr]||null;if(typeof T=="function")D||b5(p);else if(D){var U=null;if(T&&T.hasAttribute("formAction")){if(C=T,D=T[Kr]||null)U=D.formAction;else if(iS(C)!==null)continue}else U=D.action;typeof U=="function"?p[y+1]=U:(p.splice(y,3),y-=3),b5(p)}}}function v5(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(D){return C=D})},focusReset:"manual",scroll:"manual"})}function c(){C!==null&&(C(),C=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,C=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),C!==null&&(C(),C=null)}}}function aS(o){this._internalRoot=o}rb.prototype.render=aS.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var p=c.current,y=as();u5(p,y,o,c,null,null)},rb.prototype.unmount=aS.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;u5(o.current,2,null,o,null,null),Ws(),c[Ao]=null}};function rb(o){this._internalRoot=o}rb.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ki();o={blockedOn:null,target:o,priority:c};for(var p=0;p<gu.length&&c!==0&&c<gu[p].priority;p++);gu.splice(p,0,o),p===0&&g5(o)}};var x5=e.version;if(x5!=="19.2.0")throw Error(r(527,x5,"19.2.0"));re.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var ID={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ib=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ib.isDisabled&&ib.supportsFiber)try{vr=ib.inject(ID),Dn=ib}catch{}}return Ng.createRoot=function(o,c){if(!i(o))throw Error(r(299));var p=!1,y="",C=j1,T=lg,D=cg;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=l5(o,1,!1,null,null,p,y,null,C,T,D,v5),o[Ao]=c.current,U2(o),new aS(c)},Ng.hydrateRoot=function(o,c,p){if(!i(o))throw Error(r(299));var y=!1,C="",T=j1,D=lg,U=cg,J=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onUncaughtError!==void 0&&(T=p.onUncaughtError),p.onCaughtError!==void 0&&(D=p.onCaughtError),p.onRecoverableError!==void 0&&(U=p.onRecoverableError),p.formState!==void 0&&(J=p.formState)),c=l5(o,1,!0,c,p??null,y,C,J,T,D,U,v5),c.context=c5(null),p=c.current,y=as(),y=vs(y),C=ro(y),C.callback=null,Vo(p,C,y),p=y,c.current.lanes=p,Vi(c,p),Ee(c),o[Ao]=c.current,U2(o),new rb(c)},Ng.version="19.2.0",Ng}var N5;function XD(){if(N5)return cS.exports;N5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cS.exports=KD(),cS.exports}var QD=XD(),lc=J6();const $6=Pp(lc);function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function R5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vE(...t){return e=>{let n=!1;const r=t.map(i=>{const s=R5(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():R5(t[i],null)}}}}function Gr(...t){return N.useCallback(vE(...t),t)}function WD(t,e){const n=N.createContext(e),r=s=>{const{children:a,...l}=s,u=N.useMemo(()=>l,Object.values(l));return E.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function i(s){const a=N.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function kd(t,e=[]){let n=[];function r(s,a){const l=N.createContext(a),u=n.length;n=[...n,a];const d=g=>{const{scope:b,children:x,...S}=g,k=b?.[t]?.[u]||l,_=N.useMemo(()=>S,Object.values(S));return E.jsx(k.Provider,{value:_,children:x})};d.displayName=s+"Provider";function m(g,b){const x=b?.[t]?.[u]||l,S=N.useContext(x);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[d,m]}const i=()=>{const s=n.map(a=>N.createContext(a));return function(l){const u=l?.[t]||s;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,JD(i,...e)]}function JD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:u,scopeName:d})=>{const g=u(s)[`__scope${d}`];return{...l,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function E0(t){const e=$D(t),n=N.forwardRef((r,i)=>{const{children:s,...a}=r,l=N.Children.toArray(s),u=l.find(ez);if(u){const d=u.props.children,m=l.map(g=>g===u?N.Children.count(d)>1?N.Children.only(null):N.isValidElement(d)?d.props.children:null:g);return E.jsx(e,{...a,ref:i,children:N.isValidElement(d)?N.cloneElement(d,void 0,m):null})}return E.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function $D(t){const e=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const a=nz(i),l=tz(s,i.props);return i.type!==N.Fragment&&(l.ref=r?vE(r,a):a),N.cloneElement(i,l)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZD=Symbol("radix.slottable");function ez(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZD}function tz(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function nz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xE(t){const e=t+"CollectionProvider",[n,r]=kd(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=k=>{const{scope:_,children:A}=k,O=Ye.useRef(null),z=Ye.useRef(new Map).current;return E.jsx(i,{scope:_,itemMap:z,collectionRef:O,children:A})};a.displayName=e;const l=t+"CollectionSlot",u=E0(l),d=Ye.forwardRef((k,_)=>{const{scope:A,children:O}=k,z=s(l,A),L=Gr(_,z.collectionRef);return E.jsx(u,{ref:L,children:O})});d.displayName=l;const m=t+"CollectionItemSlot",g="data-radix-collection-item",b=E0(m),x=Ye.forwardRef((k,_)=>{const{scope:A,children:O,...z}=k,L=Ye.useRef(null),I=Gr(_,L),j=s(m,A);return Ye.useEffect(()=>(j.itemMap.set(L,{ref:L,...z}),()=>void j.itemMap.delete(L))),E.jsx(b,{[g]:"",ref:I,children:O})});x.displayName=m;function S(k){const _=s(t+"CollectionConsumer",k);return Ye.useCallback(()=>{const O=_.collectionRef.current;if(!O)return[];const z=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((j,P)=>z.indexOf(j.ref.current)-z.indexOf(P.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:d,ItemSlot:x},S,r]}var rz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ln=rz.reduce((t,e)=>{const n=E0(`Primitive.${e}`),r=N.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SE(t,e){t&&lc.flushSync(()=>t.dispatchEvent(e))}function Gs(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function iz(t,e=globalThis?.document){const n=Gs(t);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sz="DismissableLayer",Yw="dismissableLayer.update",az="dismissableLayer.pointerDownOutside",oz="dismissableLayer.focusOutside",O5,Z6=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rx=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=N.useContext(Z6),[m,g]=N.useState(null),b=m?.ownerDocument??globalThis?.document,[,x]=N.useState({}),S=Gr(e,P=>g(P)),k=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=k.indexOf(_),O=m?k.indexOf(m):-1,z=d.layersWithOutsidePointerEventsDisabled.size>0,L=O>=A,I=cz(P=>{const H=P.target,Q=[...d.branches].some(q=>q.contains(H));!L||Q||(i?.(P),a?.(P),P.defaultPrevented||l?.())},b),j=uz(P=>{const H=P.target;[...d.branches].some(q=>q.contains(H))||(s?.(P),a?.(P),P.defaultPrevented||l?.())},b);return iz(P=>{O===d.layers.size-1&&(r?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},b),N.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(O5=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),D5(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=O5)}},[m,b,n,d]),N.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),D5())},[m,d]),N.useEffect(()=>{const P=()=>x({});return document.addEventListener(Yw,P),()=>document.removeEventListener(Yw,P)},[]),E.jsx(ln.div,{...u,ref:S,style:{pointerEvents:z?L?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,j.onFocusCapture),onBlurCapture:st(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,I.onPointerDownCapture)})});Rx.displayName=sz;var lz="DismissableLayerBranch",eM=N.forwardRef((t,e)=>{const n=N.useContext(Z6),r=N.useRef(null),i=Gr(e,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(ln.div,{...t,ref:i})});eM.displayName=lz;function cz(t,e=globalThis?.document){const n=Gs(t),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){tM(az,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uz(t,e=globalThis?.document){const n=Gs(t),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&tM(oz,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function D5(){const t=new CustomEvent(Yw);document.dispatchEvent(t)}function tM(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?SE(i,s):i.dispatchEvent(s)}var fz=Rx,dz=eM,hc=globalThis?.document?N.useLayoutEffect:()=>{},hz="Portal",Ox=N.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=N.useState(!1);hc(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?$6.createPortal(E.jsx(ln.div,{...r,ref:e}),a):null});Ox.displayName=hz;function pz(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var bc=t=>{const{present:e,children:n}=t,r=mz(e),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=Gr(r.ref,gz(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};bc.displayName="Presence";function mz(t){const[e,n]=N.useState(),r=N.useRef(null),i=N.useRef(t),s=N.useRef("none"),a=t?"mounted":"unmounted",[l,u]=pz(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=sb(r.current);s.current=l==="mounted"?d:"none"},[l]),hc(()=>{const d=r.current,m=i.current;if(m!==t){const b=s.current,x=sb(d);t?u("MOUNT"):x==="none"||d?.display==="none"?u("UNMOUNT"):u(m&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),hc(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,g=x=>{const k=sb(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&k&&(u("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},b=x=>{x.target===e&&(s.current=sb(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function sb(t){return t?.animationName||"none"}function gz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yz=W6[" useInsertionEffect ".trim().toString()]||hc;function wE({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=bz({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const m=N.useRef(t!==void 0);N.useEffect(()=>{const g=m.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const d=N.useCallback(m=>{if(l){const g=vz(m)?m(t):m;g!==t&&a.current?.(g)}else s(m)},[l,t,s,a]);return[u,d]}function bz({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),i=N.useRef(n),s=N.useRef(e);return yz(()=>{s.current=e},[e]),N.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function vz(t){return typeof t=="function"}var xz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sz="VisuallyHidden",CE=N.forwardRef((t,e)=>E.jsx(ln.span,{...t,ref:e,style:{...xz,...t.style}}));CE.displayName=Sz;var EE="ToastProvider",[kE,wz,Cz]=xE("Toast"),[nM]=kd("Toast",[Cz]),[Ez,Dx]=nM(EE),rM=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,u]=N.useState(null),[d,m]=N.useState(0),g=N.useRef(!1),b=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${EE}\`. Expected non-empty \`string\`.`),E.jsx(kE.Provider,{scope:e,children:E.jsx(Ez,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:N.useCallback(()=>m(x=>x+1),[]),onToastRemove:N.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:a})})};rM.displayName=EE;var iM="ToastViewport",kz=["F8"],Kw="toast.viewportPause",Xw="toast.viewportResume",sM=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=kz,label:i="Notifications ({hotkey})",...s}=t,a=Dx(iM,n),l=wz(n),u=N.useRef(null),d=N.useRef(null),m=N.useRef(null),g=N.useRef(null),b=Gr(e,g,a.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=a.toastCount>0;N.useEffect(()=>{const _=A=>{r.length!==0&&r.every(z=>A[z]||A.code===z)&&g.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),N.useEffect(()=>{const _=u.current,A=g.current;if(S&&_&&A){const O=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Kw);A.dispatchEvent(j),a.isClosePausedRef.current=!0}},z=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(Xw);A.dispatchEvent(j),a.isClosePausedRef.current=!1}},L=j=>{!_.contains(j.relatedTarget)&&z()},I=()=>{_.contains(document.activeElement)||z()};return _.addEventListener("focusin",O),_.addEventListener("focusout",L),_.addEventListener("pointermove",O),_.addEventListener("pointerleave",I),window.addEventListener("blur",O),window.addEventListener("focus",z),()=>{_.removeEventListener("focusin",O),_.removeEventListener("focusout",L),_.removeEventListener("pointermove",O),_.removeEventListener("pointerleave",I),window.removeEventListener("blur",O),window.removeEventListener("focus",z)}}},[S,a.isClosePausedRef]);const k=N.useCallback(({tabbingDirection:_})=>{const O=l().map(z=>{const L=z.ref.current,I=[L,...Iz(L)];return _==="forwards"?I:I.reverse()});return(_==="forwards"?O.reverse():O).flat()},[l]);return N.useEffect(()=>{const _=g.current;if(_){const A=O=>{const z=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!z){const I=document.activeElement,j=O.shiftKey;if(O.target===_&&j){d.current?.focus();return}const Q=k({tabbingDirection:j?"backwards":"forwards"}),q=Q.findIndex(X=>X===I);hS(Q.slice(q+1))?O.preventDefault():j?d.current?.focus():m.current?.focus()}};return _.addEventListener("keydown",A),()=>_.removeEventListener("keydown",A)}},[l,k]),E.jsxs(dz,{ref:u,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&E.jsx(Qw,{ref:d,onFocusFromOutsideViewport:()=>{const _=k({tabbingDirection:"forwards"});hS(_)}}),E.jsx(kE.Slot,{scope:n,children:E.jsx(ln.ol,{tabIndex:-1,...s,ref:b})}),S&&E.jsx(Qw,{ref:m,onFocusFromOutsideViewport:()=>{const _=k({tabbingDirection:"backwards"});hS(_)}})]})});sM.displayName=iM;var aM="ToastFocusProxy",Qw=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Dx(aM,n);return E.jsx(CE,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const l=a.relatedTarget;!s.viewport?.contains(l)&&r()}})});Qw.displayName=aM;var $0="Toast",Tz="toast.swipeStart",_z="toast.swipeMove",Mz="toast.swipeCancel",Az="toast.swipeEnd",oM=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[l,u]=wE({prop:r,defaultProp:i??!0,onChange:s,caller:$0});return E.jsx(bc,{present:n||l,children:E.jsx(Oz,{open:l,...a,ref:e,onClose:()=>u(!1),onPause:Gs(t.onPause),onResume:Gs(t.onResume),onSwipeStart:st(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,d=>{const{x:m,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:st(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,d=>{const{x:m,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),u(!1)})})})});oM.displayName=$0;var[Nz,Rz]=nM($0,{onClose(){}}),Oz=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:x,...S}=t,k=Dx($0,n),[_,A]=N.useState(null),O=Gr(e,Z=>A(Z)),z=N.useRef(null),L=N.useRef(null),I=i||k.duration,j=N.useRef(0),P=N.useRef(I),H=N.useRef(0),{onToastAdd:Q,onToastRemove:q}=k,X=Gs(()=>{_?.contains(document.activeElement)&&k.viewport?.focus(),a()}),W=N.useCallback(Z=>{!Z||Z===1/0||(window.clearTimeout(H.current),j.current=new Date().getTime(),H.current=window.setTimeout(X,Z))},[X]);N.useEffect(()=>{const Z=k.viewport;if(Z){const te=()=>{W(P.current),d?.()},V=()=>{const re=new Date().getTime()-j.current;P.current=P.current-re,window.clearTimeout(H.current),u?.()};return Z.addEventListener(Kw,V),Z.addEventListener(Xw,te),()=>{Z.removeEventListener(Kw,V),Z.removeEventListener(Xw,te)}}},[k.viewport,I,u,d,W]),N.useEffect(()=>{s&&!k.isClosePausedRef.current&&W(I)},[s,I,k.isClosePausedRef,W]),N.useEffect(()=>(Q(),()=>q()),[Q,q]);const le=N.useMemo(()=>_?pM(_):null,[_]);return k.viewport?E.jsxs(E.Fragment,{children:[le&&E.jsx(Dz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:le}),E.jsx(Nz,{scope:n,onClose:X,children:lc.createPortal(E.jsx(kE.ItemSlot,{scope:n,children:E.jsx(fz,{asChild:!0,onEscapeKeyDown:st(l,()=>{k.isFocusedToastEscapeKeyDownRef.current||X(),k.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(ln.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":k.swipeDirection,...S,ref:O,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,Z=>{Z.key==="Escape"&&(l?.(Z.nativeEvent),Z.nativeEvent.defaultPrevented||(k.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:st(t.onPointerDown,Z=>{Z.button===0&&(z.current={x:Z.clientX,y:Z.clientY})}),onPointerMove:st(t.onPointerMove,Z=>{if(!z.current)return;const te=Z.clientX-z.current.x,V=Z.clientY-z.current.y,re=!!L.current,ee=["left","right"].includes(k.swipeDirection),de=["left","up"].includes(k.swipeDirection)?Math.min:Math.max,G=ee?de(0,te):0,Y=ee?0:de(0,V),ie=Z.pointerType==="touch"?10:2,F={x:G,y:Y},we={originalEvent:Z,delta:F};re?(L.current=F,ab(_z,g,we,{discrete:!1})):z5(F,k.swipeDirection,ie)?(L.current=F,ab(Tz,m,we,{discrete:!1}),Z.target.setPointerCapture(Z.pointerId)):(Math.abs(te)>ie||Math.abs(V)>ie)&&(z.current=null)}),onPointerUp:st(t.onPointerUp,Z=>{const te=L.current,V=Z.target;if(V.hasPointerCapture(Z.pointerId)&&V.releasePointerCapture(Z.pointerId),L.current=null,z.current=null,te){const re=Z.currentTarget,ee={originalEvent:Z,delta:te};z5(te,k.swipeDirection,k.swipeThreshold)?ab(Az,x,ee,{discrete:!0}):ab(Mz,b,ee,{discrete:!0}),re.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),k.viewport)})]}):null}),Dz=t=>{const{__scopeToast:e,children:n,...r}=t,i=Dx($0,e),[s,a]=N.useState(!1),[l,u]=N.useState(!1);return Pz(()=>a(!0)),N.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:E.jsx(Ox,{asChild:!0,children:E.jsx(CE,{...r,children:s&&E.jsxs(E.Fragment,{children:[i.label," ",n]})})})},zz="ToastTitle",lM=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(ln.div,{...r,ref:e})});lM.displayName=zz;var jz="ToastDescription",cM=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(ln.div,{...r,ref:e})});cM.displayName=jz;var uM="ToastAction",Lz=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(hM,{altText:n,asChild:!0,children:E.jsx(dM,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${uM}\`. Expected non-empty \`string\`.`),null)});Lz.displayName=uM;var fM="ToastClose",dM=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Rz(fM,n);return E.jsx(hM,{asChild:!0,children:E.jsx(ln.button,{type:"button",...r,ref:e,onClick:st(t.onClick,i.onClose)})})});dM.displayName=fM;var hM=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return E.jsx(ln.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function pM(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Bz(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...pM(r))}}),e}function ab(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?SE(i,s):i.dispatchEvent(s)}var z5=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Pz(t=()=>{}){const e=Gs(t);hc(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Bz(t){return t.nodeType===t.ELEMENT_NODE}function Iz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mM=rM,gM=sM,yM=oM,bM=lM,vM=cM;function xM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=xM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hz(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=xM(t))&&(r&&(r+=" "),r+=e);return r}const Uz=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Fz=(t,e)=>({classGroupId:t,validator:e}),SM=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),dv="-",j5=[],Gz="arbitrary..",qz=t=>{const e=Yz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return Vz(a);const l=a.split(dv),u=l[0]===""&&l.length>1?1:0;return wM(l,u,e)},getConflictingClassGroupIds:(a,l)=>{if(l){const u=r[a],d=n[a];return u?d?Uz(d,u):u:d||j5}return n[a]||j5}}},wM=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const d=wM(t,e+1,s);if(d)return d}const a=n.validators;if(a===null)return;const l=e===0?t.join(dv):t.slice(e).join(dv),u=a.length;for(let d=0;d<u;d++){const m=a[d];if(m.validator(l))return m.classGroupId}},Vz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Gz+r:void 0})(),Yz=t=>{const{theme:e,classGroups:n}=t;return Kz(n,e)},Kz=(t,e)=>{const n=SM();for(const r in t){const i=t[r];TE(i,n,r,e)}return n},TE=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s];Xz(a,e,n,r)}},Xz=(t,e,n,r)=>{if(typeof t=="string"){Qz(t,e,n);return}if(typeof t=="function"){Wz(t,e,n,r);return}Jz(t,e,n,r)},Qz=(t,e,n)=>{const r=t===""?e:CM(e,t);r.classGroupId=n},Wz=(t,e,n,r)=>{if($z(t)){TE(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Fz(n,t))},Jz=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[l,u]=i[a];TE(u,CM(e,l),n,r)}},CM=(t,e)=>{let n=t;const r=e.split(dv),i=r.length;for(let s=0;s<i;s++){const a=r[s];let l=n.nextPart.get(a);l||(l=SM(),n.nextPart.set(a,l)),n=l}return n},$z=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Zz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},Ww="!",L5=":",ej=[],P5=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),tj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,l=0,u=0,d;const m=i.length;for(let k=0;k<m;k++){const _=i[k];if(a===0&&l===0){if(_===L5){s.push(i.slice(u,k)),u=k+1;continue}if(_==="/"){d=k;continue}}_==="["?a++:_==="]"?a--:_==="("?l++:_===")"&&l--}const g=s.length===0?i:i.slice(u);let b=g,x=!1;g.endsWith(Ww)?(b=g.slice(0,-1),x=!0):g.startsWith(Ww)&&(b=g.slice(1),x=!0);const S=d&&d>u?d-u:void 0;return P5(s,x,b,S)};if(e){const i=e+L5,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):P5(ej,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},nj=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],l=a[0]==="[",u=e.has(a);l||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},rj=t=>({cache:Zz(t.cacheSize),parseClassName:tj(t),sortModifiers:nj(t),...qz(t)}),ij=/\s+/,sj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],l=t.trim().split(ij);let u="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{isExternal:g,modifiers:b,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:k}=n(m);if(g){u=m+(u.length>0?" "+u:u);continue}let _=!!k,A=r(_?S.substring(0,k):S);if(!A){if(!_){u=m+(u.length>0?" "+u:u);continue}if(A=r(S),!A){u=m+(u.length>0?" "+u:u);continue}_=!1}const O=b.length===0?"":b.length===1?b[0]:s(b).join(":"),z=x?O+Ww:O,L=z+A;if(a.indexOf(L)>-1)continue;a.push(L);const I=i(A,_);for(let j=0;j<I.length;++j){const P=I[j];a.push(z+P)}u=m+(u.length>0?" "+u:u)}return u},aj=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=EM(n))&&(i&&(i+=" "),i+=r);return i},EM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=EM(t[r]))&&(n&&(n+=" "),n+=e);return n},oj=(t,...e)=>{let n,r,i,s;const a=u=>{const d=e.reduce((m,g)=>g(m),t());return n=rj(d),r=n.cache.get,i=n.cache.set,s=l,l(u)},l=u=>{const d=r(u);if(d)return d;const m=sj(u,n);return i(u,m),m};return s=a,(...u)=>s(aj(...u))},lj=[],Ir=t=>{const e=n=>n[t]||lj;return e.isThemeGetter=!0,e},kM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cj=/^\d+\/\d+$/,uj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$h=t=>cj.test(t),Mt=t=>!!t&&!Number.isNaN(Number(t)),bu=t=>!!t&&Number.isInteger(Number(t)),pS=t=>t.endsWith("%")&&Mt(t.slice(0,-1)),$l=t=>uj.test(t),mj=()=>!0,gj=t=>fj.test(t)&&!dj.test(t),_M=()=>!1,yj=t=>hj.test(t),bj=t=>pj.test(t),vj=t=>!Ue(t)&&!Fe(t),xj=t=>Ip(t,NM,_M),Ue=t=>kM.test(t),Xf=t=>Ip(t,RM,gj),mS=t=>Ip(t,kj,Mt),B5=t=>Ip(t,MM,_M),Sj=t=>Ip(t,AM,bj),ob=t=>Ip(t,OM,yj),Fe=t=>TM.test(t),Rg=t=>Hp(t,RM),wj=t=>Hp(t,Tj),I5=t=>Hp(t,MM),Cj=t=>Hp(t,NM),Ej=t=>Hp(t,AM),lb=t=>Hp(t,OM,!0),Ip=(t,e,n)=>{const r=kM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Hp=(t,e,n=!1)=>{const r=TM.exec(t);return r?r[1]?e(r[1]):n:!1},MM=t=>t==="position"||t==="percentage",AM=t=>t==="image"||t==="url",NM=t=>t==="length"||t==="size"||t==="bg-size",RM=t=>t==="length",kj=t=>t==="number",Tj=t=>t==="family-name",OM=t=>t==="shadow",_j=()=>{const t=Ir("color"),e=Ir("font"),n=Ir("text"),r=Ir("font-weight"),i=Ir("tracking"),s=Ir("leading"),a=Ir("breakpoint"),l=Ir("container"),u=Ir("spacing"),d=Ir("radius"),m=Ir("shadow"),g=Ir("inset-shadow"),b=Ir("text-shadow"),x=Ir("drop-shadow"),S=Ir("blur"),k=Ir("perspective"),_=Ir("aspect"),A=Ir("ease"),O=Ir("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...L(),Fe,Ue],j=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],H=()=>[Fe,Ue,u],Q=()=>[$h,"full","auto",...H()],q=()=>[bu,"none","subgrid",Fe,Ue],X=()=>["auto",{span:["full",bu,Fe,Ue]},bu,Fe,Ue],W=()=>[bu,"auto",Fe,Ue],le=()=>["auto","min","max","fr",Fe,Ue],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...H()],re=()=>[$h,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],ee=()=>[t,Fe,Ue],de=()=>[...L(),I5,B5,{position:[Fe,Ue]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",Cj,xj,{size:[Fe,Ue]}],ie=()=>[pS,Rg,Xf],F=()=>["","none","full",d,Fe,Ue],we=()=>["",Mt,Rg,Xf],Be=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[Mt,pS,I5,B5],ot=()=>["","none",S,Fe,Ue],Ke=()=>["none",Mt,Fe,Ue],nt=()=>["none",Mt,Fe,Ue],Nn=()=>[Mt,Fe,Ue],Xt=()=>[$h,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$l],breakpoint:[$l],color:[mj],container:[$l],"drop-shadow":[$l],ease:["in","out","in-out"],font:[vj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$l],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$l],shadow:[$l],spacing:["px",Mt],text:[$l],"text-shadow":[$l],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$h,Ue,Fe,_]}],container:["container"],columns:[{columns:[Mt,Ue,Fe,l]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[bu,"auto",Fe,Ue]}],basis:[{basis:[$h,"full","auto",l,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Mt,$h,"auto","initial","none",Ue]}],grow:[{grow:["",Mt,Fe,Ue]}],shrink:[{shrink:["",Mt,Fe,Ue]}],order:[{order:[bu,"first","last","none",Fe,Ue]}],"grid-cols":[{"grid-cols":q()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":q()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[l,"screen",...re()]}],"min-w":[{"min-w":[l,"screen","none",...re()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Rg,Xf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,mS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",pS,Ue]}],"font-family":[{font:[wj,Ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Fe,Ue]}],"line-clamp":[{"line-clamp":[Mt,"none",Fe,mS]}],leading:[{leading:[s,...H()]}],"list-image":[{"list-image":["none",Fe,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Mt,"from-font","auto",Fe,Xf]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Mt,"auto",Fe,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bu,Fe,Ue],radial:["",Fe,Ue],conic:[bu,Fe,Ue]},Ej,Sj]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Be(),"hidden","none"]}],"divide-style":[{divide:[...Be(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Mt,Fe,Ue]}],"outline-w":[{outline:["",Mt,Rg,Xf]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",m,lb,ob]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",g,lb,ob]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Mt,Xf]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",b,lb,ob]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Mt,Fe,Ue]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[Fe,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[Mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Ue]}],filter:[{filter:["","none",Fe,Ue]}],blur:[{blur:ot()}],brightness:[{brightness:[Mt,Fe,Ue]}],contrast:[{contrast:[Mt,Fe,Ue]}],"drop-shadow":[{"drop-shadow":["","none",x,lb,ob]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Mt,Fe,Ue]}],"hue-rotate":[{"hue-rotate":[Mt,Fe,Ue]}],invert:[{invert:["",Mt,Fe,Ue]}],saturate:[{saturate:[Mt,Fe,Ue]}],sepia:[{sepia:["",Mt,Fe,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Ue]}],"backdrop-blur":[{"backdrop-blur":ot()}],"backdrop-brightness":[{"backdrop-brightness":[Mt,Fe,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[Mt,Fe,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Mt,Fe,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Mt,Fe,Ue]}],"backdrop-invert":[{"backdrop-invert":["",Mt,Fe,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[Mt,Fe,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[Mt,Fe,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Mt,Fe,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Mt,"initial",Fe,Ue]}],ease:[{ease:["linear","initial",A,Fe,Ue]}],delay:[{delay:[Mt,Fe,Ue]}],animate:[{animate:["none",O,Fe,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Fe,Ue]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Ke()}],"rotate-x":[{"rotate-x":Ke()}],"rotate-y":[{"rotate-y":Ke()}],"rotate-z":[{"rotate-z":Ke()}],scale:[{scale:nt()}],"scale-x":[{"scale-x":nt()}],"scale-y":[{"scale-y":nt()}],"scale-z":[{"scale-z":nt()}],"scale-3d":["scale-3d"],skew:[{skew:Nn()}],"skew-x":[{"skew-x":Nn()}],"skew-y":[{"skew-y":Nn()}],transform:[{transform:[Fe,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Xt()}],"translate-x":[{"translate-x":Xt()}],"translate-y":[{"translate-y":Xt()}],"translate-z":[{"translate-z":Xt()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Ue]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Mt,Rg,Xf,mS]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Mj=oj(_j);function Nr(...t){return Mj(Hz(t))}let ed=null;const zx="focusdeck_access_token",hv="focusdeck_refresh_token";function Up(){return typeof window<"u"&&typeof document<"u"}function Aj(){return Up()?window.location.protocol==="https:":!1}function DM(t,e,n){if(!Up())return;let r=`${t}=${encodeURIComponent(e)}; Path=/; SameSite=Lax`;n&&(r+=`; Expires=${n.toUTCString()}`),Aj()&&(r+="; Secure"),document.cookie=r}function k0(t){Up()&&(document.cookie=`${t}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Lax`)}function Nj(t){if(!Up())return null;const e=document.cookie?document.cookie.split("; "):[];for(const n of e)if(n.startsWith(`${t}=`))return decodeURIComponent(n.substring(t.length+1));return null}function zM(t){const n=LM(t)?.exp;if(typeof n=="number")return new Date(n*1e3);if(typeof n=="string"){const r=Number(n);if(!Number.isNaN(r))return new Date(r*1e3)}return null}function Rj(t){try{localStorage.setItem("focusdeck_access_token",t)}catch(e){console.warn("Unable to persist access token to localStorage",e)}DM(zx,t,zM(t))}function Oj(t){if(!t){try{localStorage.removeItem("focusdeck_refresh_token")}catch(e){console.warn("Unable to remove refresh token from localStorage",e)}k0(hv);return}try{localStorage.setItem("focusdeck_refresh_token",t)}catch(e){console.warn("Unable to persist refresh token to localStorage",e)}DM(hv,t,zM(t))}async function T0(){if(ed)return ed;let t=null;try{t=localStorage.getItem("focusdeck_access_token")}catch{t=null}if(t)return ed=t,t;const e=Nj(zx);if(e){ed=e;try{localStorage.setItem("focusdeck_access_token",e)}catch(n){console.warn("Unable to persist cookie token to localStorage",n)}return e}throw new Error("Not authenticated")}async function cs(t,e={}){const i=(/^https?:\/\//i.test(t)?new URL(t).pathname:t).startsWith("/v1/");let s=null;if(i)s=await T0();else try{s=await T0()}catch{s=null}const a=await fetch(t,{...e,headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{},...e.headers}});if(a.status===401&&Up()){const l=typeof s=="string"&&s.includes("."),u=l?LM(s):null,d=!!u&&typeof u.exp<"u";if(i&&l&&d)try{ed=null;try{localStorage.removeItem("focusdeck_access_token"),localStorage.removeItem("focusdeck_refresh_token"),localStorage.removeItem("focusdeck_user")}catch{}k0(zx),k0(hv)}finally{const m=encodeURIComponent(window.location.pathname+window.location.search);window.location.href=`/login?redirectUrl=${m}`}}return a}function jM(t,e,n){if(ed=t,Rj(t),Oj(e),n)try{localStorage.setItem("focusdeck_user",n)}catch(r){console.warn("Unable to persist user info to localStorage",r)}}async function Dj(){try{await fetch("/v1/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${await T0()}`}})}catch(t){console.warn("Logout request failed",t)}ed=null;try{localStorage.removeItem("focusdeck_access_token"),localStorage.removeItem("focusdeck_refresh_token"),localStorage.removeItem("focusdeck_user")}catch(t){console.warn("Unable to clear auth localStorage entries",t)}k0(zx),k0(hv),Up()&&(window.location.href="/login")}function LM(t){try{const e=t.split(".")[1];if(!e)return null;const n=atob(e.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(decodeURIComponent(encodeURIComponent(n)))}catch{return null}}const zj=mM,_E=N.forwardRef(({className:t,...e},n)=>E.jsx(gM,{ref:n,className:Nr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:top-auto sm:bottom-0 sm:flex-col md:max-w-[420px]",t),...e}));_E.displayName=gM.displayName;const ME=N.forwardRef(({className:t,variant:e="default",...n},r)=>E.jsx(yM,{ref:r,className:Nr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-4 transition-all","data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{"border-gray-700 bg-surface-100":e==="default","border-green-500/20 bg-green-500/10":e==="success","border-red-500/20 bg-red-500/10":e==="error"},t),...n}));ME.displayName=yM.displayName;const AE=N.forwardRef(({className:t,...e},n)=>E.jsx(bM,{ref:n,className:Nr("text-sm font-semibold",t),...e}));AE.displayName=bM.displayName;const NE=N.forwardRef(({className:t,...e},n)=>E.jsx(vM,{ref:n,className:Nr("text-sm opacity-90",t),...e}));NE.displayName=vM.displayName;const jj=N.createContext(void 0);let Lj=0;const Pj=({children:t})=>{const[e,n]=N.useState([]),r=N.useCallback(s=>{const a=(Lj++).toString();n(l=>[...l,{...s,id:a,duration:s.duration||5e3}])},[]),i=N.useCallback(s=>{n(a=>a.filter(l=>l.id!==s))},[]);return N.useEffect(()=>{const s=e.map(a=>a.duration?setTimeout(()=>{i(a.id)},a.duration):null);return()=>{s.forEach(a=>{a&&clearTimeout(a)})}},[e,i]),E.jsx(jj.Provider,{value:{addToast:r,removeToast:i},children:E.jsxs(zj,{children:[t,e.map(s=>E.jsxs(ME,{variant:s.variant,children:[E.jsxs("div",{className:"flex-1",children:[E.jsx(AE,{children:s.title}),s.description&&E.jsx(NE,{children:s.description})]}),E.jsx("button",{onClick:()=>i(s.id),className:"text-white",children:"X"})]},s.id))]})})};class od extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class RE extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class mo extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Bj extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class Ij extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class Hj extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class H5 extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class Uj extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class PM{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class jx{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var ve;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(ve||(ve={}));class _0{constructor(){}log(e,n){}}_0.instance=new _0;const Fj="8.0.17";class Mr{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class $n{static get isBrowser(){return!$n.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!$n.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!$n.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function M0(t,e){let n="";return pd(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${Gj(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function Gj(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function pd(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function BM(t,e,n,r,i,s){const a={},[l,u]=Ep();a[l]=u,t.log(ve.Trace,`(${e} transport) sending data. ${M0(i,s.logMessageContent)}.`);const d=pd(i)?"arraybuffer":"text",m=await n.post(r,{content:i,headers:{...a,...s.headers},responseType:d,timeout:s.timeout,withCredentials:s.withCredentials});t.log(ve.Trace,`(${e} transport) request complete. Response status: ${m.statusCode}.`)}function qj(t){return t===void 0?new pv(ve.Information):t===null?_0.instance:t.log!==void 0?t:new pv(t)}class Vj{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class pv{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${ve[e]}: ${n}`;switch(e){case ve.Critical:case ve.Error:this.out.error(r);break;case ve.Warning:this.out.warn(r);break;case ve.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function Ep(){let t="X-SignalR-User-Agent";return $n.isNode&&(t="User-Agent"),[t,Yj(Fj,Kj(),Qj(),Xj())]}function Yj(t,e,n,r){let i="Microsoft SignalR/";const s=t.split(".");return i+=`${s[0]}.${s[1]}`,i+=` (${t}; `,e&&e!==""?i+=`${e}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function Kj(){if($n.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Xj(){if($n.isNode)return process.versions.node}function Qj(){return $n.isNode?"NodeJS":"Browser"}function gS(t){return t.stack?t.stack:t.message?t.message:`${t}`}function Wj(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Jj extends jx{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||$n.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Wj());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new mo;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new mo});let i=null;if(e.timeout){const u=e.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(ve.Warning,"Timeout from HTTP request."),r=new RE},u)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},pd(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let s;try{s=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(u){throw r||(this._logger.log(ve.Warning,`Error from HTTP request. ${u}.`),u)}finally{i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null)}if(!s.ok){const u=await U5(s,"text");throw new od(u||s.statusText,s.status)}const l=await U5(s,e.responseType);return new PM(s.status,s.statusText,l)}getCookieString(e){let n="";return $n.isNode&&this._jar&&this._jar.getCookies(e,(r,i)=>n=i.join("; ")),n}}function U5(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class $j extends jx{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new mo):e.method?e.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(pd(e.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const s=e.headers;s&&Object.keys(s).forEach(a=>{i.setRequestHeader(a,s[a])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{i.abort(),r(new mo)}),e.timeout&&(i.timeout=e.timeout),i.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new PM(i.status,i.statusText,i.response||i.responseText)):r(new od(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(ve.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new od(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(ve.Warning,"Timeout from HTTP request."),r(new RE)},i.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Zj extends jx{constructor(e){if(super(),typeof fetch<"u"||$n.isNode)this._httpClient=new Jj(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new $j(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new mo):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class ta{static write(e){return`${e}${ta.RecordSeparator}`}static parse(e){if(e[e.length-1]!==ta.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(ta.RecordSeparator);return n.pop(),n}}ta.RecordSeparatorCode=30;ta.RecordSeparator=String.fromCharCode(ta.RecordSeparatorCode);class eL{writeHandshakeRequest(e){return ta.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(pd(e)){const l=new Uint8Array(e),u=l.indexOf(ta.RecordSeparatorCode);if(u===-1)throw new Error("Message is incomplete.");const d=u+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,d))),r=l.byteLength>d?l.slice(d).buffer:null}else{const l=e,u=l.indexOf(ta.RecordSeparator);if(u===-1)throw new Error("Message is incomplete.");const d=u+1;n=l.substring(0,d),r=l.length>d?l.substring(d):null}const i=ta.parse(n),s=JSON.parse(i[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[r,s]}}var pt;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(pt||(pt={}));class tL{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Vj(this,e)}}class nL{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let i=()=>{},s=()=>{};pd(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((a,l)=>{i=a,s=l})),this._messages.push(new rL(n,this._totalMessageCount,i,s))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=e.sequenceId)n=r,pd(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==pt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:pt.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case pt.Invocation:case pt.StreamItem:case pt.Completion:case pt.StreamInvocation:case pt.CancelInvocation:return!0;case pt.Close:case pt.Sequence:case pt.Ping:case pt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:pt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class rL{constructor(e,n,r,i){this._message=e,this._id=n,this._resolver=r,this._rejector=i}}const iL=30*1e3,sL=15*1e3,aL=1e5;var Un;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(Un||(Un={}));class OE{static create(e,n,r,i,s,a,l){return new OE(e,n,r,i,s,a,l)}constructor(e,n,r,i,s,a,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ve.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Mr.isRequired(e,"connection"),Mr.isRequired(n,"logger"),Mr.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=s??iL,this.keepAliveIntervalInMilliseconds=a??sL,this._statefulReconnectBufferSize=l??aL,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=i,this._handshakeProtocol=new eL,this.connection.onreceive=u=>this._processIncomingData(u),this.connection.onclose=u=>this._connectionClosed(u),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Un.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:pt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Un.Disconnected&&this._connectionState!==Un.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Un.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Un.Connecting,this._logger.log(ve.Debug,"Starting HubConnection.");try{await this._startInternal(),$n.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Un.Connected,this._connectionStarted=!0,this._logger.log(ve.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Un.Disconnected,this._logger.log(ve.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(ve.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(ve.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new nL(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(ve.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===Un.Disconnected)return this._logger.log(ve.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Un.Disconnecting)return this._logger.log(ve.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Un.Disconnecting,this._logger.log(ve.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ve.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Un.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new mo("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,i]=this._replaceStreamingParams(n),s=this._createStreamInvocation(e,n,i);let a;const l=new tL;return l.cancelCallback=()=>{const u=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],a.then(()=>this._sendWithProtocol(u))},this._callbacks[s.invocationId]=(u,d)=>{if(d){l.error(d);return}else u&&(u.type===pt.Completion?u.error?l.error(new Error(u.error)):l.complete():l.next(u.item))},a=this._sendWithProtocol(s).catch(u=>{l.error(u),delete this._callbacks[s.invocationId]}),this._launchStreams(r,a),l}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,i]=this._replaceStreamingParams(n),s=this._sendWithProtocol(this._createInvocation(e,n,!0,i));return this._launchStreams(r,s),s}invoke(e,...n){const[r,i]=this._replaceStreamingParams(n),s=this._createInvocation(e,n,!1,i);return new Promise((l,u)=>{this._callbacks[s.invocationId]=(m,g)=>{if(g){u(g);return}else m&&(m.type===pt.Completion?m.error?u(new Error(m.error)):l(m.result):u(new Error(`Unexpected message type: ${m.type}`)))};const d=this._sendWithProtocol(s).catch(m=>{u(m),delete this._callbacks[s.invocationId]});this._launchStreams(r,d)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case pt.Invocation:this._invokeClientMethod(r).catch(i=>{this._logger.log(ve.Error,`Invoke client method threw error: ${gS(i)}`)});break;case pt.StreamItem:case pt.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===pt.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(s){this._logger.log(ve.Error,`Stream callback threw error: ${gS(s)}`)}}break}case pt.Ping:break;case pt.Close:{this._logger.log(ve.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case pt.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case pt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(ve.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(i){const s="Error parsing handshake response: "+i;this._logger.log(ve.Error,s);const a=new Error(s);throw this._handshakeRejecter(a),a}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(ve.Error,i);const s=new Error(i);throw this._handshakeRejecter(s),s}else this._logger.log(ve.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Un.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(ve.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(ve.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),s=!!e.invocationId;let a,l,u;for(const d of i)try{const m=a;a=await d.apply(this,e.arguments),s&&a&&m&&(this._logger.log(ve.Error,`Multiple results provided for '${n}'. Sending error to server.`),u=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),l=void 0}catch(m){l=m,this._logger.log(ve.Error,`A callback for the method '${n}' threw error '${m}'.`)}u?await this._sendWithProtocol(u):s?(l?u=this._createCompletionMessage(e.invocationId,`${l}`,null):a!==void 0?u=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(ve.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),u=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(u)):a&&this._logger.log(ve.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(ve.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new mo("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Un.Disconnecting?this._completeClose(e):this._connectionState===Un.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Un.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Un.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),$n.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(ve.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,i=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),s=this._getNextRetryDelay(r++,0,i);if(s===null){this._logger.log(ve.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Un.Reconnecting,e?this._logger.log(ve.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(ve.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(a=>a.apply(this,[e]))}catch(a){this._logger.log(ve.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(this._connectionState!==Un.Reconnecting){this._logger.log(ve.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;s!==null;){if(this._logger.log(ve.Information,`Reconnect attempt number ${r} will start in ${s} ms.`),await new Promise(a=>{this._reconnectDelayHandle=setTimeout(a,s)}),this._reconnectDelayHandle=void 0,this._connectionState!==Un.Reconnecting){this._logger.log(ve.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Un.Connected,this._logger.log(ve.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(a=>a.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(ve.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(ve.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==Un.Reconnecting){this._logger.log(ve.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Un.Disconnecting&&this._completeClose();return}i=a instanceof Error?a:new Error(a.toString()),s=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(ve.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(i){return this._logger.log(ve.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,e)}catch(s){this._logger.log(ve.Error,`Stream 'error' callback called with '${e}' threw error: ${gS(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:e,type:pt.Invocation}:{arguments:n,target:e,type:pt.Invocation};{const s=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:s.toString(),streamIds:i,target:e,type:pt.Invocation}:{arguments:n,invocationId:s.toString(),target:e,type:pt.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let s;i instanceof Error?s=i.message:i&&i.toString?s=i.toString():s="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,s)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(this._isObservable(s)){const a=this._invocationId;this._invocationId++,n[a]=s,r.push(a.toString()),e.splice(i,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:e,type:pt.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:e,type:pt.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:pt.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:pt.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:pt.Completion}:{invocationId:e,result:r,type:pt.Completion}}_createCloseMessage(){return{type:pt.Close}}}const oL=[0,2e3,1e4,3e4,null];class F5{constructor(e){this._retryDelays=e!==void 0?[...e,null]:oL}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class ld{}ld.Authorization="Authorization";ld.Cookie="Cookie";class lL extends jx{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[ld.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[ld.Authorization]&&delete e.headers[ld.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Hr;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(Hr||(Hr={}));var Bi;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(Bi||(Bi={}));let cL=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class G5{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new cL,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(Mr.isRequired(e,"url"),Mr.isRequired(n,"transferFormat"),Mr.isIn(n,Bi,"transferFormat"),this._url=e,this._logger.log(ve.Trace,"(LongPolling transport) Connecting."),n===Bi.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=Ep(),s={[r]:i,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:s,timeout:1e5,withCredentials:this._options.withCredentials};n===Bi.Binary&&(a.responseType="arraybuffer");const l=`${e}&_=${Date.now()}`;this._logger.log(ve.Trace,`(LongPolling transport) polling: ${l}.`);const u=await this._httpClient.get(l,a);u.statusCode!==200?(this._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${u.statusCode}.`),this._closeError=new od(u.statusText||"",u.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(ve.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(ve.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new od(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(ve.Trace,`(LongPolling transport) data received. ${M0(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof RE?this._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(ve.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(ve.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?BM(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(ve.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(ve.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=Ep();e[n]=r;const i={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let s;try{await this._httpClient.delete(this._url,i)}catch(a){s=a}s?s instanceof od&&(s.statusCode===404?this._logger.log(ve.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(ve.Trace,`(LongPolling transport) Error sending a DELETE request: ${s}`)):this._logger.log(ve.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(ve.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(ve.Trace,e),this.onclose(this._closeError)}}}class uL{constructor(e,n,r,i){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(e,n){return Mr.isRequired(e,"url"),Mr.isRequired(n,"transferFormat"),Mr.isIn(n,Bi,"transferFormat"),this._logger.log(ve.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let s=!1;if(n!==Bi.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let a;if($n.isBrowser||$n.isWebWorker)a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(e),u={};u.Cookie=l;const[d,m]=Ep();u[d]=m,a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...u,...this._options.headers}})}try{a.onmessage=l=>{if(this.onreceive)try{this._logger.log(ve.Trace,`(SSE transport) data received. ${M0(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(u){this._close(u);return}},a.onerror=l=>{s?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{this._logger.log(ve.Information,`SSE connected to ${this._url}`),this._eventSource=a,s=!0,r()}}catch(l){i(l);return}})}async send(e){return this._eventSource?BM(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class fL{constructor(e,n,r,i,s,a){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=s,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,n){Mr.isRequired(e,"url"),Mr.isRequired(n,"transferFormat"),Mr.isIn(n,Bi,"transferFormat"),this._logger.log(ve.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,s)=>{e=e.replace(/^http/,"ws");let a;const l=this._httpClient.getCookieString(e);let u=!1;if($n.isNode||$n.isReactNative){const d={},[m,g]=Ep();d[m]=g,r&&(d[ld.Authorization]=`Bearer ${r}`),l&&(d[ld.Cookie]=l),a=new this._webSocketConstructor(e,void 0,{headers:{...d,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);a||(a=new this._webSocketConstructor(e)),n===Bi.Binary&&(a.binaryType="arraybuffer"),a.onopen=d=>{this._logger.log(ve.Information,`WebSocket connected to ${e}.`),this._webSocket=a,u=!0,i()},a.onerror=d=>{let m=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?m=d.error:m="There was an error with the transport",this._logger.log(ve.Information,`(WebSockets transport) ${m}.`)},a.onmessage=d=>{if(this._logger.log(ve.Trace,`(WebSockets transport) data received. ${M0(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(m){this._close(m);return}},a.onclose=d=>{if(u)this._close(d);else{let m=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?m=d.error:m="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(m))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ve.Trace,`(WebSockets transport) sending data. ${M0(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ve.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const q5=100;class dL{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Mr.isRequired(e,"url"),this._logger=qj(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;if($n.isNode&&typeof require<"u"){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=s("ws"),i=s("eventsource")}!$n.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:$n.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!$n.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:$n.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new lL(n.httpClient||new Zj(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||Bi.Binary,Mr.isIn(e,Bi,"transferFormat"),this._logger.log(ve.Debug,`Starting connection with transfer format '${Bi[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(ve.Error,n),await this._stopPromise,Promise.reject(new mo(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(ve.Error,n),Promise.reject(new mo(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new DE(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(ve.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(ve.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(ve.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(ve.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Hr.WebSockets)this.transport=this._constructTransport(Hr.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new mo("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const s=r.accessToken;this._accessTokenFactory=()=>s,this._httpClient._accessToken=s,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<q5);if(i===q5&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof G5&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(ve.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(ve.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,i]=Ep();n[r]=i;const s=this._resolveNegotiateUrl(e);this._logger.log(ve.Debug,`Sending negotiation request: ${s}.`);try{const a=await this._httpClient.post(s,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(a.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));const l=JSON.parse(a.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new H5("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(a){let l="Failed to complete negotiation with the server: "+a;return a instanceof od&&a.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(ve.Error,l),Promise.reject(new H5(l))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,i){let s=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(ve.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(s,i),this.connectionId=r.connectionId;return}const a=[],l=r.availableTransports||[];let u=r;for(const d of l){const m=this._resolveTransportOrError(d,n,i,u?.useStatefulReconnect===!0);if(m instanceof Error)a.push(`${d.transport} failed:`),a.push(m);else if(this._isITransport(m)){if(this.transport=m,!u){try{u=await this._getNegotiationResponse(e)}catch(g){return Promise.reject(g)}s=this._createConnectUrl(e,u.connectionToken)}try{await this._startTransport(s,i),this.connectionId=u.connectionId;return}catch(g){if(this._logger.log(ve.Error,`Failed to start the transport '${d.transport}': ${g}`),u=void 0,a.push(new Hj(`${d.transport} failed: ${g}`,Hr[d.transport])),this._connectionState!=="Connecting"){const b="Failed to select transport before stop() was called.";return this._logger.log(ve.Debug,b),Promise.reject(new mo(b))}}}}return a.length>0?Promise.reject(new Uj(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Hr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new fL(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Hr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new uL(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Hr.LongPolling:return new G5(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,i){const s=Hr[e.transport];if(s==null)return this._logger.log(ve.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(hL(n,s))if(e.transferFormats.map(l=>Bi[l]).indexOf(r)>=0){if(s===Hr.WebSockets&&!this._options.WebSocket||s===Hr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ve.Debug,`Skipping transport '${Hr[s]}' because it is not supported in your environment.'`),new Bj(`'${Hr[s]}' is not supported in your environment.`,s);this._logger.log(ve.Debug,`Selecting transport '${Hr[s]}'.`);try{return this.features.reconnect=s===Hr.WebSockets?i:void 0,this._constructTransport(s)}catch(l){return l}}else return this._logger.log(ve.Debug,`Skipping transport '${Hr[s]}' because it does not support the requested transfer format '${Bi[r]}'.`),new Error(`'${Hr[s]}' does not support ${Bi[r]}.`);else return this._logger.log(ve.Debug,`Skipping transport '${Hr[s]}' because it was disabled by the client.`),new Ij(`'${Hr[s]}' is disabled by the client.`,s)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(ve.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(ve.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(ve.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(ve.Error,`Connection disconnected with error '${e}'.`):this._logger.log(ve.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(ve.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(ve.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!$n.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(ve.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function hL(t,e){return!t||(e&t)!==0}class DE{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new cb,this._transportResult=new cb,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new cb),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new cb;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):DE._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(s=>s.byteLength).reduce((s,a)=>s+a),r=new Uint8Array(n);let i=0;for(const s of e)r.set(new Uint8Array(s),i),i+=s.byteLength;return r.buffer}}class cb{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const pL="json";class mL{constructor(){this.name=pL,this.version=2,this.transferFormat=Bi.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=_0.instance);const r=ta.parse(e),i=[];for(const s of r){const a=JSON.parse(s);if(typeof a.type!="number")throw new Error("Invalid payload.");switch(a.type){case pt.Invocation:this._isInvocationMessage(a);break;case pt.StreamItem:this._isStreamItemMessage(a);break;case pt.Completion:this._isCompletionMessage(a);break;case pt.Ping:break;case pt.Close:break;case pt.Ack:this._isAckMessage(a);break;case pt.Sequence:this._isSequenceMessage(a);break;default:n.log(ve.Information,"Unknown message type '"+a.type+"' ignored.");continue}i.push(a)}return i}writeMessage(e){return ta.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const gL={trace:ve.Trace,debug:ve.Debug,info:ve.Information,information:ve.Information,warn:ve.Warning,warning:ve.Warning,error:ve.Error,critical:ve.Critical,none:ve.None};function yL(t){const e=gL[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class IM{configureLogging(e){if(Mr.isRequired(e,"logging"),bL(e))this.logger=e;else if(typeof e=="string"){const n=yL(e);this.logger=new pv(n)}else this.logger=new pv(e);return this}withUrl(e,n){return Mr.isRequired(e,"url"),Mr.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return Mr.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new F5(e):this.reconnectPolicy=e:this.reconnectPolicy=new F5,this}withServerTimeout(e){return Mr.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Mr.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new dL(this.url,e);return OE.create(n,this.logger||_0.instance,this.protocol||new mL,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function bL(t){return t.log!==void 0}const vL=N.createContext(null);function xL({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState([]);N.useEffect(()=>{let a=!1;return(async()=>{try{const l=await T0();if(!l||a)return;const u=new IM().withUrl("/hubs/notifications",{accessTokenFactory:()=>l}).withAutomaticReconnect().configureLogging(ve.Information).build();a||n(u)}catch(l){console.warn("SignalR init skipped (no auth token)",l)}})(),()=>{a=!0}},[]),N.useEffect(()=>{if(e)return e.start().then(()=>{console.log("SignalR Connected"),e.on("ReceiveNotification",(a,l,u)=>{console.log("Notification received:",a,l);const d=Math.random().toString(36).substring(7);i(m=>[...m,{id:d,title:a,message:l,severity:u||"info"}]),setTimeout(()=>{i(m=>m.filter(g=>g.id!==d))},5e3)})}).catch(a=>console.error("SignalR Connection Error: ",a)),()=>{e.stop()}},[e]);const s=a=>{i(l=>l.filter(u=>u.id!==a))};return E.jsxs(vL.Provider,{value:{connection:e,notifications:r,removeNotification:s},children:[t,E.jsxs(mM,{children:[r.map(a=>E.jsx(ME,{open:!0,onOpenChange:()=>s(a.id),variant:a.severity==="info"?"default":a.severity,children:E.jsxs("div",{className:"grid gap-1",children:[E.jsx(AE,{children:a.title}),E.jsx(NE,{children:a.message})]})},a.id)),E.jsx(_E,{})]})]})}const SL=N.createContext(null);function wL({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState({});return N.useEffect(()=>{let s=!1;return(async()=>{try{const a=await T0();if(!a||s)return;const l=new IM().withUrl("/hubs/privacydata",{accessTokenFactory:()=>a}).withAutomaticReconnect().configureLogging(ve.Information).build();s||n(l)}catch(a){console.warn("PrivacyDataHub init skipped (no auth token)",a)}})(),()=>{s=!0}},[]),N.useEffect(()=>{if(e)return e.start().then(()=>{console.log("PrivacyDataHub Connected"),e.on("ReceivePrivacyData",(s,a)=>{i(l=>({...l,[s]:a}))})}).catch(s=>console.error("PrivacyDataHub Connection Error: ",s)),()=>{e.stop()}},[e]),E.jsx(SL.Provider,{value:{data:r},children:t})}const ju={"win-dashboard":{id:"win-dashboard",title:"Dashboard",icon:"fa-grid-2"},"win-email":{id:"win-email",title:"Email",icon:"fa-envelope"},"win-notes":{id:"win-notes",title:"Notes",icon:"fa-note-sticky"},"win-kanban":{id:"win-kanban",title:"Kanban",icon:"fa-list-check"},"win-whiteboard":{id:"win-whiteboard",title:"Canvas",icon:"fa-pen-nib"},"win-jarvis":{id:"win-jarvis",title:"Jarvis",icon:"fa-robot"},"win-files":{id:"win-files",title:"Files",icon:"fa-folder-open"},"win-flashcards":{id:"win-flashcards",title:"Flashcards",icon:"fa-layer-group"},"win-account-settings":{id:"win-account-settings",title:"Account",icon:"fa-user-shield"}},HM=N.createContext(void 0),CL=({children:t})=>{const[e,n]=N.useState(["win-dashboard"]),[r,i]=N.useState([]),[s,a]=N.useState("win-dashboard"),[l,u]=N.useState(!1),[d,m]=N.useState([]),[g,b]=N.useState("work"),[x,S]=N.useState(!1),k=()=>{S(X=>{const W=!X;return W?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),W})},[_,A]=N.useState(null),[O,z]=N.useState(!1),L=X=>{if(r.includes(X)){i(W=>W.filter(le=>le!==X)),I(X);return}if(e.includes(X)){I(X);return}if(l&&d.length>0){A(X),z(!0);return}n(W=>[...W,X]),I(X)},I=X=>{r.includes(X)&&i(W=>W.filter(le=>le!==X)),s&&s!==X&&l&&d.length===2&&(d.includes(s)||i(W=>[...W,s])),a(X),d.length>0&&d.includes(X)&&u(!0)},j=X=>{if(n(W=>W.filter(le=>le!==X)),i(W=>W.filter(le=>le!==X)),d.length>0&&d.includes(X)){const W=d.find(le=>le!==X);if(m([]),u(!1),W)a(W);else if(e.length>1){const le=e.filter(Z=>Z!==X);le.length>0?a(le[le.length-1]):a(null)}}else{const W=e.filter(le=>le!==X);s===X&&W.length>0&&a(W[W.length-1])}},P=X=>{if(r.includes(X)||i(W=>[...W,X]),s===X){const le=e.filter(Z=>Z!==X&&!r.includes(Z)).filter(Z=>Z!==X);le.length>0?a(le[le.length-1]):a(null)}},H=(X,W)=>{u(!0),m([X,W]),a(X),n(le=>{const Z=new Set(le);return Z.add(X),Z.add(W),Array.from(Z)}),i(le=>le.filter(Z=>Z!==X&&Z!==W))},Q=X=>{if(z(!1),!!_){if(e.includes(_)||n(W=>[...W,_]),i(W=>W.filter(le=>le!==_)),X==="over")I(_);else if(X==="left"){const W=d[1];W?H(_,W):console.warn("No right app to snap to")}else if(X==="right"){const W=d[0];W?H(W,_):console.warn("No left app to snap to")}A(null)}},q=X=>{b(X),L("win-files")};return E.jsx(HM.Provider,{value:{openApps:e,minimizedApps:r,activeApp:s,splitMode:l,splitApps:d,currentWorkspace:g,launchApp:L,closeApp:j,minimizeApp:P,focusApp:I,snapPair:H,openWorkspace:q,pendingLaunchId:_,setPendingLaunchId:A,showPlacementModal:O,setShowPlacementModal:z,confirmPlacement:Q,isDarkMode:x,toggleDarkMode:k},children:t})},kp=()=>{const t=N.useContext(HM);if(!t)throw new Error("useWindowManager must be used within a WindowManagerProvider");return t},Zl=({id:t,children:e,headerChips:n})=>{const{openApps:r,minimizedApps:i,activeApp:s,splitMode:a,splitApps:l,closeApp:u,minimizeApp:d,focusApp:m,snapPair:g}=kp(),[b,x]=N.useState(!1),S=N.useRef(null),k=r.includes(t),_=i.includes(t),A=s===t,O=a&&l[0]===t,z=a&&l[1]===t;let L="window-app flex flex-col bg-paper dark:bg-gray-900 border-2 border-ink shadow-hard rounded-xl overflow-hidden absolute transition-all duration-300 ";if(!k||_)L+=" hidden-app opacity-0 pointer-events-none z-[-1]";else if(O)L+=" split-left z-20 w-[calc(50%-8px)] left-0 top-0 bottom-0 rounded-l-xl rounded-r-none border-r border-border";else if(z)L+=" split-right z-20 w-[calc(50%-8px)] right-0 top-0 bottom-0 rounded-r-xl rounded-l-none border-l border-border";else{const P=a&&(l.length===0||!l.includes(t));L+=" maximized w-full h-full left-0 top-0 ",L+=P?" z-30":" z-10",A&&!P?L+=" z-20":!A&&!P&&(L+=" z-10")}N.useEffect(()=>{function P(H){S.current&&!S.current.contains(H.target)&&x(!1)}return b&&document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[b]);const I=P=>{g(t,P),x(!1)},j=r.filter(P=>l.length===0?P!==t:P!==t&&!l.includes(P)&&!i.includes(P));return E.jsxs("div",{id:t,className:L,onClick:()=>m(t),style:!k||_?{display:"none"}:{},children:[E.jsxs("div",{className:"h-12 border-b-2 border-border bg-subtle flex items-center justify-between px-4 shrink-0 select-none",children:[E.jsxs("div",{className:"flex items-center gap-3 font-bold text-sm text-ink",children:[E.jsx("i",{className:`fa-solid ${ju[t].icon} ${t==="win-dashboard"?"text-accent-blue":t==="win-notes"?"text-accent-yellow":""}`}),ju[t].title]}),E.jsx("div",{className:"flex-1 flex justify-center gap-2 overflow-hidden px-4",children:n}),E.jsxs("div",{className:"flex gap-2 items-center relative",children:[E.jsx("button",{className:"hover:text-accent-blue px-2",onClick:P=>{P.stopPropagation(),d(t)},title:"Minimize",children:E.jsx("i",{className:"fa-solid fa-minus"})}),E.jsx("button",{className:"hover:text-accent-blue px-2 hidden md:inline",onClick:P=>{P.stopPropagation(),x(!b)},children:E.jsx("i",{className:"fa-solid fa-table-columns"})}),E.jsx("button",{className:"hover:text-accent-red px-2",onClick:P=>{P.stopPropagation(),u(t)},children:E.jsx("i",{className:"fa-solid fa-xmark"})}),b&&E.jsx("div",{ref:S,className:"split-dropdown open absolute top-8 right-0 bg-white border-2 border-ink rounded-lg shadow-hard z-50 w-48",children:E.jsx("div",{className:"p-1",children:j.length===0?E.jsx("div",{className:"text-center text-gray-400 italic p-2 text-xs",children:"No other free apps"}):j.map(P=>E.jsxs("button",{onClick:()=>I(P),className:"w-full text-left flex items-center gap-2 p-2 hover:bg-gray-100 rounded text-xs font-medium text-ink",children:[E.jsx("i",{className:`fa-solid ${ju[P].icon} text-gray-500`})," ",ju[P].title]},P))})})]})]}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:e})]})},EL=({onToggleStart:t})=>{const{openApps:e,minimizedApps:n,activeApp:r,splitMode:i,splitApps:s,focusApp:a,isDarkMode:l,toggleDarkMode:u}=kp(),d=new Set,[m,g]=N.useState(!1),b=typeof window<"u"&&localStorage.getItem("focusdeck_user")||"Guest",{launchApp:x}=kp();return E.jsxs("div",{className:"h-14 bg-subtle dark:bg-gray-900 border-t-2 border-border dark:border-gray-700 flex items-center px-2 md:px-4 gap-2 md:gap-4 z-50 shrink-0 relative shadow-[0_-4px_10px_rgba(0,0,0,0.02)] transition-colors duration-300",children:[E.jsxs("button",{onClick:t,className:"h-10 px-4 bg-ink dark:bg-white text-white dark:text-black rounded-lg font-bold text-sm flex items-center gap-2 shadow-hard hover:bg-gray-800 dark:hover:bg-gray-200 transition-all active:scale-95",children:[E.jsx("i",{className:"fa-solid fa-layer-group"})," ",E.jsx("span",{className:"hidden md:inline",children:"Start"})]}),E.jsx("button",{onClick:u,className:"h-10 w-10 flex items-center justify-center rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-ink dark:text-white",title:"Toggle Dark Mode",children:E.jsx("i",{className:`fa-solid ${l?"fa-sun":"fa-moon"}`})}),E.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-700 hidden md:block"}),E.jsxs("div",{className:"relative mr-2",children:[E.jsxs("button",{onClick:()=>g(S=>!S),className:"h-10 px-3 rounded-lg flex items-center gap-2 bg-white dark:bg-gray-800 border-2 border-ink dark:border-gray-600 text-ink dark:text-gray-200 text-sm font-bold shadow-hard hover:bg-gray-100 dark:hover:bg-gray-700 transition active:scale-[0.97]",children:[E.jsx("i",{className:"fa-solid fa-user-shield"}),E.jsx("span",{className:"hidden sm:inline max-w-[140px] truncate",children:b}),E.jsx("i",{className:`fa-solid fa-chevron-${m?"up":"down"} text-xs opacity-70`})]}),m&&E.jsxs("div",{className:"absolute left-0 mt-2 w-56 bg-surface border-2 border-ink rounded-xl shadow-hard z-50 overflow-hidden",children:[E.jsxs("div",{className:"px-4 py-3 border-b-2 border-ink bg-subtle flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-id-badge text-accent-blue"}),E.jsx("div",{className:"text-xs font-mono truncate",title:b,children:b})]}),E.jsxs("div",{className:"flex flex-col py-2",children:[E.jsxs("button",{onClick:()=>{g(!1),x("win-account-settings")},className:"text-left px-4 py-2 text-xs font-semibold hover:bg-white/70 dark:hover:bg-gray-800 transition flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-gears"})," Account Settings"]}),E.jsxs("button",{onClick:()=>{g(!1),localStorage.removeItem("fd.accessToken"),localStorage.removeItem("fd.refreshToken"),localStorage.removeItem("fd.userId"),window.location.href="/login"},className:"text-left px-4 py-2 text-xs font-semibold hover:bg-white/70 dark:hover:bg-gray-800 transition flex items-center gap-2 text-red-600",children:[E.jsx("i",{className:"fa-solid fa-right-from-bracket"})," Sign Out"]})]})]})]}),E.jsx("div",{className:"flex-1 flex items-end gap-2 overflow-x-auto h-full pb-1 no-scrollbar",id:"task-dock",children:e.map(S=>{if(d.has(S))return null;if(i&&s.length===2&&s.includes(S)){const A=s[0],O=s[1],z=r===A||r===O;return d.add(A),d.add(O),E.jsxs("div",{onClick:()=>a(A),className:`h-10 px-3 flex items-center gap-2 transition-all cursor-pointer border-t-2 border-transparent rounded-t-lg mr-1 relative group ${z?"bg-white border-ink shadow-sm -translate-y-[2px]":"bg-gray-200/50 text-gray-500 hover:bg-gray-200"}`,children:[E.jsxs("div",{className:"flex items-center text-xs gap-0 bg-gray-100 px-2 py-1 rounded-full border border-gray-200 relative",children:[E.jsx("i",{className:`fa-solid ${ju[A].icon} z-10 relative`}),E.jsx("div",{className:"w-4 h-[1px] bg-gray-400 mx-1"}),E.jsx("i",{className:`fa-solid ${ju[O].icon} z-10 relative`})]}),E.jsx("span",{className:"text-xs font-bold hidden md:inline ml-1 text-ink",children:"Context Group"}),z&&E.jsx("div",{className:"absolute bottom-0 left-2 right-2 h-[2px] bg-accent-blue"})]},`${A}-${O}`)}d.add(S);const k=r===S,_=n.includes(S);return E.jsxs("button",{onClick:()=>a(S),className:`task-tab h-10 px-3 md:px-4 rounded-t-lg flex items-center gap-2 text-sm font-medium transition-all flex-shrink-0 relative
                        ${k?"active text-ink font-bold bg-white border-t-2 border-ink shadow-sm -translate-y-[2px]":_?"opacity-50 hover:opacity-100 bg-gray-100 border-t-2 border-transparent hover:bg-white/50":"text-gray-500 hover:bg-white/50 border-t-2 border-transparent"}`,children:[E.jsx("i",{className:`fa-solid ${ju[S].icon} ${k?"text-accent-blue":""}`}),E.jsx("span",{className:"hidden md:inline",children:ju[S].title}),k&&E.jsx("div",{className:"absolute bottom-0 left-2 right-2 h-[2px] bg-accent-blue"}),_&&E.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-gray-400 rounded-full"})]},S)})})]})},kL=({isOpen:t,onClose:e})=>{const{launchApp:n,openWorkspace:r}=kp(),i=`fixed bottom-14 left-0 w-full md:bottom-16 md:left-4 md:w-[650px] bg-white border-t-2 md:border-2 border-ink shadow-hard rounded-t-xl md:rounded-lg overflow-hidden flex flex-col z-50 h-[70vh] md:h-[550px] transition-all duration-200 origin-bottom-left ${t?"scale-100 opacity-100 pointer-events-auto translate-y-0":"scale-95 opacity-0 pointer-events-none translate-y-5"}`,s=l=>{n(l),e()},a=l=>{r(l),e()};return E.jsxs("div",{id:"start-menu",className:i,children:[E.jsxs("div",{className:"h-16 border-b border-gray-200 p-4 flex items-center gap-3 shrink-0 bg-white",children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass text-gray-400"}),E.jsx("input",{type:"text",placeholder:"Search apps, files...",className:"flex-1 outline-none text-sm font-medium placeholder-gray-400 h-full"}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:e,children:E.jsx("i",{className:"fa-solid fa-chevron-down"})})})]}),E.jsxs("div",{className:"flex flex-1 overflow-hidden flex-col md:flex-row",children:[E.jsxs("div",{className:"w-full md:w-48 bg-ink text-gray-300 flex flex-row md:flex-col py-4 px-4 items-center md:items-start shrink-0 md:border-r md:border-gray-800",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-0 md:mb-6",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-accent-purple to-accent-blue flex items-center justify-center text-white font-bold text-lg",children:"JD"}),E.jsx("div",{className:"text-white font-bold text-sm",children:"John Doe"})]}),E.jsxs("div",{className:"flex md:flex-col gap-1 ml-auto md:ml-0 w-full md:w-auto",children:[E.jsxs("button",{onClick:()=>s("win-dashboard"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-grid-2 w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Dashboard"})]}),E.jsxs("button",{onClick:()=>s("win-jarvis"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-robot w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Jarvis"})]}),E.jsxs("button",{onClick:()=>s("win-email"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-envelope w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Email"})]}),E.jsxs("button",{onClick:()=>s("win-whiteboard"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-pen-nib w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Canvas"})]}),E.jsxs("button",{onClick:()=>s("win-flashcards"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-layer-group w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Flashcards"})]})]})]}),E.jsxs("div",{className:"flex-1 bg-subtle overflow-y-auto p-2 md:p-4",children:[E.jsx("div",{className:"px-2 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Your Workspaces"}),E.jsx("div",{className:"mb-2 bg-white rounded-lg border border-transparent hover:border-gray-200 shadow-sm overflow-hidden transition-all cursor-pointer hover:bg-gray-50",onClick:()=>a("work"),children:E.jsxs("div",{className:"flex items-center px-4 py-3",children:[E.jsx("div",{className:"w-8 h-8 rounded bg-blue-100 flex items-center justify-center text-blue-600 mr-3",children:E.jsx("i",{className:"fa-solid fa-briefcase"})}),E.jsx("div",{className:"flex-1",children:E.jsx("div",{className:"text-sm font-bold text-ink",children:"Work Mode"})})]})}),E.jsx("div",{className:"mb-2 bg-white rounded-lg border border-transparent hover:border-gray-200 shadow-sm overflow-hidden transition-all cursor-pointer hover:bg-gray-50",onClick:()=>a("school"),children:E.jsxs("div",{className:"flex items-center px-4 py-3",children:[E.jsx("div",{className:"w-8 h-8 rounded bg-yellow-100 flex items-center justify-center text-yellow-600 mr-3",children:E.jsx("i",{className:"fa-solid fa-graduation-cap"})}),E.jsx("div",{className:"flex-1",children:E.jsx("div",{className:"text-sm font-bold text-ink",children:"School Mode"})})]})})]})]})]})},TL=()=>{const{showPlacementModal:t,confirmPlacement:e,setShowPlacementModal:n}=kp();return t?E.jsx("div",{id:"placement-modal",className:"absolute inset-0 z-[60] flex items-center justify-center p-4 backdrop-blur-sm bg-paper/80",children:E.jsxs("div",{className:"bg-white border-2 border-ink rounded-xl shadow-hard p-6 w-full max-w-md",children:[E.jsx("h3",{className:"text-lg font-bold mb-4 text-center text-ink",children:"Where should this open?"}),E.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[E.jsxs("button",{onClick:()=>e("left"),className:"flex flex-col items-center p-3 border rounded hover:bg-gray-50 hover:border-black transition-all",children:[E.jsxs("div",{className:"flex gap-1 w-12 h-8 mb-2 border border-gray-300 rounded p-0.5",children:[E.jsx("div",{className:"w-1/2 h-full bg-blue-500 rounded-sm"}),E.jsx("div",{className:"w-1/2 h-full bg-gray-200 rounded-sm"})]}),E.jsx("span",{className:"text-xs font-bold text-ink",children:"Replace Left"})]}),E.jsxs("button",{onClick:()=>e("right"),className:"flex flex-col items-center p-3 border rounded hover:bg-gray-50 hover:border-black transition-all",children:[E.jsxs("div",{className:"flex gap-1 w-12 h-8 mb-2 border border-gray-300 rounded p-0.5",children:[E.jsx("div",{className:"w-1/2 h-full bg-gray-200 rounded-sm"}),E.jsx("div",{className:"w-1/2 h-full bg-blue-500 rounded-sm"})]}),E.jsx("span",{className:"text-xs font-bold text-ink",children:"Replace Right"})]}),E.jsxs("button",{onClick:()=>e("over"),className:"flex flex-col items-center p-3 border rounded hover:bg-gray-50 hover:border-black transition-all",children:[E.jsx("div",{className:"w-12 h-8 mb-2 border border-gray-300 rounded bg-blue-500 p-0.5 relative",children:E.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-white border border-gray-300 rounded-full flex items-center justify-center text-[8px] text-gray-500",children:"NEW"})}),E.jsx("span",{className:"text-xs font-bold text-ink",children:"Open Over"})]})]}),E.jsx("button",{onClick:()=>n(!1),className:"w-full mt-4 text-xs font-bold text-gray-500 hover:text-black",children:"Cancel"})]})}):null},_L=()=>{const[t,e]=N.useState(1500),[n,r]=N.useState(!1),i=1500;N.useEffect(()=>{let m=null;return n&&t>0?m=setInterval(()=>{e(t-1)},1e3):t===0&&r(!1),()=>clearInterval(m)},[n,t]);const s=m=>{const g=Math.floor(m/60),b=m%60;return`${g.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`},a=(i-t)/i*100,l=60,u=2*Math.PI*l,d=u-a/100*u;return E.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-ink text-white p-4 relative overflow-hidden",children:[E.jsxs("div",{className:"relative flex items-center justify-center",children:[E.jsxs("svg",{className:"w-40 h-40 transform -rotate-90",children:[E.jsx("circle",{cx:"80",cy:"80",r:l,fill:"transparent",stroke:"currentColor",strokeWidth:"6",className:"text-gray-700"}),E.jsx("circle",{cx:"80",cy:"80",r:l,fill:"transparent",stroke:"currentColor",strokeWidth:"6",strokeDasharray:u,strokeDashoffset:d,strokeLinecap:"round",className:"text-white transition-all duration-1000 ease-linear"})]}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx("div",{className:"text-3xl font-mono font-bold",children:s(t)})})]}),E.jsxs("div",{className:"flex gap-4 mt-4",children:[E.jsx("button",{onClick:()=>r(!n),className:"w-10 h-10 rounded-full bg-white text-ink flex items-center justify-center hover:bg-gray-200 transition-colors shadow-lg",children:E.jsx("i",{className:`fa-solid ${n?"fa-pause":"fa-play"}`})}),E.jsx("button",{onClick:()=>{r(!1),e(1500)},className:"w-10 h-10 rounded-full bg-white/20 text-white flex items-center justify-center hover:bg-white/30 transition-colors",children:E.jsx("i",{className:"fa-solid fa-rotate-right"})})]}),E.jsx("div",{className:"absolute bottom-2 right-2 text-[10px] opacity-50",children:"3/4 Sessions"})]})},ML=()=>{const[t,e]=N.useState([{id:1,text:"Review PR #102",done:!1},{id:2,text:"Email Client",done:!0},{id:3,text:"Update Docs",done:!1}]);return E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"My Day"}),E.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:t.map(n=>E.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>e(t.map(r=>r.id===n.id?{...r,done:!r.done}:r)),children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${n.done?"bg-accent-green border-accent-green text-white":"border-gray-300 dark:border-gray-600"}`,children:n.done&&E.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),E.jsx("span",{className:`text-sm ${n.done?"line-through text-gray-400":"text-ink"}`,children:n.text})]},n.id))})]})},AL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"Schedule"}),E.jsxs("div",{className:"space-y-4 relative",children:[E.jsx("div",{className:"absolute left-[5px] top-2 bottom-2 w-0.5 bg-gray-200 dark:bg-gray-700"}),[{time:"10:00",title:"Team Standup",color:"bg-blue-500"},{time:"13:00",title:"Design Review",color:"bg-purple-500"},{time:"15:30",title:"Focus Time",color:"bg-green-500"}].map((t,e)=>E.jsxs("div",{className:"relative pl-4",children:[E.jsx("div",{className:`absolute left-0 top-1.5 w-3 h-3 rounded-full border-2 border-surface ${t.color}`}),E.jsx("div",{className:"text-xs font-mono text-gray-400",children:t.time}),E.jsx("div",{className:"text-sm font-medium text-ink",children:t.title})]},e))]})]}),NL=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-blue-400 to-blue-600 text-white p-4",children:[E.jsx("i",{className:"fa-solid fa-cloud-sun text-4xl mb-2 animate-pulse"}),E.jsx("div",{className:"text-2xl font-bold",children:"72F"}),E.jsx("div",{className:"text-xs opacity-80",children:"Partly Cloudy"}),E.jsx("div",{className:"text-xs font-mono mt-2 opacity-60",children:"10:42 AM"})]}),RL=()=>{const[t,e]=N.useState(!1);return E.jsxs("div",{className:"flex items-center h-full bg-gradient-to-br from-gray-900 to-black text-white p-0 overflow-hidden relative group",children:[E.jsxs("div",{className:"relative h-full w-24 shrink-0",children:[E.jsx("img",{src:"https://picsum.photos/200",alt:"Album Art",className:"w-full h-full object-cover opacity-80 group-hover:opacity-60 transition-opacity"}),E.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors"})]}),E.jsxs("div",{className:"flex-1 p-4 z-10 flex flex-col justify-center",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("i",{className:"fa-brands fa-spotify text-green-500 text-lg"}),E.jsx("span",{className:"text-xs text-green-500 font-bold uppercase tracking-wide",children:"Now Playing"})]}),E.jsx("div",{className:"font-bold text-lg truncate leading-tight",children:"Lo-Fi Beats to Study To"}),E.jsx("div",{className:"text-xs text-gray-400 truncate mb-3",children:"Lofi Girl  2024 Mix"}),E.jsx("div",{className:"w-full h-1 bg-gray-700 rounded-full mb-3 overflow-hidden",children:E.jsx("div",{className:"h-full bg-white w-1/3 rounded-full"})}),E.jsxs("div",{className:"flex items-center gap-6 text-xl",children:[E.jsx("button",{className:"text-gray-400 hover:text-white transition-colors",children:E.jsx("i",{className:"fa-solid fa-backward-step"})}),E.jsx("button",{onClick:()=>e(!t),className:"w-8 h-8 rounded-full bg-white text-black flex items-center justify-center hover:scale-110 transition-transform",children:E.jsx("i",{className:`fa-solid ${t?"fa-pause":"fa-play"} text-xs`})}),E.jsx("button",{className:"text-gray-400 hover:text-white transition-colors",children:E.jsx("i",{className:"fa-solid fa-forward-step"})})]})]}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent pointer-events-none"})]})},OL=()=>{const[t,e]=N.useState([{id:1,icon:"fa-glass-water",done:!1},{id:2,icon:"fa-book",done:!0},{id:3,icon:"fa-person-running",done:!1},{id:4,icon:"fa-moon",done:!1}]);return E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4 justify-center",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"Daily Habits"}),E.jsx("div",{className:"flex justify-between px-2",children:t.map(n=>E.jsx("button",{onClick:()=>e(t.map(r=>r.id===n.id?{...r,done:!r.done}:r)),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${n.done?"bg-green-500 text-white scale-110 shadow-md":"bg-subtle text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:E.jsx("i",{className:`fa-solid ${n.icon}`})},n.id))})]})},DL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-yellow-100 dark:bg-yellow-900/20 p-4 relative",children:[E.jsx("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[20px] border-r-[20px] border-t-white dark:border-t-gray-900 border-r-transparent shadow-sm"}),E.jsx("textarea",{className:"w-full h-full bg-transparent resize-none outline-none text-sm text-gray-800 dark:text-yellow-100 placeholder-yellow-700/50",placeholder:"Scratchpad..."})]}),zL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4 justify-center space-y-3",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[E.jsx("span",{className:"font-bold text-ink",children:"CS101"}),E.jsx("span",{className:"text-gray-500",children:"45%"})]}),E.jsx("div",{className:"h-1.5 bg-subtle rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-blue-500 w-[45%]"})})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[E.jsx("span",{className:"font-bold text-ink",children:"MATH202"}),E.jsx("span",{className:"text-gray-500",children:"70%"})]}),E.jsx("div",{className:"h-1.5 bg-subtle rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-purple-500 w-[70%]"})})]})]}),jL=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-surface p-6 text-center border-l-4 border-accent-yellow",children:[E.jsx("p",{className:"font-serif italic text-ink text-lg mb-2",children:'"The only way to do great work is to love what you do."'}),E.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:" Steve Jobs"})]}),LL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"Recent"}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm text-ink hover:text-blue-500 cursor-pointer transition-colors",children:[E.jsx("i",{className:"fa-solid fa-note-sticky text-yellow-500"})," Q4_Strategy"]}),E.jsxs("div",{className:"flex items-center gap-2 text-sm text-ink hover:text-blue-500 cursor-pointer transition-colors",children:[E.jsx("i",{className:"fa-solid fa-layer-group text-blue-500"})," Study Set 4"]}),E.jsxs("div",{className:"flex items-center gap-2 text-sm text-ink hover:text-blue-500 cursor-pointer transition-colors",children:[E.jsx("i",{className:"fa-solid fa-list-check text-teal-500"})," Launch Plan"]})]})]}),yS={"focus-timer":{title:"Focus Timer",defaultW:2,defaultH:1,component:_L},tasks:{title:"Tasks",defaultW:1,defaultH:2,component:ML},calendar:{title:"Calendar",defaultW:1,defaultH:2,component:AL},weather:{title:"Weather",defaultW:1,defaultH:1,component:NL},spotify:{title:"Spotify",defaultW:2,defaultH:1,component:RL},habits:{title:"Habits",defaultW:2,defaultH:1,component:OL},"quick-note":{title:"Quick Note",defaultW:1,defaultH:1,component:DL},"course-progress":{title:"Course Progress",defaultW:1,defaultH:1,component:zL},quote:{title:"Quote",defaultW:2,defaultH:1,component:jL},"recent-files":{title:"Recent Files",defaultW:1,defaultH:1,component:LL}},PL=[{id:"w1",type:"weather",title:"Weather",w:1,h:1},{id:"w2",type:"focus-timer",title:"Focus Timer",w:2,h:1},{id:"w3",type:"tasks",title:"Tasks",w:1,h:2},{id:"w4",type:"calendar",title:"Calendar",w:1,h:2},{id:"w5",type:"spotify",title:"Spotify",w:2,h:1},{id:"w6",type:"habits",title:"Habits",w:2,h:1}],BL=()=>{const[t,e]=N.useState(PL),[n,r]=N.useState(!1),i=a=>{const l=yS[a],u={id:Date.now().toString(),type:a,title:l.title,w:l.defaultW,h:l.defaultH};e([...t,u]),r(!1)},s=a=>{e(t.filter(l=>l.id!==a))};return E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 bg-paper dark:bg-gray-900 h-full relative",children:[E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h1",{className:"text-3xl font-display font-bold text-ink",children:"Welcome Back."}),E.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-ink text-white rounded-lg text-sm font-bold hover:opacity-80 transition-opacity",children:[E.jsx("i",{className:"fa-solid fa-plus mr-2"})," Add Widget"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[180px]",children:t.map(a=>{const l=yS[a.type].component;return E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard overflow-hidden relative group transition-all hover:shadow-lg",style:{gridColumn:`span ${a.w}`,gridRow:`span ${a.h}`},children:[E.jsx("div",{className:"absolute top-2 right-2 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("button",{onClick:()=>s(a.id),className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm hover:bg-red-600",children:E.jsx("i",{className:"fa-solid fa-xmark text-xs"})})}),E.jsx(l,{})]},a.id)})})]}),n&&E.jsx("div",{className:"absolute inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-8",children:E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard w-full max-w-3xl max-h-[80vh] flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[E.jsx("h2",{className:"text-xl font-bold text-ink",children:"Add Widget"}),E.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-ink",children:E.jsx("i",{className:"fa-solid fa-xmark text-xl"})})]}),E.jsx("div",{className:"p-6 overflow-y-auto grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(yS).map(([a,l])=>E.jsxs("button",{onClick:()=>i(a),className:"flex flex-col items-center p-4 border border-border rounded-lg hover:bg-subtle hover:border-accent-blue transition-all group",children:[E.jsx("div",{className:"w-12 h-12 bg-subtle rounded-lg mb-3 flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30",children:E.jsx("i",{className:"fa-solid fa-puzzle-piece text-gray-400 group-hover:text-blue-500 text-xl"})}),E.jsx("span",{className:"font-bold text-sm text-ink",children:l.title}),E.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[l.defaultW,"x",l.defaultH]})]},a))})]})})]})};var Fp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IL={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},HL=class{#e=IL;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},td=new HL;function UL(t){setTimeout(t,0)}var md=typeof window>"u"||"Deno"in globalThis;function ls(){}function FL(t,e){return typeof t=="function"?t(e):t}function Jw(t){return typeof t=="number"&&t>=0&&t!==1/0}function UM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Iu(t,e){return typeof t=="function"?t(e):t}function La(t,e){return typeof t=="function"?t(e):t}function V5(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==zE(a,e.options))return!1}else if(!A0(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function Y5(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(gd(e.options.mutationKey)!==gd(s))return!1}else if(!A0(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function zE(t,e){return(e?.queryKeyHashFn||gd)(t)}function gd(t){return JSON.stringify(t,(e,n)=>$w(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function A0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>A0(t[n],e[n])):!1}var GL=Object.prototype.hasOwnProperty;function FM(t,e){if(t===e)return t;const n=K5(t)&&K5(e);if(!n&&!($w(t)&&$w(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const m=n?d:s[d],g=t[m],b=e[m];if(g===b){l[m]=g,(n?d<i:GL.call(t,m))&&u++;continue}if(g===null||b===null||typeof g!="object"||typeof b!="object"){l[m]=b;continue}const x=FM(g,b);l[m]=x,x===g&&u++}return i===a&&u===i?t:l}function mv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function K5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $w(t){if(!X5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!X5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function X5(t){return Object.prototype.toString.call(t)==="[object Object]"}function qL(t){return new Promise(e=>{td.setTimeout(e,t)})}function Zw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?FM(t,e):e}function VL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function YL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var jE=Symbol();function GM(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===jE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function qM(t,e){return typeof t=="function"?t(...e):!!t}var KL=class extends Fp{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!md&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},LE=new KL;function eC(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var XL=UL;function QL(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=XL;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Fr=QL(),WL=class extends Fp{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!md&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},gv=new WL;function JL(t){return Math.min(1e3*2**t,3e4)}function VM(t){return(t??"online")==="online"?gv.isOnline():!0}var tC=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function YM(t){let e=!1,n=0,r;const i=eC(),s=()=>i.status!=="pending",a=k=>{if(!s()){const _=new tC(k);b(_),t.onCancel?.(_)}},l=()=>{e=!0},u=()=>{e=!1},d=()=>LE.isFocused()&&(t.networkMode==="always"||gv.isOnline())&&t.canRun(),m=()=>VM(t.networkMode)&&t.canRun(),g=k=>{s()||(r?.(),i.resolve(k))},b=k=>{s()||(r?.(),i.reject(k))},x=()=>new Promise(k=>{r=_=>{(s()||d())&&k(_)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),S=()=>{if(s())return;let k;const _=n===0?t.initialPromise:void 0;try{k=_??t.fn()}catch(A){k=Promise.reject(A)}Promise.resolve(k).then(g).catch(A=>{if(s())return;const O=t.retry??(md?0:3),z=t.retryDelay??JL,L=typeof z=="function"?z(n,A):z,I=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,A);if(e||!I){b(A);return}n++,t.onFail?.(n,A),qL(L).then(()=>d()?void 0:x()).then(()=>{e?b(A):S()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:u,canStart:m,start:()=>(m()?S():x().then(S),i)}}var KM=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jw(this.gcTime)&&(this.#e=td.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(md?1/0:300*1e3))}clearGcTimeout(){this.#e&&(td.clearTimeout(this.#e),this.#e=void 0)}},$L=class extends KM{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=W5(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=W5(this.options);e.data!==void 0&&(this.setState(Q5(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Zw(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>La(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Iu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!UM(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=GM(this.options,e),d=(()=>{const m={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(m),m})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=YM({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof tC&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof tC){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...XM(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...Q5(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Fr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function XM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Q5(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function W5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ZL=class extends Fp{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=eC(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#d;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),J5(this.#t,this.options)?this.#f():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nC(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nC(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof La(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!mv(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&$5(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||La(this.options.enabled,this.#t)!==La(e.enabled,this.#t)||Iu(this.options.staleTime,this.#t)!==Iu(e.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||La(this.options.enabled,this.#t)!==La(e.enabled,this.#t)||i!==this.#l)&&this.#b(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return tP(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ls)),e}#g(){this.#x();const t=Iu(this.options.staleTime,this.#t);if(md||this.#i.isStale||!Jw(t))return;const n=UM(this.#i.dataUpdatedAt,t)+1;this.#c=td.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#S(),this.#l=t,!(md||La(this.options.enabled,this.#t)===!1||!Jw(this.#l)||this.#l===0)&&(this.#u=td.setInterval(()=>{(this.options.refetchIntervalInBackground||LE.isFocused())&&this.#f()},this.#l))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(td.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(td.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,s=this.#r,a=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let m={...d},g=!1,b;if(e._optimisticResults){const H=this.hasListeners(),Q=!H&&J5(t,e),q=H&&$5(t,n,e,r);(Q||q)&&(m={...m,...XM(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:k}=m;b=m.data;let _=!1;if(e.placeholderData!==void 0&&b===void 0&&k==="pending"){let H;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(H=i.data,_=!0):H=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,H!==void 0&&(k="success",b=Zw(i?.data,H,e),g=!0)}if(e.select&&b!==void 0&&!_)if(i&&b===s?.data&&e.select===this.#m)b=this.#d;else try{this.#m=e.select,b=e.select(b),b=Zw(i?.data,b,e),this.#d=b,this.#s=null}catch(H){this.#s=H}this.#s&&(x=this.#s,b=this.#d,S=Date.now(),k="error");const A=m.fetchStatus==="fetching",O=k==="pending",z=k==="error",L=O&&A,I=b!==void 0,P={status:k,fetchStatus:m.fetchStatus,isPending:O,isSuccess:k==="success",isError:z,isInitialLoading:L,isLoading:L,data:b,dataUpdatedAt:m.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:A,isRefetching:A&&!O,isLoadingError:z&&!I,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:z&&I,isStale:PE(t,e),refetch:this.refetch,promise:this.#o,isEnabled:La(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const H=X=>{P.status==="error"?X.reject(P.error):P.data!==void 0&&X.resolve(P.data)},Q=()=>{const X=this.#o=P.promise=eC();H(X)},q=this.#o;switch(q.status){case"pending":t.queryHash===n.queryHash&&H(q);break;case"fulfilled":(P.status==="error"||P.data!==q.value)&&Q();break;case"rejected":(P.status!=="error"||P.error!==q.reason)&&Q();break}}return P}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),mv(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const l=a;return this.#i[l]!==t[l]&&s.has(l)})};this.#C({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(t){Fr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function eP(t,e){return La(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function J5(t,e){return eP(t,e)||t.state.data!==void 0&&nC(t,e,e.refetchOnMount)}function nC(t,e,n){if(La(e.enabled,t)!==!1&&Iu(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&PE(t,e)}return!1}function $5(t,e,n,r){return(t!==e||La(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&PE(t,n)}function PE(t,e){return La(e.enabled,t)!==!1&&t.isStaleByTime(Iu(e.staleTime,t))}function tP(t,e){return!mv(t.getCurrentResult(),e)}function Z5(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let m=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},b=GM(e.options,e.fetchOptions),x=async(S,k,_)=>{if(m)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const O=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:k,direction:_?"backward":"forward",meta:e.options.meta};return g(j),j})(),z=await b(O),{maxPages:L}=e.options,I=_?YL:VL;return{pages:I(S.pages,z,L),pageParams:I(S.pageParams,k,L)}};if(i&&s.length){const S=i==="backward",k=S?nP:ek,_={pages:s,pageParams:a},A=k(r,_);l=await x(_,A,S)}else{const S=t??s.length;do{const k=u===0?a[0]??r.initialPageParam:ek(r,l);if(u>0&&k==null)break;l=await x(l,k),u++}while(u<S)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function ek(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function nP(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var rP=class extends KM{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||QM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=YM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Fr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function QM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iP=class extends Fp{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new rP({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=ub(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=ub(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=ub(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=ub(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Y5(e,n))}findAll(t={}){return this.getAll().filter(e=>Y5(t,e))}notify(t){Fr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Fr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ls))))}};function ub(t){return t.options.scope?.id}var sP=class extends Fp{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),mv(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&gd(n.mutationKey)!==gd(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??QM();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Fr.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},aP=class extends Fp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??zE(r,e);let s=this.get(i);return s||(s=new $L({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>V5(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>V5(t,n)):e}notify(t){Fr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},oP=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new aP,this.#t=t.mutationCache||new iP,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=LE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=gv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Iu(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=FL(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Fr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Fr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Fr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Fr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(t,e={}){return Fr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Fr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ls)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Iu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ls).catch(ls)}fetchInfiniteQuery(t){return t.behavior=Z5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ls).catch(ls)}ensureInfiniteQueryData(t){return t.behavior=Z5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(gd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{A0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(gd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{A0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===jE&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},WM=N.createContext(void 0),Td=t=>{const e=N.useContext(WM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},lP=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(WM.Provider,{value:t,children:e})),JM=N.createContext(!1),cP=()=>N.useContext(JM);JM.Provider;function uP(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var fP=N.createContext(uP()),dP=()=>N.useContext(fP),hP=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},pP=t=>{N.useEffect(()=>{t.clearReset()},[t])},mP=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||qM(n,[t.error,r])),gP=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},yP=(t,e)=>t.isLoading&&t.isFetching&&!e,bP=(t,e)=>t?.suspense&&e.isPending,tk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function vP(t,e,n){const r=cP(),i=dP(),s=Td(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",gP(a),hP(a,i),pP(i);const l=!s.getQueryCache().get(a.queryHash),[u]=N.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),m=!r&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(g=>{const b=m?u.subscribe(Fr.batchCalls(g)):ls;return u.updateResult(),b},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),N.useEffect(()=>{u.setOptions(a)},[a,u]),bP(a,d))throw tk(a,u,i);if(mP({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!md&&yP(d,r)&&(l?tk(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(ls).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function BE(t,e){return vP(t,ZL)}function Z0(t,e){const n=Td(),[r]=N.useState(()=>new sP(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const i=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(Fr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((a,l)=>{r.mutate(a,l).catch(ls)},[r]);if(i.error&&qM(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Lx={getNotes:async(t,e,n,r)=>{const i=new URLSearchParams;t&&i.append("search",t),e&&i.append("tag",e),n!==void 0&&i.append("pinned",String(n)),r&&i.append("type",r);const s=await cs(`/api/notes?${i.toString()}`);if(!s.ok){const a=await s.text().catch(()=>"Failed to fetch notes");throw new Error(a||"Failed to fetch notes")}return s.json()},getNote:async t=>{const e=await cs(`/api/notes/${t}`);if(!e.ok){const n=await e.text().catch(()=>"Failed to fetch note");throw new Error(n||"Failed to fetch note")}return e.json()},createNote:async t=>{const e=await cs("/api/notes",{method:"POST",body:JSON.stringify(t)});if(!e.ok){const n=await e.text().catch(()=>"Failed to create note");throw new Error(n||"Failed to create note")}return e.json()},updateNote:async(t,e)=>{const n=await cs(`/api/notes/${t}`,{method:"PUT",body:JSON.stringify(e)});if(!n.ok){const r=await n.text().catch(()=>"Failed to update note");throw new Error(r||"Failed to update note")}},deleteNote:async t=>{const e=await cs(`/api/notes/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.text().catch(()=>"Failed to delete note");throw new Error(n||"Failed to delete note")}},getStats:async()=>{const t=await cs("/api/notes/stats");if(!t.ok)throw new Error("Failed to fetch stats");return t.json()}},Px={getTasks:async t=>{const e=new URLSearchParams;t!==void 0&&e.append("completed",String(t));const n=await cs(`/api/tasks?${e.toString()}`);if(!n.ok)throw new Error("Failed to fetch tasks");return n.json()},createTask:async t=>{const e=await cs("/api/tasks",{method:"POST",body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create task");return e.json()},updateTask:async(t,e)=>{if(!(await cs(`/api/tasks/${t}`,{method:"PUT",body:JSON.stringify(e)})).ok)throw new Error("Failed to update task")},deleteTask:async t=>{if(!(await cs(`/api/tasks/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete task")}};function xP(t,e,n){return BE({queryKey:["notes",{search:t,tag:e,pinned:n}],queryFn:()=>Lx.getNotes(t,e,n)})}function SP(t){return BE({queryKey:["note",t],queryFn:()=>Lx.getNote(t),enabled:!!t})}function wP(){const t=Td();return Z0({mutationFn:e=>Lx.createNote(e),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]}),t.invalidateQueries({queryKey:["noteStats"]})}})}function CP(){const t=Td();return Z0({mutationFn:({id:e,note:n})=>Lx.updateNote(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:["notes"]}),t.invalidateQueries({queryKey:["note",n]}),t.invalidateQueries({queryKey:["noteStats"]})}})}var bS={exports:{}},vS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function EP(){if(nk)return vS;nk=1;var t=Bp();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(g,b){var x=b(),S=r({inst:{value:x,getSnapshot:b}}),k=S[0].inst,_=S[1];return s(function(){k.value=x,k.getSnapshot=b,u(k)&&_({inst:k})},[g,x,b]),i(function(){return u(k)&&_({inst:k}),g(function(){u(k)&&_({inst:k})})},[g]),a(x),x}function u(g){var b=g.getSnapshot;g=g.value;try{var x=b();return!n(g,x)}catch{return!0}}function d(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return vS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,vS}var rk;function $M(){return rk||(rk=1,bS.exports=EP()),bS.exports}var ZM=$M();function Si(t){this.content=t}Si.prototype={constructor:Si,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Si(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Si(n)},addToStart:function(t,e){return new Si([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Si(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Si(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Si.from(t),t.size?new Si(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Si.from(t),t.size?new Si(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Si.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Si.from=function(t){if(t instanceof Si)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Si(e)};function eA(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=eA(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function tA(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let d=0,m=Math.min(a.text.length,l.text.length);for(;d<m&&a.text[a.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let d=tA(a.content,l.content,n-1,r-1);if(d)return d}n-=u,r-=u}}class ke{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let u=this.content[a],d=l+u.nodeSize;if(d>e&&r(u,i+l,s||null,a)!==!1&&u.content.size){let m=l+1;u.nodesBetween(Math.max(0,e-m),Math.min(u.content.size,n-m),r,i+m)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,u)=>{let d=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ke(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;u>e&&((a<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=u}return new ke(r,i)}cutByIndex(e,n){return e==n?ke.empty:e==0&&n==this.content.length?this:new ke(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ke(i,s)}addToStart(e){return new ke([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ke(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return eA(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return tA(this,e,n,r)}findIndex(e){if(e==0)return fb(0,e);if(e==this.size)return fb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?fb(n+1,s):fb(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ke.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ke(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ke.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ke(n||e,r)}static from(e){if(!e)return ke.empty;if(e instanceof ke)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ke([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ke.empty=new ke([],0);const xS={index:0,offset:0};function fb(t,e){return xS.index=t,xS.offset=e,xS}function yv(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!yv(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!yv(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let an=class rC{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&yv(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return rC.none;if(e instanceof rC)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};an.none=[];class bv extends Error{}class Ie{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=rA(this.content,e+this.openStart,n);return r&&new Ie(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ie(nA(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ie.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ie(ke.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ie(e,r,i)}}Ie.empty=new Ie(ke.empty,0,0);function nA(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(nA(s.content,e-i-1,n-i-1)))}function rA(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=rA(a.content,e-s-1,n,a);return l&&t.replaceChild(i,a.copy(l))}function kP(t,e,n){if(n.openStart>t.depth)throw new bv("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new bv("Inconsistent open depths");return iA(t,e,n,0)}function iA(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=iA(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return ud(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=TP(n,t);return ud(s,aA(t,a,l,e,r))}else return ud(s,vv(t,e,r))}function sA(t,e){if(!e.type.compatibleContent(t.type))throw new bv("Cannot join "+e.type.name+" onto "+t.type.name)}function iC(t,e,n){let r=t.node(n);return sA(r,e.node(n)),r}function cd(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function r0(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(cd(t.nodeAfter,r),s++));for(let l=s;l<a;l++)cd(i.child(l),r);e&&e.depth==n&&e.textOffset&&cd(e.nodeBefore,r)}function ud(t,e){return t.type.checkContent(e),t.copy(e)}function aA(t,e,n,r,i){let s=t.depth>i&&iC(t,e,i+1),a=r.depth>i&&iC(n,r,i+1),l=[];return r0(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(sA(s,a),cd(ud(s,aA(t,e,n,r,i+1)),l)):(s&&cd(ud(s,vv(t,e,i+1)),l),r0(e,n,i,l),a&&cd(ud(a,vv(n,r,i+1)),l)),r0(r,null,i,l),new ke(l)}function vv(t,e,n){let r=[];if(r0(null,t,n,r),t.depth>n){let i=iC(t,e,n+1);cd(ud(i,vv(t,e,n+1)),r)}return r0(e,null,n,r),new ke(r)}function TP(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ke.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class N0{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return an.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new xv(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:u}=a.content.findIndex(s),d=s-u;if(r.push(a,l,i+u),!d||(a=a.child(l),a.isText))break;s=d-1,i+=u+1}return new N0(n,r,s)}static resolveCached(e,n){let r=ik.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else ik.set(e,r=new _P);let i=r.elts[r.i]=N0.resolve(e,n);return r.i=(r.i+1)%MP,i}}class _P{constructor(){this.elts=[],this.i=0}}const MP=12,ik=new WeakMap;class xv{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const AP=Object.create(null);let Hu=class sC{constructor(e,n,r,i=an.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ke.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&yv(this.attrs,n||e.defaultAttrs||AP)&&an.sameSet(this.marks,r||an.none)}copy(e=null){return e==this.content?this:new sC(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new sC(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ie.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),d=i.node(a).content.cut(i.pos-l,s.pos-l);return new Ie(d,i.depth-a,s.depth-a)}replace(e,n,r){return kP(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return N0.resolveCached(this,e)}resolveNoCache(e){return N0.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),oA(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ke.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=an.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!an.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ke.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Hu.prototype.text=void 0;class Sv extends Hu{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):oA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Sv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Sv(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function oA(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class yd{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new NP(e,n);if(r.next==null)return yd.empty;let i=lA(r);r.next&&r.err("Unexpected trailing text");let s=PP(LP(i));return BP(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return ke.from(l.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:m,next:g}=a.next[d];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let b=s(g,l.concat(m));if(b)return b}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}yd.empty=new yd(!0);class NP{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function lA(t){let e=[];do e.push(RP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function RP(t){let e=[];do e.push(OP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function OP(t){let e=jP(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=DP(t,e);else break;return e}function sk(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function DP(t,e){let n=sk(t),r=n;return t.eat(",")&&(t.next!="}"?r=sk(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function zP(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function jP(t){if(t.eat("(")){let e=lA(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=zP(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function LP(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,u){let d={term:u,to:l};return e[a].push(d),d}function i(a,l){a.forEach(u=>u.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((u,d)=>u.concat(s(d,l)),[]);if(a.type=="seq")for(let u=0;;u++){let d=s(a.exprs[u],l);if(u==a.exprs.length-1)return d;i(d,l=n())}else if(a.type=="star"){let u=n();return r(l,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,l),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let u=l;for(let d=0;d<a.min;d++){let m=n();i(s(a.expr,u),m),u=m}if(a.max==-1)i(s(a.expr,u),u);else for(let d=a.min;d<a.max;d++){let m=n();r(u,m),i(s(a.expr,u),m),u=m}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function cA(t,e){return e-t}function ak(t,e){let n=[];return r(e),n.sort(cA);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:u}=s[a];!l&&n.indexOf(u)==-1&&r(u)}}}function PP(t){let e=Object.create(null);return n(ak(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:u})=>{if(!l)return;let d;for(let m=0;m<i.length;m++)i[m][0]==l&&(d=i[m][1]);ak(t,u).forEach(m=>{d||i.push([l,d=[]]),d.indexOf(m)==-1&&d.push(m)})})});let s=e[r.join(",")]=new yd(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(cA);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function BP(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:u,next:d}=i.next[l];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function uA(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function fA(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function dA(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function hA(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new HP(t,r,e[r]);return n}let ok=class pA{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=hA(e,r.attrs),this.defaultAttrs=uA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:fA(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Hu(this,this.computeAttrs(e),ke.from(n),an.setFrom(r))}createChecked(e=null,n,r){return n=ke.from(n),this.checkContent(n),new Hu(this,this.computeAttrs(e),n,an.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ke.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ke.empty,!0);return s?new Hu(this,e,n.append(s),an.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){dA(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:an.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new pA(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function IP(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class HP{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?IP(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Bx{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=hA(e,i.attrs),this.excluded=null;let s=uA(this.attrs);this.instance=s?new an(this,s):null}create(e=null){return!e&&this.instance?this.instance:new an(this,fA(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new Bx(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){dA(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let mA=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Si.from(e.nodes),n.marks=Si.from(e.marks||{}),this.nodes=ok.compile(this.spec.nodes,this),this.marks=Bx.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=yd.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?lk(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:lk(this,a.split(" "))}this.nodeFromJSON=i=>Hu.fromJSON(this,i),this.markFromJSON=i=>an.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ok){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Sv(r,r.defaultAttrs,e,an.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function lk(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function UP(t){return t.tag!=null}function FP(t){return t.style!=null}class Uu{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(UP(i))this.tags.push(i);else if(FP(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new uk(this,n,!1);return r.addAll(e,an.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new uk(this,n,!0);return r.addAll(e,an.none,n.from,n.to),Ie.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(VP(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=fk(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=fk(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Uu(e,Uu.schemaRules(e)))}}const gA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},GP={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yA={ol:!0,ul:!0},R0=1,aC=2,i0=4;function ck(t,e,n){return e!=null?(e?R0:0)|(e==="full"?aC:0):t&&t.whitespace=="pre"?R0|aC:n&~i0}class db{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=an.none,this.match=s||(a&i0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ke.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&R0)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ke.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ke.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gA.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class uk{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=ck(null,n.preserveWhitespace,0)|(r?i0:0);i?s=new db(i.type,i.attrs,an.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new db(null,null,an.none,!0,null,a):s=new db(e.schema.topNodeType,null,an.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&aC?"full":this.localPreserveWS||(i.options&R0)>0,{schema:a}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let u=0;u<l.length;u++)u&&this.insertNode(a.linebreakReplacement.create(),n,!0),l[u]&&this.insertNode(a.text(l[u]),n,!/\S/.test(l[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],u=e.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;yA.hasOwnProperty(a)&&this.parser.normalizeLists&&qP(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:GP.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let d,m=this.needsBlock;if(gA.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=u&&u.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),d&&this.sync(s),this.needsBlock=m}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,u,d,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(s,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let u=this.nodes[a],d=u.findWrapping(e);if(d&&(!i||i.length>d.length+l)&&(i=d,s=u,!d.length))break;if(u.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=an.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):dk(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=ck(e,s,a.options);a.options&i0&&a.content.length==0&&(l|=i0);let u=an.none;return r=r.filter(d=>(a.type?a.type.allowsMarkType(d.type):dk(d.type,e))?(u=d.addToSet(u),!1):!0),this.nodes.push(new db(e,n,u,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=R0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,u)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;u>=s;u--)if(a(l-1,u))return!0;return!1}else{let m=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!m||m.name!=d&&!m.isInGroup(d))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function qP(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&yA.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function VP(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function fk(t){let e={};for(let n in t)e[n]=t[n];return e}function dk(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:d,next:m}=l.edge(u);if(d==e||s.indexOf(m)<0&&a(m))return!0}};if(a(i.contentMatch))return!0}}class _d{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=SS(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,u=0;for(;l<s.length&&u<a.marks.length;){let d=a.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let d=a.marks[u++],m=this.serializeMark(d,a.isInline,n);m&&(s.push([d,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Xb(SS(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Xb(SS(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Xb(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new _d(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=hk(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return hk(e.marks)}}function hk(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function SS(t){return t.document||window.document}const pk=new WeakMap;function YP(t){let e=pk.get(t);return e===void 0&&pk.set(t,e=KP(t)),e}function KP(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Xb(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=YP(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,u=n?t.createElementNS(n,i):t.createElement(i),d=e[1],m=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){m=2;for(let g in d)if(d[g]!=null){let b=g.indexOf(" ");b>0?u.setAttributeNS(g.slice(0,b),g.slice(b+1),d[g]):g=="style"&&u.style?u.style.cssText=d[g]:u.setAttribute(g,d[g])}}for(let g=m;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:x,contentDOM:S}=Xb(t,b,n,r);if(u.appendChild(x),S){if(l)throw new RangeError("Multiple content holes");l=S}}}return{dom:u,contentDOM:l}}const bA=65535,vA=Math.pow(2,16);function XP(t,e){return t+e*vA}function mk(t){return t&bA}function QP(t){return(t-(t&bA))/vA}const xA=1,SA=2,Qb=4,wA=8;class oC{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&wA)>0}get deletedBefore(){return(this.delInfo&(xA|Qb))>0}get deletedAfter(){return(this.delInfo&(SA|Qb))>0}get deletedAcross(){return(this.delInfo&Qb)>0}}class Zs{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Zs.empty)return Zs.empty}recover(e){let n=0,r=mk(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+QP(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let d=this.ranges[l+s],m=this.ranges[l+a],g=u+d;if(e<=g){let b=d?e==u?-1:e==g?1:n:n,x=u+i+(b<0?0:m);if(r)return x;let S=e==(n<0?u:g)?null:XP(l/3,e-u),k=e==u?SA:e==g?xA:Qb;return(n<0?e!=u:e!=g)&&(k|=wA),new oC(x,k,S)}i+=m-d}return r?e+i:new oC(e+i,0,null)}touches(e,n){let r=0,i=mk(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let d=this.ranges[l+s],m=u+d;if(e<=m&&l==i*3)return!0;r+=this.ranges[l+a]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),u=a+(this.inverted?0:s),d=this.ranges[i+n],m=this.ranges[i+r];e(l,l+d,u,u+m),s+=m-d}}invert(){return new Zs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zs.empty:new Zs(e<0?[0,-e,0]:[0,0,e])}}Zs.empty=new Zs([]);class O0{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new O0(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new O0;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new oC(e,i,null)}}const wS=Object.create(null);class Ui{getMap(){return Zs.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=wS[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in wS)throw new RangeError("Duplicate use of step JSON ID "+e);return wS[e]=n,n.prototype.jsonID=e,n}}class Ar{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ar(e,null)}static fail(e){return new Ar(null,e)}static fromReplace(e,n,r,i){try{return Ar.ok(e.replace(n,r,i))}catch(s){if(s instanceof bv)return Ar.fail(s.message);throw s}}}function IE(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(IE(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ke.fromArray(r)}class Lu extends Ui{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ie(IE(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Ar.fromReplace(e,this.from,this.to,s)}invert(){return new go(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Lu(n.pos,r.pos,this.mark)}merge(e){return e instanceof Lu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Lu(n.from,n.to,e.markFromJSON(n.mark))}}Ui.jsonID("addMark",Lu);class go extends Ui{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ie(IE(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ar.fromReplace(e,this.from,this.to,r)}invert(){return new Lu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new go(n.pos,r.pos,this.mark)}merge(e){return e instanceof go&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new go(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new go(n.from,n.to,e.markFromJSON(n.mark))}}Ui.jsonID("removeMark",go);class Pu extends Ui{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ar.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ar.fromReplace(e,this.pos,this.pos+1,new Ie(ke.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Pu(this.pos,n.marks[i]);return new Pu(this.pos,this.mark)}}return new bd(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Pu(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pu(n.pos,e.markFromJSON(n.mark))}}Ui.jsonID("addNodeMark",Pu);class bd extends Ui{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ar.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ar.fromReplace(e,this.pos,this.pos+1,new Ie(ke.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Pu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bd(n.pos,e.markFromJSON(n.mark))}}Ui.jsonID("removeNodeMark",bd);class ti extends Ui{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&lC(e,this.from,this.to)?Ar.fail("Structure replace would overwrite content"):Ar.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zs([this.from,this.to-this.from,this.slice.size])}invert(e){return new ti(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ti(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ti)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ie.empty:new Ie(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ti(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ie.empty:new Ie(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ti(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ti(n.from,n.to,Ie.fromJSON(e,n.slice),!!n.structure)}}Ui.jsonID("replace",ti);class ni extends Ui{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(lC(e,this.from,this.gapFrom)||lC(e,this.gapTo,this.to)))return Ar.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ar.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ar.fromReplace(e,this.from,this.to,r):Ar.fail("Content does not fit in gap")}getMap(){return new Zs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ni(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new ni(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ni(n.from,n.to,n.gapFrom,n.gapTo,Ie.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ui.jsonID("replaceAround",ni);function lC(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function WP(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(u,d,m)=>{if(!u.isInline)return;let g=u.marks;if(!r.isInSet(g)&&m.type.allowsMarkType(r.type)){let b=Math.max(d,e),x=Math.min(d+u.nodeSize,n),S=r.addToSet(g);for(let k=0;k<g.length;k++)g[k].isInSet(S)||(a&&a.to==b&&a.mark.eq(g[k])?a.to=x:i.push(a=new go(b,x,g[k])));l&&l.to==b?l.to=x:s.push(l=new Lu(b,x,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function JP(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof Bx){let d=a.marks,m;for(;m=r.isInSet(d);)(u||(u=[])).push(m),d=m.removeFromSet(d)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let d=Math.min(l+a.nodeSize,n);for(let m=0;m<u.length;m++){let g=u[m],b;for(let x=0;x<i.length;x++){let S=i[x];S.step==s-1&&g.eq(i[x].style)&&(b=S)}b?(b.to=d,b.step=s):i.push({style:g,from:Math.max(l,e),to:d,step:s})}}}),i.forEach(a=>t.step(new go(a.from,a.to,a.style)))}function HE(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let u=0;u<s.childCount;u++){let d=s.child(u),m=l+d.nodeSize,g=r.matchType(d.type);if(!g)a.push(new ti(l,m,Ie.empty));else{r=g;for(let b=0;b<d.marks.length;b++)n.allowsMarkType(d.marks[b].type)||t.step(new go(l,m,d.marks[b]));if(i&&d.isText&&n.whitespace!="pre"){let b,x=/\r?\n|\r/g,S;for(;b=x.exec(d.text);)S||(S=new Ie(ke.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),a.push(new ti(l+b.index,l+b.index+b[0].length,S))}}l=m}if(!r.validEnd){let u=r.fillBefore(ke.empty,!0);t.replace(l,l,new Ie(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function $P(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Gp(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let a=t.$from.node(r),l=t.$from.index(r)+i,u=t.$to.indexAfter(r)-s;if(r<t.depth&&a.canReplace(l,u,n))return r;if(r==0||a.type.spec.isolating||!$P(a,l,u))break;l&&(i=1),u<a.childCount&&(s=1)}return null}function ZP(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),u=a,d=l,m=ke.empty,g=0;for(let S=s,k=!1;S>n;S--)k||r.index(S)>0?(k=!0,m=ke.from(r.node(S).copy(m)),g++):u--;let b=ke.empty,x=0;for(let S=s,k=!1;S>n;S--)k||i.after(S+1)<i.end(S)?(k=!0,b=ke.from(i.node(S).copy(b)),x++):d++;t.step(new ni(u,d,a,l,new Ie(m.append(b),g,x),m.size-g,!0))}function UE(t,e,n=null,r=t){let i=eB(t,e),s=i&&tB(r,e);return s?i.map(gk).concat({type:e,attrs:n}).concat(s.map(gk)):null}function gk(t){return{type:t,attrs:null}}function eB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function tB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let d=r;u&&d<i;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:a}function nB(t,e,n){let r=ke.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ke.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new ni(i,s,i,s,new Ie(r,0,0),n.length,!0))}function rB(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&iB(t.doc,t.mapping.slice(s).map(l),r)){let d=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!S?d=!1:!x&&S&&(d=!0)}d===!1&&EA(t,a,l,s),HE(t,t.mapping.slice(s).map(l,1),r,void 0,d===null);let m=t.mapping.slice(s),g=m.map(l,1),b=m.map(l+a.nodeSize,1);return t.step(new ni(g,b,g+1,b-1,new Ie(ke.from(r.create(u,null,a.marks)),0,0),1,!0)),d===!0&&CA(t,a,l,s),!1}})}function CA(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function EA(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function iB(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function sB(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ni(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ie(ke.from(a),0,0),1,!0))}function uc(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,m=n-2;d>s;d--,m--){let g=i.node(d),b=i.index(d);if(g.type.spec.isolating)return!1;let x=g.content.cutByIndex(b,g.childCount),S=r&&r[m+1];S&&(x=x.replaceChild(0,S.type.create(S.attrs)));let k=r&&r[m]||g;if(!g.canReplace(b+1,g.childCount)||!k.type.validContent(x))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}function aB(t,e,n=1,r){let i=t.doc.resolve(e),s=ke.empty,a=ke.empty;for(let l=i.depth,u=i.depth-n,d=n-1;l>u;l--,d--){s=ke.from(i.node(l).copy(s));let m=r&&r[d];a=ke.from(m?m.type.create(m.attrs,a):i.node(l).copy(a))}t.step(new ti(e,e,new Ie(s.append(a),n,n),!0))}function Wu(t,e){let n=t.resolve(e),r=n.index();return kA(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function oB(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function kA(t,e){return!!(t&&e&&!t.isLeaf&&oB(t,e))}function Ix(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&kA(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function lB(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let m=a.whitespace=="pre",g=!!a.contentMatch.matchType(i);m&&!g?r=!1:!m&&g&&(r=!0)}let l=t.steps.length;if(r===!1){let m=t.doc.resolve(e+n);EA(t,m.node(),m.before(),l)}a.inlineContent&&HE(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(l),d=u.map(e-n);if(t.step(new ti(d,u.map(e+n,-1),Ie.empty,!0)),r===!0){let m=t.doc.resolve(d);CA(t,m.node(),m.before(),t.steps.length)}return t}function cB(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function TA(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),d=r.node(a),m=!1;if(s==1)m=d.canReplace(u,u,i);else{let g=d.contentMatchAt(u).findWrapping(i.firstChild.type);m=g&&d.canReplaceWith(u,u,g[0])}if(m)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function Hx(t,e,n=e,r=Ie.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return _A(i,s,r)?new ti(e,n,r):new uB(i,s,r).fit()}function _A(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class uB{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ke.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ke.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let u=new Ie(s,a,l);return e>-1?new ni(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new ti(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=CS(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:d}=this.frontier[l],m,g=null;if(n==1&&(a?d.matchType(a.type)||(g=d.fillBefore(ke.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:g};if(n==2&&a&&(m=d.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:m};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=CS(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ie(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=CS(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ie(Kg(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ie(Kg(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-e,d=0,m=[],{match:g,type:b}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)m.push(i.child(k));g=g.matchFragment(i)}let x=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let k=l.child(d),_=g.matchType(k.type);if(!_)break;d++,(d>1||u==0||k.content.size)&&(g=_,m.push(MA(k.mark(b.allowedMarks(k.marks)),d==1?u:0,d==l.childCount?x:-1)))}let S=d==l.childCount;S||(x=-1),this.placed=Xg(this.placed,n,ke.from(m)),this.frontier[n].match=g,S&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,_=l;k<x;k++){let A=_.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),_=A.content}this.unplaced=S?e==0?Ie.empty:new Ie(Kg(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new Ie(Kg(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ES(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=ES(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:d}=this.frontier[l],m=ES(e,l,d,u,!0);if(!m||m.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Xg(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Xg(this.placed,this.depth,ke.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ke.empty,!0);n.childCount&&(this.placed=Xg(this.placed,this.frontier.length,n))}}function Kg(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Kg(t.firstChild.content,e-1,n)))}function Xg(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Xg(t.lastChild.content,e-1,n)))}function CS(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function MA(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,MA(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ke.empty,!0)))),t.copy(r)}function ES(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!fB(n,s.content,a)?l:null}function fB(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function dB(t){return t.spec.defining||t.spec.definingForContent}function hB(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(_A(i,s,r))return t.step(new ti(e,n,r));let a=NA(i,s);a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let b=i.depth,x=i.pos-1;b>0;b--,x--){let S=i.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;a.indexOf(b)>-1?l=b:i.before(b)==x&&a.splice(1,0,-b)}let u=a.indexOf(l),d=[],m=r.openStart;for(let b=r.content,x=0;;x++){let S=b.firstChild;if(d.push(S),x==r.openStart)break;b=S.content}for(let b=m-1;b>=0;b--){let x=d[b],S=dB(x.type);if(S&&!x.sameMarkup(i.node(Math.abs(l)-1)))m=b;else if(S||!x.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let x=(b+m+1)%(r.openStart+1),S=d[x];if(S)for(let k=0;k<a.length;k++){let _=a[(k+u)%a.length],A=!0;_<0&&(A=!1,_=-_);let O=i.node(_-1),z=i.index(_-1);if(O.canReplaceWith(z,z,S.type,S.marks))return t.replace(i.before(_),A?s.after(_):n,new Ie(AA(r.content,0,r.openStart,x),x,r.openEnd))}}let g=t.steps.length;for(let b=a.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>g));b--){let x=a[b];x<0||(e=i.before(x),n=s.after(x))}}function AA(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(AA(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(ke.empty,!0))}return t}function pB(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=cB(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ie(ke.from(r),0,0))}function mB(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=NA(r,i);for(let a=0;a<s.length;a++){let l=s[a],u=a==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function NA(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class bp extends Ui{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ar.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ar.fromReplace(e,this.pos,this.pos+1,new Ie(ke.from(i),0,n.isLeaf?0:1))}getMap(){return Zs.empty}invert(e){return new bp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bp(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new bp(n.pos,n.attr,n.value)}}Ui.jsonID("attr",bp);class D0 extends Ui{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ar.ok(r)}getMap(){return Zs.empty}invert(e){return new D0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new D0(n.attr,n.value)}}Ui.jsonID("docAttr",D0);let Tp=class extends Error{};Tp=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Tp.prototype=Object.create(Error.prototype);Tp.prototype.constructor=Tp;Tp.prototype.name="TransformError";let RA=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new O0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Tp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ie.empty){let i=Hx(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ie(ke.from(r),0,0))}delete(e,n){return this.replace(e,n,Ie.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return hB(this,e,n,r),this}replaceRangeWith(e,n,r){return pB(this,e,n,r),this}deleteRange(e,n){return mB(this,e,n),this}lift(e,n){return ZP(this,e,n),this}join(e,n=1){return lB(this,e,n),this}wrap(e,n){return nB(this,e,n),this}setBlockType(e,n=e,r,i=null){return rB(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return sB(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new bp(e,n,r)),this}setDocAttribute(e,n){return this.step(new D0(e,n)),this}addNodeMark(e,n){return this.step(new Pu(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof an)n.isInSet(r.marks)&&this.step(new bd(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new bd(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return aB(this,e,n,r),this}addMark(e,n,r){return WP(this,e,n,r),this}removeMark(e,n,r){return JP(this,e,n,r),this}clearIncompatible(e,n,r){return HE(this,e,n,r),this}};const kS=Object.create(null);class Et{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new gB(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ie.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:d}=a[l],m=e.mapping.slice(s);e.replaceRange(m.map(u.pos),m.map(d.pos),l?Ie.empty:n),l==0&&vk(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],u=e.mapping.slice(r),d=u.map(a.pos),m=u.map(l.pos);s?e.deleteRange(d,m):(e.replaceRangeWith(d,m,n),vk(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new lt(e):up(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?up(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):up(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new na(e.node(0))}static atStart(e){return up(e,e,0,0,1)||new na(e)}static atEnd(e){return up(e,e,e.content.size,e.childCount,-1)||new na(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=kS[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in kS)throw new RangeError("Duplicate use of selection JSON ID "+e);return kS[e]=n,n.prototype.jsonID=e,n}getBookmark(){return lt.between(this.$anchor,this.$head).getBookmark()}}Et.prototype.visible=!0;class gB{constructor(e,n){this.$from=e,this.$to=n}}let yk=!1;function bk(t){!yk&&!t.parent.inlineContent&&(yk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class lt extends Et{constructor(e,n=e){bk(e),bk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Et.near(r);let i=e.resolve(n.map(this.anchor));return new lt(i.parent.inlineContent?i:r,r)}replace(e,n=Ie.empty){if(super.replace(e,n),n==Ie.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof lt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ux(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new lt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Et.findFrom(n,r,!0)||Et.findFrom(n,-r,!0);if(s)n=s.$head;else return Et.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Et.findFrom(e,-r,!0)||Et.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new lt(e,n)}}Et.jsonID("text",lt);class Ux{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ux(e.map(this.anchor),e.map(this.head))}resolve(e){return lt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ze extends Et{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Et.near(s):new Ze(s)}content(){return new Ie(ke.from(this.node),0,0)}eq(e){return e instanceof Ze&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new FE(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ze(e.resolve(n.anchor))}static create(e,n){return new Ze(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ze.prototype.visible=!1;Et.jsonID("node",Ze);class FE{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ux(r,r):new FE(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ze.isSelectable(r)?new Ze(n):Et.near(n)}}class na extends Et{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ie.empty){if(n==Ie.empty){e.delete(0,e.doc.content.size);let r=Et.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new na(e)}map(e){return new na(e)}eq(e){return e instanceof na}getBookmark(){return yB}}Et.jsonID("all",na);const yB={map(){return this},resolve(t){return new na(t)}};function up(t,e,n,r,i,s=!1){if(e.inlineContent)return lt.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&Ze.isSelectable(l))return Ze.create(t,n-(i<0?l.nodeSize:0))}else{let u=up(t,l,n+i,i<0?l.childCount:0,i,s);if(u)return u}n+=l.nodeSize*i}return null}function vk(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ti||i instanceof ni))return;let s=t.mapping.maps[r],a;s.forEach((l,u,d,m)=>{a==null&&(a=m)}),t.setSelection(Et.near(t.doc.resolve(a),n))}const xk=1,hb=2,Sk=4;class bB extends RA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|xk)&~hb,this.storedMarks=null,this}get selectionSet(){return(this.updated&xk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hb,this}ensureMarks(e){return an.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hb)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~hb,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||an.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Et.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Sk,this}get scrolledIntoView(){return(this.updated&Sk)>0}}function wk(t,e){return!e||!t?t:t.bind(e)}class Qg{constructor(e,n,r){this.name=e,this.init=wk(n.init,r),this.apply=wk(n.apply,r)}}const vB=[new Qg("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Qg("selection",{init(t,e){return t.selection||Et.atStart(e.doc)},apply(t){return t.selection}}),new Qg("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Qg("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class TS{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=vB.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Qg(r.key,r.spec.state,r))})}}class gp{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=i?i[a].n:0,d=i?i[a].state:this,m=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,d,r);if(m&&r.filterTransaction(m,a)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<a?{state:r,n:n.length}:{state:this,n:0})}n.push(m),r=r.applyInner(m),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new gp(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new bB(this)}static create(e){let n=new TS(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new gp(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new TS(this.schema,e.plugins),r=n.fields,i=new gp(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new TS(e.schema,e.plugins),s=new gp(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Hu.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Et.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],d=u.spec.state;if(u.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=d.fromJSON.call(u,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function OA(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=OA(i,e,{})),n[r]=i}return n}class Zn{constructor(e){this.spec=e,this.props={},e.props&&OA(e.props,this,this.props),this.key=e.key?e.key.key:DA("plugin")}getState(e){return e[this.key]}}const _S=Object.create(null);function DA(t){return t in _S?t+"$"+ ++_S[t]:(_S[t]=0,t+"$")}class qr{constructor(e="key"){this.key=DA(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const GE=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function zA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const jA=(t,e,n)=>{let r=zA(t,n);if(!r)return!1;let i=qE(r);if(!i){let a=r.blockRange(),l=a&&Gp(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(qA(t,i,e,-1))return!0;if(r.parent.content.size==0&&(_p(s,"end")||Ze.isSelectable(s)))for(let a=r.depth;;a--){let l=Hx(t.doc,r.before(a),r.after(a),Ie.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(_p(s,"end")?Et.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Ze.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},xB=(t,e,n)=>{let r=zA(t,n);if(!r)return!1;let i=qE(r);return i?LA(t,i,e):!1},SB=(t,e,n)=>{let r=BA(t,n);if(!r)return!1;let i=VE(r);return i?LA(t,i,e):!1};function LA(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let m=i.lastChild;if(!m)return!1;i=m}let a=e.nodeAfter,l=a,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let m=l.firstChild;if(!m)return!1;l=m}let d=Hx(t.doc,s,u,Ie.empty);if(!d||d.from!=s||d instanceof ti&&d.slice.size>=u-s)return!1;if(n){let m=t.tr.step(d);m.setSelection(lt.create(m.doc,s)),n(m.scrollIntoView())}return!0}function _p(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const PA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=qE(r)}let a=s&&s.nodeBefore;return!a||!Ze.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ze.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function qE(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function BA(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const IA=(t,e,n)=>{let r=BA(t,n);if(!r)return!1;let i=VE(r);if(!i)return!1;let s=i.nodeAfter;if(qA(t,i,e,1))return!0;if(r.parent.content.size==0&&(_p(s,"start")||Ze.isSelectable(s))){let a=Hx(t.doc,r.before(),r.after(),Ie.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(_p(s,"start")?Et.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Ze.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},HA=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=VE(r)}let a=s&&s.nodeAfter;return!a||!Ze.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ze.create(t.doc,s.pos)).scrollIntoView()),!0)};function VE(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const wB=(t,e)=>{let n=t.selection,r=n instanceof Ze,i;if(r){if(n.node.isTextblock||!Wu(t.doc,n.from))return!1;i=n.from}else if(i=Ix(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Ze.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},CB=(t,e)=>{let n=t.selection,r;if(n instanceof Ze){if(n.node.isTextblock||!Wu(t.doc,n.to))return!1;r=n.to}else if(r=Ix(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},EB=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Gp(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},UA=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function YE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const kB=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=YE(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,a.createAndFill());u.setSelection(Et.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},FA=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof na||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=YE(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(lt.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},GA=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(uc(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Gp(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function TB(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Ze&&e.selection.node.isBlock)return!r.parentOffset||!uc(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,u=!1,d=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){u=r.end(x)==r.pos+(r.depth-x),d=r.start(x)==r.pos-(r.depth-x),l=YE(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),s.unshift(u&&l?{type:l}:null),a=x;break}else{if(x==1)return!1;s.unshift(null)}let m=e.tr;(e.selection instanceof lt||e.selection instanceof na)&&m.deleteSelection();let g=m.mapping.map(r.pos),b=uc(m.doc,g,s.length,s);if(b||(s[0]=l?{type:l}:null,b=uc(m.doc,g,s.length,s)),!b)return!1;if(m.split(g,s.length,s),!u&&d&&r.node(a).type!=l){let x=m.mapping.map(r.before(a)),S=m.doc.resolve(x);l&&r.node(a-1).canReplaceWith(S.index(),S.index()+1,l)&&m.setNodeMarkup(m.mapping.map(r.before(a)),l)}return n&&n(m.scrollIntoView()),!0}}const _B=TB(),MB=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Ze.create(t.doc,i))),!0)};function AB(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Wu(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function qA(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&AB(t,e,n))return!0;let d=!u&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let x=e.pos+s.nodeSize,S=ke.empty;for(let A=a.length-1;A>=0;A--)S=ke.from(a[A].create(null,S));S=ke.from(i.copy(S));let k=t.tr.step(new ni(e.pos-1,x,e.pos,x,new Ie(S,1,0),a.length,!0)),_=k.doc.resolve(x+2*a.length);_.nodeAfter&&_.nodeAfter.type==i.type&&Wu(k.doc,_.pos)&&k.join(_.pos),n(k.scrollIntoView())}return!0}let m=s.type.spec.isolating||r>0&&u?null:Et.findFrom(e,1),g=m&&m.$from.blockRange(m.$to),b=g&&Gp(g);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(d&&_p(s,"start",!0)&&_p(i,"end")){let x=i,S=[];for(;S.push(x),!x.isTextblock;)x=x.lastChild;let k=s,_=1;for(;!k.isTextblock;k=k.firstChild)_++;if(x.canReplace(x.childCount,x.childCount,k.content)){if(n){let A=ke.empty;for(let z=S.length-1;z>=0;z--)A=ke.from(S[z].copy(A));let O=t.tr.step(new ni(e.pos-S.length,e.pos+s.nodeSize,e.pos+_,e.pos+s.nodeSize-_,new Ie(A,S.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function VA(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(lt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const NB=VA(-1),RB=VA(1);function OB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&UE(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function Ck(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(u,d)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let m=n.doc.resolve(d),g=m.index();i=m.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(l,u,t,e)}r(s.scrollIntoView())}return!0}}function KE(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}KE(GE,jA,PA);KE(GE,IA,HA);KE(UA,FA,GA,_B);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function DB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return zB(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function zB(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);s=new xv(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new xv(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=UE(s,n,r,e);return l?(t&&jB(t,e,l,i,n),!0):!1}function jB(t,e,n,r,i){let s=ke.empty;for(let m=n.length-1;m>=0;m--)s=ke.from(n[m].type.create(n[m].attrs,s));t.step(new ni(e.start-(r?2:0),e.end,e.start,e.end,new Ie(s,0,0),n.length,!0));let a=0;for(let m=0;m<n.length;m++)n[m].type==i&&(a=m+1);let l=n.length-a,u=e.start+n.length-(r?2:0),d=e.parent;for(let m=e.startIndex,g=e.endIndex,b=!0;m<g;m++,b=!1)!b&&uc(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=d.child(m).nodeSize;return t}function LB(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?PB(e,n,t,s):BB(e,n,s):!0:!1}}function PB(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new ni(s-1,a,s,a,new Ie(ke.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new xv(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=Gp(r);if(l==null)return!1;i.lift(r,l);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return Wu(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function BB(t,e,n){let r=t.tr,i=n.parent;for(let x=n.end,S=n.endIndex-1,k=n.startIndex;S>k;S--)x-=i.child(S).nodeSize,r.delete(x-1,x+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,d=s.node(-1),m=s.index(-1);if(!d.canReplace(m+(l?0:1),m+1,a.content.append(u?ke.empty:ke.from(i))))return!1;let g=s.pos,b=g+a.nodeSize;return r.step(new ni(g-(l?1:0),b+(u?1:0),g+1,b-1,new Ie((l?ke.empty:ke.from(i.copy(ke.empty))).append(u?ke.empty:ke.from(i.copy(ke.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function IB(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,u=l.child(a-1);if(u.type!=t)return!1;if(n){let d=u.lastChild&&u.lastChild.type==l.type,m=ke.from(d?t.create():null),g=new Ie(ke.from(t.create(null,ke.from(l.type.create(null,m)))),d?3:1,0),b=s.start,x=s.end;n(e.tr.step(new ni(b-(d?3:1),x,b,x,g,1,!0)).scrollIntoView())}return!0}}const wi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Mp=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let cC=null;const ac=function(t,e,n){let r=cC||(cC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},HB=function(){cC=null},vd=function(t,e,n,r){return n&&(Ek(t,e,n,r,-1)||Ek(t,e,n,r,1))},UB=/^(img|br|input|textarea|hr)$/i;function Ek(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ha(t))){let a=t.parentNode;if(!a||a.nodeType!=1||ey(t)||UB.test(t.nodeName)||t.contentEditable=="false")return!1;e=wi(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?Ha(t):0}else return!1}}function Ha(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function FB(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ha(t)}else if(t.parentNode&&!ey(t))e=wi(t),t=t.parentNode;else return null}}function GB(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ey(t))e=wi(t)+1,t=t.parentNode;else return null}}function qB(t,e,n){for(let r=e==0,i=e==Ha(t);r||i;){if(t==n)return!0;let s=wi(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ha(t)}}function ey(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Fx=function(t){return t.focusNode&&vd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Zf(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function VB(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function YB(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ha(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ha(r.startContainer),r.startOffset)}}}const hl=typeof navigator<"u"?navigator:null,kk=typeof document<"u"?document:null,Ju=hl&&hl.userAgent||"",uC=/Edge\/(\d+)/.exec(Ju),YA=/MSIE \d/.exec(Ju),fC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ju),Fs=!!(YA||fC||uC),Fu=YA?document.documentMode:fC?+fC[1]:uC?+uC[1]:0,Fa=!Fs&&/gecko\/(\d+)/i.test(Ju);Fa&&+(/Firefox\/(\d+)/.exec(Ju)||[0,0])[1];const dC=!Fs&&/Chrome\/(\d+)/.exec(Ju),Ii=!!dC,KA=dC?+dC[1]:0,ds=!Fs&&!!hl&&/Apple Computer/.test(hl.vendor),Ap=ds&&(/Mobile\/\w+/.test(Ju)||!!hl&&hl.maxTouchPoints>2),Pa=Ap||(hl?/Mac/.test(hl.platform):!1),KB=hl?/Win/.test(hl.platform):!1,cc=/Android \d/.test(Ju),ty=!!kk&&"webkitFontSmoothing"in kk.documentElement.style,XB=ty?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function QB(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ec(t,e){return typeof t=="number"?t:t[e]}function WB(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Tk(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Mp(a);continue}let l=a,u=l==s.body,d=u?QB(s):WB(l),m=0,g=0;if(e.top<d.top+ec(r,"top")?g=-(d.top-e.top+ec(i,"top")):e.bottom>d.bottom-ec(r,"bottom")&&(g=e.bottom-e.top>d.bottom-d.top?e.top+ec(i,"top")-d.top:e.bottom-d.bottom+ec(i,"bottom")),e.left<d.left+ec(r,"left")?m=-(d.left-e.left+ec(i,"left")):e.right>d.right-ec(r,"right")&&(m=e.right-d.right+ec(i,"right")),m||g)if(u)s.defaultView.scrollBy(m,g);else{let x=l.scrollLeft,S=l.scrollTop;g&&(l.scrollTop+=g),m&&(l.scrollLeft+=m);let k=l.scrollLeft-x,_=l.scrollTop-S;e={left:e.left-k,top:e.top-_,right:e.right-k,bottom:e.bottom-_}}let b=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(b))break;a=b=="absolute"?a.offsetParent:Mp(a)}}function JB(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:XA(t.dom)}}function XA(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Mp(r));return e}function $B({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;QA(n,r==0?0:r-e)}function QA(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Zh=null;function ZB(t){if(t.setActive)return t.setActive();if(Zh)return t.focus(Zh);let e=XA(t);t.focus(Zh==null?{get preventScroll(){return Zh={preventScroll:!0},!0}}:void 0),Zh||(Zh=!1,QA(e,0))}function WA(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,u,d;for(let m=t.firstChild,g=0;m;m=m.nextSibling,g++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=ac(m).getClientRects();else continue;for(let x=0;x<b.length;x++){let S=b[x];if(S.top<=a&&S.bottom>=l){a=Math.max(S.bottom,a),l=Math.min(S.top,l);let k=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(k<r){n=m,r=k,i=k&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,m.nodeType==1&&k&&(s=g+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!u&&S.left<=e.left&&S.right>=e.left&&(u=m,d={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(s=g+1)}}return!n&&u&&(n=u,i=d,r=0),n&&n.nodeType==3?eI(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:WA(n,i)}function eI(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Cu(r,1);if(s.top!=s.bottom&&XE(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function XE(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function tI(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function nI(t,e,n){let{node:r,offset:i}=WA(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function rI(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?i=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function JA(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(XE(e,d))return JA(a,e,d)}}if((s=(s+1)%r)==i)break}return t}function iI(t,e){let n=t.dom.ownerDocument,r,i=0,s=YB(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=t.dom.getBoundingClientRect();if(!XE(e,d)||(a=JA(t.dom,e,d),!a))return null}if(ds)for(let d=a;r&&d;d=Mp(d))d.draggable&&(r=void 0);if(a=tI(a,e),r){if(Fa&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let m=r.childNodes[i],g;m.nodeName=="IMG"&&(g=m.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let d;ty&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=rI(t,r,i,e))}l==null&&(l=nI(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function _k(t){return t.top<t.bottom||t.left<t.right}function Cu(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(_k(r))return r}return Array.prototype.find.call(n,_k)||t.getBoundingClientRect()}const sI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $A(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=ty||Fa;if(r.nodeType==3)if(a&&(sI.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Cu(ac(r,i,i),n);if(Fa&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=Cu(ac(r,i-1,i-1),-1);if(d.top==u.top){let m=Cu(ac(r,i,i+1),-1);if(m.top!=u.top)return Og(m,m.left<d.left)}}return u}else{let u=i,d=i,m=n<0?1:-1;return n<0&&!i?(d++,m=-1):n>=0&&i==r.nodeValue.length?(u--,m=1):n<0?u--:d++,Og(Cu(ac(r,u,d),m),m<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ha(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return MS(u.getBoundingClientRect(),!1)}if(s==null&&i<Ha(r)){let u=r.childNodes[i];if(u.nodeType==1)return MS(u.getBoundingClientRect(),!0)}return MS(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ha(r))){let u=r.childNodes[i-1],d=u.nodeType==3?ac(u,Ha(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return Og(Cu(d,1),!1)}if(s==null&&i<Ha(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?ac(u,0,a?0:1):u.nodeType==1?u:null:null;if(d)return Og(Cu(d,-1),!0)}return Og(Cu(r.nodeType==3?ac(r):r,-n),n>=0)}function Og(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function MS(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function ZA(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function aI(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return ZA(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=$A(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=ac(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let m=u[d];if(m.bottom>m.top+1&&(n=="up"?a.top-m.top>(m.bottom-a.top)*2:m.bottom-a.bottom>(a.bottom-m.top)*2))return!1}}return!0})}const oI=/[\u0590-\u08ac]/;function lI(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!oI.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:ZA(t,e,()=>{let{focusNode:u,focusOffset:d,anchorNode:m,anchorOffset:g}=t.domSelectionRange(),b=l.caretBidiLevel;l.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:S,focusOffset:k}=t.domSelectionRange(),_=S&&!x.contains(S.nodeType==1?S:S.parentNode)||u==S&&d==k;try{l.collapse(m,g),u&&(u!=m||d!=g)&&l.extend&&l.extend(u,d)}catch{}return b!=null&&(l.caretBidiLevel=b),_}):r.pos==r.start()||r.pos==r.end()}let Mk=null,Ak=null,Nk=!1;function cI(t,e,n){return Mk==e&&Ak==n?Nk:(Mk=e,Ak=n,Nk=n=="up"||n=="down"?aI(t,e,n):lI(t,e,n))}const Ga=0,Rk=1,nd=2,pl=3;class ny{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ga,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>wi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof tN){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof eN&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?wi(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?wi(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let u=this.children[l],d=a+u.size;if(i==-1&&e<=d){let m=a+u.border;if(e>=m&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,m);e=a;for(let g=l;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){i=wi(b.dom)+1;break}e-=b.size}i==-1&&(i=0)}if(i>-1&&(d>n||l==this.children.length-1)){n=d;for(let m=l+1;m<this.children.length;m++){let g=this.children[m];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=wi(g.dom);break}n+=g.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let x=0,S=0;x<this.children.length;x++){let k=this.children[x],_=S+k.size;if(s>S&&a<_)return k.setSelection(e-S-k.border,n-S-k.border,r,i);S=_}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),m=r.domSelectionRange(),g=!1;if((Fa||ds)&&e==n){let{node:x,offset:S}=l;if(x.nodeType==3){if(g=!!(S&&x.nodeValue[S-1]==`
`),g&&S==x.nodeValue.length)for(let k=x,_;k;k=k.parentNode){if(_=k.nextSibling){_.nodeName=="BR"&&(l=u={node:_.parentNode,offset:wi(_)+1});break}let A=k.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let k=x.childNodes[S-1];g=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Fa&&m.focusNode&&m.focusNode!=u.node&&m.focusNode.nodeType==1){let x=m.focusNode.childNodes[m.focusOffset];x&&x.contentEditable=="false"&&(i=!0)}if(!(i||g&&ds)&&vd(l.node,l.offset,m.anchorNode,m.anchorOffset)&&vd(u.node,u.offset,m.focusNode,m.focusOffset))return;let b=!1;if((d.extend||e==n)&&!(g&&Fa)){d.collapse(l.node,l.offset);try{e!=n&&d.extend(u.node,u.offset),b=!0}catch{}}if(!b){if(e>n){let S=l;l=u,u=S}let x=document.createRange();x.setEnd(u.node,u.offset),x.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,u=a-s.border;if(e>=l&&n<=u){this.dirty=e==r||n==a?nd:Rk,e==l&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=pl:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?nd:pl}r=a}this.dirty=nd}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?nd:Rk;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class eN extends ny{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ga&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class uI extends ny{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xd extends ny{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=_d.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new xd(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&pl||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=pl&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ga){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ga}}slice(e,n,r){let i=xd.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=pC(s,n,a,r)),e>0&&(s=pC(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Gu extends ny{constructor(e,n,r,i,s,a,l,u,d){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],u,d=l&&l(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),m=d&&d.dom,g=d&&d.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:g}=_d.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let b=m;return m=iN(m,r,n),d?u=new fI(e,n,r,i,m,g||null,b,d,s,a+1):n.isText?new Gx(e,n,r,i,m,b,s):new Gu(e,n,r,i,m,g||null,b,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ke.empty)}return e}matchesNode(e,n,r){return this.dirty==Ga&&e.eq(this.node)&&wv(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new hI(this,a&&a.node,e);gI(this.node,this.innerDeco,(d,m,g)=>{d.spec.marks?u.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!g&&u.syncToMarks(m==this.node.childCount?an.none:this.node.child(m).marks,r,e),u.placeWidget(d,e,i)},(d,m,g,b)=>{u.syncToMarks(d.marks,r,e);let x;u.findNodeMatch(d,m,g,b)||l&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(x=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(d,m,g,x,e)||u.updateNextNode(d,m,g,e,b,i)||u.addNode(d,m,g,e,i),i+=d.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==nd)&&(a&&this.protectLocalComposition(e,a),nN(this.contentDOM,this.children,e),Ap&&yI(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof lt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=bI(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new uI(this,s,n,i);e.input.compositionNodes.push(a),this.children=pC(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==pl||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ga}updateOuterDeco(e){if(wv(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=rN(this.dom,this.nodeDOM,hC(this.outerDeco,this.node,n),hC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Ok(t,e,n,r,i){iN(r,e,t);let s=new Gu(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Gx extends Gu{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==pl||this.dirty!=Ga&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ga||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ga,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Gx(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=pl)}get domAtom(){return!1}isText(e){return this.node.text==e}}class tN extends ny{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ga&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class fI extends Gu{constructor(e,n,r,i,s,a,l,u,d,m){super(e,n,r,i,s,a,l,d,m),this.spec=u}update(e,n,r,i){if(this.dirty==pl)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function nN(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=Dk(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof xd){let u=r?r.previousSibling:t.lastChild;nN(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=Dk(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const s0=function(t){t&&(this.nodeName=t)};s0.prototype=Object.create(null);const rd=[new s0];function hC(t,e,n){if(t.length==0)return rd;let r=n?rd[0]:new s0,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new s0(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&i.length==1&&i.push(r=new s0(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function rN(t,e,n,r){if(n==rd&&r==rd)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let u;l&&l.nodeName==a.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=rd[0]),i=u}dI(i,l||rd[0],a)}return i}function dI(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function iN(t,e,n){return rN(t,t,rd,hC(e,n,t.nodeType!=1))}function wv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Dk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class hI{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=pI(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ga,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let d=this.top.children[u];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=xd.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let d=this.top.children[l];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==pl&&a.dom==a.contentDOM&&(a.dirty=nd),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Gu){let d=this.preMatch.matched.get(u);if(d!=null&&d!=s)return!1;let m=u.dom,g,b=this.isLocked(m)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=pl&&wv(n,u.outerDeco));if(!b&&u.update(e,n,r,i))return this.destroyBetween(this.index,l),u.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(u,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=nd,g.updateChildren(i,a+1),g.dirty=Ga),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!wv(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Gu.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=Gu.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new eN(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof xd;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Gx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ds||Ii)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new tN(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function pI(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let d=n.children[r-1];if(d instanceof xd)n=d,r=d.children.length;else{l=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function mI(t,e){return t.type.side-e.type.side}function gI(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let m=t.child(d);r(m,i,e.forChild(s,m),d),s+=m.nodeSize}return}let a=0,l=[],u=null;for(let d=0;;){let m,g;for(;a<i.length&&i[a].to==s;){let _=i[a++];_.widget&&(m?(g||(g=[m])).push(_):m=_)}if(m)if(g){g.sort(mI);for(let _=0;_<g.length;_++)n(g[_],d,!!u)}else n(m,d,!!u);let b,x;if(u)x=-1,b=u,u=null;else if(d<t.childCount)x=d,b=t.child(d++);else break;for(let _=0;_<l.length;_++)l[_].to<=s&&l.splice(_--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let S=s+b.nodeSize;if(b.isText){let _=S;a<i.length&&i[a].from<_&&(_=i[a].from);for(let A=0;A<l.length;A++)l[A].to<_&&(_=l[A].to);_<S&&(u=b.cut(_-s),b=b.cut(0,_-s),S=_,x=-1)}else for(;a<i.length&&i[a].to<S;)a++;let k=b.isInline&&!b.isLeaf?l.filter(_=>!_.inline):l.slice();r(b,k,e.forChild(s,b),x),s=S}}function yI(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function bI(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<t.childCount;){let d=t.child(i++);if(s+=d.nodeSize,!d.isText)break;u+=d.text}if(s>=n){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let d=l<r?u.lastIndexOf(e,r-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function pC(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let u=t[a],d=l,m=l+=u.size;d>=n||m<=e?s.push(u):(d<e&&s.push(u.slice(0,e-d,r)),i&&(s.push(i),i=void 0),m>n&&s.push(u.slice(n-d,u.size,r)))}return s}function QE(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,d;if(Fx(n)){for(u=a;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&Ze.isSelectable(g)&&i.parent&&!(g.isInline&&qB(n.focusNode,n.focusOffset,i.dom))){let b=i.posBefore;d=new Ze(a==b?l:r.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=a,b=a;for(let x=0;x<n.rangeCount;x++){let S=n.getRangeAt(x);g=Math.min(g,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(g<0)return null;[u,a]=b==t.state.selection.anchor?[b,g]:[g,b],l=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let m=r.resolve(u);if(!d){let g=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;d=WE(t,m,l,g)}return d}function sN(t){return t.editable?t.hasFocus():oN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function fc(t,e=!1){let n=t.state.selection;if(aN(t,n),!!sN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ii){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&vd(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)xI(t);else{let{anchor:r,head:i}=n,s,a;zk&&!(n instanceof lt)&&(n.$from.parent.inlineContent||(s=jk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=jk(t,n.to))),t.docView.setSelection(r,i,t,e),zk&&(s&&Lk(s),a&&Lk(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vI(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const zk=ds||Ii&&KA<63;function jk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ds&&i&&i.contentEditable=="false")return AS(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return AS(i);if(s)return AS(s)}}function AS(t){return t.contentEditable="true",ds&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Lk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function vI(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!sN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function xI(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,wi(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Fs&&Fu<=11&&(n.disabled=!0,n.disabled=!1)}function aN(t,e){if(e instanceof Ze){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Pk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Pk(t)}function Pk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function WE(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||lt.between(e,n,r)}function Bk(t){return t.editable&&!t.hasFocus()?!1:oN(t)}function oN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function SI(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return vd(e.node,e.offset,n.anchorNode,n.anchorOffset)}function mC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Et.findFrom(s,e)}function _u(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Ik(t,e,n){let r=t.state.selection;if(r instanceof lt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return _u(t,new lt(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=mC(t.state,e);return i&&i instanceof Ze?_u(t,i):!1}else if(!(Pa&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Ze.isSelectable(s)?_u(t,new Ze(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):ty?_u(t,new lt(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ze&&r.node.isInline)return _u(t,new lt(e>0?r.$to:r.$from));{let i=mC(t.state,e);return i?_u(t,i):!1}}}function Cv(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function a0(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ep(t,e){return e<0?wI(t):CI(t)}function wI(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(Fa&&n.nodeType==1&&r<Cv(n)&&a0(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(a0(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(lN(n))break;{let l=n.previousSibling;for(;l&&a0(l,-1);)i=n.parentNode,s=wi(l),l=l.previousSibling;if(l)n=l,r=Cv(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?gC(t,n,r):i&&gC(t,i,s)}function CI(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Cv(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(a0(l,1))s=n,a=++r;else break}else{if(lN(n))break;{let l=n.nextSibling;for(;l&&a0(l,1);)s=l.parentNode,a=wi(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Cv(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&gC(t,s,a)}function lN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function EI(t,e){for(;t&&e==t.childNodes.length&&!ey(t);)e=wi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function kI(t,e){for(;t&&!e&&!ey(t);)e=wi(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function gC(t,e,n){if(e.nodeType!=3){let s,a;(a=EI(e,n))?(e=a,n=0):(s=kI(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Fx(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&fc(t)},50)}function Hk(t,e){let n=t.state.doc.resolve(e);if(!(Ii||KB)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Uk(t,e,n){let r=t.state.selection;if(r instanceof lt&&!r.empty||n.indexOf("s")>-1||Pa&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=mC(t.state,e);if(a&&a instanceof Ze)return _u(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof na?Et.near(a,e):Et.findFrom(a,e);return l?_u(t,l):!1}return!1}function Fk(t,e){if(!(t.state.selection instanceof lt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Gk(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function TI(t){if(!ds||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Gk(t,r,"true"),setTimeout(()=>Gk(t,r,"false"),20)}return!1}function _I(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function MI(t,e){let n=e.keyCode,r=_I(e);if(n==8||Pa&&n==72&&r=="c")return Fk(t,-1)||ep(t,-1);if(n==46&&!e.shiftKey||Pa&&n==68&&r=="c")return Fk(t,1)||ep(t,1);if(n==13||n==27)return!0;if(n==37||Pa&&n==66&&r=="c"){let i=n==37?Hk(t,t.state.selection.from)=="ltr"?-1:1:-1;return Ik(t,i,r)||ep(t,i)}else if(n==39||Pa&&n==70&&r=="c"){let i=n==39?Hk(t,t.state.selection.from)=="ltr"?1:-1:1;return Ik(t,i,r)||ep(t,i)}else{if(n==38||Pa&&n==80&&r=="c")return Uk(t,-1,r)||ep(t,-1);if(n==40||Pa&&n==78&&r=="c")return TI(t)||Uk(t,1,r)||ep(t,1);if(r==(Pa?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function JE(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=t.someProp("clipboardSerializer")||_d.fromSchema(t.state.schema),l=pN(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let d=u.firstChild,m,g=0;for(;d&&d.nodeType==1&&(m=hN[d.nodeName.toLowerCase()]);){for(let x=m.length-1;x>=0;x--){let S=l.createElement(m[x]);for(;u.firstChild;)S.appendChild(u.firstChild);u.appendChild(S),g++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${g?` -${g}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:b,slice:e}}function cN(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let u=!!e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",b=>{e=b(e,s||r,t)}),s)return l=new Ie(ke.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{l=b(l,t,!0)}),l;let g=t.someProp("clipboardTextParser",b=>b(e,i,r,t));if(g)l=g;else{let b=i.marks(),{schema:x}=t.state,S=_d.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let _=a.appendChild(document.createElement("p"));k&&_.appendChild(S.serializeNode(x.text(k,b)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),a=OI(n),ty&&DI(a);let d=a&&a.querySelector("[data-pm-slice]"),m=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let g=+m[3];g>0;g--){let b=a.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;a=b}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Uu.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||m),context:i,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!AI.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)l=zI(qk(l,+m[1],+m[2]),m[4]);else if(l=Ie.maxOpen(NI(l.content,i),!0),l.openStart||l.openEnd){let g=0,b=0;for(let x=l.content.firstChild;g<l.openStart&&!x.type.spec.isolating;g++,x=x.firstChild);for(let x=l.content.lastChild;b<l.openEnd&&!x.type.spec.isolating;b++,x=x.lastChild);l=qk(l,g,b)}return t.someProp("transformPasted",g=>{l=g(l,t,u)}),l}const AI=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function NI(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let u=i.findWrapping(l.type),d;if(!u)return a=null;if(d=a.length&&s.length&&fN(u,s,l,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=dN(a[a.length-1],s.length));let m=uN(l,u);a.push(m),i=i.matchType(m.type),s=u}}),a)return ke.from(a)}return t}function uN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ke.from(t));return t}function fN(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=fN(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ke.from(uN(n,t,i+1))))}}function dN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,dN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ke.empty,!0);return t.copy(n.append(r))}function yC(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=yC(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(ke.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function qk(t,e,n){return e<t.openStart&&(t=new Ie(yC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ie(yC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const hN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Vk=null;function pN(){return Vk||(Vk=document.implementation.createHTMLDocument("title"))}let NS=null;function RI(t){let e=window.trustedTypes;return e?(NS||(NS=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),NS.createHTML(t)):t}function OI(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=pN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&hN[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=RI(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function DI(t){let e=t.querySelectorAll(Ii?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function zI(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=ke.from(u.create(r[l+1],i)),s++,a++}return new Ie(i,s,a)}const hs={},ps={},jI={touchstart:!0,touchmove:!0};class LI{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function PI(t){for(let e in hs){let n=hs[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{II(t,r)&&!$E(t,r)&&(t.editable||!(r.type in ps))&&n(t,r)},jI[e]?{passive:!0}:void 0)}ds&&t.dom.addEventListener("input",()=>null),bC(t)}function Bu(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function BI(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function bC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>$E(t,r))})}function $E(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function II(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function HI(t,e){!$E(t,e)&&hs[e.type]&&(t.editable||!(e.type in ps))&&hs[e.type](t,e)}ps.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!gN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(cc&&Ii&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ap&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Zf(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||MI(t,n)?n.preventDefault():Bu(t,"key")};ps.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ps.keypress=(t,e)=>{let n=e;if(gN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Pa&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof lt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function qx(t){return{left:t.clientX,top:t.clientY}}function UI(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ZE(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function vp(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function FI(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ze.isSelectable(r)?(vp(t,new Ze(n)),!0):!1}function GI(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ze&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Ze.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(vp(t,Ze.create(t.state.doc,i)),!0):!1}function qI(t,e,n,r,i){return ZE(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?GI(t,n):FI(t,n))}function VI(t,e,n,r){return ZE(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function YI(t,e,n,r){return ZE(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||KI(t,n,r)}function KI(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(vp(t,lt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)vp(t,lt.create(r,l+1,l+1+a.content.size));else if(Ze.isSelectable(a))vp(t,Ze.create(r,l));else continue;return!0}}function e3(t){return Ev(t)}const mN=Pa?"metaKey":"ctrlKey";hs.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=e3(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&UI(n,t.input.lastClick)&&!n[mN]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(qx(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new XI(t,a,n,!!r)):(s=="doubleClick"?VI:YI)(t,a.pos,a.inside,n)?n.preventDefault():Bu(t,"pointer"))};class XI{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[mN],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let m=e.state.doc.resolve(n.pos);s=m.parent,a=m.depth?m.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Ze&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Fa&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bu(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>fc(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(qx(e))),this.updateAllowDefault(e),this.allowDefault||!n?Bu(this.view,"pointer"):qI(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ds&&this.mightDrag&&!this.mightDrag.node.isAtom||Ii&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vp(this.view,Et.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Bu(this.view,"pointer")}move(e){this.updateAllowDefault(e),Bu(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}hs.touchstart=t=>{t.input.lastTouch=Date.now(),e3(t),Bu(t,"pointer")};hs.touchmove=t=>{t.input.lastTouch=Date.now(),Bu(t,"pointer")};hs.contextmenu=t=>e3(t);function gN(t,e){return t.composing?!0:ds&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const QI=cc?5e3:-1;ps.compositionstart=ps.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof lt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Ev(t,!0),t.markCursor=null;else if(Ev(t,!e.selection.empty),Fa&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}yN(t,QI)};ps.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,yN(t,20))};function yN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ev(t),e))}function bN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=JI());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function WI(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=FB(e.focusNode,e.focusOffset),r=GB(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function JI(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ev(t,e=!1){if(!(cc&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),bN(t),e||t.docView&&t.docView.dirty){let n=QE(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function $I(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const z0=Fs&&Fu<15||Ap&&XB<604;hs.copy=ps.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=z0?null:n.clipboardData,a=r.content(),{dom:l,text:u}=JE(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):$I(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ZI(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function eH(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?j0(t,r.value,null,i,e):j0(t,r.textContent,r.innerHTML,i,e)},50)}function j0(t,e,n,r,i){let s=cN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||Ie.empty)))return!0;if(!s)return!1;let a=ZI(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function vN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ps.paste=(t,e)=>{let n=e;if(t.composing&&!cc)return;let r=z0?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&j0(t,vN(r),r.getData("text/html"),i,n)?n.preventDefault():eH(t,n)};class xN{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const tH=Pa?"altKey":"ctrlKey";function SN(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[tH]}hs.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(qx(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ze?i.to-1:i.to))){if(r&&r.mightDrag)a=Ze.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(a=Ze.create(t.state.doc,g.posBefore))}}let l=(a||t.state.selection).content(),{dom:u,text:d,slice:m}=JE(t,l);(!n.dataTransfer.files.length||!Ii||KA>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(z0?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",z0||n.dataTransfer.setData("text/plain",d),t.dragging=new xN(m,SN(t,n),a)};hs.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ps.dragover=ps.dragenter=(t,e)=>e.preventDefault();ps.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(qx(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",S=>{a=S(a,t,!1)}):a=cN(t,vN(n.dataTransfer),z0?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&SN(t,n));if(t.someProp("handleDrop",S=>S(t,n,a||Ie.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?TA(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let d=t.state.tr;if(l){let{node:S}=r;S?S.replace(d):d.deleteSelection()}let m=d.mapping.map(u),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,b=d.doc;if(g?d.replaceRangeWith(m,m,a.content.firstChild):d.replaceRange(m,m,a),d.doc.eq(b))return;let x=d.doc.resolve(m);if(g&&Ze.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new Ze(x));else{let S=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((k,_,A,O)=>S=O),d.setSelection(WE(t,x,d.doc.resolve(S)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};hs.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&fc(t)},20))};hs.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};hs.beforeinput=(t,e)=>{if(Ii&&cc&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Zf(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ps)hs[t]=ps[t];function L0(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class kv{constructor(e,n){this.toDOM=e,this.spec=n||fd,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new fs(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof kv&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&L0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qu{constructor(e,n){this.attrs=e,this.spec=n||fd}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new fs(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof qu&&L0(this.attrs,e.attrs)&&L0(this.spec,e.spec)}static is(e){return e.type instanceof qu}destroy(){}}class t3{constructor(e,n){this.attrs=e,this.spec=n||fd}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new fs(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof t3&&L0(this.attrs,e.attrs)&&L0(this.spec,e.spec)}destroy(){}}class fs{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new fs(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new fs(e,e,new kv(n,r))}static inline(e,n,r,i){return new fs(e,n,new qu(r,i))}static node(e,n,r,i){return new fs(e,n,new t3(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof qu}get widget(){return this.type instanceof kv}}const fp=[],fd={};class Jn{constructor(e,n){this.local=e.length?e:fp,this.children=n.length?n:fp}static create(e,n){return n.length?Tv(n,e,0,fd):Pi}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Pi||e.maps.length==0?this:this.mapInner(e,n,0,0,r||fd)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?nH(this.children,a||[],e,n,r,i,s):a?new Jn(a.sort(dd),fp):Pi}add(e,n){return n.length?this==Pi?Jn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,u)=>{let d=u+r,m;if(m=CN(n,l,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,m,d+1):i.splice(s,0,u,u+l.nodeSize,Tv(m,l,d+1,fd)),s+=3}});let a=wN(s?EN(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Jn(a.length?this.local.concat(a).sort(dd):this.local,i||this.children)}remove(e){return e.length==0||this==Pi?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,u=r[s+1]+n;for(let m=0,g;m<e.length;m++)(g=e[m])&&g.from>l&&g.to<u&&(e[m]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(a,l+1);d!=Pi?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Jn(i,r):Pi}forChild(e,n){if(this==Pi)return this;if(n.isLeaf)return Jn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>s&&u.type instanceof qu){let d=Math.max(s,u.from)-s,m=Math.min(a,u.to)-s;d<m&&(i||(i=[])).push(u.copy(d,m))}}if(i){let l=new Jn(i.sort(dd),fp);return r?new Ru([l,r]):l}return r||Pi}eq(e){if(this==e)return!0;if(!(e instanceof Jn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return n3(this.localsInner(e))}localsInner(e){if(this==Pi)return fp;if(e.inlineContent||!this.local.some(qu.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof qu||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Jn.empty=new Jn([],[]);Jn.removeOverlap=n3;const Pi=Jn.empty;class Ru{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,fd));return Ru.from(r)}forChild(e,n){if(n.isLeaf)return Jn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Pi&&(s instanceof Ru?r=r.concat(s.members):r.push(s))}return Ru.from(r)}eq(e){if(!(e instanceof Ru)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?n3(r?n:n.sort(dd)):fp}static from(e){switch(e.length){case 0:return Pi;case 1:return e[0];default:return new Ru(e.every(n=>n instanceof Jn)?e:e.reduce((n,r)=>n.concat(r instanceof Jn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function nH(t,e,n,r,i,s,a){let l=t.slice();for(let d=0,m=s;d<n.maps.length;d++){let g=0;n.maps[d].forEach((b,x,S,k)=>{let _=k-S-(x-b);for(let A=0;A<l.length;A+=3){let O=l[A+1];if(O<0||b>O+m-g)continue;let z=l[A]+m-g;x>=z?l[A+1]=b<=z?-2:-1:b>=m&&_&&(l[A]+=_,l[A+1]+=_)}g+=_}),m=n.maps[d].map(m,-1)}let u=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){u=!0,l[d+1]=-1;continue}let m=n.map(t[d]+s),g=m-i;if(g<0||g>=r.content.size){u=!0;continue}let b=n.map(t[d+1]+s,-1),x=b-i,{index:S,offset:k}=r.content.findIndex(g),_=r.maybeChild(S);if(_&&k==g&&k+_.nodeSize==x){let A=l[d+2].mapInner(n,_,m+1,t[d]+s+1,a);A!=Pi?(l[d]=g,l[d+1]=x,l[d+2]=A):(l[d+1]=-2,u=!0)}else u=!0}if(u){let d=rH(l,t,e,n,i,s,a),m=Tv(d,r,0,a);e=m.local;for(let g=0;g<l.length;g+=3)l[g+1]<0&&(l.splice(g,3),g-=3);for(let g=0,b=0;g<m.children.length;g+=3){let x=m.children[g];for(;b<l.length&&l[b]<x;)b+=3;l.splice(b,0,m.children[g],m.children[g+1],m.children[g+2])}}return new Jn(e.sort(dd),l)}function wN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new fs(i.from+e,i.to+e,i.type))}return n}function rH(t,e,n,r,i,s,a){function l(u,d){for(let m=0;m<u.local.length;m++){let g=u.local[m].map(r,i,d);g?n.push(g):a.onRemove&&a.onRemove(u.local[m].spec)}for(let m=0;m<u.children.length;m+=3)l(u.children[m+2],u.children[m]+d+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+s+1);return n}function CN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function EN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Tv(t,e,n,r){let i=[],s=!1;e.forEach((l,u)=>{let d=CN(t,l,u+n);if(d){s=!0;let m=Tv(d,l,n+u+1,r);m!=Pi&&i.push(u,u+l.nodeSize,m)}});let a=wN(s?EN(t):t,-n).sort(dd);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new Jn(a,i):Pi}function dd(t,e){return t.from-e.from||t.to-e.to}function n3(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Yk(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Yk(e,i,r.copy(s.from,r.to)));break}}}return e}function Yk(t,e,n){for(;e<t.length&&dd(n,t[e])>0;)e++;t.splice(e,0,n)}function RS(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Pi&&e.push(r)}),t.cursorWrapper&&e.push(Jn.create(t.state.doc,[t.cursorWrapper.deco])),Ru.from(e)}const iH={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sH=Fs&&Fu<=11;class aH{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class oH{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new aH,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Fs&&Fu<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),sH&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iH)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Bk(this.view)){if(this.suppressingSelectionUpdates)return fc(this.view);if(Fs&&Fu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&vd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Mp(s))n.add(s);for(let s=e.anchorNode;s;s=Mp(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Bk(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,u=[];if(e.editable)for(let m=0;m<n.length;m++){let g=this.registerMutation(n[m],u);g&&(s=s<0?g.from:Math.min(g.from,s),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(l=!0))}if(Fa&&u.length){let m=u.filter(g=>g.nodeName=="BR");if(m.length==2){let[g,b]=m;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of m){let x=b.parentNode;x&&x.nodeName=="LI"&&(!g||uH(e,g)!=x)&&b.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Fx(r)&&(d=QE(e))&&d.eq(Et.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,fc(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),lH(e)),this.handleDOMChange(s,a,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||fc(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let g=e.addedNodes[m];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Fs&&Fu<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:g,nextSibling:b}=e.addedNodes[m];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(s=b)}let a=i&&i.parentNode==e.target?wi(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?wi(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,u,1);return{from:l,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Kk=new WeakMap,Xk=!1;function lH(t){if(!Kk.has(t)&&(Kk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Fa,Xk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Xk=!0}}function Qk(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return vd(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function cH(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Qk(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Qk(t,n):null}function uH(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function fH(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),d,m=u.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(d=[{node:m,offset:u.anchorOffset}],Fx(u)||d.push({node:u.focusNode,offset:u.focusOffset})),Ii&&t.input.lastKeyCode===8)for(let _=s;_>i;_--){let A=r.childNodes[_-1],O=A.pmViewDesc;if(A.nodeName=="BR"&&!O){s=_;break}if(!O||O.size)break}let g=t.state.doc,b=t.someProp("domParser")||Uu.fromSchema(t.state.schema),x=g.resolve(a),S=null,k=b.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:i,to:s,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:dH,context:x});if(d&&d[0].pos!=null){let _=d[0].pos,A=d[1]&&d[1].pos;A==null&&(A=_),S={anchor:_+a,head:A+a}}return{doc:k,sel:S,from:a,to:l}}function dH(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ds&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ds&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hH=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pH(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,H=QE(t,P);if(H&&!t.state.selection.eq(H)){if(Ii&&cc&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",q=>q(t,Zf(13,"Enter"))))return;let Q=t.state.tr.setSelection(H);P=="pointer"?Q.setMeta("pointer",!0):P=="key"&&Q.scrollIntoView(),s&&Q.setMeta("composition",s),t.dispatch(Q)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,d=fH(t,e,n),m=t.state.doc,g=m.slice(d.from,d.to),b,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,x="end"):(b=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let S=yH(g.content,d.doc.content,d.from,b,x);if(S&&t.input.domChangeCount++,(Ap&&t.input.lastIOSEnter>Date.now()-225||cc)&&i.some(P=>P.nodeType==1&&!hH.test(P.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",P=>P(t,Zf(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(r&&u instanceof lt&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))S={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let P=Wk(t,t.state.doc,d.sel);if(P&&!P.eq(t.state.selection)){let H=t.state.tr.setSelection(P);s&&H.setMeta("composition",s),t.dispatch(H)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof lt&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),Fs&&Fu<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>d.from&&d.doc.textBetween(S.start-d.from-1,S.start-d.from+1)==" "&&(S.start--,S.endA--,S.endB--);let k=d.doc.resolveNoCache(S.start-d.from),_=d.doc.resolveNoCache(S.endB-d.from),A=m.resolve(S.start),O=k.sameParent(_)&&k.parent.inlineContent&&A.end()>=S.endA;if((Ap&&t.input.lastIOSEnter>Date.now()-225&&(!O||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!O&&k.pos<d.doc.content.size&&(!k.sameParent(_)||!k.parent.inlineContent)&&k.pos<_.pos&&!/\S/.test(d.doc.textBetween(k.pos,_.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,Zf(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&gH(m,S.start,S.endA,k,_)&&t.someProp("handleKeyDown",P=>P(t,Zf(8,"Backspace")))){cc&&Ii&&t.domObserver.suppressSelectionUpdates();return}Ii&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),cc&&!O&&k.start()!=_.start()&&_.parentOffset==0&&k.depth==_.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==S.endA&&(S.endB-=2,_=d.doc.resolveNoCache(S.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,Zf(13,"Enter"))})},20));let z=S.start,L=S.endA,I=P=>{let H=P||t.state.tr.replace(z,L,d.doc.slice(S.start-d.from,S.endB-d.from));if(d.sel){let Q=Wk(t,H.doc,d.sel);Q&&!(Ii&&t.composing&&Q.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(Q.head==z||Q.head==H.mapping.map(L)-1)||Fs&&Q.empty&&Q.head==z)&&H.setSelection(Q)}return s&&H.setMeta("composition",s),H.scrollIntoView()},j;if(O)if(k.pos==_.pos){Fs&&Fu<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>fc(t),20));let P=I(t.state.tr.delete(z,L)),H=m.resolve(S.start).marksAcross(m.resolve(S.endA));H&&P.ensureMarks(H),t.dispatch(P)}else if(S.endA==S.endB&&(j=mH(k.parent.content.cut(k.parentOffset,_.parentOffset),A.parent.content.cut(A.parentOffset,S.endA-A.start())))){let P=I(t.state.tr);j.type=="add"?P.addMark(z,L,j.mark):P.removeMark(z,L,j.mark),t.dispatch(P)}else if(k.parent.child(k.index()).isText&&k.index()==_.index()-(_.textOffset?0:1)){let P=k.parent.textBetween(k.parentOffset,_.parentOffset),H=()=>I(t.state.tr.insertText(P,z,L));t.someProp("handleTextInput",Q=>Q(t,z,L,P,H))||t.dispatch(H())}else t.dispatch(I());else t.dispatch(I())}function Wk(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:WE(t,e.resolve(n.anchor),e.resolve(n.head))}function mH(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,u;for(let m=0;m<r.length;m++)i=r[m].removeFromSet(i);for(let m=0;m<n.length;m++)s=n[m].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",u=m=>m.mark(l.addToSet(m.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",u=m=>m.mark(l.removeFromSet(m.marks));else return null;let d=[];for(let m=0;m<e.childCount;m++)d.push(u(e.child(m)));if(ke.from(d).eq(t))return{mark:l,type:a}}function gH(t,e,n,r,i){if(n-e<=i.pos-r.pos||OS(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(OS(s,!0,!0));return!a.parent.isTextblock||a.pos>n||OS(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function OS(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function yH(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,l));r-=a+u-s}if(a<s&&t.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<e.size&&Jk(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-a),a=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<t.size&&Jk(t.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function Jk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class kN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new LI,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(nT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=eT(this),Zk(this),this.nodeViews=tT(this),this.docView=Ok(this.state.doc,$k(this),RS(this),this.dom,this),this.domObserver=new oH(this,(r,i,s,a)=>pH(this,r,i,s,a)),this.domObserver.start(),PI(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&bC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(nT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(bN(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=tT(this);vH(x,this.nodeViews)&&(this.nodeViews=x,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&bC(this),this.editable=eT(this),Zk(this);let u=RS(this),d=$k(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=s||!this.docView.matchesNode(e.doc,d,u);(g||!e.selection.eq(i.selection))&&(a=!0);let b=m=="preserve"&&a&&this.dom.style.overflowAnchor==null&&JB(this);if(a){this.domObserver.stop();let x=g&&(Fs||Ii)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&bH(i.selection,e.selection);if(g){let S=Ii?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=WI(this)),(s||!this.docView.update(e.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=Ok(e.doc,d,u,this.dom,this)),S&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&SI(this))?fc(this,x):(aN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&$B(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Tk(this,n.getBoundingClientRect(),e)}else Tk(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new xN(e.slice,e.move,i<0?void 0:Ze.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Fs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ZB(this.dom),fc(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return iI(this,e)}coordsAtPos(e,n=1){return $A(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return cI(this,n||this.state,e)}pasteHTML(e,n){return j0(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return j0(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return JE(this,e)}destroy(){this.docView&&(BI(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],RS(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,HB())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return HI(this,e)}domSelectionRange(){let e=this.domSelection();return e?ds&&this.root.nodeType===11&&VB(this.dom.ownerDocument)==this.dom&&cH(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}kN.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function $k(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[fs.node(0,t.state.doc.content.size,e)]}function Zk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:fs.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function eT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function bH(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function tT(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function vH(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function nT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Vu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_v={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},xH=typeof navigator<"u"&&/Mac/.test(navigator.platform),SH=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ci=0;Ci<10;Ci++)Vu[48+Ci]=Vu[96+Ci]=String(Ci);for(var Ci=1;Ci<=24;Ci++)Vu[Ci+111]="F"+Ci;for(var Ci=65;Ci<=90;Ci++)Vu[Ci]=String.fromCharCode(Ci+32),_v[Ci]=String.fromCharCode(Ci);for(var DS in Vu)_v.hasOwnProperty(DS)||(_v[DS]=Vu[DS]);function wH(t){var e=xH&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||SH&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_v:Vu)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const CH=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),EH=typeof navigator<"u"&&/Win/.test(navigator.platform);function kH(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))CH?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function TH(t){let e=Object.create(null);for(let n in t)e[kH(n)]=t[n];return e}function zS(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function _H(t){return new Zn({props:{handleKeyDown:TN(t)}})}function TN(t){let e=TH(t);return function(n,r){let i=wH(r),s,a=e[zS(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[zS(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(EH&&r.ctrlKey&&r.altKey)&&(s=Vu[r.keyCode])&&s!=i){let l=e[zS(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var MH=Object.defineProperty,r3=(t,e)=>{for(var n in e)MH(t,n,{get:e[n],enumerable:!0})};function Vx(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Yx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...d)=>{const m=l(...d)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],l=!!t,u=t||i.tr,d=()=>(!l&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(g=>g===!0)),m={...Object.fromEntries(Object.entries(n).map(([g,b])=>[g,(...S)=>{const k=this.buildProps(u,e),_=b(...S)(k);return a.push(_),m}])),run:d};return m}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...d)=>u(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:Vx({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)(a)]))}};return a}},_N={};r3(_N,{blur:()=>AH,clearContent:()=>NH,clearNodes:()=>RH,command:()=>OH,createParagraphNear:()=>DH,cut:()=>zH,deleteCurrentNode:()=>jH,deleteNode:()=>LH,deleteRange:()=>PH,deleteSelection:()=>BH,enter:()=>IH,exitCode:()=>HH,extendMarkRange:()=>UH,first:()=>FH,focus:()=>qH,forEach:()=>VH,insertContent:()=>YH,insertContentAt:()=>QH,joinBackward:()=>$H,joinDown:()=>JH,joinForward:()=>ZH,joinItemBackward:()=>eU,joinItemForward:()=>tU,joinTextblockBackward:()=>nU,joinTextblockForward:()=>rU,joinUp:()=>WH,keyboardShortcut:()=>sU,lift:()=>aU,liftEmptyBlock:()=>oU,liftListItem:()=>lU,newlineInCode:()=>cU,resetAttributes:()=>uU,scrollIntoView:()=>fU,selectAll:()=>dU,selectNodeBackward:()=>hU,selectNodeForward:()=>pU,selectParentNode:()=>mU,selectTextblockEnd:()=>gU,selectTextblockStart:()=>yU,setContent:()=>bU,setMark:()=>LU,setMeta:()=>PU,setNode:()=>BU,setNodeSelection:()=>IU,setTextDirection:()=>HU,setTextSelection:()=>UU,sinkListItem:()=>FU,splitBlock:()=>GU,splitListItem:()=>qU,toggleList:()=>VU,toggleMark:()=>YU,toggleNode:()=>KU,toggleWrap:()=>XU,undoInputRule:()=>QU,unsetAllMarks:()=>WU,unsetMark:()=>JU,unsetTextDirection:()=>$U,updateAttributes:()=>ZU,wrapIn:()=>eF,wrapInList:()=>tF});var AH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),NH=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),RH=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,u)=>{if(l.type.isText)return;const{doc:d,mapping:m}=e,g=d.resolve(m.map(u)),b=d.resolve(m.map(u+l.nodeSize)),x=g.blockRange(b);if(!x)return;const S=Gp(x);if(l.type.isTextblock){const{defaultType:k}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(x.start,k)}(S||S===0)&&e.lift(x,S)})}),!0},OH=t=>e=>t(e),DH=()=>({state:t,dispatch:e})=>FA(t,e),zH=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new lt(r.doc.resolve(Math.max(a-1,0)))),!0},jH=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),u=i.after(s);t.delete(l,u).scrollIntoView()}return!0}return!1};function Rr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var LH=t=>({tr:e,state:n,dispatch:r})=>{const i=Rr(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),d=s.after(a);e.delete(u,d).scrollIntoView()}return!0}return!1},PH=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},BH=()=>({state:t,dispatch:e})=>GE(t,e),IH=()=>({commands:t})=>t.keyboardShortcut("Enter"),HH=()=>({state:t,dispatch:e})=>kB(t,e);function i3(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Mv(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:i3(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function MN(t,e,n={}){return t.find(r=>r.type===e&&Mv(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function rT(t,e,n={}){return!!MN(t,e,n)}function s3(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(m=>m.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(m=>m.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!MN([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,u=a+1,d=l+i.node.nodeSize;for(;a>0&&rT([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&rT([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function vc(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var UH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=vc(t,r.schema),{doc:a,selection:l}=n,{$from:u,from:d,to:m}=l;if(i){const g=s3(u,s,e);if(g&&g.from<=d&&g.to>=m){const b=lt.create(a,g.from,g.to);n.setSelection(b)}}return!0},FH=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function AN(t){return t instanceof lt}function id(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function NN(t,e=null){if(!e)return null;const n=Et.atStart(t),r=Et.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?lt.create(t,id(0,i,s),id(t.content.size,i,s)):lt.create(t,id(e,i,s),id(e,i,s))}function GH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function a3(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var qH=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(a3()||GH())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!AN(n.state.selection))return a(),!0;const l=NN(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return s&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},VH=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),YH=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),RN=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&RN(r)}return t};function pb(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return RN(n)}function P0(t,e,n){if(t instanceof Hu||t instanceof ke)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ke.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),P0("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const u=new mA({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?Uu.fromSchema(u).parseSlice(pb(t),n.parseOptions):Uu.fromSchema(u).parse(pb(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Uu.fromSchema(e);return n.slice?s.parseSlice(pb(t),n.parseOptions).content:s.parse(pb(t),n.parseOptions)}return P0("",e,n)}function KH(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ti||i instanceof ni))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,u,d,m)=>{a===0&&(a=m)}),t.setSelection(Et.near(t.doc.resolve(a),n))}var XH=t=>!("type"in t),QH=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=_=>{s.emit("contentError",{editor:s,error:_,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{P0(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(_){u(_)}try{l=P0(e,s.schema,{parseOptions:d,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(_){return u(_),!1}let{from:m,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,x=!0;if((XH(l)?l:[l]).forEach(_=>{_.check(),b=b?_.isText&&_.marks.length===0:!1,x=x?_.isBlock:!1}),m===g&&x){const{parent:_}=r.doc.resolve(m);_.isTextblock&&!_.type.spec.code&&!_.childCount&&(m-=1,g+=1)}let k;if(b){if(Array.isArray(e))k=e.map(_=>_.text||"").join("");else if(e instanceof ke){let _="";e.forEach(A=>{A.text&&(_+=A.text)}),k=_}else typeof e=="object"&&e&&e.text?k=e.text:k=e;r.insertText(k,m,g)}else{k=l;const _=r.doc.resolve(m),A=_.node(),O=_.parentOffset===0,z=A.isText||A.isTextblock,L=A.content.size>0;O&&z&&L&&(m=Math.max(0,m-1)),r.replaceWith(m,g,k)}n.updateSelection&&KH(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:k}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:k})}return!0},WH=()=>({state:t,dispatch:e})=>wB(t,e),JH=()=>({state:t,dispatch:e})=>CB(t,e),$H=()=>({state:t,dispatch:e})=>jA(t,e),ZH=()=>({state:t,dispatch:e})=>IA(t,e),eU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ix(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},tU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ix(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},nU=()=>({state:t,dispatch:e})=>xB(t,e),rU=()=>({state:t,dispatch:e})=>SB(t,e);function ON(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function iU(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))a3()||ON()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var sU=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=iU(t).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return u?.steps.forEach(d=>{const m=d.map(r.mapping);m&&i&&r.maybeStep(m)}),!0};function Yu(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Rr(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(g,b)=>{if(g.isText)return;const x=Math.max(r,b),S=Math.min(i,b+g.nodeSize);l.push({node:g,from:x,to:S})});const u=i-r,d=l.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>Mv(g.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((g,b)=>g+b.to-b.from,0)>=u}var aU=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return Yu(n,i,e)?EB(n,r):!1},oU=()=>({state:t,dispatch:e})=>GA(t,e),lU=t=>({state:e,dispatch:n})=>{const r=Rr(t,e.schema);return LB(r)(e,n)},cU=()=>({state:t,dispatch:e})=>UA(t,e);function Kx(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function iT(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var uU=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Kx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=Rr(t,r.schema)),l==="mark"&&(a=vc(t,r.schema));let u=!1;return n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(m,g)=>{s&&s===m.type&&(u=!0,i&&n.setNodeMarkup(g,void 0,iT(m.attrs,e))),a&&m.marks.length&&m.marks.forEach(b=>{a===b.type&&(u=!0,i&&n.addMark(g,g+m.nodeSize,a.create(iT(b.attrs,e))))})})}),u},fU=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),dU=()=>({tr:t,dispatch:e})=>{if(e){const n=new na(t.doc);t.setSelection(n)}return!0},hU=()=>({state:t,dispatch:e})=>PA(t,e),pU=()=>({state:t,dispatch:e})=>HA(t,e),mU=()=>({state:t,dispatch:e})=>MB(t,e),gU=()=>({state:t,dispatch:e})=>RB(t,e),yU=()=>({state:t,dispatch:e})=>NB(t,e);function vC(t,e,n={},r={}){return P0(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var bU=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{const{doc:u}=s;if(r.preserveWhitespace!=="full"){const d=vC(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function DN(t,e){const n=vc(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const l=a.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function zN(t,e){const n=new RA(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function vU(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function xU(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function SU(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Xx(t){return e=>SU(e.$from,t)}function We(t,e,n){return t.config[e]===void 0&&t.parent?We(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?We(t.parent,e,n):null}):t.config[e]}function o3(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=We(e,"addExtensions",n);return r?[e,...o3(r())]:e}).flat(10)}function l3(t,e){const n=_d.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function jN(t){return typeof t=="function"}function Jt(t,e=void 0,...n){return jN(t)?e?t.bind(e)(...n):t(...n):t}function wU(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Np(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function LN(t){const e=[],{nodeExtensions:n,markExtensions:r}=Np(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},u=We(a,"addGlobalAttributes",l);if(!u)return;u().forEach(m=>{m.types.forEach(g=>{Object.entries(m.attributes).forEach(([b,x])=>{e.push({type:g,name:b,attribute:{...s,...x}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},u=We(a,"addAttributes",l);if(!u)return;const d=u();Object.entries(d).forEach(([m,g])=>{const b={...s,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:a.name,name:m,attribute:b})})}),e}function Or(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],d=l.filter(m=>!u.includes(m));r[i]=[...u,...d].join(" ")}else if(i==="style"){const l=s?s.split(";").map(m=>m.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(m=>m.trim()).filter(Boolean):[],d=new Map;u.forEach(m=>{const[g,b]=m.split(":").map(x=>x.trim());d.set(g,b)}),l.forEach(m=>{const[g,b]=m.split(":").map(x=>x.trim());d.set(g,b)}),r[i]=Array.from(d.entries()).map(([m,g])=>`${m}: ${g}`).join("; ")}else r[i]=s}),r},{})}function Av(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Or(n,r),{})}function CU(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function sT(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):CU(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function aT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&wU(n)?!1:n!=null))}function oT(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function EU(t,e){var n;const r=LN(t),{nodeExtensions:i,markExtensions:s}=Np(t),a=(n=i.find(d=>We(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(d=>{const m=r.filter(A=>A.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},b=t.reduce((A,O)=>{const z=We(O,"extendNodeSchema",g);return{...A,...z?z(d):{}}},{}),x=aT({...b,content:Jt(We(d,"content",g)),marks:Jt(We(d,"marks",g)),group:Jt(We(d,"group",g)),inline:Jt(We(d,"inline",g)),atom:Jt(We(d,"atom",g)),selectable:Jt(We(d,"selectable",g)),draggable:Jt(We(d,"draggable",g)),code:Jt(We(d,"code",g)),whitespace:Jt(We(d,"whitespace",g)),linebreakReplacement:Jt(We(d,"linebreakReplacement",g)),defining:Jt(We(d,"defining",g)),isolating:Jt(We(d,"isolating",g)),attrs:Object.fromEntries(m.map(oT))}),S=Jt(We(d,"parseHTML",g));S&&(x.parseDOM=S.map(A=>sT(A,m)));const k=We(d,"renderHTML",g);k&&(x.toDOM=A=>k({node:A,HTMLAttributes:Av(A,m)}));const _=We(d,"renderText",g);return _&&(x.toText=_),[d.name,x]})),u=Object.fromEntries(s.map(d=>{const m=r.filter(_=>_.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},b=t.reduce((_,A)=>{const O=We(A,"extendMarkSchema",g);return{..._,...O?O(d):{}}},{}),x=aT({...b,inclusive:Jt(We(d,"inclusive",g)),excludes:Jt(We(d,"excludes",g)),group:Jt(We(d,"group",g)),spanning:Jt(We(d,"spanning",g)),code:Jt(We(d,"code",g)),attrs:Object.fromEntries(m.map(oT))}),S=Jt(We(d,"parseHTML",g));S&&(x.parseDOM=S.map(_=>sT(_,m)));const k=We(d,"renderHTML",g);return k&&(x.toDOM=_=>k({mark:_,HTMLAttributes:Av(_,m)})),[d.name,x]}));return new mA({topNode:a,nodes:l,marks:u})}function kU(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function c3(t){return t.sort((n,r)=>{const i=We(n,"priority")||100,s=We(r,"priority")||100;return i>s?-1:i<s?1:0})}function PN(t){const e=c3(o3(t)),n=kU(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function BN(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(u,d,m,g)=>{var b;u.isBlock&&d>r&&(l+=s);const x=a?.[u.type.name];if(x)return m&&(l+=x({node:u,pos:d,parent:m,index:g,range:e})),!1;u.isText&&(l+=(b=u?.text)==null?void 0:b.slice(Math.max(r,d)-d,i-d))}),l}function TU(t,e){const n={from:0,to:t.content.size};return BN(t,n,e)}function IN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function _U(t,e){const n=Rr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function HN(t,e){const n=Kx(typeof e=="string"?e:e.name,t.schema);return n==="node"?_U(t,e):n==="mark"?DN(t,e):{}}function MU(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function AU(t){const e=MU(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function UN(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,u)=>{a.push({from:l,to:u})});else{const{from:l,to:u}=n[s];if(l===void 0||u===void 0)return;a.push({from:l,to:u})}a.forEach(({from:l,to:u})=>{const d=e.slice(s).map(l,-1),m=e.slice(s).map(u),g=e.invert().map(d,-1),b=e.invert().map(m);r.push({oldRange:{from:g,to:b},newRange:{from:d,to:m}})})}),AU(r)}function u3(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=s3(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var NU=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const l=i.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function jS(t,e){return e.nodes[t]||e.marks[t]||null}function Wb(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var RU=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var u,d;const m=((d=(u=i.type.spec).toText)==null?void 0:d.call(u,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?m:m.slice(0,Math.max(0,r-s))}),n};function xC(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?vc(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>s?s.name===g.type.name:!0).find(g=>Mv(g.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:g,$to:b})=>{const x=g.pos,S=b.pos;t.doc.nodesBetween(x,S,(k,_)=>{if(!k.isText&&!k.marks.length)return;const A=Math.max(x,_),O=Math.min(S,_+k.nodeSize),z=O-A;a+=z,l.push(...k.marks.map(L=>({mark:L,from:A,to:O})))})}),a===0)return!1;const u=l.filter(g=>s?s.name===g.mark.type.name:!0).filter(g=>Mv(g.mark.attrs,n,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),d=l.filter(g=>s?g.mark.type!==s&&g.mark.type.excludes(s):!0).reduce((g,b)=>g+b.to-b.from,0);return(u>0?u+d:u)>=a}function OU(t,e,n={}){if(!e)return Yu(t,null,n)||xC(t,null,n);const r=Kx(e,t.schema);return r==="node"?Yu(t,e,n):r==="mark"?xC(t,e,n):!1}var DU=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Xx(l=>l.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},zU=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function lT(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function cT(t,e){const{nodeExtensions:n}=Np(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Jt(We(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Qx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Qx(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function FN(t){return t instanceof Ze}function jU(t,e,n){var r;const{selection:i}=e;let s=null;if(AN(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:l,$to:u})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(m,g,b)=>{if(d)return!1;if(m.isInline){const x=!b||b.type.allowsMarkType(n),S=!!n.isInSet(m.marks)||!m.marks.some(k=>k.type.excludes(n));d=x&&S}return!d}),d})}var LU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,u=vc(t,r.schema);if(i)if(a){const d=DN(r,u);n.addStoredMark(u.create({...d,...e}))}else l.forEach(d=>{const m=d.$from.pos,g=d.$to.pos;r.doc.nodesBetween(m,g,(b,x)=>{const S=Math.max(x,m),k=Math.min(x+b.nodeSize,g);b.marks.find(A=>A.type===u)?b.marks.forEach(A=>{u===A.type&&n.addMark(S,k,u.create({...A.attrs,...e}))}):n.addMark(S,k,u.create(e))})});return jU(r,n,u)},PU=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),BU=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Rr(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>Ck(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>Ck(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},IU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=id(t,0,r.content.size),s=Ze.create(r,i);e.setSelection(s)}return!0},HU=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=s.from,l=s.to),i&&n.doc.nodesBetween(a,l,(u,d)=>{u.isText||n.setNodeMarkup(d,void 0,{...u.attrs,dir:t})}),!0},UU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=lt.atStart(r).from,l=lt.atEnd(r).to,u=id(i,a,l),d=id(s,a,l),m=lt.create(r,u,d);e.setSelection(m)}return!0},FU=t=>({state:e,dispatch:n})=>{const r=Rr(t,e.schema);return IB(r)(e,n)};function uT(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var GU=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:u}=s,d=i.extensionManager.attributes,m=Wb(d,l.node().type.name,l.node().attrs);if(s instanceof Ze&&s.node.isBlock)return!l.parentOffset||!uc(a,l.pos)?!1:(r&&(t&&uT(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const g=u.parentOffset===u.parent.content.size,b=l.depth===0?void 0:vU(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=g&&b?[{type:b,attrs:m}]:void 0,S=uc(e.doc,e.mapping.map(l.pos),1,x);if(!x&&!S&&uc(e.doc,e.mapping.map(l.pos),1,b?[{type:b}]:void 0)&&(S=!0,x=b?[{type:b,attrs:m}]:void 0),r){if(S&&(s instanceof lt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,x),b&&!g&&!l.parentOffset&&l.parent.type!==b)){const k=e.mapping.map(l.before()),_=e.doc.resolve(k);l.node(-1).canReplaceWith(_.index(),_.index()+1,b)&&e.setNodeMarkup(e.mapping.map(l.before()),b)}t&&uT(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return S},qU=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=Rr(t,r.schema),{$from:u,$to:d}=r.selection,m=r.selection.node;if(m&&m.isBlock||u.depth<2||!u.sameParent(d))return!1;const g=u.node(-1);if(g.type!==l)return!1;const b=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let A=ke.empty;const O=u.index(-1)?1:u.index(-2)?2:3;for(let H=u.depth-O;H>=u.depth-3;H-=1)A=ke.from(u.node(H).copy(A));const z=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,L={...Wb(b,u.node().type.name,u.node().attrs),...e},I=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(L))||void 0;A=A.append(ke.from(l.createAndFill(null,I)||void 0));const j=u.before(u.depth-(O-1));n.replace(j,u.after(-z),new Ie(A,4-O,0));let P=-1;n.doc.nodesBetween(j,n.doc.content.size,(H,Q)=>{if(P>-1)return!1;H.isTextblock&&H.content.size===0&&(P=Q+1)}),P>-1&&n.setSelection(lt.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const x=d.pos===u.end()?g.contentMatchAt(0).defaultType:null,S={...Wb(b,g.type.name,g.attrs),...e},k={...Wb(b,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,d.pos);const _=x?[{type:l,attrs:S},{type:x,attrs:k}]:[{type:l,attrs:S}];if(!uc(n.doc,u.pos,2))return!1;if(i){const{selection:A,storedMarks:O}=r,{splittableMarks:z}=s.extensionManager,L=O||A.$to.parentOffset&&A.$from.marks();if(n.split(u.pos,2,_).scrollIntoView(),!L||!i)return!0;const I=L.filter(j=>z.includes(j.type.name));n.ensureMarks(I)}return!0},LS=(t,e)=>{const n=Xx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Wu(t.doc,n.pos)&&t.join(n.pos),!0},PS=(t,e)=>{const n=Xx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Wu(t.doc,r)&&t.join(r),!0},VU=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:u,commands:d,can:m})=>{const{extensions:g,splittableMarks:b}=i.extensionManager,x=Rr(t,a.schema),S=Rr(e,a.schema),{selection:k,storedMarks:_}=a,{$from:A,$to:O}=k,z=A.blockRange(O),L=_||k.$to.parentOffset&&k.$from.marks();if(!z)return!1;const I=Xx(j=>cT(j.type.name,g))(k);if(z.depth>=1&&I&&z.depth-I.depth<=1){if(I.node.type===x)return d.liftListItem(S);if(cT(I.node.type.name,g)&&x.validContent(I.node.content)&&l)return u().command(()=>(s.setNodeMarkup(I.pos,x),!0)).command(()=>LS(s,x)).command(()=>PS(s,x)).run()}return!n||!L||!l?u().command(()=>m().wrapInList(x,r)?!0:d.clearNodes()).wrapInList(x,r).command(()=>LS(s,x)).command(()=>PS(s,x)).run():u().command(()=>{const j=m().wrapInList(x,r),P=L.filter(H=>b.includes(H.type.name));return s.ensureMarks(P),j?!0:d.clearNodes()}).wrapInList(x,r).command(()=>LS(s,x)).command(()=>PS(s,x)).run()},YU=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=vc(t,r.schema);return xC(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},KU=(t,e,n={})=>({state:r,commands:i})=>{const s=Rr(t,r.schema),a=Rr(e,r.schema),l=Yu(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l?i.setNode(a,u):i.setNode(s,{...u,...n})},XU=(t,e={})=>({state:n,commands:r})=>{const i=Rr(t,n.schema);return Yu(n,i,e)?r.lift(i):r.wrapIn(i,e)},QU=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let u=l.steps.length-1;u>=0;u-=1)a.step(l.steps[u].invert(l.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},WU=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},JU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,u=vc(t,r.schema),{$from:d,empty:m,ranges:g}=l;if(!i)return!0;if(m&&a){let{from:b,to:x}=l;const S=(s=d.marks().find(_=>_.type===u))==null?void 0:s.attrs,k=s3(d,u,S);k&&(b=k.from,x=k.to),n.removeMark(b,x,u)}else g.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,u)});return n.removeStoredMark(u),!0},$U=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=i.from,a=i.to),r&&e.doc.nodesBetween(s,a,(l,u)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,e.setNodeMarkup(u,void 0,d)}),!0},ZU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Kx(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=Rr(t,r.schema)),l==="mark"&&(a=vc(t,r.schema));let u=!1;return n.selection.ranges.forEach(d=>{const m=d.$from.pos,g=d.$to.pos;let b,x,S,k;n.selection.empty?r.doc.nodesBetween(m,g,(_,A)=>{s&&s===_.type&&(u=!0,S=Math.max(A,m),k=Math.min(A+_.nodeSize,g),b=A,x=_)}):r.doc.nodesBetween(m,g,(_,A)=>{A<m&&s&&s===_.type&&(u=!0,S=Math.max(A,m),k=Math.min(A+_.nodeSize,g),b=A,x=_),A>=m&&A<=g&&(s&&s===_.type&&(u=!0,i&&n.setNodeMarkup(A,void 0,{..._.attrs,...e})),a&&_.marks.length&&_.marks.forEach(O=>{if(a===O.type&&(u=!0,i)){const z=Math.max(A,m),L=Math.min(A+_.nodeSize,g);n.addMark(z,L,a.create({...O.attrs,...e}))}}))}),x&&(b!==void 0&&i&&n.setNodeMarkup(b,void 0,{...x.attrs,...e}),a&&x.marks.length&&x.marks.forEach(_=>{a===_.type&&i&&n.addMark(S,k,a.create({..._.attrs,...e}))}))}),u},eF=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return OB(i,e)(n,r)},tF=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return DB(i,e)(n,r)},nF=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Wx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},rF=(t,e)=>{if(i3(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function mb(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const g=RU(d)+s;return a.forEach(b=>{if(m)return;const x=rF(g,b.find);if(!x)return;const S=u.state.tr,k=Vx({state:u.state,transaction:S}),_={from:r-(x[0].length-s.length),to:i},{commands:A,chain:O,can:z}=new Yx({editor:n,state:k});b.handler({state:k,range:_,match:x,commands:A,chain:O,can:z})===null||!S.steps.length||(b.undoable&&S.setMeta(l,{transform:S,from:r,to:i,text:s}),u.dispatch(S),m=!0)}),m}function iF(t){const{editor:e,rules:n}=t,r=new Zn({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:m}=u;typeof m=="string"?m=m:m=l3(ke.from(m),a.schema);const{from:g}=u,b=g+m.length;mb({editor:e,from:g,to:b,text:m,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return mb({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&mb({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?mb({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function sF(t){return Object.prototype.toString.call(t).slice(8,-1)}function gb(t){return sF(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function GN(t,e){const n={...t};return gb(t)&&gb(e)&&Object.keys(e).forEach(r=>{gb(e[r])&&gb(t[r])?n[r]=GN(t[r],e[r]):n[r]=e[r]}),n}var f3=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Jt(We(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Jt(We(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>GN(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Md=class qN extends f3{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new qN(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(d=>d?.type.name===n.name))return!1;const u=a.find(d=>d?.type.name===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function aF(t){return typeof t=="number"}var oF=class{constructor(t){this.find=t.find,this.handler=t.handler}},lF=(t,e,n)=>{if(i3(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function cF(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:u,chain:d,can:m}=new Yx({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,i,(x,S)=>{var k,_,A,O,z;if((_=(k=x.type)==null?void 0:k.spec)!=null&&_.code||!(x.isText||x.isTextblock||x.isInline))return;const L=(z=(O=(A=x.content)==null?void 0:A.size)!=null?O:x.nodeSize)!=null?z:0,I=Math.max(r,S),j=Math.min(i,S+L);if(I>=j)return;const P=x.isText?x.text||"":x.textBetween(I-S,j-S,void 0,"");lF(P,s.find,a).forEach(Q=>{if(Q.index===void 0)return;const q=I+Q.index+1,X=q+Q[0].length,W={from:n.tr.mapping.map(q),to:n.tr.mapping.map(X)},le=s.handler({state:n,range:W,match:Q,commands:u,chain:d,can:m,pasteEvent:a,dropEvent:l});g.push(le)})}),g.every(x=>x!==null)}var yb=null,uF=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function fF(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:m,from:g,to:b,rule:x,pasteEvt:S})=>{const k=m.tr,_=Vx({state:m,transaction:k});if(!(!cF({editor:e,state:_,from:Math.max(g-1,0),to:b.b-1,rule:x,pasteEvent:S,dropEvent:l})||!k.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(m=>new Zn({view(g){const b=S=>{var k;r=(k=g.dom.parentElement)!=null&&k.contains(S.target)?g.dom.parentElement:null,r&&(yb=e)},x=()=>{yb&&(yb=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(s=r===g.dom.parentElement,l=b,!s){const x=yb;x?.isEditable&&setTimeout(()=>{const S=x.state.selection;S&&x.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(g,b)=>{var x;const S=(x=b.clipboardData)==null?void 0:x.getData("text/html");return a=b,i=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,x)=>{const S=g[0],k=S.getMeta("uiEvent")==="paste"&&!i,_=S.getMeta("uiEvent")==="drop"&&!s,A=S.getMeta("applyPasteRules"),O=!!A;if(!k&&!_&&!O)return;if(O){let{text:I}=A;typeof I=="string"?I=I:I=l3(ke.from(I),x.schema);const{from:j}=A,P=j+I.length,H=uF(I);return u({rule:m,state:x,from:j,to:{b:P},pasteEvt:H})}const z=b.doc.content.findDiffStart(x.doc.content),L=b.doc.content.findDiffEnd(x.doc.content);if(!(!aF(z)||!L||z===L.b))return u({rule:m,state:x,from:z,to:L,pasteEvt:a})}}))}var Jx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=PN(t),this.schema=EU(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:jS(e.name,this.schema)},r=We(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return c3([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:jS(r.name,this.schema)},s=[],a=We(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&We(r,"exitable",i)&&(l.ArrowRight=()=>Md.handleExit({editor:t,mark:r})),a){const b=Object.fromEntries(Object.entries(a()).map(([x,S])=>[x,()=>S({editor:t})]));l={...l,...b}}const u=_H(l);s.push(u);const d=We(r,"addInputRules",i);if(lT(r,t.options.enableInputRules)&&d){const b=d();if(b&&b.length){const x=iF({editor:t,rules:b}),S=Array.isArray(x)?x:[x];s.push(...S)}}const m=We(r,"addPasteRules",i);if(lT(r,t.options.enablePasteRules)&&m){const b=m();if(b&&b.length){const x=fF({editor:t,rules:b});s.push(...x)}}const g=We(r,"addProseMirrorPlugins",i);if(g){const b=g();s.push(...b)}return s})}get attributes(){return LN(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Np(this.extensions);return Object.fromEntries(e.filter(n=>!!We(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Rr(n.name,this.schema)},s=We(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const l=(u,d,m,g,b)=>{const x=Av(u,r);return a({node:u,view:d,getPos:m,decorations:g,innerDecorations:b,editor:t,extension:n,HTMLAttributes:x})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Np(this.extensions);return Object.fromEntries(e.filter(n=>!!We(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:vc(n.name,this.schema)},s=We(n,"addMarkView",i);if(!s)return[];const a=(l,u,d)=>{const m=Av(l,r);return s()({mark:l,view:u,inline:d,editor:t,extension:n,HTMLAttributes:m,updateAttributes:g=>{kF(l,t,g)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:jS(e.name,this.schema)};e.type==="mark"&&((n=Jt(We(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=We(e,"onBeforeCreate",r),s=We(e,"onCreate",r),a=We(e,"onUpdate",r),l=We(e,"onSelectionUpdate",r),u=We(e,"onTransaction",r),d=We(e,"onFocus",r),m=We(e,"onBlur",r),g=We(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),m&&this.editor.on("blur",m),g&&this.editor.on("destroy",g)})}};Jx.resolve=PN;Jx.sort=c3;Jx.flatten=o3;var dF={};r3(dF,{ClipboardTextSerializer:()=>YN,Commands:()=>KN,Delete:()=>XN,Drop:()=>QN,Editable:()=>WN,FocusEvents:()=>$N,Keymap:()=>ZN,Paste:()=>e8,Tabindex:()=>t8,TextDirection:()=>n8,focusEventsPluginKey:()=>JN});var br=class VN extends f3{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new VN(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},YN=br.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zn({key:new qr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(m=>m.$from.pos)),l=Math.max(...s.map(m=>m.$to.pos)),u=IN(n);return BN(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),KN=br.create({name:"commands",addCommands(){return{..._N}}}),XN=br.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,l,u,d;if((d=(u=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const m=zN(t.before,[t,...e]);UN(m).forEach(x=>{m.mapping.mapResult(x.oldRange.from).deletedAfter&&m.mapping.mapResult(x.oldRange.to).deletedBefore&&m.before.nodesBetween(x.oldRange.from,x.oldRange.to,(S,k)=>{const _=k+S.nodeSize-2,A=x.oldRange.from<=k&&_<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:k,to:_,newFrom:m.mapping.map(k),newTo:m.mapping.map(_),deletedRange:x.oldRange,newRange:x.newRange,partial:!A,editor:this.editor,transaction:t,combinedTransform:m})})});const b=m.mapping;m.steps.forEach((x,S)=>{var k,_;if(x instanceof go){const A=b.slice(S).map(x.from,-1),O=b.slice(S).map(x.to),z=b.invert().map(A,-1),L=b.invert().map(O),I=(k=m.doc.nodeAt(A-1))==null?void 0:k.marks.some(P=>P.eq(x.mark)),j=(_=m.doc.nodeAt(O))==null?void 0:_.marks.some(P=>P.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:z,to:L},newRange:{from:A,to:O},partial:!!(j||I),editor:this.editor,transaction:t,combinedTransform:m})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),QN=br.create({name:"drop",addProseMirrorPlugins(){return[new Zn({key:new qr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),WN=br.create({name:"editable",addProseMirrorPlugins(){return[new Zn({key:new qr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),JN=new qr("focusEvents"),$N=br.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Zn({key:JN,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ZN=br.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:m,$anchor:g}=u,{pos:b,parent:x}=g,S=g.parent.isTextblock&&b>0?l.doc.resolve(b-1):g,k=S.parent.type.spec.isolating,_=g.pos-g.parentOffset,A=k&&S.parent.childCount===1?_===g.pos:Et.atStart(d).from===b;return!m||!x.type.isTextblock||x.textContent.length||!A||A&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return a3()||ON()?s:i},addProseMirrorPlugins(){return[new Zn({key:new qr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const r=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),i=t.some(k=>k.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,u=Et.atStart(e.doc).from,d=Et.atEnd(e.doc).to;if(s||!(a===u&&l===d)||!Qx(n.doc))return;const b=n.tr,x=Vx({state:n,transaction:b}),{commands:S}=new Yx({editor:this.editor,state:x});if(S.clearNodes(),!!b.steps.length)return b}})]}}),e8=br.create({name:"paste",addProseMirrorPlugins(){return[new Zn({key:new qr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),t8=br.create({name:"tabindex",addProseMirrorPlugins(){return[new Zn({key:new qr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),n8=br.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Np(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Zn({key:new qr("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),hF=class dp{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new dp(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new dp(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new dp(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const u=new dp(l,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new dp(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const u=a[l];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},pF=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function mF(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var gF=class extends nF{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=NN(e,this.options.autofocus);this.editorState=gp.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=mF(pF,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=jN(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[WN,YN.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),KN,$N,ZN,t8,QN,e8,XN,n8.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Jx(r,this)}createCommandManager(){this.commandManager=new Yx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=vC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=vC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new kN(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=a?.getMeta("focus"),u=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return HN(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return OU(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return l3(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return TU(this.state.doc,{blockSeparator:e,textSerializers:{...IN(this.schema),...n}})}get isEmpty(){return Qx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new hF(e,this)}get $doc(){return this.$pos(0)}};function Rp(t){return new Wx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Jt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),m=d+a.length;if(u3(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(k=>k===t.type&&k!==x.mark.type)).filter(x=>x.to>d).length)return null;m<n.to&&s.delete(m,n.to),d>n.from&&s.delete(n.from+u,d);const b=n.from+u+a.length;s.addMark(n.from+u,b,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function yF(t){return new Wx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Jt(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const u=t.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let m=a+d;m>l?m=l:l=m+r[1].length;const g=r[0][r[0].length-1];s.insertText(g,a+r[0].length-1),s.replaceWith(m,l,u)}else if(r[0]){const d=t.type.isInline?a:a-1;s.insert(d,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function SC(t){return new Wx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Jt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Op(t){return new Wx({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Jt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),d=u&&UE(u,t.type,s);if(!d)return null;if(a.wrap(u,d),t.keepMarks&&t.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:x}=t.editor.extensionManager,S=b||g.$to.parentOffset&&g.$from.marks();if(S){const k=S.filter(_=>x.includes(_.type.name));a.ensureMarks(k)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,s).run()}const m=a.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&Wu(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,m))&&a.join(n.from-1)},undoable:t.undoable})}function bF(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ze){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var vF={};r3(vF,{createAtomBlockMarkdownSpec:()=>xF,createBlockMarkdownSpec:()=>SF,createInlineMarkdownSpec:()=>EF,parseAttributes:()=>d3,parseIndentedBlocks:()=>wC,renderNestedMarkdownContent:()=>p3,serializeAttributes:()=>h3});function d3(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const d=i.map(m=>m.trim().slice(1));e.class=d.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,d,m])=>{var g;const b=parseInt(((g=m.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),x=n[b];x&&(e[d]=x.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function h3(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function xF(t){const{nodeName:e,name:n,parseAttributes:r=d3,serializeAttributes:i=h3,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:l}=t,u=n||e,d=m=>{if(!l)return m;const g={};return l.forEach(b=>{b in m&&(g[b]=m[b])}),g};return{parseMarkdown:(m,g)=>{const b={...s,...m.attributes};return g.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(m){var g;const b=new RegExp(`^:::${u}(?:\\s|$)`,"m"),x=(g=m.match(b))==null?void 0:g.index;return x!==void 0?x:-1},tokenize(m,g,b){const x=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=m.match(x);if(!S)return;const k=S[1]||"",_=r(k);if(!a.find(O=>!(O in _)))return{type:e,raw:S[0],attributes:_}}},renderMarkdown:m=>{const g=d(m.attrs||{}),b=i(g),x=b?` {${b}}`:"";return`:::${u}${x} :::`}}}function SF(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=d3,serializeAttributes:s=h3,defaultAttributes:a={},content:l="block",allowedAttributes:u}=t,d=n||e,m=g=>{if(!u)return g;const b={};return u.forEach(x=>{x in g&&(b[x]=g[x])}),b};return{parseMarkdown:(g,b)=>{let x;if(r){const k=r(g);x=typeof k=="string"?[{type:"text",text:k}]:k}else l==="block"?x=b.parseChildren(g.tokens||[]):x=b.parseInline(g.tokens||[]);const S={...a,...g.attributes};return b.createNode(e,S,x)},markdownTokenizer:{name:e,level:"block",start(g){var b;const x=new RegExp(`^:::${d}`,"m"),S=(b=g.match(x))==null?void 0:b.index;return S!==void 0?S:-1},tokenize(g,b,x){var S;const k=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),_=g.match(k);if(!_)return;const[A,O=""]=_,z=i(O);let L=1;const I=A.length;let j="";const P=/^:::([\w-]*)(\s.*)?/gm,H=g.slice(I);for(P.lastIndex=0;;){const Q=P.exec(H);if(Q===null)break;const q=Q.index,X=Q[1];if(!((S=Q[2])!=null&&S.endsWith(":::"))){if(X)L+=1;else if(L-=1,L===0){const W=H.slice(0,q);j=W.trim();const le=g.slice(0,I+q+Q[0].length);let Z=[];if(j)if(l==="block")for(Z=x.blockTokens(W),Z.forEach(te=>{te.text&&(!te.tokens||te.tokens.length===0)&&(te.tokens=x.inlineTokens(te.text))});Z.length>0;){const te=Z[Z.length-1];if(te.type==="paragraph"&&(!te.text||te.text.trim()===""))Z.pop();else break}else Z=x.inlineTokens(j);return{type:e,raw:le,attributes:z,content:j,tokens:Z}}}}}},renderMarkdown:(g,b)=>{const x=m(g.attrs||{}),S=s(x),k=S?` {${S}}`:"",_=b.renderChildren(g.content||[],`

`);return`:::${d}${k}

${_}

:::`}}}function wF(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function CF(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function EF(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=wF,serializeAttributes:s=CF,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:u}=t,d=n||e,m=b=>{if(!u)return b;const x={};return u.forEach(S=>{S in b&&(x[S]=b[S])}),x},g=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,x)=>{const S={...a,...b.attributes};if(l)return x.createNode(e,S);const k=r?r(b):b.content||"";return k?x.createNode(e,S,[x.createTextNode(k)]):x.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(b){const x=l?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),S=b.match(x),k=S?.index;return k!==void 0?k:-1},tokenize(b,x,S){const k=l?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),_=b.match(k);if(!_)return;let A="",O="";if(l){const[,L]=_;O=L}else{const[,L,I]=_;O=L,A=I||""}const z=i(O.trim());return{type:e,raw:_[0],content:A.trim(),attributes:z}}},renderMarkdown:b=>{let x="";r?x=r(b):b.content&&b.content.length>0&&(x=b.content.filter(A=>A.type==="text").map(A=>A.text).join(""));const S=m(b.attrs||{}),k=s(S),_=k?` ${k}`:"";return l?`[${d}${_}]`:`[${d}${_}]${x}[/${d}]`}}}function wC(t,e,n){var r,i,s,a;const l=t.split(`
`),u=[];let d="",m=0;const g=e.baseIndentSize||2;for(;m<l.length;){const b=l[m],x=b.match(e.itemPattern);if(!x){if(u.length>0)break;if(b.trim()===""){m+=1,d=`${d}${b}
`;continue}else return}const S=e.extractItemData(x),{indentLevel:k,mainContent:_}=S;d=`${d}${b}
`;const A=[_];for(m+=1;m<l.length;){const I=l[m];if(I.trim()===""){const P=l.slice(m+1).findIndex(q=>q.trim()!=="");if(P===-1)break;if((((i=(r=l[m+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>k){A.push(I),d=`${d}${I}
`,m+=1;continue}else break}if((((a=(s=I.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>k)A.push(I),d=`${d}${I}
`,m+=1;else break}let O;const z=A.slice(1);if(z.length>0){const I=z.map(j=>j.slice(k+g)).join(`
`);I.trim()&&(e.customNestedParser?O=e.customNestedParser(I):O=n.blockTokens(I))}const L=e.createToken(S,O);u.push(L)}if(u.length!==0)return{items:u,raw:d}}function p3(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,l=e.renderChildren([s]),u=[`${i}${l}`];return a&&a.length>0&&a.forEach(d=>{const m=e.renderChildren([d]);if(m){const g=m.split(`
`).map(b=>b?e.indent(b):"").join(`
`);u.push(g)}}),u.join(`
`)}function kF(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((l,u)=>{const d=s.mapping.map(u),m=s.mapping.map(u)+l.nodeSize;let g=null;if(l.marks.forEach(x=>{if(x!==a)return!1;g=x}),!g)return;let b=!1;if(Object.keys(n).forEach(x=>{n[x]!==g.attrs[x]&&(b=!0)}),b){const x=t.type.create({...t.attrs,...n});s.removeMark(d,m,t.type),s.addMark(d,m,x)}}),s.docChanged&&e.view.dispatch(s)}var aa=class r8 extends f3{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new r8(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Sd(t){return new oF({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Jt(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],u=r[0];let d=n.to;if(l){const m=u.search(/\S/),g=n.from+u.indexOf(l),b=g+l.length;if(u3(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(_=>_===t.type&&_!==S.mark.type)).filter(S=>S.to>g).length)return null;b<n.to&&a.delete(b,n.to),g>n.from&&a.delete(n.from+m,g),d=n.from+m+l.length,a.addMark(n.from+m,d,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var BS,fT;function TF(){return fT||(fT=1,BS=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),BS}var _F=TF();const MF=Pp(_F);var IS={exports:{}},HS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function AF(){if(dT)return HS;dT=1;var t=Bp(),e=$M();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return HS.useSyncExternalStoreWithSelector=function(d,m,g,b,x){var S=s(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=l(function(){function A(j){if(!O){if(O=!0,z=j,j=b(j),x!==void 0&&k.hasValue){var P=k.value;if(x(P,j))return L=P}return L=j}if(P=L,r(z,j))return P;var H=b(j);return x!==void 0&&x(P,H)?(z=j,P):(z=j,L=H)}var O=!1,z,L,I=g===void 0?null:g;return[function(){return A(m())},I===null?void 0:function(){return A(I())}]},[m,g,b,x]);var _=i(d,S[0],S[1]);return a(function(){k.hasValue=!0,k.value=_},[_]),u(_),_},HS}var hT;function NF(){return hT||(hT=1,IS.exports=AF()),IS.exports}var RF=NF(),OF=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},DF=({contentComponent:t})=>{const e=ZM.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return E.jsx(E.Fragment,{children:Object.values(e)})};function zF(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:$6.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var jF=class extends Ye.Component{constructor(t){var e;super(t),this.editorContentRef=Ye.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=zF(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return E.jsxs(E.Fragment,{children:[E.jsx("div",{ref:OF(e,this.editorContentRef),...n}),t?.contentComponent&&E.jsx(DF,{contentComponent:t.contentComponent})]})}},LF=N.forwardRef((t,e)=>{const n=Ye.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ye.createElement(jF,{key:n,innerRef:e,...t})}),PF=Ye.memo(LF),BF=typeof window<"u"?N.useLayoutEffect:N.useEffect,IF=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function HF(t){var e;const[n]=N.useState(()=>new IF(t.editor)),r=RF.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:MF);return BF(()=>n.watch(t.editor),[t.editor,n]),N.useDebugValue(r),r}var UF=!1,CC=typeof window>"u",FF=CC||!!(typeof window<"u"&&window.next),GF=class i8{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?CC||FF?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new gF(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?i8.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function qF(t={},e=[]){const n=N.useRef(t);n.current=t;const[r]=N.useState(()=>new GF(n)),i=ZM.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return N.useDebugValue(i),N.useEffect(r.onRender(e)),HF({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var VF=N.createContext({editor:null});VF.Consumer;var YF=N.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),KF=()=>N.useContext(YF);Ye.forwardRef((t,e)=>{const{onDragStart:n}=KF(),r=t.as||"div";return E.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ye.createContext({markViewContentRef:()=>{}});var Nv=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},XF=/^\s*>\s$/,QF=aa.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Nv("blockquote",{...Or(this.options.HTMLAttributes,t),children:Nv("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const l=e.renderChildren([i]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Op({find:XF,type:this.type})]}}),WF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,JF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,$F=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ZF=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,eG=Md.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Nv("strong",{...Or(this.options.HTMLAttributes,t),children:Nv("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Rp({find:WF,type:this.type}),Rp({find:$F,type:this.type})]},addPasteRules(){return[Sd({find:JF,type:this.type}),Sd({find:ZF,type:this.type})]}}),tG=/(^|[^`])`([^`]+)`(?!`)$/,nG=/(^|[^`])`([^`]+)`(?!`)/g,rG=Md.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Rp({find:tG,type:this.type})]},addPasteRules(){return[Sd({find:nG,type:this.type})]}}),US=4,iG=/^```([a-z]+)?[\s\n]$/,sG=/^~~~([a-z]+)?[\s\n]$/,aG=aa.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:US,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Or(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:US,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:u})=>{const{from:d,to:m}=i,x=r.doc.textBetween(d,m,`
`,`
`).split(`
`).map(S=>l+S).join(`
`);return u.replaceWith(d,m,r.schema.text(x)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:US,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var u;const{pos:d}=s,m=s.start(),g=s.end(),x=r.doc.textBetween(m,g,`
`,`
`).split(`
`);let S=0,k=0;const _=d-m;for(let j=0;j<x.length;j+=1){if(k+x[j].length>=_){S=j;break}k+=x[j].length+1}const O=((u=x[S].match(/^ */))==null?void 0:u[0])||"",z=Math.min(O.length,n);if(z===0)return!0;let L=m;for(let j=0;j<S;j+=1)L+=x[j].length+1;return l.delete(L,L+z),d-L<=z&&l.setSelection(lt.create(l.doc,L)),!0}):t.commands.command(({tr:l})=>{const{from:u,to:d}=i,b=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>{var S;const k=((S=x.match(/^ */))==null?void 0:S[0])||"",_=Math.min(k.length,n);return x.slice(_)}).join(`
`);return l.replaceWith(u,d,r.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(Et.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[SC({find:iG,type:this.type,getAttributes:t=>({language:t[1]})}),SC({find:sG,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Zn({key:new qr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,u=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(lt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),oG=aa.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),lG=aa.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Or(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:m})=>{if(m&&u&&a){const g=u.filter(b=>l.includes(b.type.name));d.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cG=aa.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Or(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>SC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),uG=aa.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Or(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!bF(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return FN(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:u}=a.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(lt.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Ze.create(a.doc,u.pos)):a.setSelection(lt.create(a.doc,u.pos));else{const m=s.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,g=m?.create();g&&(a.insert(d,g),a.setSelection(lt.create(a.doc,d+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yF({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),fG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,dG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,hG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,pG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,mG=Md.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Or(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Rp({find:fG,type:this.type}),Rp({find:hG,type:this.type})]},addPasteRules(){return[Sd({find:dG,type:this.type}),Sd({find:pG,type:this.type})]}});const gG="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",yG="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",EC="numeric",kC="ascii",TC="alpha",o0="asciinumeric",Wg="alphanumeric",_C="domain",s8="emoji",bG="scheme",vG="slashscheme",FS="whitespace";function xG(t,e){return t in e||(e[t]=[]),e[t]}function sd(t,e,n){e[EC]&&(e[o0]=!0,e[Wg]=!0),e[kC]&&(e[o0]=!0,e[TC]=!0),e[o0]&&(e[Wg]=!0),e[TC]&&(e[Wg]=!0),e[Wg]&&(e[_C]=!0),e[s8]&&(e[_C]=!0);for(const r in e){const i=xG(r,n);i.indexOf(t)<0&&i.push(t)}}function SG(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Us(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Us.groups={};Us.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Us.groups;let i;return e&&e.j?i=e:(i=new Us(e),n&&r&&sd(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Us.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new Us,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Us,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(SG(a.t,r),n);sd(s,u,r)}else n&&sd(s,n,r);a.t=s}return i.j[t]=a,a}};const Ct=(t,e,n,r,i)=>t.ta(e,n,r,i),cr=(t,e,n,r,i)=>t.tr(e,n,r,i),pT=(t,e,n,r,i)=>t.ts(e,n,r,i),Me=(t,e,n,r,i)=>t.tt(e,n,r,i),ic="WORD",MC="UWORD",a8="ASCIINUMERICAL",o8="ALPHANUMERICAL",B0="LOCALHOST",AC="TLD",NC="UTLD",Jb="SCHEME",hp="SLASH_SCHEME",m3="NUM",RC="WS",g3="NL",l0="OPENBRACE",c0="CLOSEBRACE",Rv="OPENBRACKET",Ov="CLOSEBRACKET",Dv="OPENPAREN",zv="CLOSEPAREN",jv="OPENANGLEBRACKET",Lv="CLOSEANGLEBRACKET",Pv="FULLWIDTHLEFTPAREN",Bv="FULLWIDTHRIGHTPAREN",Iv="LEFTCORNERBRACKET",Hv="RIGHTCORNERBRACKET",Uv="LEFTWHITECORNERBRACKET",Fv="RIGHTWHITECORNERBRACKET",Gv="FULLWIDTHLESSTHAN",qv="FULLWIDTHGREATERTHAN",Vv="AMPERSAND",Yv="APOSTROPHE",Kv="ASTERISK",Mu="AT",Xv="BACKSLASH",Qv="BACKTICK",Wv="CARET",Ou="COLON",y3="COMMA",Jv="DOLLAR",ol="DOT",$v="EQUALS",b3="EXCLAMATION",ja="HYPHEN",u0="PERCENT",Zv="PIPE",ex="PLUS",tx="POUND",f0="QUERY",v3="QUOTE",l8="FULLWIDTHMIDDLEDOT",x3="SEMI",ll="SLASH",d0="TILDE",nx="UNDERSCORE",c8="EMOJI",rx="SYM";var u8=Object.freeze({__proto__:null,ALPHANUMERICAL:o8,AMPERSAND:Vv,APOSTROPHE:Yv,ASCIINUMERICAL:a8,ASTERISK:Kv,AT:Mu,BACKSLASH:Xv,BACKTICK:Qv,CARET:Wv,CLOSEANGLEBRACKET:Lv,CLOSEBRACE:c0,CLOSEBRACKET:Ov,CLOSEPAREN:zv,COLON:Ou,COMMA:y3,DOLLAR:Jv,DOT:ol,EMOJI:c8,EQUALS:$v,EXCLAMATION:b3,FULLWIDTHGREATERTHAN:qv,FULLWIDTHLEFTPAREN:Pv,FULLWIDTHLESSTHAN:Gv,FULLWIDTHMIDDLEDOT:l8,FULLWIDTHRIGHTPAREN:Bv,HYPHEN:ja,LEFTCORNERBRACKET:Iv,LEFTWHITECORNERBRACKET:Uv,LOCALHOST:B0,NL:g3,NUM:m3,OPENANGLEBRACKET:jv,OPENBRACE:l0,OPENBRACKET:Rv,OPENPAREN:Dv,PERCENT:u0,PIPE:Zv,PLUS:ex,POUND:tx,QUERY:f0,QUOTE:v3,RIGHTCORNERBRACKET:Hv,RIGHTWHITECORNERBRACKET:Fv,SCHEME:Jb,SEMI:x3,SLASH:ll,SLASH_SCHEME:hp,SYM:rx,TILDE:d0,TLD:AC,UNDERSCORE:nx,UTLD:NC,UWORD:MC,WORD:ic,WS:RC});const tc=/[a-z]/,Dg=new RegExp("\\p{L}","u"),GS=new RegExp("\\p{Emoji}","u"),nc=/\d/,qS=/\s/,mT="\r",VS=`
`,wG="",CG="",YS="";let bb=null,vb=null;function EG(t=[]){const e={};Us.groups=e;const n=new Us;bb==null&&(bb=gT(gG)),vb==null&&(vb=gT(yG)),Me(n,"'",Yv),Me(n,"{",l0),Me(n,"}",c0),Me(n,"[",Rv),Me(n,"]",Ov),Me(n,"(",Dv),Me(n,")",zv),Me(n,"<",jv),Me(n,">",Lv),Me(n,"",Pv),Me(n,"",Bv),Me(n,"",Iv),Me(n,"",Hv),Me(n,"",Uv),Me(n,"",Fv),Me(n,"",Gv),Me(n,"",qv),Me(n,"&",Vv),Me(n,"*",Kv),Me(n,"@",Mu),Me(n,"`",Qv),Me(n,"^",Wv),Me(n,":",Ou),Me(n,",",y3),Me(n,"$",Jv),Me(n,".",ol),Me(n,"=",$v),Me(n,"!",b3),Me(n,"-",ja),Me(n,"%",u0),Me(n,"|",Zv),Me(n,"+",ex),Me(n,"#",tx),Me(n,"?",f0),Me(n,'"',v3),Me(n,"/",ll),Me(n,";",x3),Me(n,"~",d0),Me(n,"_",nx),Me(n,"\\",Xv),Me(n,"",l8);const r=cr(n,nc,m3,{[EC]:!0});cr(r,nc,r);const i=cr(r,tc,a8,{[o0]:!0}),s=cr(r,Dg,o8,{[Wg]:!0}),a=cr(n,tc,ic,{[kC]:!0});cr(a,nc,i),cr(a,tc,a),cr(i,nc,i),cr(i,tc,i);const l=cr(n,Dg,MC,{[TC]:!0});cr(l,tc),cr(l,nc,s),cr(l,Dg,l),cr(s,nc,s),cr(s,tc),cr(s,Dg,s);const u=Me(n,VS,g3,{[FS]:!0}),d=Me(n,mT,RC,{[FS]:!0}),m=cr(n,qS,RC,{[FS]:!0});Me(n,YS,m),Me(d,VS,u),Me(d,YS,m),cr(d,qS,m),Me(m,mT),Me(m,VS),cr(m,qS,m),Me(m,YS,m);const g=cr(n,GS,c8,{[s8]:!0});Me(g,"#"),cr(g,GS,g),Me(g,wG,g);const b=Me(g,CG);Me(b,"#"),cr(b,GS,g);const x=[[tc,a],[nc,i]],S=[[tc,null],[Dg,l],[nc,s]];for(let k=0;k<bb.length;k++)vu(n,bb[k],AC,ic,x);for(let k=0;k<vb.length;k++)vu(n,vb[k],NC,MC,S);sd(AC,{tld:!0,ascii:!0},e),sd(NC,{utld:!0,alpha:!0},e),vu(n,"file",Jb,ic,x),vu(n,"mailto",Jb,ic,x),vu(n,"http",hp,ic,x),vu(n,"https",hp,ic,x),vu(n,"ftp",hp,ic,x),vu(n,"ftps",hp,ic,x),sd(Jb,{scheme:!0,ascii:!0},e),sd(hp,{slashscheme:!0,ascii:!0},e),t=t.sort((k,_)=>k[0]>_[0]?1:-1);for(let k=0;k<t.length;k++){const _=t[k][0],O=t[k][1]?{[bG]:!0}:{[vG]:!0};_.indexOf("-")>=0?O[_C]=!0:tc.test(_)?nc.test(_)?O[o0]=!0:O[kC]=!0:O[EC]=!0,pT(n,_,_,O)}return pT(n,"localhost",B0,{ascii:!0}),n.jd=new Us(rx),{start:n,tokens:Object.assign({groups:e},u8)}}function f8(t,e){const n=kG(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,u=null,d=0,m=null,g=-1,b=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(g=0,b=0,m=l):g>=0&&(g+=n[a].length,b++),d+=n[a].length,s+=n[a].length,a++;s-=g,a-=b,d-=g,i.push({t:m.t,v:e.slice(s-d,s),s:s-d,e:s})}return i}function kG(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function vu(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const u=e[l];t.j[u]?s=t.j[u]:(s=new Us(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Us(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function gT(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const I0={defaultProtocol:"http",events:null,format:yT,formatHref:yT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function S3(t,e=null){let n=Object.assign({},I0);t&&(n=Object.assign(n,t instanceof S3?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}S3.prototype={o:I0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:I0[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function yT(t){return t}function d8(t,e){this.t="token",this.v=t,this.tk=e}d8.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=I0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),u=t.get("target",n,e),d=t.get("rel",n,e),m=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),u&&(a.target=u),d&&(a.rel=d),m&&Object.assign(a,m),{tagName:i,attributes:a,content:s,eventListeners:g}}};function $x(t,e){class n extends d8{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const bT=$x("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),vT=$x("text"),TG=$x("nl"),xb=$x("url",{isLink:!0,toHref(t=I0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==B0&&t[1].t===Ou}}),za=t=>new Us(t);function _G({groups:t}){const e=t.domain.concat([Vv,Kv,Mu,Xv,Qv,Wv,Jv,$v,ja,m3,u0,Zv,ex,tx,ll,rx,d0,nx]),n=[Yv,Ou,y3,ol,b3,u0,f0,v3,x3,jv,Lv,l0,c0,Ov,Rv,Dv,zv,Pv,Bv,Iv,Hv,Uv,Fv,Gv,qv],r=[Vv,Yv,Kv,Xv,Qv,Wv,Jv,$v,ja,l0,c0,u0,Zv,ex,tx,f0,ll,rx,d0,nx],i=za(),s=Me(i,d0);Ct(s,r,s),Ct(s,t.domain,s);const a=za(),l=za(),u=za();Ct(i,t.domain,a),Ct(i,t.scheme,l),Ct(i,t.slashscheme,u),Ct(a,r,s),Ct(a,t.domain,a);const d=Me(a,Mu);Me(s,Mu,d),Me(l,Mu,d),Me(u,Mu,d);const m=Me(s,ol);Ct(m,r,s),Ct(m,t.domain,s);const g=za();Ct(d,t.domain,g),Ct(g,t.domain,g);const b=Me(g,ol);Ct(b,t.domain,g);const x=za(bT);Ct(b,t.tld,x),Ct(b,t.utld,x),Me(d,B0,x);const S=Me(g,ja);Me(S,ja,S),Ct(S,t.domain,g),Ct(x,t.domain,g),Me(x,ol,b),Me(x,ja,S);const k=Me(x,Ou);Ct(k,t.numeric,bT);const _=Me(a,ja),A=Me(a,ol);Me(_,ja,_),Ct(_,t.domain,a),Ct(A,r,s),Ct(A,t.domain,a);const O=za(xb);Ct(A,t.tld,O),Ct(A,t.utld,O),Ct(O,t.domain,a),Ct(O,r,s),Me(O,ol,A),Me(O,ja,_),Me(O,Mu,d);const z=Me(O,Ou),L=za(xb);Ct(z,t.numeric,L);const I=za(xb),j=za();Ct(I,e,I),Ct(I,n,j),Ct(j,e,I),Ct(j,n,j),Me(O,ll,I),Me(L,ll,I);const P=Me(l,Ou),H=Me(u,Ou),Q=Me(H,ll),q=Me(Q,ll);Ct(l,t.domain,a),Me(l,ol,A),Me(l,ja,_),Ct(u,t.domain,a),Me(u,ol,A),Me(u,ja,_),Ct(P,t.domain,I),Me(P,ll,I),Me(P,f0,I),Ct(q,t.domain,I),Ct(q,e,I),Me(q,ll,I);const X=[[l0,c0],[Rv,Ov],[Dv,zv],[jv,Lv],[Pv,Bv],[Iv,Hv],[Uv,Fv],[Gv,qv]];for(let W=0;W<X.length;W++){const[le,Z]=X[W],te=Me(I,le);Me(j,le,te),Me(te,Z,I);const V=za(xb);Ct(te,e,V);const re=za();Ct(te,n),Ct(V,e,V),Ct(V,n,re),Ct(re,e,V),Ct(re,n,re),Me(V,Z,I),Me(re,Z,I)}return Me(i,B0,O),Me(i,g3,TG),{start:i,tokens:u8}}function MG(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,u=null,d=null,m=0,g=null,b=-1;for(;i<r&&!(u=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(d=u||l.go(n[i].t));)u=null,l=d,l.accepts()?(b=0,g=l):b>=0&&b++,i++,m++;if(b<0)i-=m,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(KS(vT,e,a)),a=[]),i-=b,m-=b;const x=g.t,S=n.slice(i-m,i);s.push(KS(x,e,S))}}return a.length>0&&s.push(KS(vT,e,a)),s}function KS(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const AG=typeof console<"u"&&console&&console.warn||(()=>{}),NG="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Mn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function RG(){return Us.groups={},Mn.scanner=null,Mn.parser=null,Mn.tokenQueue=[],Mn.pluginQueue=[],Mn.customSchemes=[],Mn.initialized=!1,Mn}function xT(t,e=!1){if(Mn.initialized&&AG(`linkifyjs: already initialized - will not register custom scheme "${t}" ${NG}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Mn.customSchemes.push([t,e])}function OG(){Mn.scanner=EG(Mn.customSchemes);for(let t=0;t<Mn.tokenQueue.length;t++)Mn.tokenQueue[t][1]({scanner:Mn.scanner});Mn.parser=_G(Mn.scanner.tokens);for(let t=0;t<Mn.pluginQueue.length;t++)Mn.pluginQueue[t][1]({scanner:Mn.scanner,parser:Mn.parser});return Mn.initialized=!0,Mn}function w3(t){return Mn.initialized||OG(),MG(Mn.parser.start,t,f8(Mn.scanner.start,t))}w3.scan=f8;function h8(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new S3(n),i=w3(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var C3="[\0- -\u2029]",DG=new RegExp(C3),zG=new RegExp(`${C3}$`),jG=new RegExp(C3,"g");function LG(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function PG(t){return new Zn({key:new qr("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=zN(n.doc,[...e]);if(UN(l).forEach(({newRange:d})=>{const m=xU(r.doc,d,x=>x.isTextblock);let g,b;if(m.length>1)g=m[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(m.length){const x=r.doc.textBetween(d.from,d.to," "," ");if(!zG.test(x))return;g=m[0],b=r.doc.textBetween(g.pos,d.to,void 0," ")}if(g&&b){const x=b.split(DG).filter(Boolean);if(x.length<=0)return!1;const S=x[x.length-1],k=g.pos+b.lastIndexOf(S);if(!S)return!1;const _=w3(S).map(A=>A.toObject(t.defaultProtocol));if(!LG(_))return!1;_.filter(A=>A.isLink).map(A=>({...A,from:k+A.start+1,to:k+A.end+1})).filter(A=>r.schema.marks.code?!r.doc.rangeHasMark(A.from,A.to,r.schema.marks.code):!0).filter(A=>t.validate(A.value)).filter(A=>t.shouldAutoLink(A.value)).forEach(A=>{u3(A.from,A.to,r.doc).some(O=>O.mark.type===t.type)||a.addMark(A.from,A.to,t.type.create({href:A.href}))})}}),!!a.steps.length)return a}})}function BG(t){return new Zn({key:new qr("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let m=r.target;const g=[];for(;m.nodeName!=="DIV";)g.push(m),m=m.parentNode;a=g.find(b=>b.nodeName==="A")}if(!a)return!1;const l=HN(e.state,t.type.name),u=(i=a?.href)!=null?i:l.href,d=(s=a?.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&u?(window.open(u,d),!0):!1}}})}function IG(t){return new Zn({key:new qr("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:l}=a;if(l)return!1;let u="";r.content.forEach(m=>{u+=m.textContent});const d=h8(u,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===u);return!u||!d||i!==void 0&&!i(d.href)?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Qf(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(jG,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var HG=Md.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){xT(t);return}xT(t.scheme,t.optionalSlashes)})},onDestroy(){RG()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Qf(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Qf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Qf(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Or(this.options.HTMLAttributes,t),0]:["a",Or(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Qf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Qf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Sd({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=h8(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Qf(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(PG({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Qf(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(BG({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(IG({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),UG=Object.defineProperty,FG=(t,e)=>{for(var n in e)UG(t,n,{get:e[n],enumerable:!0})},GG="listItem",ST="textStyle",wT=/^\s*([-+*])\s$/,p8=aa.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GG,this.editor.getAttributes(ST)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Op({find:wT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Op({find:wT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ST),editor:this.editor})),[t]}}),m8=aa.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>p3(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qG={};FG(qG,{findListItemPos:()=>ry,getNextListDepth:()=>E3,handleBackspace:()=>OC,handleDelete:()=>DC,hasListBefore:()=>g8,hasListItemAfter:()=>VG,hasListItemBefore:()=>y8,listItemHasSubList:()=>b8,nextListIsDeeper:()=>v8,nextListIsHigher:()=>x8});var ry=(t,e)=>{const{$from:n}=e.selection,r=Rr(t,e.schema);let i=null,s=n.depth,a=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},E3=(t,e)=>{const n=ry(t,e);if(!n)return!1;const[,r]=NU(e,t,n.$pos.pos+4);return r},g8=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},y8=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},b8=(t,e,n)=>{if(!n)return!1;const r=Rr(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},OC=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Yu(t.state,e)&&g8(t.state,e,n)){const{$anchor:l}=t.state.selection,u=t.state.doc.resolve(l.before()-1),d=[];u.node().descendants((b,x)=>{b.type.name===e&&d.push({node:b,pos:x})});const m=d.at(-1);if(!m)return!1;const g=t.state.doc.resolve(u.start()+m.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},g.end()).joinForward().run()}if(!Yu(t.state,e)||!zU(t.state))return!1;const r=ry(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=b8(e,t.state,s);return y8(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},v8=(t,e)=>{const n=E3(t,e),r=ry(t,e);return!r||!n?!1:n>r.depth},x8=(t,e)=>{const n=E3(t,e),r=ry(t,e);return!r||!n?!1:n<r.depth},DC=(t,e)=>{if(!Yu(t.state,e)||!DU(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:v8(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():x8(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},VG=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},S8=br.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&DC(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&DC(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&OC(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&OC(t,n,r)&&(e=!0)}),e}}}}),CT=/^(\s*)(\d+)\.\s+(.*)$/,YG=/^\s/;function KG(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(CT);if(!s)break;const[,a,l,u]=s,d=a.length;let m=u,g=n+1;const b=[i];for(;g<t.length;){const x=t[g];if(x.match(CT))break;if(x.trim()==="")b.push(x),m+=`
`,g+=1;else if(x.match(YG))b.push(x),m+=`
${x.slice(d+2)}`,g+=1;else break}e.push({indent:d,number:parseInt(l,10),content:m.trim(),raw:b.join(`
`)}),r=g,n=g}return[e,r]}function w8(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const l=a.content.split(`
`),u=((r=l[0])==null?void 0:r.trim())||"",d=[];u&&d.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const m=l.slice(1).join(`
`).trim();if(m){const x=n.blockTokens(m);d.push(...x)}let g=s+1;const b=[];for(;g<t.length&&t[g].indent>e;)b.push(t[g]),g+=1;if(b.length>0){const x=Math.min(...b.map(k=>k.indent)),S=w8(b,x,n);d.push({type:"list",ordered:!0,start:b[0].number,items:S,raw:b.map(k=>k.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:d}),s=g}else s+=1}return i}function XG(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var QG="listItem",ET="textStyle",kT=/^(\d+)\.\s$/,C8=aa.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Or(this.options.HTMLAttributes,n),0]:["ol",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?XG(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=KG(i);if(s.length===0)return;const l=w8(s,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:l,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(QG,this.editor.getAttributes(ET)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Op({find:kT,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Op({find:kT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(ET)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),WG=/^\s*(\[([( |x])?\])\s$/,JG=aa.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Or(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return p3(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),d=m=>{var g,b;l.ariaLabel=((b=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:b.call(g,m,l.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};return d(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",m=>m.preventDefault()),l.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:g}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const x=n();if(typeof x!="number")return!1;const S=b.doc.nodeAt(x);return b.setNodeMarkup(x,void 0,{...S?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{i.setAttribute(m,g)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),i.append(s,u),Object.entries(e).forEach(([m,g])=>{i.setAttribute(m,g)}),{dom:i,contentDOM:u,update:m=>m.type!==this.type?!1:(i.dataset.checked=m.attrs.checked,l.checked=m.attrs.checked,d(m),!0)}}},addInputRules(){return[Op({find:WG,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),$G=aa.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Or(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=wC(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=wC(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});br.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(p8.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(m8.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(S8.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(C8.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(JG.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push($G.configure(this.options.taskList)),t}});var ZG=aa.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Or(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,tq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,nq=Md.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Rp({find:eq,type:this.type})]},addPasteRules(){return[Sd({find:tq,type:this.type})]}}),rq=aa.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),E8=Md.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Or(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),iq=E8;function sq(t={}){return new Zn({view(e){return new aq(e,t)}})}class aq{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let x=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(x){let S=x.getBoundingClientRect(),k=g?S.bottom:S.top;g&&b&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let _=this.width/2*l;r={left:S.left,right:S.right,top:k-_,bottom:k+_}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*a;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,m;if(!u||u==document.body&&getComputedStyle(u).position=="static")d=-pageXOffset,m=-pageYOffset;else{let g=u.getBoundingClientRect(),b=g.width/u.offsetWidth,x=g.height/u.offsetHeight;d=g.left-u.scrollLeft*b,m=g.top-u.scrollTop*x}this.element.style.left=(r.left-d)/a+"px",this.element.style.top=(r.top-m)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=TA(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ur extends Et{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ur.valid(r)?new ur(r):Et.near(r)}content(){return Ie.empty}eq(e){return e instanceof ur&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ur(e.resolve(n.pos))}getBookmark(){return new k3(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!oq(e)||!lq(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ur.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let u=e.doc.resolve(i);if(ur.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Ze.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(ur.valid(l))return l}return null}}}ur.prototype.visible=!1;ur.findFrom=ur.findGapCursorFrom;Et.jsonID("gapcursor",ur);class k3{constructor(e){this.pos=e}map(e){return new k3(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ur.valid(n)?new ur(n):Et.near(n)}}function k8(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function oq(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||k8(i.type))return!0;if(i.inlineContent)return!1}}return!0}function lq(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||k8(i.type))return!0;if(i.inlineContent)return!1}}return!0}function cq(){return new Zn({props:{decorations:hq,createSelectionBetween(t,e,n){return e.pos==n.pos&&ur.valid(n)?new ur(n):null},handleClick:fq,handleKeyDown:uq,handleDOMEvents:{beforeinput:dq}}})}const uq=TN({ArrowLeft:Sb("horiz",-1),ArrowRight:Sb("horiz",1),ArrowUp:Sb("vert",-1),ArrowDown:Sb("vert",1)});function Sb(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,u=a.empty;if(a instanceof lt){if(!s.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let d=ur.findGapCursorFrom(l,e,u);return d?(i&&i(r.tr.setSelection(new ur(d))),!0):!1}}function fq(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ur.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ze.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ur(r))),!0)}function dq(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ur))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ke.empty;for(let a=r.length-1;a>=0;a--)i=ke.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ie(i,0,0));return s.setSelection(lt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function hq(t){if(!(t.selection instanceof ur))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Jn.create(t.doc,[fs.widget(t.selection.head,e,{key:"gapcursor"})])}var ix=200,ri=function(){};ri.prototype.append=function(e){return e.length?(e=ri.from(e),!this.length&&e||e.length<ix&&this.leafAppend(e)||this.length<ix&&e.leafPrepend(this)||this.appendInner(e)):this};ri.prototype.prepend=function(e){return e.length?ri.from(e).append(this):this};ri.prototype.appendInner=function(e){return new pq(this,e)};ri.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ri.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ri.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ri.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ri.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};ri.from=function(e){return e instanceof ri?e:e&&e.length?new T8(e):ri.empty};var T8=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var u=s;u<a;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var u=s-1;u>=a;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=ix)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=ix)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(ri);ri.empty=new T8([]);var pq=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(ri);const mq=500;class po{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,u,d=[],m=[];return this.items.forEach((g,b)=>{if(!g.step){i||(i=this.remapping(r,b+1),s=i.maps.length),s--,m.push(g);return}if(i){m.push(new xu(g.map));let x=g.step.map(i.slice(s)),S;x&&a.maybeStep(x).doc&&(S=a.mapping.maps[a.mapping.maps.length-1],d.push(new xu(S,void 0,void 0,d.length+m.length))),s--,S&&i.appendMap(S,s)}else a.maybeStep(g.step);if(g.selection)return l=i?g.selection.map(i.slice(s)):g.selection,u=new po(this.items.slice(0,r).append(m.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let m=0;m<e.steps.length;m++){let g=e.steps[m].invert(e.docs[m]),b=new xu(e.mapping.maps[m],g,n),x;(x=u&&u.merge(b))&&(b=x,m?s.pop():l=l.slice(0,l.length-1)),s.push(b),n&&(a++,n=void 0),i||(u=b)}let d=a-r.depth;return d>yq&&(l=gq(l,d),a-=d),new po(l.append(s),a)}remapping(e,n){let r=new O0;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new po(this.items.append(e.map(n=>new xu(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(b=>{b.selection&&l--},i);let u=n;this.items.forEach(b=>{let x=s.getMirror(--u);if(x==null)return;a=Math.min(a,x);let S=s.maps[x];if(b.step){let k=e.steps[x].invert(e.docs[x]),_=b.selection&&b.selection.map(s.slice(u+1,x));_&&l++,r.push(new xu(S,k,_))}else r.push(new xu(S))},i);let d=[];for(let b=n;b<a;b++)d.push(new xu(s.maps[b]));let m=this.items.slice(0,i).append(d).append(r),g=new po(m,l);return g.emptyItemCount()>mq&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),d=u&&u.getMap();if(r--,d&&n.appendMap(d,r),u){let m=a.selection&&a.selection.map(n.slice(r));m&&s++;let g=new xu(d.invert(),u,m),b,x=i.length-1;(b=i.length&&i[x].merge(g))?i[x]=b:i.push(g)}}else a.map&&r--},this.items.length,0),new po(ri.from(i.reverse()),s)}}po.empty=new po(ri.empty,0);function gq(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let xu=class _8{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new _8(n.getMap().invert(),n,this.selection)}}};class Au{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const yq=20;function bq(t,e,n,r){let i=n.getMeta(hd),s;if(i)return i.historyState;n.getMeta(Sq)&&(t=new Au(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(hd))return a.getMeta(hd).redo?new Au(t.done.addTransform(n,void 0,r,$b(e)),t.undone,TT(n.mapping.maps),t.prevTime,t.prevComposition):new Au(t.done,t.undone.addTransform(n,void 0,r,$b(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!vq(n,t.prevRanges)),d=a?XS(t.prevRanges,n.mapping):TT(n.mapping.maps);return new Au(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,$b(e)),po.empty,d,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Au(t.done.rebased(n,s),t.undone.rebased(n,s),XS(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Au(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),XS(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function vq(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function TT(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function XS(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function xq(t,e,n){let r=$b(e),i=hd.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new Au(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(hd,{redo:n,historyState:u})}let QS=!1,_T=null;function $b(t){let e=t.plugins;if(_T!=e){QS=!1,_T=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){QS=!0;break}}return QS}const hd=new qr("history"),Sq=new qr("closeHistory");function wq(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Zn({key:hd,state:{init(){return new Au(po.empty,po.empty,null,0,-1)},apply(e,n,r){return bq(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?A8:r=="historyRedo"?N8:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function M8(t,e){return(n,r)=>{let i=hd.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=xq(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const A8=M8(!1,!0),N8=M8(!0,!0);br.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Zn({key:new qr("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(l,u);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,u=s-r,d=l-u,m=l;return e.deleteRange(d,m),!(this.storage.characters({node:e.doc})>r)}})]}});var Cq=br.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sq(this.options)]}});br.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Zn({key:new qr("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return Jn.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((u,d)=>{if(u.isText)return;if(!(i>=d&&i<=d+u.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((u,d)=>{if(u.isText||!(i>=d&&i<=d+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(fs.node(d,d+u.nodeSize,{class:this.options.className}))}),Jn.create(t,s)}}})]}});var Eq=br.create({name:"gapCursor",addProseMirrorPlugins(){return[cq()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Jt(We(t,"allowGapCursor",n)))!=null?e:null}}}),kq=br.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Zn({key:new qr("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const u=r>=l&&r<=l+a.nodeSize,d=!a.isLeaf&&Qx(a);if((u||!this.options.showOnlyCurrent)&&d){const m=[this.options.emptyNodeClass];s&&m.push(this.options.emptyEditorClass);const g=fs.node(l,l+a.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:u}):this.options.placeholder});i.push(g)}return this.options.includeChildren}),Jn.create(t,i)}}})]}});br.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Zn({key:new qr("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||FN(n.selection)||t.view.dragging?null:Jn.create(n.doc,[fs.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function MT({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Tq=br.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new qr(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Zn({key:e,appendTransaction:(i,s,a)=>{const{doc:l,tr:u,schema:d}=a,m=e.getState(a),g=l.content.size,b=d.nodes[n];if(m)return u.insert(g,b.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!MT({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!MT({node:a,types:r})}}})]}}),_q=br.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>A8(t,e),redo:()=>({state:t,dispatch:e})=>N8(t,e)}},addProseMirrorPlugins(){return[wq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Mq=br.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(eG.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(QF.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(p8.configure(this.options.bulletList)),this.options.code!==!1&&i.push(rG.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(aG.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(oG.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Cq.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Eq.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(lG.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(cG.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(_q.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(uG.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(mG.configure(this.options.italic)),this.options.listItem!==!1&&i.push(m8.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(S8.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(HG.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(C8.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(ZG.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(nq.configure(this.options.strike)),this.options.text!==!1&&i.push(rq.configure(this.options.text)),this.options.underline!==!1&&i.push(E8.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(Tq.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Aq=Mq,Nq=kq;/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),AT=t=>{const e=Oq(t);return e.charAt(0).toUpperCase()+e.slice(1)},R8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Dq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>N.createElement("svg",{ref:u,...zq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:R8("lucide",i),...!s&&!Dq(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,m])=>N.createElement(d,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(jq,{ref:s,iconNode:e,className:R8(`lucide-${Rq(AT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=AT(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Pq=fr("archive",Lq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Iq=fr("bold",Bq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uq=fr("circle",Hq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gq=fr("clock",Fq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Vq=fr("eraser",qq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Kq=fr("folder",Yq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Qq=fr("inbox",Xq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Jq=fr("italic",Wq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Zq=fr("list-ordered",$q);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tV=fr("list",eV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rV=fr("mail",nV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],sV=fr("paperclip",iV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oV=fr("pen",aV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],O8=fr("plus",lV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],uV=fr("quote",cV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],NT=fr("send",fV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hV=fr("square",dV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mV=fr("star",pV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],yV=fr("strikethrough",gV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zC=fr("trash-2",bV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],xV=fr("underline",vV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wV=fr("x",SV);function CV({content:t,onChange:e}){const n=qF({extensions:[Aq,iq,Nq.configure({placeholder:"Start typing your notes here..."})],content:t,onUpdate:({editor:r})=>{e(r.getHTML())},editorProps:{attributes:{class:"prose dark:prose-invert max-w-none focus:outline-none min-h-[500px]"}}});return n?E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 sticky top-0 z-10",children:[E.jsx("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("bold")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Bold",children:E.jsx(Iq,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("italic")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Italic",children:E.jsx(Jq,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("underline")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Underline",children:E.jsx(xV,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("strike")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Strikethrough",children:E.jsx(yV,{size:16})}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),E.jsx("button",{onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("bulletList")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Bullet List",children:E.jsx(tV,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("orderedList")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Ordered List",children:E.jsx(Zq,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleBlockquote().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("blockquote")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Blockquote",children:E.jsx(uV,{size:16})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:E.jsx(PF,{editor:n})})]}):null}const D8=6048e5,EV=864e5,wb=43200,RT=1440,OT=Symbol.for("constructDateFrom");function pc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&OT in t?t[OT](e):t instanceof Date?new t.constructor(e):new Date(e)}function ii(t,e){return pc(e||t,t)}let kV={};function iy(){return kV}function H0(t,e){const n=iy(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ii(t,e?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function sx(t,e){return H0(t,{...e,weekStartsOn:1})}function z8(t,e){const n=ii(t,e?.in),r=n.getFullYear(),i=pc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=sx(i),a=pc(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=sx(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function ax(t){const e=ii(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Zx(t,...e){const n=pc.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function DT(t,e){const n=ii(t,e?.in);return n.setHours(0,0,0,0),n}function TV(t,e,n){const[r,i]=Zx(n?.in,t,e),s=DT(r),a=DT(i),l=+s-ax(s),u=+a-ax(a);return Math.round((l-u)/EV)}function _V(t,e){const n=z8(t,e),r=pc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),sx(r)}function Zb(t,e){const n=+ii(t)-+ii(e);return n<0?-1:n>0?1:n}function MV(t){return pc(t,Date.now())}function AV(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function NV(t){return!(!AV(t)&&typeof t!="number"||isNaN(+ii(t)))}function RV(t,e,n){const[r,i]=Zx(n?.in,t,e),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function OV(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function DV(t,e){return+ii(t)-+ii(e)}function zV(t,e){const n=ii(t,e?.in);return n.setHours(23,59,59,999),n}function jV(t,e){const n=ii(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function LV(t,e){const n=ii(t,e?.in);return+zV(n,e)==+jV(n,e)}function PV(t,e,n){const[r,i,s]=Zx(n?.in,t,t,e),a=Zb(i,s),l=Math.abs(RV(i,s));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*l);let u=Zb(i,s)===-a;LV(r)&&l===1&&Zb(r,s)===1&&(u=!1);const d=a*(l-+u);return d===0?0:d}function BV(t,e,n){const r=DV(t,e)/1e3;return OV(n?.roundingMethod)(r)}function IV(t,e){const n=ii(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const HV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UV=(t,e,n)=>{let r;const i=HV[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function WS(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const FV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VV={date:WS({formats:FV,defaultWidth:"full"}),time:WS({formats:GV,defaultWidth:"full"}),dateTime:WS({formats:qV,defaultWidth:"full"})},YV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KV=(t,e,n,r)=>YV[t];function zg(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const XV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$V={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tY={ordinalNumber:eY,era:zg({values:XV,defaultWidth:"wide"}),quarter:zg({values:QV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:zg({values:WV,defaultWidth:"wide"}),day:zg({values:JV,defaultWidth:"wide"}),dayPeriod:zg({values:$V,defaultWidth:"wide",formattingValues:ZV,defaultFormattingWidth:"wide"})};function jg(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?rY(l,g=>g.test(a)):nY(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const m=e.slice(a.length);return{value:d,rest:m}}}function nY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const sY=/^(\d+)(th|st|nd|rd)?/i,aY=/\d+/i,oY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lY={any:[/^b/i,/^(a|c)/i]},cY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uY={any:[/1/i,/2/i,/3/i,/4/i]},fY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yY={ordinalNumber:iY({matchPattern:sY,parsePattern:aY,valueCallback:t=>parseInt(t,10)}),era:jg({matchPatterns:oY,defaultMatchWidth:"wide",parsePatterns:lY,defaultParseWidth:"any"}),quarter:jg({matchPatterns:cY,defaultMatchWidth:"wide",parsePatterns:uY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:jg({matchPatterns:fY,defaultMatchWidth:"wide",parsePatterns:dY,defaultParseWidth:"any"}),day:jg({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:pY,defaultParseWidth:"any"}),dayPeriod:jg({matchPatterns:mY,defaultMatchWidth:"any",parsePatterns:gY,defaultParseWidth:"any"})},j8={code:"en-US",formatDistance:UV,formatLong:VV,formatRelative:KV,localize:tY,match:yY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bY(t,e){const n=ii(t,e?.in);return TV(n,IV(n))+1}function vY(t,e){const n=ii(t,e?.in),r=+sx(n)-+_V(n);return Math.round(r/D8)+1}function L8(t,e){const n=ii(t,e?.in),r=n.getFullYear(),i=iy(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=pc(e?.in||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=H0(a,e),u=pc(e?.in||t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=H0(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function xY(t,e){const n=iy(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=L8(t,e),s=pc(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),H0(s,e)}function SY(t,e){const n=ii(t,e?.in),r=+H0(n,e)-+xY(n,e);return Math.round(r/D8)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Su={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},tp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Su.y(t,e)},Y:function(t,e,n,r){const i=L8(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return $t(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$t(s,e.length)},R:function(t,e){const n=z8(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Su.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=SY(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=vY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Su.d(t,e)},D:function(t,e,n){const r=bY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $t(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=tp.noon:r===0?i=tp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=tp.evening:r>=12?i=tp.afternoon:r>=4?i=tp.morning:i=tp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Su.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Su.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Su.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Su.s(t,e)},S:function(t,e){return Su.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return LT(r);case"XXXX":case"XX":return $f(r);case"XXXXX":case"XXX":default:return $f(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return LT(r);case"xxxx":case"xx":return $f(r);case"xxxxx":case"xxx":default:return $f(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+jT(r,":");case"OOOO":default:return"GMT"+$f(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+jT(r,":");case"zzzz":default:return"GMT"+$f(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return $t(r,e.length)},T:function(t,e,n){return $t(+t,e.length)}};function jT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$t(s,2)}function LT(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):$f(t,e)}function $f(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),s=$t(r%60,2);return n+i+e+s}const PT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},P8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return PT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",PT(r,e)).replace("{{time}}",P8(i,e))},CY={p:P8,P:wY},EY=/^D+$/,kY=/^Y+$/,TY=["D","DD","YY","YYYY"];function _Y(t){return EY.test(t)}function MY(t){return kY.test(t)}function AY(t,e,n){const r=NY(t,e,n);if(console.warn(r),TY.includes(t))throw new RangeError(r)}function NY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DY=/^'([^]*?)'?$/,zY=/''/g,jY=/[a-zA-Z]/;function LY(t,e,n){const r=iy(),i=r.locale??j8,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=ii(t,n?.in);if(!NV(l))throw new RangeError("Invalid time value");let u=e.match(OY).map(m=>{const g=m[0];if(g==="p"||g==="P"){const b=CY[g];return b(m,i.formatLong)}return m}).join("").match(RY).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:PY(m)};if(zT[g])return{isToken:!0,value:m};if(g.match(jY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(m=>{if(!m.isToken)return m.value;const g=m.value;(MY(g)||_Y(g))&&AY(g,e,String(t));const b=zT[g[0]];return b(l,g,i.localize,d)}).join("")}function PY(t){const e=t.match(DY);return e?e[1].replace(zY,"'"):t}function BY(t,e,n){const r=iy(),i=n?.locale??r.locale??j8,s=2520,a=Zb(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a}),[u,d]=Zx(n?.in,...a>0?[e,t]:[t,e]),m=BV(d,u),g=(ax(d)-ax(u))/1e3,b=Math.round((m-g)/60);let x;if(b<2)return n?.includeSeconds?m<5?i.formatDistance("lessThanXSeconds",5,l):m<10?i.formatDistance("lessThanXSeconds",10,l):m<20?i.formatDistance("lessThanXSeconds",20,l):m<40?i.formatDistance("halfAMinute",0,l):m<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):b===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",b,l);if(b<45)return i.formatDistance("xMinutes",b,l);if(b<90)return i.formatDistance("aboutXHours",1,l);if(b<RT){const S=Math.round(b/60);return i.formatDistance("aboutXHours",S,l)}else{if(b<s)return i.formatDistance("xDays",1,l);if(b<wb){const S=Math.round(b/RT);return i.formatDistance("xDays",S,l)}else if(b<wb*2)return x=Math.round(b/wb),i.formatDistance("aboutXMonths",x,l)}if(x=PV(d,u),x<12){const S=Math.round(b/wb);return i.formatDistance("xMonths",S,l)}else{const S=x%12,k=Math.trunc(x/12);return S<3?i.formatDistance("aboutXYears",k,l):S<9?i.formatDistance("overXYears",k,l):i.formatDistance("almostXYears",k+1,l)}}function IY(t,e){return BY(t,MV(t),e)}const HY=t=>{const e={},n=[];return t.forEach(r=>{r.tags&&r.tags.length>0?r.tags.forEach(i=>{e[i]||(e[i]=[]),e[i].some(s=>s.id===r.id)||e[i].push(r)}):n.push(r)}),{groups:e,uncategorized:n}},B8=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(!1),[i,s]=N.useState(""),[a,l]=N.useState(""),{data:u,isLoading:d,error:m}=xP(),g=Array.isArray(u)?u:[],{data:b}=SP(t),x=wP(),S=CP(),[k,_]=N.useState({});N.useEffect(()=>{b&&(s(b.title),l(b.content))},[b]);const{groups:A,uncategorized:O}=HY(g),z=Object.keys(A).sort(),L=async H=>{try{const Q={title:"Untitled Note",content:"",tags:H?[H]:[],type:0},q=await x.mutateAsync(Q);q&&q.id&&e(q.id)}catch(Q){console.error("Failed to create note:",Q),alert("Failed to create note. Please try again.")}},I=()=>{const H=prompt("Enter folder name:");H&&(L(H),_(Q=>({...Q,[H]:!0})))};N.useEffect(()=>{if(t&&b&&(i!==b.title||a!==b.content)){const H=setTimeout(()=>{S.mutate({id:t,note:{title:i,content:a}})},1e3);return()=>clearTimeout(H)}},[i,a,t]);const j=H=>{_(Q=>({...Q,[H]:!Q[H]}))},P=()=>S.isPending?"Saving...":S.isError?"Error saving":b?.lastModified?`Saved ${IY(new Date(b.lastModified),{addSuffix:!0})}`:"Saved";return d?E.jsx("div",{className:"p-4",children:"Loading notes..."}):m?E.jsx("div",{className:"p-4 text-red-600",children:"Failed to load notes. Please log in and try again."}):E.jsxs("div",{className:"flex h-full bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300 overflow-hidden",children:[E.jsxs("div",{className:"w-64 border-r border-gray-200 dark:border-gray-700 flex flex-col bg-gray-50 dark:bg-gray-950 shrink-0 transition-all duration-300",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[E.jsx("h2",{className:"font-bold text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Folders"}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:H=>{H.preventDefault(),H.stopPropagation(),I()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 hover:bg-gray-200 dark:hover:bg-gray-800 rounded",title:"New Folder",children:E.jsx(Kq,{size:14})}),E.jsx("button",{onClick:H=>{H.preventDefault(),H.stopPropagation(),L()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 hover:bg-gray-200 dark:hover:bg-gray-800 rounded",title:"New Note",children:E.jsx(O8,{size:14})})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[z.map(H=>E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 py-1.5 px-2 rounded-md cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",onClick:()=>j(H),children:[E.jsx("i",{className:`fa-solid fa-chevron-right text-[10px] w-4 transition-transform ${k[H]?"rotate-90":""}`}),E.jsx("span",{className:"truncate text-sm font-medium",children:H}),E.jsx("span",{className:"ml-auto text-xs text-gray-400",children:A[H].length})]}),k[H]&&E.jsx("div",{className:"ml-4 border-l border-gray-200 dark:border-gray-800 pl-1",children:A[H].map(Q=>E.jsx("div",{className:`flex items-center gap-2 py-1.5 px-2 rounded-md cursor-pointer transition-colors ${t===Q.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,onClick:()=>e(Q.id),children:E.jsx("span",{className:"truncate text-sm",children:Q.title||"Untitled"})},Q.id))})]},H)),O.length>0&&E.jsxs("div",{className:"mt-2",children:[E.jsx("div",{className:"px-2 py-1 text-xs uppercase text-gray-400 font-bold tracking-wider",children:"Uncategorized"}),O.map(H=>E.jsx("div",{className:`flex items-center gap-2 py-1.5 px-2 rounded-md cursor-pointer transition-colors ${t===H.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,onClick:()=>e(H.id),children:E.jsx("span",{className:"truncate text-sm",children:H.title||"Untitled"})},H.id))]})]})]}),E.jsx("div",{className:"flex-1 flex flex-col relative h-full",children:t?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"h-12 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 bg-white dark:bg-gray-900 shrink-0",children:[E.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:E.jsxs("span",{className:"text-xs flex items-center gap-1",children:[S.isPending?E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):E.jsx("i",{className:"fa-solid fa-check"}),P()]})}),E.jsx("div",{className:"flex items-center gap-2",children:E.jsx("button",{onClick:()=>r(!n),className:`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 ${n?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-600 dark:text-gray-400"}`,title:"Citations",children:E.jsx("i",{className:"fa-solid fa-quote-right"})})})]}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsx("input",{className:"text-3xl font-bold p-8 pb-4 outline-none bg-transparent text-gray-900 dark:text-white border-none w-full",value:i,onChange:H=>s(H.target.value),placeholder:"Note Title"}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:E.jsx(CV,{content:a,onChange:l},t)})]})]}):E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col gap-4",children:[E.jsx("i",{className:"fa-regular fa-note-sticky text-4xl"}),E.jsx("p",{children:"Select a note or create a new one"})]})}),n&&b&&E.jsxs("div",{className:"w-80 border-l border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-950 shrink-0 flex flex-col transition-all duration-300 h-full",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-sm text-gray-700 dark:text-gray-200",children:"Citations & Sources"}),E.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsx("div",{className:"p-4 flex-1 overflow-y-auto",children:E.jsx("div",{className:"text-sm text-gray-500 italic",children:"Citation management coming soon..."})})]})]})};function UY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const e2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qp(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function T3(t){return"nodeType"in t}function ms(t){var e,n;return t?qp(t)?t:T3(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function _3(t){const{Document:e}=ms(t);return t instanceof e}function sy(t){return qp(t)?!1:t instanceof ms(t).HTMLElement}function I8(t){return t instanceof ms(t).SVGElement}function Vp(t){return t?qp(t)?t.document:T3(t)?_3(t)?t:sy(t)||I8(t)?t.ownerDocument:document:document:document}const bo=e2?N.useLayoutEffect:N.useEffect;function t2(t){const e=N.useRef(t);return bo(()=>{e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function FY(){const t=N.useRef(null),e=N.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=N.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function U0(t,e){e===void 0&&(e=[t]);const n=N.useRef(t);return bo(()=>{n.current!==t&&(n.current=t)},e),n}function ay(t,e){const n=N.useRef();return N.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function ox(t){const e=t2(t),n=N.useRef(null),r=N.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function lx(t){const e=N.useRef();return N.useEffect(()=>{e.current=t},[t]),e.current}let JS={};function oy(t,e){return N.useMemo(()=>{if(e)return e;const n=JS[t]==null?0:JS[t]+1;return JS[t]=n,t+"-"+n},[t,e])}function H8(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[u,d]of l){const m=s[u];m!=null&&(s[u]=m+t*d)}return s},{...e})}}const xp=H8(1),F0=H8(-1);function GY(t){return"clientX"in t&&"clientY"in t}function n2(t){if(!t)return!1;const{KeyboardEvent:e}=ms(t.target);return e&&t instanceof e}function qY(t){if(!t)return!1;const{TouchEvent:e}=ms(t.target);return e&&t instanceof e}function cx(t){if(qY(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return GY(t)?{x:t.clientX,y:t.clientY}:null}const Ku=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ku.Translate.toString(t),Ku.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),BT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function VY(t){return t.matches(BT)?t:t.querySelector(BT)}const YY={display:"none"};function KY(t){let{id:e,value:n}=t;return Ye.createElement("div",{id:e,style:YY},n)}function XY(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ye.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function QY(){const[t,e]=N.useState("");return{announce:N.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const U8=N.createContext(null);function WY(t){const e=N.useContext(U8);N.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function JY(){const[t]=N.useState(()=>new Set),e=N.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[N.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[t]),e]}const $Y={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ZY={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function eK(t){let{announcements:e=ZY,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=$Y}=t;const{announce:s,announcement:a}=QY(),l=oy("DndLiveRegion"),[u,d]=N.useState(!1);if(N.useEffect(()=>{d(!0)},[]),WY(N.useMemo(()=>({onDragStart(g){let{active:b}=g;s(e.onDragStart({active:b}))},onDragMove(g){let{active:b,over:x}=g;e.onDragMove&&s(e.onDragMove({active:b,over:x}))},onDragOver(g){let{active:b,over:x}=g;s(e.onDragOver({active:b,over:x}))},onDragEnd(g){let{active:b,over:x}=g;s(e.onDragEnd({active:b,over:x}))},onDragCancel(g){let{active:b,over:x}=g;s(e.onDragCancel({active:b,over:x}))}}),[s,e])),!u)return null;const m=Ye.createElement(Ye.Fragment,null,Ye.createElement(KY,{id:r,value:i.draggable}),Ye.createElement(XY,{id:l,announcement:a}));return n?lc.createPortal(m,n):m}var Ur;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ur||(Ur={}));function ux(){}function IT(t,e){return N.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function tK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const vo=Object.freeze({x:0,y:0});function nK(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rK(t,e){const n=cx(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function iK(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function sK(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function HT(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function F8(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const G8=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=HT(e),s=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=HT(u),m=i.reduce((b,x,S)=>b+nK(d[S],x),0),g=Number((m/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:g}})}}return s.sort(iK)};function aK(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=s-n;if(r<i&&n<s){const u=e.width*e.height,d=t.width*t.height,m=a*l,g=m/(u+d-m);return Number(g.toFixed(4))}return 0}const oK=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=aK(l,e);u>0&&i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(sK)};function lK(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function q8(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:vo}function cK(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const uK=cK(1);function V8(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function fK(t,e,n){const r=V8(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:l}=r,u=t.left-a-(1-i)*parseFloat(n),d=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),m=i?t.width/i:t.width,g=s?t.height/s:t.height;return{width:m,height:g,top:d,right:u+m,bottom:d+g,left:u}}const dK={ignoreTransform:!1};function Yp(t,e){e===void 0&&(e=dK);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=ms(t).getComputedStyle(t);d&&(n=fK(n,d,m))}const{top:r,left:i,width:s,height:a,bottom:l,right:u}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:u}}function UT(t){return Yp(t,{ignoreTransform:!0})}function hK(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function pK(t,e){return e===void 0&&(e=ms(t).getComputedStyle(t)),e.position==="fixed"}function mK(t,e){e===void 0&&(e=ms(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function r2(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(_3(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!sy(i)||I8(i)||n.includes(i))return n;const s=ms(t).getComputedStyle(i);return i!==t&&mK(i,s)&&n.push(i),pK(i,s)?n:r(i.parentNode)}return t?r(t):n}function Y8(t){const[e]=r2(t,1);return e??null}function $S(t){return!e2||!t?null:qp(t)?t:T3(t)?_3(t)||t===Vp(t).scrollingElement?window:sy(t)?t:null:null}function K8(t){return qp(t)?t.scrollX:t.scrollLeft}function X8(t){return qp(t)?t.scrollY:t.scrollTop}function jC(t){return{x:K8(t),y:X8(t)}}var ei;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ei||(ei={}));function Q8(t){return!e2||!t?!1:t===document.scrollingElement}function W8(t){const e={x:0,y:0},n=Q8(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const gK={x:.2,y:.2};function yK(t,e,n,r,i){let{top:s,left:a,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=gK);const{isTop:d,isBottom:m,isLeft:g,isRight:b}=W8(t),x={x:0,y:0},S={x:0,y:0},k={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+k.height?(x.y=ei.Backward,S.y=r*Math.abs((e.top+k.height-s)/k.height)):!m&&u>=e.bottom-k.height&&(x.y=ei.Forward,S.y=r*Math.abs((e.bottom-k.height-u)/k.height)),!b&&l>=e.right-k.width?(x.x=ei.Forward,S.x=r*Math.abs((e.right-k.width-l)/k.width)):!g&&a<=e.left+k.width&&(x.x=ei.Backward,S.x=r*Math.abs((e.left+k.width-a)/k.width)),{direction:x,speed:S}}function bK(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function J8(t){return t.reduce((e,n)=>xp(e,jC(n)),vo)}function vK(t){return t.reduce((e,n)=>e+K8(n),0)}function xK(t){return t.reduce((e,n)=>e+X8(n),0)}function $8(t,e){if(e===void 0&&(e=Yp),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);Y8(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const SK=[["x",["left","right"],vK],["y",["top","bottom"],xK]];let M3=class{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=r2(n),i=J8(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of SK)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(r),m=i[s]-d;return this.rect[u]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class h0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function wK(t){const{EventTarget:e}=ms(t);return t instanceof e?t:Vp(t)}function ZS(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ba;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ba||(Ba={}));function FT(t){t.preventDefault()}function CK(t){t.stopPropagation()}var Pt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Pt||(Pt={}));const Z8={start:[Pt.Space,Pt.Enter],cancel:[Pt.Esc],end:[Pt.Space,Pt.Enter,Pt.Tab]},EK=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Pt.Right:return{...n,x:n.x+25};case Pt.Left:return{...n,x:n.x-25};case Pt.Down:return{...n,y:n.y+25};case Pt.Up:return{...n,y:n.y-25}}};class A3{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new h0(Vp(n)),this.windowListeners=new h0(ms(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ba.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&$8(r),n(vo)}handleKeyDown(e){if(n2(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=Z8,coordinateGetter:a=EK,scrollBehavior:l="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,m=d?{x:d.left,y:d.top}:vo;this.referenceCoordinates||(this.referenceCoordinates=m);const g=a(e,{active:n,context:r.current,currentCoordinates:m});if(g){const b=F0(g,m),x={x:0,y:0},{scrollableAncestors:S}=r.current;for(const k of S){const _=e.code,{isTop:A,isRight:O,isLeft:z,isBottom:L,maxScroll:I,minScroll:j}=W8(k),P=bK(k),H={x:Math.min(_===Pt.Right?P.right-P.width/2:P.right,Math.max(_===Pt.Right?P.left:P.left+P.width/2,g.x)),y:Math.min(_===Pt.Down?P.bottom-P.height/2:P.bottom,Math.max(_===Pt.Down?P.top:P.top+P.height/2,g.y))},Q=_===Pt.Right&&!O||_===Pt.Left&&!z,q=_===Pt.Down&&!L||_===Pt.Up&&!A;if(Q&&H.x!==g.x){const X=k.scrollLeft+b.x,W=_===Pt.Right&&X<=I.x||_===Pt.Left&&X>=j.x;if(W&&!b.y){k.scrollTo({left:X,behavior:l});return}W?x.x=k.scrollLeft-X:x.x=_===Pt.Right?k.scrollLeft-I.x:k.scrollLeft-j.x,x.x&&k.scrollBy({left:-x.x,behavior:l});break}else if(q&&H.y!==g.y){const X=k.scrollTop+b.y,W=_===Pt.Down&&X<=I.y||_===Pt.Up&&X>=j.y;if(W&&!b.x){k.scrollTo({top:X,behavior:l});return}W?x.y=k.scrollTop-X:x.y=_===Pt.Down?k.scrollTop-I.y:k.scrollTop-j.y,x.y&&k.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(e,xp(F0(g,this.referenceCoordinates),x))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}A3.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=Z8,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function GT(t){return!!(t&&"distance"in t)}function qT(t){return!!(t&&"delay"in t)}class N3{constructor(e,n,r){var i;r===void 0&&(r=wK(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=Vp(a),this.documentListeners=new h0(this.document),this.listeners=new h0(r),this.windowListeners=new h0(ms(a)),this.initialCoordinates=(i=cx(s))!=null?i:vo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.DragStart,FT),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),this.windowListeners.add(Ba.ContextMenu,FT),this.documentListeners.add(Ba.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(qT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(GT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ba.Click,CK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ba.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const u=(n=cx(e))!=null?n:vo,d=F0(i,u);if(!r&&l){if(GT(l)){if(l.tolerance!=null&&ZS(d,l.tolerance))return this.handleCancel();if(ZS(d,l.distance))return this.handleStart()}if(qT(l)&&ZS(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Pt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const kK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class R3 extends N3{constructor(e){const{event:n}=e,r=Vp(n.target);super(e,kK,r)}}R3.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const TK={move:{name:"mousemove"},end:{name:"mouseup"}};var LC;(function(t){t[t.RightClick=2]="RightClick"})(LC||(LC={}));class _K extends N3{constructor(e){super(e,TK,Vp(e.event.target))}}_K.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===LC.RightClick?!1:(r?.({event:n}),!0)}}];const ew={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class MK extends N3{constructor(e){super(e,ew)}static setup(){return window.addEventListener(ew.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ew.move.name,e)};function e(){}}}MK.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var p0;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(p0||(p0={}));var fx;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(fx||(fx={}));function AK(t){let{acceleration:e,activator:n=p0.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=fx.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:m,delta:g,threshold:b}=t;const x=RK({delta:g,disabled:!s}),[S,k]=FY(),_=N.useRef({x:0,y:0}),A=N.useRef({x:0,y:0}),O=N.useMemo(()=>{switch(n){case p0.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case p0.DraggableRect:return i}},[n,i,u]),z=N.useRef(null),L=N.useCallback(()=>{const j=z.current;if(!j)return;const P=_.current.x*A.current.x,H=_.current.y*A.current.y;j.scrollBy(P,H)},[]),I=N.useMemo(()=>l===fx.TreeOrder?[...d].reverse():d,[l,d]);N.useEffect(()=>{if(!s||!d.length||!O){k();return}for(const j of I){if(r?.(j)===!1)continue;const P=d.indexOf(j),H=m[P];if(!H)continue;const{direction:Q,speed:q}=yK(j,H,O,e,b);for(const X of["x","y"])x[X][Q[X]]||(q[X]=0,Q[X]=0);if(q.x>0||q.y>0){k(),z.current=j,S(L,a),_.current=q,A.current=Q;return}}_.current={x:0,y:0},A.current={x:0,y:0},k()},[e,L,r,k,s,a,JSON.stringify(O),JSON.stringify(x),S,d,I,m,JSON.stringify(b)])}const NK={x:{[ei.Backward]:!1,[ei.Forward]:!1},y:{[ei.Backward]:!1,[ei.Forward]:!1}};function RK(t){let{delta:e,disabled:n}=t;const r=lx(e);return ay(i=>{if(n||!r||!i)return NK;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ei.Backward]:i.x[ei.Backward]||s.x===-1,[ei.Forward]:i.x[ei.Forward]||s.x===1},y:{[ei.Backward]:i.y[ei.Backward]||s.y===-1,[ei.Forward]:i.y[ei.Forward]||s.y===1}}},[n,e,r])}function OK(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return ay(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function DK(t,e){return N.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var G0;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(G0||(G0={}));var PC;(function(t){t.Optimized="optimized"})(PC||(PC={}));const VT=new Map;function zK(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=N.useState(null),{frequency:l,measure:u,strategy:d}=i,m=N.useRef(t),g=_(),b=U0(g),x=N.useCallback(function(A){A===void 0&&(A=[]),!b.current&&a(O=>O===null?A:O.concat(A.filter(z=>!O.includes(z))))},[b]),S=N.useRef(null),k=ay(A=>{if(g&&!n)return VT;if(!A||A===VT||m.current!==t||s!=null){const O=new Map;for(let z of t){if(!z)continue;if(s&&s.length>0&&!s.includes(z.id)&&z.rect.current){O.set(z.id,z.rect.current);continue}const L=z.node.current,I=L?new M3(u(L),L):null;z.rect.current=I,I&&O.set(z.id,I)}return O}return A},[t,s,n,g,u]);return N.useEffect(()=>{m.current=t},[t]),N.useEffect(()=>{g||x()},[n,g]),N.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),N.useEffect(()=>{g||typeof l!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},l))},[l,g,x,...r]),{droppableRects:k,measureDroppableContainers:x,measuringScheduled:s!=null};function _(){switch(d){case G0.Always:return!1;case G0.BeforeDragging:return n;default:return!n}}}function O3(t,e){return ay(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function jK(t,e){return O3(t,e)}function LK(t){let{callback:e,disabled:n}=t;const r=t2(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function i2(t){let{callback:e,disabled:n}=t;const r=t2(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function PK(t){return new M3(Yp(t),t)}function YT(t,e,n){e===void 0&&(e=PK);const[r,i]=N.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const m=e(t);return JSON.stringify(u)===JSON.stringify(m)?u:m})}const a=LK({callback(u){if(t)for(const d of u){const{type:m,target:g}=d;if(m==="childList"&&g instanceof HTMLElement&&g.contains(t)){s();break}}}}),l=i2({callback:s});return bo(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),r}function BK(t){const e=O3(t);return q8(t,e)}const KT=[];function IK(t){const e=N.useRef(t),n=ay(r=>t?r&&r!==KT&&t&&e.current&&t.parentNode===e.current.parentNode?r:r2(t):KT,[t]);return N.useEffect(()=>{e.current=t},[t]),n}function HK(t){const[e,n]=N.useState(null),r=N.useRef(t),i=N.useCallback(s=>{const a=$S(s.target);a&&n(l=>l?(l.set(a,jC(a)),new Map(l)):null)},[]);return N.useEffect(()=>{const s=r.current;if(t!==s){a(s);const l=t.map(u=>{const d=$S(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,jC(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(u=>{const d=$S(u);d?.removeEventListener("scroll",i)})}},[i,t]),N.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>xp(s,a),vo):J8(t):vo,[t,e])}function XT(t,e){e===void 0&&(e=[]);const n=N.useRef(null);return N.useEffect(()=>{n.current=null},e),N.useEffect(()=>{const r=t!==vo;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?F0(t,n.current):vo}function UK(t){N.useEffect(()=>{if(!e2)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function FK(t,e){return N.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function e9(t){return N.useMemo(()=>t?hK(t):null,[t])}const QT=[];function GK(t,e){e===void 0&&(e=Yp);const[n]=t,r=e9(n?ms(n):null),[i,s]=N.useState(QT);function a(){s(()=>t.length?t.map(u=>Q8(u)?r:new M3(e(u),u)):QT)}const l=i2({callback:a});return bo(()=>{l?.disconnect(),a(),t.forEach(u=>l?.observe(u))},[t]),i}function t9(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return sy(e)?e:t}function qK(t){let{measure:e}=t;const[n,r]=N.useState(null),i=N.useCallback(d=>{for(const{target:m}of d)if(sy(m)){r(g=>{const b=e(m);return g?{...g,width:b.width,height:b.height}:b});break}},[e]),s=i2({callback:i}),a=N.useCallback(d=>{const m=t9(d);s?.disconnect(),m&&s?.observe(m),r(m?e(m):null)},[e,s]),[l,u]=ox(a);return N.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const VK=[{sensor:R3,options:{}},{sensor:A3,options:{}}],YK={current:{}},ev={draggable:{measure:UT},droppable:{measure:UT,strategy:G0.WhileDragging,frequency:PC.Optimized},dragOverlay:{measure:Yp}};class m0 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const KK={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new m0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ux},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ev,measureDroppableContainers:ux,windowRect:null,measuringScheduled:!1},n9={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ux,draggableNodes:new Map,over:null,measureDroppableContainers:ux},ly=N.createContext(n9),r9=N.createContext(KK);function XK(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new m0}}}function QK(t,e){switch(e.type){case Ur.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ur.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ur.DragEnd:case Ur.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ur.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new m0(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ur.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new m0(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Ur.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new m0(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function WK(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=N.useContext(ly),s=lx(r),a=lx(n?.id);return N.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!n2(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[u.current,d.current]){if(!m)continue;const g=VY(m);if(g){g.focus();break}}})}},[r,e,i,a,s]),null}function i9(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function JK(t){return N.useMemo(()=>({draggable:{...ev.draggable,...t?.draggable},droppable:{...ev.droppable,...t?.droppable},dragOverlay:{...ev.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function $K(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=N.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;bo(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=n(d),g=q8(m,r);if(a||(g.x=0),l||(g.y=0),s.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const b=Y8(d);b&&b.scrollBy({top:g.y,left:g.x})}},[e,a,l,r,n])}const s2=N.createContext({...vo,scaleX:1,scaleY:1});var Nu;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Nu||(Nu={}));const ZK=N.memo(function(e){var n,r,i,s;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:m=VK,collisionDetection:g=oK,measuring:b,modifiers:x,...S}=e;const k=N.useReducer(QK,void 0,XK),[_,A]=k,[O,z]=JY(),[L,I]=N.useState(Nu.Uninitialized),j=L===Nu.Initialized,{draggable:{active:P,nodes:H,translate:Q},droppable:{containers:q}}=_,X=P!=null?H.get(P):null,W=N.useRef({initial:null,translated:null}),le=N.useMemo(()=>{var un;return P!=null?{id:P,data:(un=X?.data)!=null?un:YK,rect:W}:null},[P,X]),Z=N.useRef(null),[te,V]=N.useState(null),[re,ee]=N.useState(null),de=U0(S,Object.values(S)),G=oy("DndDescribedBy",a),Y=N.useMemo(()=>q.getEnabled(),[q]),ie=JK(b),{droppableRects:F,measureDroppableContainers:we,measuringScheduled:Be}=zK(Y,{dragging:j,dependencies:[Q.x,Q.y],config:ie.droppable}),De=OK(H,P),je=N.useMemo(()=>re?cx(re):null,[re]),ot=Mo(),Ke=jK(De,ie.draggable.measure);$K({activeNode:P!=null?H.get(P):null,config:ot.layoutShiftCompensation,initialRect:Ke,measure:ie.draggable.measure});const nt=YT(De,ie.draggable.measure,Ke),Nn=YT(De?De.parentElement:null),Xt=N.useRef({activatorEvent:null,active:null,activeNode:De,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:H,draggingNode:null,draggingNodeRect:null,droppableContainers:q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Rn=q.getNodeFor((n=Xt.current.over)==null?void 0:n.id),Gn=qK({measure:ie.dragOverlay.measure}),Dr=(r=Gn.nodeRef.current)!=null?r:De,tr=j?(i=Gn.rect)!=null?i:nt:null,si=!!(Gn.nodeRef.current&&Gn.rect),Va=BK(si?null:nt),ys=e9(Dr?ms(Dr):null),nr=IK(j?Rn??De:null),Gi=GK(nr),Ei=i9(x,{transform:{x:Q.x-Va.x,y:Q.y-Va.y,scaleX:1,scaleY:1},activatorEvent:re,active:le,activeNodeRect:nt,containerNodeRect:Nn,draggingNodeRect:tr,over:Xt.current.over,overlayNodeRect:Gn.rect,scrollableAncestors:nr,scrollableAncestorRects:Gi,windowRect:ys}),On=je?xp(je,Q):null,qn=HK(nr),Ec=XT(qn),ye=XT(qn,[nt]),_e=xp(Ei,Ec),qe=tr?uK(tr,Ei):null,Je=le&&qe?g({active:le,collisionRect:qe,droppableRects:F,droppableContainers:Y,pointerCoordinates:On}):null,xt=F8(Je,"id"),[vn,qi]=N.useState(null),vr=si?Ei:xp(Ei,ye),Dn=lK(vr,(s=vn?.rect)!=null?s:null,nt),dr=N.useRef(null),Ut=N.useCallback((un,zn)=>{let{sensor:Vn,options:ai}=zn;if(Z.current==null)return;const oi=H.get(Z.current);if(!oi)return;const jn=un.nativeEvent,li=new Vn({active:Z.current,activeNode:oi,event:jn,options:ai,context:Xt,onAbort(Ln){if(!H.get(Ln))return;const{onDragAbort:Yr}=de.current,Yi={id:Ln};Yr?.(Yi),O({type:"onDragAbort",event:Yi})},onPending(Ln,ci,Yr,Yi){if(!H.get(Ln))return;const{onDragPending:xs}=de.current,Ki={id:Ln,constraint:ci,initialCoordinates:Yr,offset:Yi};xs?.(Ki),O({type:"onDragPending",event:Ki})},onStart(Ln){const ci=Z.current;if(ci==null)return;const Yr=H.get(ci);if(!Yr)return;const{onDragStart:Yi}=de.current,vs={activatorEvent:jn,active:{id:ci,data:Yr.data,rect:W}};lc.unstable_batchedUpdates(()=>{Yi?.(vs),I(Nu.Initializing),A({type:Ur.DragStart,initialCoordinates:Ln,active:ci}),O({type:"onDragStart",event:vs}),V(dr.current),ee(jn)})},onMove(Ln){A({type:Ur.DragMove,coordinates:Ln})},onEnd:Vi(Ur.DragEnd),onCancel:Vi(Ur.DragCancel)});dr.current=li;function Vi(Ln){return async function(){const{active:Yr,collisions:Yi,over:vs,scrollAdjustedTranslate:xs}=Xt.current;let Ki=null;if(Yr&&xs){const{cancelDrop:Ti}=de.current;Ki={activatorEvent:jn,active:Yr,collisions:Yi,delta:xs,over:vs},Ln===Ur.DragEnd&&typeof Ti=="function"&&await Promise.resolve(Ti(Ki))&&(Ln=Ur.DragCancel)}Z.current=null,lc.unstable_batchedUpdates(()=>{A({type:Ln}),I(Nu.Uninitialized),qi(null),V(null),ee(null),dr.current=null;const Ti=Ln===Ur.DragEnd?"onDragEnd":"onDragCancel";if(Ki){const Xi=de.current[Ti];Xi?.(Ki),O({type:Ti,event:Ki})}})}}},[H]),bs=N.useCallback((un,zn)=>(Vn,ai)=>{const oi=Vn.nativeEvent,jn=H.get(ai);if(Z.current!==null||!jn||oi.dndKit||oi.defaultPrevented)return;const li={active:jn};un(Vn,zn.options,li)===!0&&(oi.dndKit={capturedBy:zn.sensor},Z.current=ai,Ut(Vn,zn))},[H,Ut]),ki=DK(m,bs);UK(m),bo(()=>{nt&&L===Nu.Initializing&&I(Nu.Initialized)},[nt,L]),N.useEffect(()=>{const{onDragMove:un}=de.current,{active:zn,activatorEvent:Vn,collisions:ai,over:oi}=Xt.current;if(!zn||!Vn)return;const jn={active:zn,activatorEvent:Vn,collisions:ai,delta:{x:_e.x,y:_e.y},over:oi};lc.unstable_batchedUpdates(()=>{un?.(jn),O({type:"onDragMove",event:jn})})},[_e.x,_e.y]),N.useEffect(()=>{const{active:un,activatorEvent:zn,collisions:Vn,droppableContainers:ai,scrollAdjustedTranslate:oi}=Xt.current;if(!un||Z.current==null||!zn||!oi)return;const{onDragOver:jn}=de.current,li=ai.get(xt),Vi=li&&li.rect.current?{id:li.id,rect:li.rect.current,data:li.data,disabled:li.disabled}:null,Ln={active:un,activatorEvent:zn,collisions:Vn,delta:{x:oi.x,y:oi.y},over:Vi};lc.unstable_batchedUpdates(()=>{qi(Vi),jn?.(Ln),O({type:"onDragOver",event:Ln})})},[xt]),bo(()=>{Xt.current={activatorEvent:re,active:le,activeNode:De,collisionRect:qe,collisions:Je,droppableRects:F,draggableNodes:H,draggingNode:Dr,draggingNodeRect:tr,droppableContainers:q,over:vn,scrollableAncestors:nr,scrollAdjustedTranslate:_e},W.current={initial:tr,translated:qe}},[le,De,Je,qe,H,Dr,tr,F,q,vn,nr,_e]),AK({...ot,delta:Q,draggingRect:qe,pointerCoordinates:On,scrollableAncestors:nr,scrollableAncestorRects:Gi});const Pd=N.useMemo(()=>({active:le,activeNode:De,activeNodeRect:nt,activatorEvent:re,collisions:Je,containerNodeRect:Nn,dragOverlay:Gn,draggableNodes:H,droppableContainers:q,droppableRects:F,over:vn,measureDroppableContainers:we,scrollableAncestors:nr,scrollableAncestorRects:Gi,measuringConfiguration:ie,measuringScheduled:Be,windowRect:ys}),[le,De,nt,re,Je,Nn,Gn,H,q,F,vn,we,nr,Gi,ie,Be,ys]),kc=N.useMemo(()=>({activatorEvent:re,activators:ki,active:le,activeNodeRect:nt,ariaDescribedById:{draggable:G},dispatch:A,draggableNodes:H,over:vn,measureDroppableContainers:we}),[re,ki,le,nt,A,G,H,vn,we]);return Ye.createElement(U8.Provider,{value:z},Ye.createElement(ly.Provider,{value:kc},Ye.createElement(r9.Provider,{value:Pd},Ye.createElement(s2.Provider,{value:Dn},d)),Ye.createElement(WK,{disabled:l?.restoreFocus===!1})),Ye.createElement(eK,{...l,hiddenTextDescribedById:G}));function Mo(){const un=te?.autoScrollEnabled===!1,zn=typeof u=="object"?u.enabled===!1:u===!1,Vn=j&&!un&&!zn;return typeof u=="object"?{...u,enabled:Vn}:{enabled:Vn}}}),eX=N.createContext(null),WT="button",tX="Draggable";function nX(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=oy(tX),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:m,draggableNodes:g,over:b}=N.useContext(ly),{role:x=WT,roleDescription:S="draggable",tabIndex:k=0}=i??{},_=u?.id===e,A=N.useContext(_?s2:eX),[O,z]=ox(),[L,I]=ox(),j=FK(a,e),P=U0(n);bo(()=>(g.set(e,{id:e,key:s,node:O,activatorNode:L,data:P}),()=>{const Q=g.get(e);Q&&Q.key===s&&g.delete(e)}),[g,e]);const H=N.useMemo(()=>({role:x,tabIndex:k,"aria-disabled":r,"aria-pressed":_&&x===WT?!0:void 0,"aria-roledescription":S,"aria-describedby":m.draggable}),[r,x,k,_,S,m.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:H,isDragging:_,listeners:r?void 0:j,node:O,over:b,setNodeRef:z,setActivatorNodeRef:I,transform:A}}function s9(){return N.useContext(r9)}const rX="Droppable",iX={timeout:25};function a9(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=oy(rX),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=N.useContext(ly),m=N.useRef({disabled:n}),g=N.useRef(!1),b=N.useRef(null),x=N.useRef(null),{disabled:S,updateMeasurementsFor:k,timeout:_}={...iX,...i},A=U0(k??r),O=N.useCallback(()=>{if(!g.current){g.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(A.current)?A.current:[A.current]),x.current=null},_)},[_]),z=i2({callback:O,disabled:S||!a}),L=N.useCallback((H,Q)=>{z&&(Q&&(z.unobserve(Q),g.current=!1),H&&z.observe(H))},[z]),[I,j]=ox(L),P=U0(e);return N.useEffect(()=>{!z||!I.current||(z.disconnect(),g.current=!1,z.observe(I.current))},[I,z]),N.useEffect(()=>(l({type:Ur.RegisterDroppable,element:{id:r,key:s,disabled:n,node:I,rect:b,data:P}}),()=>l({type:Ur.UnregisterDroppable,key:s,id:r})),[r]),N.useEffect(()=>{n!==m.current.disabled&&(l({type:Ur.SetDroppableDisabled,id:r,key:s,disabled:n}),m.current.disabled=n)},[r,s,n,l]),{active:a,rect:b,isOver:u?.id===r,node:I,over:u,setNodeRef:j}}function sX(t){let{animation:e,children:n}=t;const[r,i]=N.useState(null),[s,a]=N.useState(null),l=lx(n);return!n&&!r&&l&&i(l),bo(()=>{if(!s)return;const u=r?.key,d=r?.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,s)).then(()=>{i(null)})},[e,r,s]),Ye.createElement(Ye.Fragment,null,n,r?N.cloneElement(r,{ref:a}):null)}const aX={x:0,y:0,scaleX:1,scaleY:1};function oX(t){let{children:e}=t;return Ye.createElement(ly.Provider,{value:n9},Ye.createElement(s2.Provider,{value:aX},e))}const lX={position:"fixed",touchAction:"none"},cX=t=>n2(t)?"transform 250ms ease":void 0,uX=N.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:a,rect:l,style:u,transform:d,transition:m=cX}=t;if(!l)return null;const g=i?d:{...d,scaleX:1,scaleY:1},b={...lX,width:l.width,height:l.height,top:l.top,left:l.left,transform:Ku.Transform.toString(g),transformOrigin:i&&r?rK(r,l):void 0,transition:typeof m=="function"?m(r):m,...u};return Ye.createElement(n,{className:a,style:b,ref:e},s)}),fX=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[l,u]of Object.entries(s.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(s!=null&&s.dragOverlay)for(const[l,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},dX=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ku.Transform.toString(e)},{transform:Ku.Transform.toString(n)}]},hX={duration:250,easing:"ease",keyframes:dX,sideEffects:fX({styles:{active:{opacity:"0"}}})};function pX(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return t2((s,a)=>{if(e===null)return;const l=n.get(s);if(!l)return;const u=l.node.current;if(!u)return;const d=t9(a);if(!d)return;const{transform:m}=ms(a).getComputedStyle(a),g=V8(m);if(!g)return;const b=typeof e=="function"?e:mX(e);return $8(u,i.draggable.measure),b({active:{id:s,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:g})})}function mX(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...hX,...t};return s=>{let{active:a,dragOverlay:l,transform:u,...d}=s;if(!e)return;const m={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},g={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},b={x:u.x-m.x,y:u.y-m.y,...g},x=i({...d,active:a,dragOverlay:l,transform:{initial:u,final:b}}),[S]=x,k=x[x.length-1];if(JSON.stringify(S)===JSON.stringify(k))return;const _=r?.({active:a,dragOverlay:l,...d}),A=l.node.animate(x,{duration:e,easing:n,fill:"forwards"});return new Promise(O=>{A.onfinish=()=>{_?.(),O()}})}}let JT=0;function gX(t){return N.useMemo(()=>{if(t!=null)return JT++,JT},[t])}const yX=Ye.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:m,active:g,activeNodeRect:b,containerNodeRect:x,draggableNodes:S,droppableContainers:k,dragOverlay:_,over:A,measuringConfiguration:O,scrollableAncestors:z,scrollableAncestorRects:L,windowRect:I}=s9(),j=N.useContext(s2),P=gX(g?.id),H=i9(a,{activatorEvent:m,active:g,activeNodeRect:b,containerNodeRect:x,draggingNodeRect:_.rect,over:A,overlayNodeRect:_.rect,scrollableAncestors:z,scrollableAncestorRects:L,transform:j,windowRect:I}),Q=O3(b),q=pX({config:r,draggableNodes:S,droppableContainers:k,measuringConfiguration:O}),X=Q?_.setRef:void 0;return Ye.createElement(oX,null,Ye.createElement(sX,{animation:q},g&&P?Ye.createElement(uX,{key:P,id:g.id,ref:X,as:l,activatorEvent:m,adjustScale:e,className:u,transition:s,rect:Q,style:{zIndex:d,...i},transform:H},n):null))});function o9(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function bX(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Cb(t){return t!==null&&t>=0}function vX(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function xX(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const l9=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=o9(e,r,n),a=e[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},Eb={scaleX:1,scaleY:1},SX=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const d=s[a];return d?{x:0,y:n<a?d.top+d.height-(l.top+l.height):d.top-l.top,...Eb}:null}const u=wX(s,i,n);return i>n&&i<=a?{x:0,y:-l.height-u,...Eb}:i<n&&i>=a?{x:0,y:l.height+u,...Eb}:{x:0,y:0,...Eb}};function wX(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const c9="Sortable",u9=Ye.createContext({activeIndex:-1,containerId:c9,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:l9,disabled:{draggable:!1,droppable:!1}});function CX(t){let{children:e,id:n,items:r,strategy:i=l9,disabled:s=!1}=t;const{active:a,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:m}=s9(),g=oy(c9,n),b=l.rect!==null,x=N.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),S=a!=null,k=a?x.indexOf(a.id):-1,_=d?x.indexOf(d.id):-1,A=N.useRef(x),O=!vX(x,A.current),z=_!==-1&&k===-1||O,L=xX(s);bo(()=>{O&&S&&m(x)},[O,x,S,m]),N.useEffect(()=>{A.current=x},[x]);const I=N.useMemo(()=>({activeIndex:k,containerId:g,disabled:L,disableTransforms:z,items:x,overIndex:_,useDragOverlay:b,sortedRects:bX(x,u),strategy:i}),[k,g,L.draggable,L.droppable,z,x,_,u,b,i]);return Ye.createElement(u9.Provider,{value:I},e)}const EX=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return o9(n,r,i).indexOf(e)},kX=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==s&&i===a?!1:n?!0:a!==i&&e===u},TX={duration:200,easing:"ease"},f9="transform",_X=Ku.Transition.toString({property:f9,duration:0,easing:"linear"}),MX={roleDescription:"sortable"};function AX(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,a]=N.useState(null),l=N.useRef(n);return bo(()=>{if(!e&&n!==l.current&&r.current){const u=i.current;if(u){const d=Yp(r.current,{ignoreTransform:!0}),m={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(m.x||m.y)&&a(m)}}n!==l.current&&(l.current=n)},[e,n,r,i]),N.useEffect(()=>{s&&a(null)},[s]),s}function NX(t){let{animateLayoutChanges:e=kX,attributes:n,disabled:r,data:i,getNewIndex:s=EX,id:a,strategy:l,resizeObserverConfig:u,transition:d=TX}=t;const{items:m,containerId:g,activeIndex:b,disabled:x,disableTransforms:S,sortedRects:k,overIndex:_,useDragOverlay:A,strategy:O}=N.useContext(u9),z=RX(r,x),L=m.indexOf(a),I=N.useMemo(()=>({sortable:{containerId:g,index:L,items:m},...i}),[g,i,L,m]),j=N.useMemo(()=>m.slice(m.indexOf(a)),[m,a]),{rect:P,node:H,isOver:Q,setNodeRef:q}=a9({id:a,data:I,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...u}}),{active:X,activatorEvent:W,activeNodeRect:le,attributes:Z,setNodeRef:te,listeners:V,isDragging:re,over:ee,setActivatorNodeRef:de,transform:G}=nX({id:a,data:I,attributes:{...MX,...n},disabled:z.draggable}),Y=UY(q,te),ie=!!X,F=ie&&!S&&Cb(b)&&Cb(_),we=!A&&re,Be=we&&F?G:null,je=F?Be??(l??O)({rects:k,activeNodeRect:le,activeIndex:b,overIndex:_,index:L}):null,ot=Cb(b)&&Cb(_)?s({id:a,items:m,activeIndex:b,overIndex:_}):L,Ke=X?.id,nt=N.useRef({activeId:Ke,items:m,newIndex:ot,containerId:g}),Nn=m!==nt.current.items,Xt=e({active:X,containerId:g,isDragging:re,isSorting:ie,id:a,index:L,items:m,newIndex:nt.current.newIndex,previousItems:nt.current.items,previousContainerId:nt.current.containerId,transition:d,wasDragging:nt.current.activeId!=null}),Rn=AX({disabled:!Xt,index:L,node:H,rect:P});return N.useEffect(()=>{ie&&nt.current.newIndex!==ot&&(nt.current.newIndex=ot),g!==nt.current.containerId&&(nt.current.containerId=g),m!==nt.current.items&&(nt.current.items=m)},[ie,ot,g,m]),N.useEffect(()=>{if(Ke===nt.current.activeId)return;if(Ke!=null&&nt.current.activeId==null){nt.current.activeId=Ke;return}const Dr=setTimeout(()=>{nt.current.activeId=Ke},50);return()=>clearTimeout(Dr)},[Ke]),{active:X,activeIndex:b,attributes:Z,data:I,rect:P,index:L,newIndex:ot,items:m,isOver:Q,isSorting:ie,isDragging:re,listeners:V,node:H,overIndex:_,over:ee,setNodeRef:Y,setActivatorNodeRef:de,setDroppableNodeRef:q,setDraggableNodeRef:te,transform:Rn??je,transition:Gn()};function Gn(){if(Rn||Nn&&nt.current.newIndex===L)return _X;if(!(we&&!n2(W)||!d)&&(ie||Xt))return Ku.Transition.toString({...d,property:f9})}}function RX(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function dx(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const OX=[Pt.Down,Pt.Right,Pt.Up,Pt.Left],DX=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:l}}=e;if(OX.includes(t.code)){if(t.preventDefault(),!n||!r)return;const u=[];s.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const b=i.get(g.id);if(b)switch(t.code){case Pt.Down:r.top<b.top&&u.push(g);break;case Pt.Up:r.top>b.top&&u.push(g);break;case Pt.Left:r.left>b.left&&u.push(g);break;case Pt.Right:r.left<b.left&&u.push(g);break}});const d=G8({collisionRect:r,droppableRects:i,droppableContainers:u});let m=F8(d,"id");if(m===a?.id&&d.length>1&&(m=d[1].id),m!=null){const g=s.get(n.id),b=s.get(m),x=b?i.get(b.id):null,S=b?.node.current;if(S&&x&&g&&b){const _=r2(S).some((j,P)=>l[P]!==j),A=d9(g,b),O=zX(g,b),z=_||!A?{x:0,y:0}:{x:O?r.width-x.width:0,y:O?r.height-x.height:0},L={x:x.left,y:x.top};return z.x&&z.y?L:F0(L,z)}}}};function d9(t,e){return!dx(t)||!dx(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function zX(t,e){return!dx(t)||!dx(e)||!d9(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var jX=W6[" useId ".trim().toString()]||(()=>{}),LX=0;function tv(t){const[e,n]=N.useState(jX());return hc(()=>{n(r=>r??String(LX++))},[t]),t||(e?`radix-${e}`:"")}var tw="focusScope.autoFocusOnMount",nw="focusScope.autoFocusOnUnmount",$T={bubbles:!1,cancelable:!0},PX="FocusScope",D3=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,u]=N.useState(null),d=Gs(i),m=Gs(s),g=N.useRef(null),b=Gr(e,k=>u(k)),x=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let k=function(z){if(x.paused||!l)return;const L=z.target;l.contains(L)?g.current=L:Eu(g.current,{select:!0})},_=function(z){if(x.paused||!l)return;const L=z.relatedTarget;L!==null&&(l.contains(L)||Eu(g.current,{select:!0}))},A=function(z){if(document.activeElement===document.body)for(const I of z)I.removedNodes.length>0&&Eu(l)};document.addEventListener("focusin",k),document.addEventListener("focusout",_);const O=new MutationObserver(A);return l&&O.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",_),O.disconnect()}}},[r,l,x.paused]),N.useEffect(()=>{if(l){e_.add(x);const k=document.activeElement;if(!l.contains(k)){const A=new CustomEvent(tw,$T);l.addEventListener(tw,d),l.dispatchEvent(A),A.defaultPrevented||(BX(GX(h9(l)),{select:!0}),document.activeElement===k&&Eu(l))}return()=>{l.removeEventListener(tw,d),setTimeout(()=>{const A=new CustomEvent(nw,$T);l.addEventListener(nw,m),l.dispatchEvent(A),A.defaultPrevented||Eu(k??document.body,{select:!0}),l.removeEventListener(nw,m),e_.remove(x)},0)}}},[l,d,m,x]);const S=N.useCallback(k=>{if(!n&&!r||x.paused)return;const _=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,A=document.activeElement;if(_&&A){const O=k.currentTarget,[z,L]=IX(O);z&&L?!k.shiftKey&&A===L?(k.preventDefault(),n&&Eu(z,{select:!0})):k.shiftKey&&A===z&&(k.preventDefault(),n&&Eu(L,{select:!0})):A===O&&k.preventDefault()}},[n,r,x.paused]);return E.jsx(ln.div,{tabIndex:-1,...a,ref:b,onKeyDown:S})});D3.displayName=PX;function BX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Eu(r,{select:e}),document.activeElement!==n)return}function IX(t){const e=h9(t),n=ZT(e,t),r=ZT(e.reverse(),t);return[n,r]}function h9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZT(t,e){for(const n of t)if(!HX(n,{upTo:e}))return n}function HX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UX(t){return t instanceof HTMLInputElement&&"select"in t}function Eu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UX(t)&&e&&t.select()}}var e_=FX();function FX(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=t_(t,e),t.unshift(e)},remove(e){t=t_(t,e),t[0]?.resume()}}}function t_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function GX(t){return t.filter(e=>e.tagName!=="A")}var rw=0;function p9(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??n_()),document.body.insertAdjacentElement("beforeend",t[1]??n_()),rw++,()=>{rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),rw--}},[])}function n_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ul=function(){return ul=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ul.apply(this,arguments)};function m9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qX(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var nv="right-scroll-bar-position",rv="width-before-scroll-bar",VX="with-scroll-bars-hidden",YX="--removed-body-scroll-bar-size";function iw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KX(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var XX=typeof window<"u"?N.useLayoutEffect:N.useEffect,r_=new WeakMap;function QX(t,e){var n=KX(null,function(r){return t.forEach(function(i){return iw(i,r)})});return XX(function(){var r=r_.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||iw(l,null)}),s.forEach(function(l){i.has(l)||iw(l,a)})}r_.set(n,t)},[t]),n}function WX(t){return t}function JX(t,e){e===void 0&&(e=WX);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var m=a;a=[],m.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(m){a.push(m),d()},filter:function(m){return a=a.filter(m),n}}}};return i}function $X(t){t===void 0&&(t={});var e=JX(null);return e.options=ul({async:!0,ssr:!1},t),e}var g9=function(t){var e=t.sideCar,n=m9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,ul({},n))};g9.isSideCarExport=!0;function ZX(t,e){return t.useMedium(e),g9}var y9=$X(),sw=function(){},a2=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:sw,onWheelCapture:sw,onTouchMoveCapture:sw}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,m=t.enabled,g=t.shards,b=t.sideCar,x=t.noRelative,S=t.noIsolation,k=t.inert,_=t.allowPinchZoom,A=t.as,O=A===void 0?"div":A,z=t.gapMode,L=m9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=b,j=QX([n,e]),P=ul(ul({},L),i);return N.createElement(N.Fragment,null,m&&N.createElement(I,{sideCar:y9,removeScrollBar:d,shards:g,noRelative:x,noIsolation:S,inert:k,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:z}),a?N.cloneElement(N.Children.only(l),ul(ul({},P),{ref:j})):N.createElement(O,ul({},P,{className:u,ref:j}),l))});a2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};a2.classNames={fullWidth:rv,zeroRight:nv};var eQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eQ();return e&&t.setAttribute("nonce",e),t}function nQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tQ())&&(nQ(e,n),rQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sQ=function(){var t=iQ();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},b9=function(){var t=sQ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},aQ={left:0,top:0,right:0,gap:0},aw=function(t){return parseInt(t||"",10)||0},oQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[aw(n),aw(r),aw(i)]},lQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aQ;var e=oQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cQ=b9(),Sp="data-scroll-locked",uQ=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(VX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Sp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nv,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(rv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(nv," .").concat(nv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rv," .").concat(rv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sp,`] {
    `).concat(YX,": ").concat(l,`px;
  }
`)},i_=function(){var t=parseInt(document.body.getAttribute(Sp)||"0",10);return isFinite(t)?t:0},fQ=function(){N.useEffect(function(){return document.body.setAttribute(Sp,(i_()+1).toString()),function(){var t=i_()-1;t<=0?document.body.removeAttribute(Sp):document.body.setAttribute(Sp,t.toString())}},[])},dQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;fQ();var s=N.useMemo(function(){return lQ(i)},[i]);return N.createElement(cQ,{styles:uQ(s,!e,i,n?"":"!important")})},BC=!1;if(typeof window<"u")try{var kb=Object.defineProperty({},"passive",{get:function(){return BC=!0,!0}});window.addEventListener("test",kb,kb),window.removeEventListener("test",kb,kb)}catch{BC=!1}var np=BC?{passive:!1}:!1,hQ=function(t){return t.tagName==="TEXTAREA"},v9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hQ(t)&&n[e]==="visible")},pQ=function(t){return v9(t,"overflowY")},mQ=function(t){return v9(t,"overflowX")},s_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=x9(t,r);if(i){var s=S9(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},x9=function(t,e){return t==="v"?pQ(e):mQ(e)},S9=function(t,e){return t==="v"?gQ(e):yQ(e)},bQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},vQ=function(t,e,n,r,i){var s=bQ(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,u=e.contains(l),d=!1,m=a>0,g=0,b=0;do{if(!l)break;var x=S9(t,l),S=x[0],k=x[1],_=x[2],A=k-_-s*S;(S||A)&&x9(t,l)&&(g+=A,b+=S);var O=l.parentNode;l=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(m&&Math.abs(g)<1||!m&&Math.abs(b)<1)&&(d=!0),d},Tb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},a_=function(t){return[t.deltaX,t.deltaY]},o_=function(t){return t&&"current"in t?t.current:t},xQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wQ=0,rp=[];function CQ(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(wQ++)[0],s=N.useState(b9)[0],a=N.useRef(t);N.useEffect(function(){a.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var k=qX([t.lockRef.current],(t.shards||[]).map(o_),!0).filter(Boolean);return k.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(k,_){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!a.current.allowPinchZoom;var A=Tb(k),O=n.current,z="deltaX"in k?k.deltaX:O[0]-A[0],L="deltaY"in k?k.deltaY:O[1]-A[1],I,j=k.target,P=Math.abs(z)>Math.abs(L)?"h":"v";if("touches"in k&&P==="h"&&j.type==="range")return!1;var H=s_(P,j);if(!H)return!0;if(H?I=P:(I=P==="v"?"h":"v",H=s_(P,j)),!H)return!1;if(!r.current&&"changedTouches"in k&&(z||L)&&(r.current=I),!I)return!0;var Q=r.current||I;return vQ(Q,_,k,Q==="h"?z:L)},[]),u=N.useCallback(function(k){var _=k;if(!(!rp.length||rp[rp.length-1]!==s)){var A="deltaY"in _?a_(_):Tb(_),O=e.current.filter(function(I){return I.name===_.type&&(I.target===_.target||_.target===I.shadowParent)&&xQ(I.delta,A)})[0];if(O&&O.should){_.cancelable&&_.preventDefault();return}if(!O){var z=(a.current.shards||[]).map(o_).filter(Boolean).filter(function(I){return I.contains(_.target)}),L=z.length>0?l(_,z[0]):!a.current.noIsolation;L&&_.cancelable&&_.preventDefault()}}},[]),d=N.useCallback(function(k,_,A,O){var z={name:k,delta:_,target:A,should:O,shadowParent:EQ(A)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(L){return L!==z})},1)},[]),m=N.useCallback(function(k){n.current=Tb(k),r.current=void 0},[]),g=N.useCallback(function(k){d(k.type,a_(k),k.target,l(k,t.lockRef.current))},[]),b=N.useCallback(function(k){d(k.type,Tb(k),k.target,l(k,t.lockRef.current))},[]);N.useEffect(function(){return rp.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",u,np),document.addEventListener("touchmove",u,np),document.addEventListener("touchstart",m,np),function(){rp=rp.filter(function(k){return k!==s}),document.removeEventListener("wheel",u,np),document.removeEventListener("touchmove",u,np),document.removeEventListener("touchstart",m,np)}},[]);var x=t.removeScrollBar,S=t.inert;return N.createElement(N.Fragment,null,S?N.createElement(s,{styles:SQ(i)}):null,x?N.createElement(dQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function EQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kQ=ZX(y9,CQ);var z3=N.forwardRef(function(t,e){return N.createElement(a2,ul({},t,{ref:e,sideCar:kQ}))});z3.classNames=a2.classNames;var TQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ip=new WeakMap,_b=new WeakMap,Mb={},ow=0,w9=function(t){return t&&(t.host||w9(t.parentNode))},_Q=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=w9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MQ=function(t,e,n,r){var i=_Q(e,Array.isArray(t)?t:[t]);Mb[n]||(Mb[n]=new WeakMap);var s=Mb[n],a=[],l=new Set,u=new Set(i),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};i.forEach(d);var m=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(b){if(l.has(b))m(b);else try{var x=b.getAttribute(r),S=x!==null&&x!=="false",k=(ip.get(b)||0)+1,_=(s.get(b)||0)+1;ip.set(b,k),s.set(b,_),a.push(b),k===1&&S&&_b.set(b,!0),_===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",b,A)}})};return m(e),l.clear(),ow++,function(){a.forEach(function(g){var b=ip.get(g)-1,x=s.get(g)-1;ip.set(g,b),s.set(g,x),b||(_b.has(g)||g.removeAttribute(r),_b.delete(g)),x||g.removeAttribute(n)}),ow--,ow||(ip=new WeakMap,ip=new WeakMap,_b=new WeakMap,Mb={})}},C9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=TQ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),MQ(r,i,n,"aria-hidden")):function(){return null}},o2="Dialog",[E9]=kd(o2),[AQ,Co]=E9(o2),k9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=N.useRef(null),u=N.useRef(null),[d,m]=wE({prop:r,defaultProp:i??!1,onChange:s,caller:o2});return E.jsx(AQ,{scope:e,triggerRef:l,contentRef:u,contentId:tv(),titleId:tv(),descriptionId:tv(),open:d,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(g=>!g),[m]),modal:a,children:n})};k9.displayName=o2;var T9="DialogTrigger",NQ=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(T9,n),s=Gr(e,i.triggerRef);return E.jsx(ln.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":P3(i.open),...r,ref:s,onClick:st(t.onClick,i.onOpenToggle)})});NQ.displayName=T9;var j3="DialogPortal",[RQ,_9]=E9(j3,{forceMount:void 0}),M9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Co(j3,e);return E.jsx(RQ,{scope:e,forceMount:n,children:N.Children.map(r,a=>E.jsx(bc,{present:n||s.open,children:E.jsx(Ox,{asChild:!0,container:i,children:a})}))})};M9.displayName=j3;var hx="DialogOverlay",A9=N.forwardRef((t,e)=>{const n=_9(hx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Co(hx,t.__scopeDialog);return s.modal?E.jsx(bc,{present:r||s.open,children:E.jsx(DQ,{...i,ref:e})}):null});A9.displayName=hx;var OQ=E0("DialogOverlay.RemoveScroll"),DQ=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(hx,n);return E.jsx(z3,{as:OQ,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(ln.div,{"data-state":P3(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wd="DialogContent",N9=N.forwardRef((t,e)=>{const n=_9(wd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Co(wd,t.__scopeDialog);return E.jsx(bc,{present:r||s.open,children:s.modal?E.jsx(zQ,{...i,ref:e}):E.jsx(jQ,{...i,ref:e})})});N9.displayName=wd;var zQ=N.forwardRef((t,e)=>{const n=Co(wd,t.__scopeDialog),r=N.useRef(null),i=Gr(e,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return C9(s)},[]),E.jsx(R9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault())})}),jQ=N.forwardRef((t,e)=>{const n=Co(wd,t.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return E.jsx(R9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),R9=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=Co(wd,n),u=N.useRef(null),d=Gr(e,u);return p9(),E.jsxs(E.Fragment,{children:[E.jsx(D3,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:E.jsx(Rx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":P3(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(LQ,{titleId:l.titleId}),E.jsx(BQ,{contentRef:u,descriptionId:l.descriptionId})]})]})}),L3="DialogTitle",O9=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(L3,n);return E.jsx(ln.h2,{id:i.titleId,...r,ref:e})});O9.displayName=L3;var D9="DialogDescription",z9=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(D9,n);return E.jsx(ln.p,{id:i.descriptionId,...r,ref:e})});z9.displayName=D9;var j9="DialogClose",L9=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(j9,n);return E.jsx(ln.button,{type:"button",...r,ref:e,onClick:st(t.onClick,()=>i.onOpenChange(!1))})});L9.displayName=j9;function P3(t){return t?"open":"closed"}var P9="DialogTitleWarning",[Nfe,B9]=WD(P9,{contentName:wd,titleName:L3,docsSlug:"dialog"}),LQ=({titleId:t})=>{const e=B9(P9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},PQ="DialogDescriptionWarning",BQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B9(PQ).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IQ=k9,HQ=M9,I9=A9,H9=N9,U9=O9,F9=z9,UQ=L9;const G9=IQ,FQ=HQ,q9=N.forwardRef(({className:t,...e},n)=>E.jsx(I9,{ref:n,className:Nr("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));q9.displayName=I9.displayName;const B3=N.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(FQ,{children:[E.jsx(q9,{}),E.jsxs(H9,{ref:r,className:Nr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-gray-800 dark:bg-gray-950",t),...n,children:[e,E.jsxs(UQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400",children:[E.jsx(wV,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));B3.displayName=H9.displayName;const I3=({className:t,...e})=>E.jsx("div",{className:Nr("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});I3.displayName="DialogHeader";const H3=({className:t,...e})=>E.jsx("div",{className:Nr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});H3.displayName="DialogFooter";const U3=N.forwardRef(({className:t,...e},n)=>E.jsx(U9,{ref:n,className:Nr("text-lg font-semibold leading-none tracking-tight",t),...e}));U3.displayName=U9.displayName;const GQ=N.forwardRef(({className:t,...e},n)=>E.jsx(F9,{ref:n,className:Nr("text-sm text-gray-500 dark:text-gray-400",t),...e}));GQ.displayName=F9.displayName;function qQ(t){return BE({queryKey:["tasks",{completed:t}],queryFn:()=>Px.getTasks(t)})}function VQ(){const t=Td();return Z0({mutationFn:e=>Px.createTask(e),onSuccess:()=>{t.invalidateQueries({queryKey:["tasks"]})}})}function YQ(){const t=Td();return Z0({mutationFn:({id:e,task:n})=>Px.updateTask(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["tasks"]})}})}function KQ(){const t=Td();return Z0({mutationFn:e=>Px.deleteTask(e),onSuccess:()=>{t.invalidateQueries({queryKey:["tasks"]})}})}const XQ=({task:t,onClick:e})=>{const{attributes:n,listeners:r,setNodeRef:i,transform:s,transition:a}=NX({id:t.id}),l={transform:Ku.Transform.toString(s),transition:a};return E.jsxs("div",{ref:i,style:l,...n,...r,className:"relative pl-6 mb-4 group cursor-grab active:cursor-grabbing",onClick:e,children:[E.jsx("div",{className:"absolute left-[5px] top-3 bottom-[-16px] w-0.5 bg-gray-200 dark:bg-gray-700 group-last:hidden"}),E.jsx("div",{className:`absolute left-0 top-3 w-3 h-3 rounded-full border-2 border-white dark:border-gray-900 z-10 shadow-sm ${t.isCompleted?"bg-green-500":"bg-blue-500"}`}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"flex justify-between items-start mb-1",children:t.dueDate&&E.jsxs("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded flex items-center gap-1",children:[E.jsx(Gq,{size:10}),LY(new Date(t.dueDate),"h:mm a")]})}),E.jsx("div",{className:`font-medium text-gray-800 dark:text-gray-200 ${t.isCompleted?"line-through text-gray-500":""}`,children:t.title}),t.tags&&t.tags.length>0&&E.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:t.tags.filter(u=>!["Focus","Social","Health","Admin"].includes(u)).map(u=>E.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-100 dark:border-blue-800",children:["#",u]},u))})]})]})},l_=({id:t,title:e,color:n,tasks:r,onAddTask:i,onTaskClick:s})=>{const{setNodeRef:a}=a9({id:t});return E.jsxs("div",{ref:a,className:"flex-1 min-w-[280px] flex flex-col h-full bg-gray-50 dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[E.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 flex items-center gap-2 bg-white dark:bg-gray-800/50",children:[E.jsx("div",{className:`w-3 h-3 rounded-full ${n}`}),E.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:e}),E.jsx("span",{className:"ml-auto text-xs font-medium bg-gray-200 dark:bg-gray-800 px-2 py-0.5 rounded-full text-gray-600 dark:text-gray-400",children:r.length})]}),E.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[E.jsx(CX,{items:r.map(l=>l.id),strategy:SX,children:r.map(l=>E.jsx(XQ,{task:l,onClick:()=>s(l)},l.id))}),r.length===0&&E.jsx("div",{className:"text-center py-8 text-gray-400 dark:text-gray-600 text-sm italic",children:"No tasks yet"})]}),E.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50",children:E.jsxs("button",{onClick:()=>i(t),className:"w-full py-2 rounded-lg border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-blue-600 hover:border-blue-400 dark:text-gray-400 dark:hover:text-blue-400 transition-colors flex items-center justify-center gap-2 text-sm font-medium",children:[E.jsx(O8,{size:14})," Add Task"]})})]})},V9=()=>{const{data:t=[],isLoading:e}=qQ(),n=VQ(),r=YQ(),i=KQ(),[s,a]=N.useState(null),[l,u]=N.useState("Focus"),[d,m]=N.useState(!1),[g,b]=N.useState(null),x=tK(IT(R3,{activationConstraint:{distance:5}}),IT(A3,{coordinateGetter:DX})),S=[{id:"Focus",title:"Focus",color:"bg-blue-500"},{id:"Social",title:"Social",color:"bg-pink-500"},{id:"Health",title:"Health",color:"bg-green-500"},{id:"Admin",title:"Admin",color:"bg-gray-500"}],k=j=>t.filter(P=>P.tags&&P.tags.includes(j)),_=j=>{a(j.active.id)},A=j=>{const{active:P,over:H}=j,Q=P.id,q=H?.id;if(!q){a(null);return}let X=S.find(W=>W.id===q)?.id;if(!X){const W=t.find(le=>le.id===q);W&&(X=S.find(le=>W.tags?.includes(le.id))?.id)}if(X){const W=t.find(le=>le.id===Q);if(W){const le=S.map(te=>te.id),Z=(W.tags||[]).filter(te=>!le.includes(te));Z.push(X),W.tags?.includes(X)||r.mutate({id:W.id,task:{...W,tags:Z}})}}a(null)},O=j=>{const P={title:"New Task",description:"",tags:[j],dueDate:new Date().toISOString(),isCompleted:!1};b(P),m(!0)},z=j=>{b({...j}),m(!0)},L=async()=>{g&&(g.id?await r.mutateAsync({id:g.id,task:g}):await n.mutateAsync(g),m(!1),b(null))},I=async()=>{g?.id&&confirm("Are you sure you want to delete this task?")&&(await i.mutateAsync(g.id),m(!1),b(null))};return e?E.jsx("div",{className:"p-8",children:"Loading tasks..."}):E.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 transition-colors duration-300",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center shrink-0",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Daily Lanes"}),E.jsx("div",{className:"flex gap-2"})]}),E.jsx("div",{className:"md:hidden flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto no-scrollbar shrink-0",children:S.map(j=>E.jsx("button",{onClick:()=>u(j.id),className:`flex-1 py-3 px-4 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${l===j.id?`border-${j.color.replace("bg-","")} text-gray-900 dark:text-white`:"border-transparent text-gray-500 dark:text-gray-400"}`,children:j.title},j.id))}),E.jsxs(ZK,{sensors:x,collisionDetection:G8,onDragStart:_,onDragEnd:A,children:[E.jsxs("div",{className:"flex-1 overflow-hidden p-4",children:[E.jsx("div",{className:"hidden md:flex gap-4 h-full overflow-x-auto pb-2",children:S.map(j=>E.jsx(l_,{...j,tasks:k(j.id),onAddTask:O,onTaskClick:z},j.id))}),E.jsx("div",{className:"md:hidden h-full",children:S.filter(j=>j.id===l).map(j=>E.jsx(l_,{...j,tasks:k(j.id),onAddTask:O,onTaskClick:z},j.id))})]}),E.jsx(yX,{children:s?E.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-90 rotate-2 cursor-grabbing w-[280px]",children:E.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Moving Task..."})}):null})]}),E.jsx(G9,{open:d,onOpenChange:m,children:E.jsxs(B3,{className:"sm:max-w-[500px]",children:[E.jsx(I3,{children:E.jsx(U3,{children:g?.id?"Edit Task":"New Task"})}),E.jsxs("div",{className:"grid gap-4 py-4",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Title"}),E.jsx("input",{className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:g?.title||"",onChange:j=>b(P=>({...P,title:j.target.value})),placeholder:"Task title"})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Description"}),E.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700 min-h-[100px]",value:g?.description||"",onChange:j=>b(P=>({...P,description:j.target.value})),placeholder:"Description..."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),E.jsx("input",{type:"datetime-local",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:g?.dueDate?new Date(g.dueDate).toISOString().slice(0,16):"",onChange:j=>b(P=>({...P,dueDate:new Date(j.target.value).toISOString()}))})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Status"}),E.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[E.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:g?.isCompleted||!1,onChange:j=>b(P=>({...P,isCompleted:j.target.checked}))}),E.jsx("span",{className:"text-sm",children:"Completed"})]})]})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Tags (comma separated)"}),E.jsx("input",{className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:g?.tags?.join(", ")||"",onChange:j=>b(P=>({...P,tags:j.target.value.split(",").map(H=>H.trim()).filter(Boolean)})),placeholder:"e.g. Focus, Urgent"})]})]}),E.jsxs(H3,{className:"gap-2 sm:gap-0",children:[g?.id&&E.jsx("button",{onClick:I,className:"mr-auto text-red-500 hover:text-red-700 text-sm font-medium px-4 py-2",children:"Delete"}),E.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),E.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save"})]})]})})]})},c_=[{id:"1",from:"Alice Smith",subject:"Project Update: Q4 Roadmap",preview:"Hey team, just wanted to share the latest updates...",date:"10:42 AM",isUnread:!0,body:`Hey team,

Just wanted to share the latest updates on the Q4 roadmap. We are making good progress on the backend integration.`},{id:"2",from:"GitHub Notifications",subject:"New Pull Request: Feature/Kanban",preview:"@jules opened a new pull request...",date:"Yesterday",isUnread:!1,body:"You have a new pull request."},{id:"3",from:"Newsletter",subject:"Weekly Tech Digest",preview:"Top stories in tech this week...",date:"Mon",isUnread:!1,body:"Here are the top stories..."}],QQ=()=>{const[t]=N.useState(c_),[e,n]=N.useState(c_[0]),[r,i]=N.useState(!1);return E.jsxs("div",{className:"flex h-full bg-white dark:bg-gray-900 overflow-hidden",children:[E.jsxs("div",{className:"w-48 bg-gray-50 dark:bg-gray-950 border-r border-gray-200 dark:border-gray-700 flex flex-col shrink-0",children:[E.jsx("div",{className:"p-4",children:E.jsxs("button",{onClick:()=>i(!0),className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-colors",children:[E.jsx(NT,{size:16})," Compose"]})}),E.jsxs("div",{className:"flex-1 overflow-y-auto px-2 space-y-1",children:[E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md bg-white dark:bg-gray-800 shadow-sm text-blue-600 font-medium text-sm flex items-center gap-3",children:[E.jsx(Qq,{size:16})," Inbox ",E.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-1.5 rounded-full",children:"4"})]}),E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm flex items-center gap-3",children:[E.jsx(mV,{size:16})," Starred"]}),E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm flex items-center gap-3",children:[E.jsx(NT,{size:16})," Sent"]}),E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm flex items-center gap-3",children:[E.jsx(zC,{size:16})," Trash"]})]})]}),E.jsxs("div",{className:"w-80 border-r border-gray-200 dark:border-gray-700 flex flex-col bg-white dark:bg-gray-900 shrink-0",children:[E.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:E.jsx("input",{className:"w-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 rounded-md text-sm outline-none",placeholder:"Search mail..."})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:t.map(s=>E.jsxs("div",{onClick:()=>n(s),className:`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors ${e?.id===s.id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsx("span",{className:`text-sm ${s.isUnread?"font-bold text-gray-900 dark:text-white":"font-medium text-gray-700 dark:text-gray-300"}`,children:s.from}),E.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:s.date})]}),E.jsx("div",{className:`text-sm mb-1 truncate ${s.isUnread?"font-bold text-gray-800 dark:text-gray-200":"text-gray-600 dark:text-gray-400"}`,children:s.subject}),E.jsx("div",{className:"text-xs text-gray-400 truncate",children:s.preview})]},s.id))})]}),E.jsx("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-900",children:e?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e.subject}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-lg",children:e.from[0]}),E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.from}),E.jsx("div",{className:"text-xs text-gray-500",children:"to me"})]})]})]}),E.jsxs("div",{className:"flex gap-2 text-gray-400",children:[E.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:E.jsx(Pq,{size:18})}),E.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:E.jsx(zC,{size:18})})]})]}),E.jsx("div",{className:"p-8 flex-1 overflow-y-auto prose dark:prose-invert max-w-none",children:E.jsx("p",{className:"whitespace-pre-wrap",children:e.body})})]}):E.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:E.jsxs("div",{className:"text-center",children:[E.jsx(rV,{size:48,className:"mx-auto mb-4 opacity-50"}),E.jsx("p",{children:"Select an email to read"})]})})}),E.jsx(G9,{open:r,onOpenChange:i,children:E.jsxs(B3,{className:"sm:max-w-[600px]",children:[E.jsx(I3,{children:E.jsx(U3,{children:"New Message"})}),E.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[E.jsx("input",{className:"w-full px-3 py-2 border-b border-gray-200 dark:border-gray-700 bg-transparent outline-none",placeholder:"To"}),E.jsx("input",{className:"w-full px-3 py-2 border-b border-gray-200 dark:border-gray-700 bg-transparent outline-none",placeholder:"Subject"}),E.jsx("textarea",{className:"w-full h-64 p-3 bg-transparent outline-none resize-none",placeholder:"Write your message..."})]}),E.jsxs(H3,{className:"justify-between items-center w-full sm:justify-between",children:[E.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:E.jsx(sV,{size:20})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:"Discard"}),E.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:"Send"})]})]})]})})]})},WQ=Math.PI/180;function JQ(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const ad=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Le={_global:ad,version:"10.0.12",isBrowser:JQ(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Le.angleDeg?t*WQ:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Le.DD.isDragging},isTransforming(){var t,e;return(e=(t=Le.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Le.DD.node},releaseCanvasOnDestroy:!0,document:ad.document,_injectGlobal(t){typeof ad.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),ad.Konva=t}},er=t=>{Le[t.prototype.getClassName()]=t};Le._injectGlobal(Le);const $Q=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,u_=()=>{if(typeof document>"u")throw new Error($Q)};class ea{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new ea(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,a=this.m[0]*-r+this.m[2]*n,l=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=a,this.m[3]=l,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=a,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],l=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=l,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),l=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=l,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],a=this.m[5],l=e*i-n*r,u={x:s,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const d=Math.sqrt(e*e+n*n);u.rotation=n>0?Math.acos(e/d):-Math.acos(e/d),u.scaleX=d,u.scaleY=l/d,u.skewX=(e*r+n*i)/l,u.skewY=0}else if(r!=0||i!=0){const d=Math.sqrt(r*r+i*i);u.rotation=Math.PI/2-(i>0?Math.acos(-r/d):-Math.acos(r/d)),u.scaleX=l/d,u.scaleY=d,u.skewX=0,u.skewY=(e*r+n*i)/l}return u.rotation=oe._getRotation(u.rotation),u}}const ZQ="[object Array]",eW="[object Number]",tW="[object String]",nW="[object Boolean]",rW=Math.PI/180,iW=180/Math.PI,Lg="#",sW="",aW="0",oW="Konva warning: ",f_="Konva error: ",lW="rgb(",lw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},cW=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Ab=[],Pg=null;const uW=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},oe={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===ZQ},_isNumber(t){return Object.prototype.toString.call(t)===eW&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===tW},_isBoolean(t){return Object.prototype.toString.call(t)===nW},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Ab.push(t),Ab.length===1&&uW(function(){const e=Ab;Ab=[],e.forEach(function(n){n()})})},createCanvasElement(){u_();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return u_(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=oe.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(Lg,sW);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=aW+t;return Lg+t},isCanvasFarblingActive(){if(Pg!==null)return Pg;if(typeof document>"u")return Pg=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=0;i<100;i++)if(n[i*4]!==40||n[i*4+1]!==40||n[i*4+2]!==40||n[i*4+3]!==255){r=!0;break}return Pg=r,this.releaseCanvas(t),Pg},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),Lg+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return Lg+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in lw?(e=lw[t],{r:e[0],g:e[1],b:e[2]}):t[0]===Lg?this._hexToRgb(t.substring(1)):t.substr(0,4)===lW?(e=cW.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",oe._namedColorToRBA(t)||oe._hex3ColorToRGBA(t)||oe._hex4ColorToRGBA(t)||oe._hex6ColorToRGBA(t)||oe._hex8ColorToRGBA(t)||oe._rgbColorToRGBA(t)||oe._rgbaColorToRGBA(t)||oe._hslColorToRGBA(t)},_namedColorToRBA(t){const e=lw[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let a,l,u;if(i===0)return u=s*255,{r:Math.round(u),g:Math.round(u),b:Math.round(u),a:1};s<.5?a=s*(1+i):a=s+i-s*i;const d=2*s-a,m=[0,0,0];for(let g=0;g<3;g++)l=r+1/3*-(g-1),l<0&&l++,l>1&&l--,6*l<1?u=d+(a-d)*6*l:2*l<1?u=a:3*l<2?u=d+(a-d)*(2/3-l)*6:u=d,m[g]=u*255;return{r:Math.round(m[0]),g:Math.round(m[1]),b:Math.round(m[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*rW},radToDeg(t){return t*iW},_degToRad(t){return oe.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),oe.degToRad(t)},_radToDeg(t){return oe.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),oe.radToDeg(t)},_getRotation(t){return Le.angleDeg?oe.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(f_+t)},error(t){console.error(f_+t)},warn(t){Le.showWarnings&&console.warn(oW+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){let a,l,u;const d=(t-n)*(t-n)+(e-r)*(e-r);if(d==0)a=t,l=e,u=(i-n)*(i-n)+(s-r)*(s-r);else{const m=((i-t)*(n-t)+(s-e)*(r-e))/d;m<0?(a=t,l=e,u=(t-i)*(t-i)+(e-s)*(e-s)):m>1?(a=n,l=r,u=(n-i)*(n-i)+(r-s)*(r-s)):(a=t+m*(n-t),l=e+m*(r-e),u=(a-i)*(a-i)+(l-s)*(l-s))}return[a,l,u]},_getProjectionToLine(t,e,n){const r=oe.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(s,a){if(!n&&a===e.length-1)return;const l=e[(a+1)%e.length],u=oe._getProjectionToSegment(s.x,s.y,l.x,l.y,t.x,t.y),d=u[0],m=u[1],g=u[2];g<i&&(r.x=d,r.y=m,i=g)}),r},_prepareArrayForTween(t,e,n){const r=[],i=[];if(t.length>e.length){const a=e;e=t,t=a}for(let a=0;a<t.length;a+=2)r.push({x:t[a],y:t[a+1]});for(let a=0;a<e.length;a+=2)i.push({x:e[a],y:e[a+1]});const s=[];return i.forEach(function(a){const l=oe._getProjectionToLine(a,r,n);s.push(l.x),s.push(l.y)}),s},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||oe._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(oe._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Le.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=e<0?e:0,s=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let a=0,l=0,u=0,d=0;typeof r=="number"?a=l=u=d=Math.min(r,e/2,n/2):(a=Math.min(r[0]||0,e/2,n/2),l=Math.min(r[1]||0,e/2,n/2),d=Math.min(r[2]||0,e/2,n/2),u=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i+a,s),t.lineTo(i+e-l,s),t.arc(i+e-l,s+l,l,Math.PI*3/2,0,!1),t.lineTo(i+e,s+n-d),t.arc(i+e-d,s+n-d,d,0,Math.PI/2,!1),t.lineTo(i+u,s+n),t.arc(i+u,s+n-u,u,Math.PI/2,Math.PI,!1),t.lineTo(i,s+a),t.arc(i+a,s+a,a,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,i){r=Math.abs(r);for(let s=0;s<n;s++){const a=e[(s-1+n)%n],l=e[s],u=e[(s+1)%n],d={x:l.x-a.x,y:l.y-a.y},m={x:u.x-l.x,y:u.y-l.y},g=Math.hypot(d.x,d.y),b=Math.hypot(m.x,m.y);let x;typeof i=="number"?x=i:x=s<i.length?i[s]:0,x=r*Math.cos(Math.PI/n)*Math.min(1,x/r*2);const k={x:d.x/g,y:d.y/g},_={x:m.x/b,y:m.y/b},A={x:l.x-k.x*x,y:l.y-k.y*x},O={x:l.x+_.x*x,y:l.y+_.y*x};s===0?t.moveTo(A.x,A.y):t.lineTo(A.x,A.y),t.arcTo(l.x,l.y,O.x,O.y,x)}}};function fW(t){const e=[],n=t.length,r=oe;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const d_=",",dW="(",hW=")",pW="([",mW="])",gW=";",yW="()",bW="=",h_=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],vW=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],xW=100;let Nb=null;function p_(){if(Nb!==null)return Nb;try{const e=oe.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Nb=!1,!1)}catch{return Nb=!1,!1}}class l2{constructor(e){this.canvas=e,Le.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",a,l,u,d;for(a=0;a<i;a++)l=r[a],u=l.method,u?(d=l.args,s+=u,e?s+=yW:oe._isArray(d[0])?s+=pW+d.join(d_)+mW:(n&&(d=d.map(m=>typeof m=="number"?Math.floor(m):m)),s+=dW+d.join(d_)+hW)):(s+=l.property,e||(s+=bW+l.val)),s+=gW;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=xW&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,a){this._context.arc(e,n,r,i,s,a)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,a){this._context.bezierCurveTo(e,n,r,i,s,a)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,a){return this._context.createRadialGradient(e,n,r,i,s,a)}drawImage(e,n,r,i,s,a,l,u,d){const m=arguments,g=this._context;m.length===3?g.drawImage(e,n,r):m.length===5?g.drawImage(e,n,r,i,s):m.length===9&&g.drawImage(e,n,r,i,s,a,l,u,d)}ellipse(e,n,r,i,s,a,l,u){this._context.ellipse(e,n,r,i,s,a,l,u)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,a){this._context.setTransform(e,n,r,i,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,a){this._context.transform(e,n,r,i,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=h_.length,r=this.setAttr,i,s;const a=function(l){let u=e[l],d;e[l]=function(){return s=fW(Array.prototype.slice.call(arguments,0)),d=u.apply(e,arguments),e._trace({method:l,args:s}),d}};for(i=0;i<n;i++)a(h_[i]);e.setAttr=function(){r.apply(e,arguments);const l=arguments[0];let u=arguments[1];(l==="shadowOffsetX"||l==="shadowOffsetY"||l==="shadowBlur")&&(u=u/this.canvas.getPixelRatio()),e._trace({property:l,val:u})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}vW.forEach(function(t){Object.defineProperty(l2.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class SW extends l2{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const a=e.getFillRadialGradientColorStops();if(a&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let a=0;a<i.length;a+=2)s.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,l=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},u=e.getAbsoluteScale(),d=this.canvas.getPixelRatio(),m=u.x*d,g=u.y*d;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(m),Math.abs(g))),this.setAttr("shadowOffsetX",l.x*m),this.setAttr("shadowOffsetY",l.y*g)}}class wW extends l2{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Rb;function CW(){if(Rb)return Rb;const t=oe.createCanvasElement(),e=t.getContext("2d");return Rb=(function(){const n=Le._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),oe.releaseCanvas(t),Rb}class F3{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Le.pixelRatio||CW();this.pixelRatio=r,this._canvas=oe.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return oe.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Du extends F3{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new SW(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class G3 extends F3{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new wW(this),this.setSize(e.width,e.height)}}const Kt={get isDragging(){let t=!1;return Kt._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Kt._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Kt._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=oe._getFirstPointerId(t));const a=s._changedPointerPositions.find(l=>l.id===n.pointerId);if(a){if(n.dragStatus!=="dragging"){const l=i.dragDistance();if(Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y))<l||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Kt._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(l=>l.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Kt.justDragged=!0,Le._mouseListenClick=!1,Le._touchListenClick=!1,Le._pointerListenClick=!1,n.dragStatus="stopped");const a=n.node.getLayer()||n.node instanceof Le.Stage&&n.node;a&&e.indexOf(a)===-1&&e.push(a)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Kt._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Kt._dragElements.delete(n)})}};Le.isBrowser&&(window.addEventListener("mouseup",Kt._endDragBefore,!0),window.addEventListener("touchend",Kt._endDragBefore,!0),window.addEventListener("touchcancel",Kt._endDragBefore,!0),window.addEventListener("mousemove",Kt._drag),window.addEventListener("touchmove",Kt._drag),window.addEventListener("mouseup",Kt._endDragAfter,!1),window.addEventListener("touchend",Kt._endDragAfter,!1),window.addEventListener("touchcancel",Kt._endDragAfter,!1));function $u(t){return oe._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||oe._isBoolean(t)?t:Object.prototype.toString.call(t)}function Y9(t){return t>255?255:t<0?0:Math.round(t)}function Oe(){if(Le.isUnminified)return function(t,e){return oe._isNumber(t)||oe.warn($u(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function c2(t){if(Le.isUnminified)return function(e,n){let r=oe._isNumber(e),i=oe._isArray(e)&&e.length==t;return!r&&!i&&oe.warn($u(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function q3(){if(Le.isUnminified)return function(t,e){return oe._isNumber(t)||t==="auto"||oe.warn($u(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Ad(){if(Le.isUnminified)return function(t,e){return oe._isString(t)||oe.warn($u(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function K9(){if(Le.isUnminified)return function(t,e){const n=oe._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||oe.warn($u(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function EW(){if(Le.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(oe._isArray(t)?t.forEach(function(r){oe._isNumber(r)||oe.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):oe.warn($u(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Eo(){if(Le.isUnminified)return function(t,e){return t===!0||t===!1||oe.warn($u(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function kW(t){if(Le.isUnminified)return function(e,n){return e==null||oe.isObject(e)||oe.warn($u(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Bg="get",Ig="set",K={addGetterSetter(t,e,n,r,i){K.addGetter(t,e,n),K.addSetter(t,e,r,i),K.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Bg+oe._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){const i=Ig+oe._capitalize(e);t.prototype[i]||K.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const i=Ig+oe._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){const s=n.length,a=oe._capitalize,l=Bg+a(e),u=Ig+a(e);t.prototype[l]=function(){const m={};for(let g=0;g<s;g++){const b=n[g];m[b]=this.getAttr(e+a(b))}return m};const d=kW(n);t.prototype[u]=function(m){const g=this.attrs[e];r&&(m=r.call(this,m,e)),d&&d.call(this,m,e);for(const b in m)m.hasOwnProperty(b)&&this._setAttr(e+a(b),m[b]);return m||n.forEach(b=>{this._setAttr(e+a(b),void 0)}),this._fireChangeEvent(e,g,m),i&&i.call(this),this},K.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=oe._capitalize(e),r=Ig+n,i=Bg+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){oe.error("Adding deprecated "+e);const i=Bg+oe._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){oe.error(s);const a=this.attrs[e];return a===void 0?n:a},K.addSetter(t,e,r,function(){oe.error(s)}),K.addOverloadedGetterSetter(t,e)},backCompat(t,e){oe.each(e,function(n,r){const i=t.prototype[r],s=Bg+oe._capitalize(n),a=Ig+oe._capitalize(n);function l(){i.apply(this,arguments),oe.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=l,t.prototype[s]=l,t.prototype[a]=l})},afterSetFilter(){this._filterUpToDate=!1}};function TW(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,i]=n;switch(r){case"blur":{const s=parseFloat(i.replace("px",""));return function(a){this.blurRadius(s*.5);const l=Le.Filters;l&&l.Blur&&l.Blur.call(this,a)}}case"brightness":{const s=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(a){this.brightness(s);const l=Le.Filters;l&&l.Brightness&&l.Brightness.call(this,a)}}case"contrast":{const s=parseFloat(i);return function(a){const l=100*(Math.sqrt(s)-1);this.contrast(l);const u=Le.Filters;u&&u.Contrast&&u.Contrast.call(this,a)}}case"grayscale":return function(s){const a=Le.Filters;a&&a.Grayscale&&a.Grayscale.call(this,s)};case"sepia":return function(s){const a=Le.Filters;a&&a.Sepia&&a.Sepia.call(this,s)};case"invert":return function(s){const a=Le.Filters;a&&a.Invert&&a.Invert.call(this,s)};default:oe.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const iv="absoluteOpacity",Ob="allEventListeners",sc="absoluteTransform",m_="absoluteScale",Wf="canvas",_W="Change",MW="children",AW="konva",IC="listening",NW="mouseenter",RW="mouseleave",OW="pointerenter",DW="pointerleave",zW="touchenter",jW="touchleave",g_="set",y_="Shape",sv=" ",b_="stage",ku="transform",LW="Stage",HC="visible",PW=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(sv);let BW=1,ze=class UC{constructor(e){this._id=BW++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ku||e===sc)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===ku||e===sc)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(sv);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Wf)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===sc&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Wf)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(Wf);oe.releaseCanvas(e,n,r,i),this._cache.delete(Wf)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),a=n.pixelRatio,l=n.x===void 0?Math.floor(r.x):n.x,u=n.y===void 0?Math.floor(r.y):n.y,d=n.offset||0,m=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!i||!s){oe.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const b=Math.abs(Math.round(r.x)-l)>.5?1:0,x=Math.abs(Math.round(r.y)-u)>.5?1:0;i+=d*2+b,s+=d*2+x,l-=d,u-=d;const S=new Du({pixelRatio:a,width:i,height:s}),k=new Du({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),_=new G3({pixelRatio:g,width:i,height:s}),A=S.getContext(),O=_.getContext(),z=new Du({width:S.width/S.pixelRatio+Math.abs(l),height:S.height/S.pixelRatio+Math.abs(u),pixelRatio:S.pixelRatio}),L=z.getContext();return _.isCache=!0,S.isCache=!0,this._cache.delete(Wf),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(S.getContext()._context.imageSmoothingEnabled=!1,k.getContext()._context.imageSmoothingEnabled=!1),A.save(),O.save(),L.save(),A.translate(-l,-u),O.translate(-l,-u),L.translate(-l,-u),z.x=l,z.y=u,this._isUnderCache=!0,this._clearSelfAndDescendantCache(iv),this._clearSelfAndDescendantCache(m_),this.drawScene(S,this,z),this.drawHit(_,this),this._isUnderCache=!1,A.restore(),O.restore(),m&&(A.save(),A.beginPath(),A.rect(0,0,i,s),A.closePath(),A.setAttr("strokeStyle","red"),A.setAttr("lineWidth",5),A.stroke(),A.restore()),this._cache.set(Wf,{scene:S,filter:k,hit:_,buffer:z,x:l,y:u}),this._requestDraw(),this}isCached(){return this._cache.has(Wf)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,a=-1/0,l=-1/0;const u=this.getAbsoluteTransform(n);return r.forEach(function(d){const m=u.point(d);i===void 0&&(i=a=m.x,s=l=m.y),i=Math.min(i,m.x),s=Math.min(s,m.y),a=Math.max(a,m.x),l=Math.max(l,m.y)}),{x:i,y:s,width:a-i,height:l-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),a,l,u,d;if(!e||e.length===0)return r;if(this._filterUpToDate)return i;let m=!0;for(let b=0;b<e.length;b++)if(typeof e[b]=="string"&&p_(),typeof e[b]!="string"||!p_()){m=!1;break}const g=r.pixelRatio;if(i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),m){const b=e.join(" ");return s.save(),s.setAttr("filter",b),s.drawImage(r._canvas,0,0,r.getWidth()/g,r.getHeight()/g),s.restore(),this._filterUpToDate=!0,i}try{for(a=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/g,r.getHeight()/g),l=s.getImageData(0,0,i.getWidth(),i.getHeight()),u=0;u<a;u++)d=e[u],typeof d=="string"&&(d=TW(d)),d.call(this,l),s.putImageData(l,0,0)}catch(b){oe.error("Unable to apply filter. "+b.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(Ob),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(sv);for(let i=0;i<r.length;i++){const a=r[i].split("."),l=a[0],u=a[1]||"";this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:n})}return this}off(e,n){let r=(e||"").split(sv),i=r.length,s,a,l,u,d,m;if(this._cache&&this._cache.delete(Ob),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<i;s++)if(l=r[s],u=l.split("."),d=u[0],m=u[1],d)this.eventListeners[d]&&this._off(d,m,n);else for(a in this.eventListeners)this._off(a,m,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const a=s.target.findAncestors(n,!0,i);for(let l=0;l<a.length;l++)s=oe.cloneObject(s),s.currentTarget=a[l],r.call(a[l],s)})}remove(){return this.isDragging()&&this.stopDrag(),Kt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(sc),this._clearSelfAndDescendantCache(iv),this._clearSelfAndDescendantCache(m_),this._clearSelfAndDescendantCache(b_),this._clearSelfAndDescendantCache(HC),this._clearSelfAndDescendantCache(IC)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+oe._capitalize(e);return oe._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==MW&&(r=g_+oe._capitalize(n),oe._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(IC,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(HC,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;Kt._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===r)&&(i=!0)});const s=!n&&!Le.hitOnDragEnabled&&(i||Le.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,a,l;function u(m){for(i=[],s=m.length,a=0;a<s;a++)l=m[a],r++,l.nodeType!==y_&&(i=i.concat(l.getChildren().slice())),l._id===n._id&&(a=s);i.length>0&&i[0].getDepth()<=e&&u(i)}const d=this.getStage();return n.nodeType!==LW&&d&&u(d.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ku),this._clearSelfAndDescendantCache(sc)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new ea,a=this.offset();return s.m=i.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(ku);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(ku),this._clearSelfAndDescendantCache(sc),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,a=0;a<s;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return oe.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return oe.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return oe.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return oe.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return oe.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&oe.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(iv,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,a;const l={attrs:{},className:this.getClassName()};for(n in e)r=e[n],a=oe.isObject(r)&&!oe._isPlainObject(r)&&!oe._isArray(r),!a&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(l.attrs[n]=r));return oe._prepareToStringify(l)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],oe.isValidSelector(s)||(oe.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),oe.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),oe.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(b_,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(sc,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new ea,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(sc)||new ea,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,l=this.attrs.offsetY||0;n.translate(i-a,s-l)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ku,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(ku)||new ea;r.reset();const i=this.x(),s=this.y(),a=Le.getAngle(this.rotation()),l=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,u=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,d=this.attrs.skewX||0,m=this.attrs.skewY||0,g=this.attrs.offsetX||0,b=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),a!==0&&r.rotate(a),(d!==0||m!==0)&&r.skew(d,m),(l!==1||u!==1)&&r.scale(l,u),(g!==0||b!==0)&&r.translate(-1*g,-1*b),r.dirty=!1,r}clone(e){let n=oe.cloneObject(this.attrs),r,i,s,a,l;for(r in e)n[r]=e[r];const u=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,a=0;a<s;a++)l=i[a],l.name.indexOf(AW)<0&&(u.eventListeners[r]||(u.eventListeners[r]=[]),u.eventListeners[r].push(l));return u}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,l=new Du({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:a}),u=l.getContext(),d=new Du({width:l.width/l.pixelRatio+Math.abs(i),height:l.height/l.pixelRatio+Math.abs(s),pixelRatio:l.pixelRatio});return e.imageSmoothingEnabled===!1&&(u._context.imageSmoothingEnabled=!1),u.save(),(i||s)&&u.translate(-1*i,-1*s),this.drawScene(l,void 0,d),u.restore(),l}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,oe._urlToImage(this.toDataURL(e),function(s){n(s),i?.(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i?.(s)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Le.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,a,l;for(s=0;s<i.length;s++)if(a=i[s].name,l=i[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!r||r===l)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+_W,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[g_+oe._capitalize(e)];return oe._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Le.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!oe.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===y_&&(n.target=this);const i=[NW,RW,OW,DW,zW,jW];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const a=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(Ob))!==null&&n!==void 0?n:{};let a=s?.[e];if(a===void 0){a=[];let l=Object.getPrototypeOf(this);for(;l;){const u=(i=(r=l.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];a.push(...u),l=Object.getPrototypeOf(l)}s[e]=a,this._cache.set(Ob,s)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;Kt._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Kt._dragElements.has(this._id)||this._createDragElement(e);const r=Kt._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,i,e);a?i=a:oe.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Kt._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Kt._endDragBefore(e),Kt._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Kt._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Le.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Kt._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Kt._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Kt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return oe.haveIntersection(r,this.getClientRect())}static create(e,n){return oe._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=UC.prototype.getClassName.call(e),i=e.children,s,a,l;n&&(e.attrs.container=n),Le[r]||(oe.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const u=Le[r];if(s=new u(e.attrs),i)for(a=i.length,l=0;l<a;l++)s.add(UC._createNode(i[l]));return s}};ze.prototype.nodeType="Node";ze.prototype._attrsAffectingSize=[];ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,PW,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ku),this._clearSelfAndDescendantCache(sc)});ze.prototype.on.call(ze.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(HC)});ze.prototype.on.call(ze.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(IC)});ze.prototype.on.call(ze.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(iv)});const cn=K.addGetterSetter;cn(ze,"zIndex");cn(ze,"absolutePosition");cn(ze,"position");cn(ze,"x",0,Oe());cn(ze,"y",0,Oe());cn(ze,"globalCompositeOperation","source-over",Ad());cn(ze,"opacity",1,Oe());cn(ze,"name","",Ad());cn(ze,"id","",Ad());cn(ze,"rotation",0,Oe());K.addComponentsGetterSetter(ze,"scale",["x","y"]);cn(ze,"scaleX",1,Oe());cn(ze,"scaleY",1,Oe());K.addComponentsGetterSetter(ze,"skew",["x","y"]);cn(ze,"skewX",0,Oe());cn(ze,"skewY",0,Oe());K.addComponentsGetterSetter(ze,"offset",["x","y"]);cn(ze,"offsetX",0,Oe());cn(ze,"offsetY",0,Oe());cn(ze,"dragDistance",void 0,Oe());cn(ze,"width",0,Oe());cn(ze,"height",0,Oe());cn(ze,"listening",!0,Eo());cn(ze,"preventDefault",!0,Eo());cn(ze,"filters",void 0,function(t){return this._filterUpToDate=!1,t});cn(ze,"visible",!0,Eo());cn(ze,"transformsEnabled","all",Ad());cn(ze,"size");cn(ze,"dragBoundFunc");cn(ze,"draggable",!1,Eo());K.backCompat(ze,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ra extends ze{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=ze.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=ze.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),a=s&&s.getContext(),l=this._getCanvasCache(),u=l&&l.scene,d=s&&s.isCache;if(!this.isVisible()&&!d)return this;if(u){a.save();const m=this.getAbsoluteTransform(n).getMatrix();a.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),a=this._getCanvasCache();if(a&&a.hit){s.save();const u=this.getAbsoluteTransform(n).getMatrix();s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const a=n&&n.getContext(),l=this.clipWidth(),u=this.clipHeight(),d=this.clipFunc(),m=typeof l=="number"&&typeof u=="number"||d,g=r===this;if(m){a.save();const x=this.getAbsoluteTransform(r);let S=x.getMatrix();a.transform(S[0],S[1],S[2],S[3],S[4],S[5]),a.beginPath();let k;if(d)k=d.call(this,a,this);else{const _=this.clipX(),A=this.clipY();a.rect(_||0,A||0,l,u)}a.clip.apply(a,k),S=x.copy().invert().getMatrix(),a.transform(S[0],S[1],S[2],S[3],S[4],S[5])}const b=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";b&&(a.save(),a._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(x){x[e](n,r,i)}),b&&a.restore(),m&&a.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,a,l,u,d={x:1/0,y:1/0,width:0,height:0};const m=this;(n=this.children)===null||n===void 0||n.forEach(function(x){if(!x.visible())return;const S=x.getClientRect({relativeTo:m,skipShadow:e.skipShadow,skipStroke:e.skipStroke});S.width===0&&S.height===0||(s===void 0?(s=S.x,a=S.y,l=S.x+S.width,u=S.y+S.height):(s=Math.min(s,S.x),a=Math.min(a,S.y),l=Math.max(l,S.x+S.width),u=Math.max(u,S.y+S.height)))});const g=this.find("Shape");let b=!1;for(let x=0;x<g.length;x++)if(g[x]._isVisible(this)){b=!0;break}return b&&s!==void 0?d={x:s,y:a,width:l-s,height:u-a}:d={x:0,y:0,width:0,height:0},r?d:this._transformedRect(d,i)}}K.addComponentsGetterSetter(ra,"clip",["x","y","width","height"]);K.addGetterSetter(ra,"clipX",void 0,Oe());K.addGetterSetter(ra,"clipY",void 0,Oe());K.addGetterSetter(ra,"clipWidth",void 0,Oe());K.addGetterSetter(ra,"clipHeight",void 0,Oe());K.addGetterSetter(ra,"clipFunc");const q0=new Map,X9=Le._global.PointerEvent!==void 0;function cw(t){return q0.get(t)}function V3(t){return{evt:t,pointerId:t.pointerId}}function Q9(t,e){return q0.get(t)===e}function W9(t,e){g0(t),e.getStage()&&(q0.set(t,e),X9&&e._fire("gotpointercapture",V3(new PointerEvent("gotpointercapture"))))}function g0(t,e){const n=q0.get(t);if(!n)return;const r=n.getStage();r&&r.content,q0.delete(t),X9&&n._fire("lostpointercapture",V3(new PointerEvent("lostpointercapture")))}const IW="Stage",HW="string",v_="px",UW="mouseout",J9="mouseleave",$9="mouseover",Z9="mouseenter",eR="mousemove",tR="mousedown",nR="mouseup",Jg="pointermove",$g="pointerdown",yp="pointerup",Zg="pointercancel",FW="lostpointercapture",Db="pointerout",e0="pointerleave",zb="pointerover",jb="pointerenter",FC="contextmenu",rR="touchstart",iR="touchend",sR="touchmove",aR="touchcancel",GC="wheel",GW=5,qW=[[Z9,"_pointerenter"],[tR,"_pointerdown"],[eR,"_pointermove"],[nR,"_pointerup"],[J9,"_pointerleave"],[rR,"_pointerdown"],[sR,"_pointermove"],[iR,"_pointerup"],[aR,"_pointercancel"],[$9,"_pointerover"],[GC,"_wheel"],[FC,"_contextmenu"],[$g,"_pointerdown"],[Jg,"_pointermove"],[yp,"_pointerup"],[Zg,"_pointercancel"],[e0,"_pointerleave"],[FW,"_lostpointercapture"]],uw={mouse:{[Db]:UW,[e0]:J9,[zb]:$9,[jb]:Z9,[Jg]:eR,[$g]:tR,[yp]:nR,[Zg]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Db]:"touchout",[e0]:"touchleave",[zb]:"touchover",[jb]:"touchenter",[Jg]:sR,[$g]:rR,[yp]:iR,[Zg]:aR,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Db]:Db,[e0]:e0,[zb]:zb,[jb]:jb,[Jg]:Jg,[$g]:$g,[yp]:yp,[Zg]:Zg,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},t0=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",sp=t=>{const e=t0(t);if(e==="pointer")return Le.pointerEventsEnabled&&uw.pointer;if(e==="touch")return uw.touch;if(e==="mouse")return uw.mouse};function x_(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&oe.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const VW="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",y0=[];let u2=class extends ra{constructor(e){super(x_(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),y0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{x_(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||oe.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===HW){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),ra.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&oe._isInDocument(e)&&this.container().removeChild(e);const n=y0.indexOf(this);return n>-1&&y0.splice(n,1),oe.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(oe.warn(VW),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new Du({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!s.isVisible())return;const a=s._toKonvaCanvas(e);r.drawImage(a._canvas,e.x,e.y,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,i=r-1;for(let s=i;s>=0;s--){const a=n[s].getIntersection(e);if(a)return a}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+v_,this.content.style.height=n+v_),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const r=this.children.length;return r>GW&&oe.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Le.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Q9(e,this)}setPointerCapture(e){W9(e,this)}releaseCapture(e){g0(e)}getLayers(){return this.children}_bindContentEvents(){Le.isBrowser&&qW.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=sp(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=sp(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=sp(e.type),r=t0(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(r),s=!(Le.isDragging()||Le.isTransforming())||Le.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=sp(e.type),r=t0(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(s=>{const a=this.getIntersection(s);if(Kt.justDragged=!1,Le["_"+r+"ListenClick"]=!0,!a||!a.isListening()){this[r+"ClickStartShape"]=void 0;return}Le.capturePointerEventsEnabled&&a.setPointerCapture(s.id),this[r+"ClickStartShape"]=a,a._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const l=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=sp(e.type),r=t0(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Le.isDragging()&&Kt.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Le.isDragging()||Le.isTransforming())||Le.hitOnDragEnabled))return;const a={};let l=!1;const u=this._getTargetShape(r);this._changedPointerPositions.forEach(d=>{const m=cw(d.id)||this.getIntersection(d),g=d.id,b={evt:e,pointerId:g},x=u!==m;if(x&&u&&(u._fireAndBubble(n.pointerout,{...b},m),u._fireAndBubble(n.pointerleave,{...b},m)),m){if(a[m._id])return;a[m._id]=!0}m&&m.isListening()?(l=!0,x&&(m._fireAndBubble(n.pointerover,{...b},u),m._fireAndBubble(n.pointerenter,{...b},u),this[r+"targetShape"]=m),m._fireAndBubble(n.pointermove,{...b})):u&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:g}),this[r+"targetShape"]=null)}),l||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=sp(e.type),r=t0(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"],a={};let l=!1;this._changedPointerPositions.forEach(u=>{const d=cw(u.id)||this.getIntersection(u);if(d){if(d.releaseCapture(u.id),a[d._id])return;a[d._id]=!0}const m=u.id,g={evt:e,pointerId:m};let b=!1;Le["_"+r+"InDblClickWindow"]?(b=!0,clearTimeout(this[r+"DblTimeout"])):Kt.justDragged||(Le["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Le["_"+r+"InDblClickWindow"]=!1},Le.dblClickWindow),d&&d.isListening()?(l=!0,this[r+"ClickEndShape"]=d,d._fireAndBubble(n.pointerup,{...g}),Le["_"+r+"ListenClick"]&&i&&i===d&&(d._fireAndBubble(n.pointerclick,{...g}),b&&s&&s===d&&d._fireAndBubble(n.pointerdblclick,{...g}))):(this[r+"ClickEndShape"]=null,l||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l=!0),Le["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:m}),b&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:m}))}),l||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Le["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(FC,{evt:e}):this._fire(FC,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(GC,{evt:e}):this._fire(GC,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=cw(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(yp,V3(e)),g0(e.pointerId)}_lostpointercapture(e){g0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:oe._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:oe._getFirstPointerId(e)}])}_setPointerPosition(e){oe.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Du({width:this.width(),height:this.height()}),this.bufferHitCanvas=new G3({pixelRatio:1,width:this.width(),height:this.height()}),!Le.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return oe.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};u2.prototype.nodeType=IW;er(u2);K.addGetterSetter(u2,"container");Le.isBrowser&&document.addEventListener("visibilitychange",()=>{y0.forEach(t=>{t.batchDraw()})});const oR="hasShadow",lR="shadowRGBA",cR="patternImage",uR="linearGradient",fR="radialGradient";let Lb;function fw(){return Lb||(Lb=oe.createCanvasElement().getContext("2d"),Lb)}const b0={};function YW(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function KW(t){t.stroke()}function XW(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function QW(t){t.stroke()}function WW(){this._clearCache(oR)}function JW(){this._clearCache(lR)}function $W(){this._clearCache(cR)}function ZW(){this._clearCache(uR)}function eJ(){this._clearCache(fR)}class Te extends ze{constructor(e){super(e);let n,r=0;for(;n=oe.getHitColor(),!(n&&!(n in b0));)if(r++,r>=1e4){oe.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=oe.getRandomColor();break}this.colorKey=n,b0[n]=this}getContext(){return oe.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return oe.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(oR,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(cR,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=fw().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new ea;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Le.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(uR,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=fw(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}_getRadialGradient(){return this._getCache(fR,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=fw(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}getShadowRGBA(){return this._getCache(lR,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=oe.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return ze.prototype.destroy.call(this),delete b0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),a=this.getAbsoluteOpacity()!==1;if(i&&s&&a)return!0;const l=this.hasShadow(),u=this.shadowForStrokeEnabled();return!!(i&&s&&l&&u)}setStrokeHitEnabled(e){oe.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const i=e.skipTransform,s=e.relativeTo||n&&this.getStage()||void 0,a=this.getSelfRect(),u=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,d=a.width+u,m=a.height+u,g=!e.skipShadow&&this.hasShadow(),b=g?this.shadowOffsetX():0,x=g?this.shadowOffsetY():0,S=d+Math.abs(b),k=m+Math.abs(x),_=g&&this.shadowBlur()||0,A=S+_*2,O=k+_*2,z={width:A,height:O,x:-(u/2+_)+Math.min(b,0)+a.x,y:-(u/2+_)+Math.min(x,0)+a.y};return i?z:this._transformedRect(z,s)}drawScene(e,n,r){const i=this.getLayer(),s=e||i.getCanvas(),a=s.getContext(),l=this._getCanvasCache(),u=this.getSceneFunc(),d=this.hasShadow();let m;const g=n===this;if(!this.isVisible()&&!g)return this;if(l){a.save();const b=this.getAbsoluteTransform(n).getMatrix();return a.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!u)return this;if(a.save(),this._useBufferCanvas()){m=this.getStage();const b=r||m.bufferCanvas,x=b.getContext();x.clear(),x.save(),x._applyLineJoin(this),x._applyMiterLimit(this);const S=this.getAbsoluteTransform(n).getMatrix();x.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u.call(this,x,this),x.restore();const k=b.pixelRatio;d&&a._applyShadow(this),g||(a._applyOpacity(this),a._applyGlobalCompositeOperation(this)),a.drawImage(b._canvas,b.x||0,b.y||0,b.width/k,b.height/k)}else{if(a._applyLineJoin(this),a._applyMiterLimit(this),!g){const b=this.getAbsoluteTransform(n).getMatrix();a.transform(b[0],b[1],b[2],b[3],b[4],b[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}d&&a._applyShadow(this),u.call(this,a,this)}return a.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const i=this.getLayer(),s=e||i.hitCanvas,a=s&&s.getContext(),l=this.hitFunc()||this.sceneFunc(),u=this._getCanvasCache(),d=u&&u.hit;if(this.colorKey||oe.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),d){a.save();const g=this.getAbsoluteTransform(n).getMatrix();return a.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),a._applyLineJoin(this),a._applyMiterLimit(this),!(this===n)){const g=this.getAbsoluteTransform(n).getMatrix();a.transform(g[0],g[1],g[2],g[3],g[4],g[5])}return l.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),a=i.getWidth(),l=i.getHeight();s.clear(),s.drawImage(r._canvas,0,0,a,l);try{const u=s.getImageData(0,0,a,l),d=u.data,m=d.length,g=oe._hexToRgb(this.colorKey);for(let b=0;b<m;b+=4)d[b+3]>e?(d[b]=g.r,d[b+1]=g.g,d[b+2]=g.b,d[b+3]=255):d[b+3]=0;s.putImageData(u,0,0)}catch(u){oe.error("Unable to draw hit graph from cached scene canvas. "+u.message)}return this}hasPointerCapture(e){return Q9(e,this)}setPointerCapture(e){W9(e,this)}releaseCapture(e){g0(e)}}Te.prototype._fillFunc=YW;Te.prototype._strokeFunc=KW;Te.prototype._fillFuncHit=XW;Te.prototype._strokeFuncHit=QW;Te.prototype._centroid=!1;Te.prototype.nodeType="Shape";er(Te);Te.prototype.eventListeners={};Te.prototype.on.call(Te.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",WW);Te.prototype.on.call(Te.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",JW);Te.prototype.on.call(Te.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",$W);Te.prototype.on.call(Te.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",ZW);Te.prototype.on.call(Te.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",eJ);K.addGetterSetter(Te,"stroke",void 0,K9());K.addGetterSetter(Te,"strokeWidth",2,Oe());K.addGetterSetter(Te,"fillAfterStrokeEnabled",!1);K.addGetterSetter(Te,"hitStrokeWidth","auto",q3());K.addGetterSetter(Te,"strokeHitEnabled",!0,Eo());K.addGetterSetter(Te,"perfectDrawEnabled",!0,Eo());K.addGetterSetter(Te,"shadowForStrokeEnabled",!0,Eo());K.addGetterSetter(Te,"lineJoin");K.addGetterSetter(Te,"lineCap");K.addGetterSetter(Te,"miterLimit");K.addGetterSetter(Te,"sceneFunc");K.addGetterSetter(Te,"hitFunc");K.addGetterSetter(Te,"dash");K.addGetterSetter(Te,"dashOffset",0,Oe());K.addGetterSetter(Te,"shadowColor",void 0,Ad());K.addGetterSetter(Te,"shadowBlur",0,Oe());K.addGetterSetter(Te,"shadowOpacity",1,Oe());K.addComponentsGetterSetter(Te,"shadowOffset",["x","y"]);K.addGetterSetter(Te,"shadowOffsetX",0,Oe());K.addGetterSetter(Te,"shadowOffsetY",0,Oe());K.addGetterSetter(Te,"fillPatternImage");K.addGetterSetter(Te,"fill",void 0,K9());K.addGetterSetter(Te,"fillPatternX",0,Oe());K.addGetterSetter(Te,"fillPatternY",0,Oe());K.addGetterSetter(Te,"fillLinearGradientColorStops");K.addGetterSetter(Te,"strokeLinearGradientColorStops");K.addGetterSetter(Te,"fillRadialGradientStartRadius",0);K.addGetterSetter(Te,"fillRadialGradientEndRadius",0);K.addGetterSetter(Te,"fillRadialGradientColorStops");K.addGetterSetter(Te,"fillPatternRepeat","repeat");K.addGetterSetter(Te,"fillEnabled",!0);K.addGetterSetter(Te,"strokeEnabled",!0);K.addGetterSetter(Te,"shadowEnabled",!0);K.addGetterSetter(Te,"dashEnabled",!0);K.addGetterSetter(Te,"strokeScaleEnabled",!0);K.addGetterSetter(Te,"fillPriority","color");K.addComponentsGetterSetter(Te,"fillPatternOffset",["x","y"]);K.addGetterSetter(Te,"fillPatternOffsetX",0,Oe());K.addGetterSetter(Te,"fillPatternOffsetY",0,Oe());K.addComponentsGetterSetter(Te,"fillPatternScale",["x","y"]);K.addGetterSetter(Te,"fillPatternScaleX",1,Oe());K.addGetterSetter(Te,"fillPatternScaleY",1,Oe());K.addComponentsGetterSetter(Te,"fillLinearGradientStartPoint",["x","y"]);K.addComponentsGetterSetter(Te,"strokeLinearGradientStartPoint",["x","y"]);K.addGetterSetter(Te,"fillLinearGradientStartPointX",0);K.addGetterSetter(Te,"strokeLinearGradientStartPointX",0);K.addGetterSetter(Te,"fillLinearGradientStartPointY",0);K.addGetterSetter(Te,"strokeLinearGradientStartPointY",0);K.addComponentsGetterSetter(Te,"fillLinearGradientEndPoint",["x","y"]);K.addComponentsGetterSetter(Te,"strokeLinearGradientEndPoint",["x","y"]);K.addGetterSetter(Te,"fillLinearGradientEndPointX",0);K.addGetterSetter(Te,"strokeLinearGradientEndPointX",0);K.addGetterSetter(Te,"fillLinearGradientEndPointY",0);K.addGetterSetter(Te,"strokeLinearGradientEndPointY",0);K.addComponentsGetterSetter(Te,"fillRadialGradientStartPoint",["x","y"]);K.addGetterSetter(Te,"fillRadialGradientStartPointX",0);K.addGetterSetter(Te,"fillRadialGradientStartPointY",0);K.addComponentsGetterSetter(Te,"fillRadialGradientEndPoint",["x","y"]);K.addGetterSetter(Te,"fillRadialGradientEndPointX",0);K.addGetterSetter(Te,"fillRadialGradientEndPointY",0);K.addGetterSetter(Te,"fillPatternRotation",0);K.addGetterSetter(Te,"fillRule",void 0,Ad());K.backCompat(Te,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const tJ="beforeDraw",nJ="draw",dR=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],rJ=dR.length;let Nd=class extends ra{constructor(e){super(e),this.canvas=new Du,this.hitCanvas=new G3({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){ze.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!ze.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(ze.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(ze.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return ze.prototype.remove.call(this),e&&e.parentNode&&oe._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&oe.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),ze.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){oe.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){oe.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,oe.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<rJ;i++){const s=dR[i],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),l=a.shape;if(l)return l;if(r=!!a.antialiased,!a.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=oe.getHitColorKey(r[0],r[1],r[2]),a=b0[s];return a?{shape:a}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(tJ,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),ra.prototype.drawScene.call(this,s,n,r),this._fire(nJ,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),ra.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){oe.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return oe.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return oe.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Nd.prototype.nodeType="Layer";er(Nd);K.addGetterSetter(Nd,"imageSmoothingEnabled",!0);K.addGetterSetter(Nd,"clearBeforeDraw",!0);K.addGetterSetter(Nd,"hitGraphEnabled",!0,Eo());class Y3 extends Nd{constructor(e){super(e),this.listening(!1),oe.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Y3.prototype.nodeType="FastLayer";er(Y3);let Dp=class extends ra{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&oe.throw("You may only add groups and shapes to groups.")}};Dp.prototype.nodeType="Group";er(Dp);const dw=(function(){return ad.performance&&ad.performance.now?function(){return ad.performance.now()}:function(){return new Date().getTime()}})();class Ua{constructor(e,n){this.id=Ua.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:dw(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Ua.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=dw(),Ua._addAnimation(this),this}stop(){return Ua._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,a=i.func;i._updateFrameObject(dw());const l=s.length;let u;if(a?u=a.call(i,i.frame)!==!1:u=!0,!!u)for(let d=0;d<l;d++){const m=s[d];m._id!==void 0&&(e[m._id]=m)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Ua;e.animations.length?(e._runFrames(),oe.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,oe.requestAnimFrame(this._animationLoop))}}Ua.animations=[];Ua.animIdCounter=0;Ua.animRunning=!1;const iJ={node:1,duration:1,easing:1,onFinish:1,yoyo:1},sJ=1,S_=2,w_=3,C_=["fill","stroke","shadowColor"];let aJ=0;class oJ{constructor(e,n,r,i,s,a,l){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=l,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=S_,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=w_,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===S_?this.setTime(e):this.state===w_&&this.setTime(this.duration-e)}pause(){this.state=sJ,this.fire("onPause")}getTimer(){return new Date().getTime()}}class gn{constructor(e){const n=this,r=e.node,i=r._id,s=e.easing||v0.Linear,a=!!e.yoyo;let l,u;typeof e.duration>"u"?l=.3:e.duration===0?l=.001:l=e.duration,this.node=r,this._id=aJ++;const d=r.getLayer()||(r instanceof Le.Stage?r.getLayers():null);d||oe.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Ua(function(){n.tween.onEnterFrame()},d),this.tween=new oJ(u,function(m){n._tweenFunc(m)},s,0,1,l*1e3,a),this._addListeners(),gn.attrs[i]||(gn.attrs[i]={}),gn.attrs[i][this._id]||(gn.attrs[i][this._id]={}),gn.tweens[i]||(gn.tweens[i]={});for(u in e)iJ[u]===void 0&&this._addAttr(u,e[u]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,i=r._id;let s,a,l,u,d;const m=gn.tweens[i][e];m&&delete gn.attrs[i][m][e];let g=r.getAttr(e);if(oe._isArray(n))if(s=[],a=Math.max(n.length,g.length),e==="points"&&n.length!==g.length&&(n.length>g.length?(u=g,g=oe._prepareArrayForTween(g,n,r.closed())):(l=n,n=oe._prepareArrayForTween(n,g,r.closed()))),e.indexOf("fill")===0)for(let b=0;b<a;b++)if(b%2===0)s.push(n[b]-g[b]);else{const x=oe.colorToRGBA(g[b]);d=oe.colorToRGBA(n[b]),g[b]=x,s.push({r:d.r-x.r,g:d.g-x.g,b:d.b-x.b,a:d.a-x.a})}else for(let b=0;b<a;b++)s.push(n[b]-g[b]);else C_.indexOf(e)!==-1?(g=oe.colorToRGBA(g),d=oe.colorToRGBA(n),s={r:d.r-g.r,g:d.g-g.g,b:d.b-g.b,a:d.a-g.a}):s=n-g;gn.attrs[i][this._id][e]={start:g,diff:s,end:n,trueEnd:l,trueStart:u},gn.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,r=gn.attrs[n._id][this._id];let i,s,a,l,u,d,m,g;for(i in r){if(s=r[i],a=s.start,l=s.diff,g=s.end,oe._isArray(a))if(u=[],m=Math.max(a.length,g.length),i.indexOf("fill")===0)for(d=0;d<m;d++)d%2===0?u.push((a[d]||0)+l[d]*e):u.push("rgba("+Math.round(a[d].r+l[d].r*e)+","+Math.round(a[d].g+l[d].g*e)+","+Math.round(a[d].b+l[d].b*e)+","+(a[d].a+l[d].a*e)+")");else for(d=0;d<m;d++)u.push((a[d]||0)+l[d]*e);else C_.indexOf(i)!==-1?u="rgba("+Math.round(a.r+l.r*e)+","+Math.round(a.g+l.g*e)+","+Math.round(a.b+l.b*e)+","+(a.a+l.a*e)+")":u=a+l*e;n.setAttr(i,u)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=gn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=gn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=gn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in r)delete gn.tweens[e][i];delete gn.attrs[e][n],gn.tweens[e]&&(Object.keys(gn.tweens[e]).length===0&&delete gn.tweens[e],Object.keys(gn.attrs[e]).length===0&&delete gn.attrs[e])}}gn.attrs={};gn.tweens={};ze.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new gn(t).play()};const v0={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){let a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){let a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){let a=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-v0.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?v0.BounceEaseIn(t*2,0,n,r)*.5+e:v0.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},zp=oe._assign(Le,{Util:oe,Transform:ea,Node:ze,Container:ra,Stage:u2,stages:y0,Layer:Nd,FastLayer:Y3,Group:Dp,DD:Kt,Shape:Te,shapes:b0,Animation:Ua,Tween:gn,Easings:v0,Context:l2,Canvas:F3});class xc extends Te{_sceneFunc(e){const n=Le.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=Le.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),a=1,l=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),u=Math.sin(Math.min(i,Math.PI/2)),d=s*(s>0?e:n),m=a*n,g=l*(l>0?e:n),b=u*(u>0?n:e);return{x:d,y:r?-1*b:g,width:m-d,height:b-g}}}xc.prototype._centroid=!0;xc.prototype.className="Arc";xc.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];er(xc);K.addGetterSetter(xc,"innerRadius",0,Oe());K.addGetterSetter(xc,"outerRadius",0,Oe());K.addGetterSetter(xc,"angle",0,Oe());K.addGetterSetter(xc,"clockwise",!1,Eo());function qC(t,e,n,r,i,s,a){const l=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),u=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),d=a*l/(l+u),m=a*u/(l+u),g=n-d*(i-t),b=r-d*(s-e),x=n+m*(i-t),S=r+m*(s-e);return[g,b,x,S]}function E_(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=qC(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}let Sc=class extends Te{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),a=this.bezier();if(!r)return;let l=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const u=this.getTensionPoints(),d=u.length;for(l=s?0:4,s||e.quadraticCurveTo(u[0],u[1],u[2],u[3]);l<d-2;)e.bezierCurveTo(u[l++],u[l++],u[l++],u[l++],u[l++],u[l++]);s||e.quadraticCurveTo(u[d-2],u[d-1],n[r-2],n[r-1])}else if(a)for(l=2;l<r;)e.bezierCurveTo(n[l++],n[l++],n[l++],n[l++],n[l++],n[l++]);else for(l=2;l<r;l+=2)e.lineTo(n[l],n[l+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():E_(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=qC(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=qC(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),a=E_(e,r);return[i[2],i[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],a,l;for(let u=0;u<e.length/2;u++)a=e[u*2],l=e[u*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,l),s=Math.max(s,l);return{x:n,y:i,width:r-n,height:s-i}}};Sc.prototype.className="Line";Sc.prototype._attrsAffectingSize=["points","bezier","tension"];er(Sc);K.addGetterSetter(Sc,"closed",!1);K.addGetterSetter(Sc,"bezier",!1);K.addGetterSetter(Sc,"tension",0,Oe());K.addGetterSetter(Sc,"points",[],EW());const lJ=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],cJ=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],uJ=[[1],[1,1],[1,2,1],[1,3,3,1]],k_=(t,e,n)=>{let r,i;const a=n/2;r=0;for(let l=0;l<20;l++)i=a*lJ[20][l]+a,r+=cJ[20][l]*fJ(t,e,i);return a*r},T_=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],s=2*t[1]-2*t[0],a=2*e[1]-2*e[0],l=4*(r*r+i*i),u=4*(r*s+i*a),d=s*s+a*a;if(l===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const m=u/(2*l),g=d/l,b=n+m,x=g-m*m,S=b*b+x>0?Math.sqrt(b*b+x):0,k=m*m+x>0?Math.sqrt(m*m+x):0,_=m+Math.sqrt(m*m+x)!==0?x*Math.log(Math.abs((b+S)/(m+k))):0;return Math.sqrt(l)/2*(b*S-m*k+_)};function fJ(t,e,n){const r=VC(1,n,t),i=VC(1,n,e),s=r*r+i*i;return Math.sqrt(s)}const VC=(t,e,n)=>{const r=n.length-1;let i,s;if(r===0)return 0;if(t===0){s=0;for(let a=0;a<=r;a++)s+=uJ[r][a]*Math.pow(1-e,r-a)*Math.pow(e,a)*n[a];return s}else{i=new Array(r);for(let a=0;a<r;a++)i[a]=r*(n[a+1]-n[a]);return VC(t-1,e,i)}},__=(t,e,n)=>{let r=1,i=t/e,s=(t-n(i))/e,a=0;for(;r>.001;){const l=n(i+s),u=Math.abs(t-l)/e;if(u<r)r=u,i+=s;else{const d=n(i-s),m=Math.abs(t-d)/e;m<r?(r=m,i-=s):s/=2}if(a++,a>500)break}return i};class bn extends Te{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=bn.parsePathData(this.data()),this.pathLength=bn.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,a=n[i].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const l=a[0],u=a[1],d=a[2],m=a[3],g=a[4],b=a[5],x=a[6],S=a[7],k=d>m?d:m,_=d>m?1:d/m,A=d>m?m/d:1;e.translate(l,u),e.rotate(x),e.scale(_,A),e.arc(0,0,k,g,g+b,1-S),e.scale(1/_,1/A),e.rotate(-x),e.translate(-l,-u);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(u){if(u.command==="A"){const d=u.points[4],m=u.points[5],g=u.points[4]+m;let b=Math.PI/180;if(Math.abs(d-g)<b&&(b=Math.abs(d-g)),m<0)for(let x=d-b;x>g;x-=b){const S=bn.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],x,0);e.push(S.x,S.y)}else for(let x=d+b;x<g;x+=b){const S=bn.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],x,0);e.push(S.x,S.y)}}else if(u.command==="C")for(let d=0;d<=1;d+=.01){const m=bn.getPointOnCubicBezier(d,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);e.push(m.x,m.y)}else e=e.concat(u.points)});let n=e[0],r=e[0],i=e[1],s=e[1],a,l;for(let u=0;u<e.length/2;u++)a=e[u*2],l=e[u*2+1],isNaN(a)||(n=Math.min(n,a),r=Math.max(r,a)),isNaN(l)||(i=Math.min(i,l),s=Math.max(s,l));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return bn.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const a=n[i],l=a.points;switch(a.command){case"L":return bn.getPointOnLine(e,a.start.x,a.start.y,l[0],l[1]);case"C":return bn.getPointOnCubicBezier(__(e,bn.getPathLength(n),k=>k_([a.start.x,l[0],l[2],l[4]],[a.start.y,l[1],l[3],l[5]],k)),a.start.x,a.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return bn.getPointOnQuadraticBezier(__(e,bn.getPathLength(n),k=>T_([a.start.x,l[0],l[2]],[a.start.y,l[1],l[3]],k)),a.start.x,a.start.y,l[0],l[1],l[2],l[3]);case"A":const u=l[0],d=l[1],m=l[2],g=l[3],b=l[5],x=l[6];let S=l[4];return S+=b*e/a.pathLength,bn.getPointOnEllipticalArc(u,d,m,g,S,x)}return null}static getPointOnLine(e,n,r,i,s,a,l){a=a??n,l=l??r;const u=this.getLineLength(n,r,i,s);if(u<1e-10)return{x:n,y:r};if(i===n)return{x:a,y:l+(s>r?e:-e)};const d=(s-r)/(i-n),m=Math.sqrt(e*e/(1+d*d))*(i<n?-1:1),g=d*m;if(Math.abs(l-r-d*(a-n))<1e-10)return{x:a+m,y:l+g};const b=((a-n)*(i-n)+(l-r)*(s-r))/(u*u),x=n+b*(i-n),S=r+b*(s-r),k=this.getLineLength(a,l,x,S),_=Math.sqrt(e*e-k*k),A=Math.sqrt(_*_/(1+d*d))*(i<n?-1:1),O=d*A;return{x:x+A,y:S+O}}static getPointOnCubicBezier(e,n,r,i,s,a,l,u,d){function m(_){return _*_*_}function g(_){return 3*_*_*(1-_)}function b(_){return 3*_*(1-_)*(1-_)}function x(_){return(1-_)*(1-_)*(1-_)}const S=u*m(e)+a*g(e)+i*b(e)+n*x(e),k=d*m(e)+l*g(e)+s*b(e)+r*x(e);return{x:S,y:k}}static getPointOnQuadraticBezier(e,n,r,i,s,a,l){function u(x){return x*x}function d(x){return 2*x*(1-x)}function m(x){return(1-x)*(1-x)}const g=a*u(e)+i*d(e)+n*m(e),b=l*u(e)+s*d(e)+r*m(e);return{x:g,y:b}}static getPointOnEllipticalArc(e,n,r,i,s,a){const l=Math.cos(a),u=Math.sin(a),d={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(d.x*l-d.y*u),y:n+(d.x*u+d.y*l)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let g=0;g<r.length;g++)n=n.replace(new RegExp(r[g],"g"),"|"+r[g]);const i=n.split("|"),s=[],a=[];let l=0,u=0;const d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let m;for(let g=1;g<i.length;g++){let b=i[g],x=b.charAt(0);for(b=b.slice(1),a.length=0;m=d.exec(b);)a.push(m[0]);let S=[],k=x==="A"||x==="a"?0:-1;for(let _=0,A=a.length;_<A;_++){const O=a[_];if(O==="00"){S.push(0,0),k>=0&&(k+=2,k>=7&&(k-=7));continue}if(k>=0){if(k===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(O)){S.push(parseInt(O[0],10)),S.push(parseInt(O[1],10)),S.push(parseFloat(O.slice(2))),k+=3,k>=7&&(k-=7);continue}if(O==="11"||O==="10"||O==="01"){S.push(parseInt(O[0],10)),S.push(parseInt(O[1],10)),k+=2,k>=7&&(k-=7);continue}if(O==="0"||O==="1"){S.push(parseInt(O,10)),k+=1,k>=7&&(k-=7);continue}}else if(k===4){if(/^[01]\d+(?:\.\d+)?$/.test(O)){S.push(parseInt(O[0],10)),S.push(parseFloat(O.slice(1))),k+=2,k>=7&&(k-=7);continue}if(O==="0"||O==="1"){S.push(parseInt(O,10)),k+=1,k>=7&&(k-=7);continue}}const z=parseFloat(O);isNaN(z)?S.push(0):S.push(z),k+=1,k>=7&&(k-=7)}else{const z=parseFloat(O);isNaN(z)?S.push(0):S.push(z)}}for(;S.length>0&&!isNaN(S[0]);){let _="",A=[];const O=l,z=u;let L,I,j,P,H,Q,q,X,W,le;switch(x){case"l":l+=S.shift(),u+=S.shift(),_="L",A.push(l,u);break;case"L":l=S.shift(),u=S.shift(),A.push(l,u);break;case"m":const Z=S.shift(),te=S.shift();if(l+=Z,u+=te,_="M",s.length>2&&s[s.length-1].command==="z"){for(let V=s.length-2;V>=0;V--)if(s[V].command==="M"){l=s[V].points[0]+Z,u=s[V].points[1]+te;break}}A.push(l,u),x="l";break;case"M":l=S.shift(),u=S.shift(),_="M",A.push(l,u),x="L";break;case"h":l+=S.shift(),_="L",A.push(l,u);break;case"H":l=S.shift(),_="L",A.push(l,u);break;case"v":u+=S.shift(),_="L",A.push(l,u);break;case"V":u=S.shift(),_="L",A.push(l,u);break;case"C":A.push(S.shift(),S.shift(),S.shift(),S.shift()),l=S.shift(),u=S.shift(),A.push(l,u);break;case"c":A.push(l+S.shift(),u+S.shift(),l+S.shift(),u+S.shift()),l+=S.shift(),u+=S.shift(),_="C",A.push(l,u);break;case"S":I=l,j=u,L=s[s.length-1],L.command==="C"&&(I=l+(l-L.points[2]),j=u+(u-L.points[3])),A.push(I,j,S.shift(),S.shift()),l=S.shift(),u=S.shift(),_="C",A.push(l,u);break;case"s":I=l,j=u,L=s[s.length-1],L.command==="C"&&(I=l+(l-L.points[2]),j=u+(u-L.points[3])),A.push(I,j,l+S.shift(),u+S.shift()),l+=S.shift(),u+=S.shift(),_="C",A.push(l,u);break;case"Q":A.push(S.shift(),S.shift()),l=S.shift(),u=S.shift(),A.push(l,u);break;case"q":A.push(l+S.shift(),u+S.shift()),l+=S.shift(),u+=S.shift(),_="Q",A.push(l,u);break;case"T":I=l,j=u,L=s[s.length-1],L.command==="Q"&&(I=l+(l-L.points[0]),j=u+(u-L.points[1])),l=S.shift(),u=S.shift(),_="Q",A.push(I,j,l,u);break;case"t":I=l,j=u,L=s[s.length-1],L.command==="Q"&&(I=l+(l-L.points[0]),j=u+(u-L.points[1])),l+=S.shift(),u+=S.shift(),_="Q",A.push(I,j,l,u);break;case"A":P=S.shift(),H=S.shift(),Q=S.shift(),q=S.shift(),X=S.shift(),W=l,le=u,l=S.shift(),u=S.shift(),_="A",A=this.convertEndpointToCenterParameterization(W,le,l,u,q,X,P,H,Q);break;case"a":P=S.shift(),H=S.shift(),Q=S.shift(),q=S.shift(),X=S.shift(),W=l,le=u,l+=S.shift(),u+=S.shift(),_="A",A=this.convertEndpointToCenterParameterization(W,le,l,u,q,X,P,H,Q);break}s.push({command:_||x,points:A,start:{x:O,y:z},pathLength:this.calcLength(O,z,_||x,A)})}(x==="z"||x==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,a,l,u;const d=bn;switch(r){case"L":return d.getLineLength(e,n,i[0],i[1]);case"C":return k_([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return T_([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const m=i[4],g=i[5],b=i[4]+g;let x=Math.PI/180;if(Math.abs(m-b)<x&&(x=Math.abs(m-b)),a=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),g<0)for(u=m-x;u>b;u-=x)l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),s+=d.getLineLength(a.x,a.y,l.x,l.y),a=l;else for(u=m+x;u<b;u+=x)l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),s+=d.getLineLength(a.x,a.y,l.x,l.y),a=l;return l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],b,0),s+=d.getLineLength(a.x,a.y,l.x,l.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,a,l,u,d){const m=d*(Math.PI/180),g=Math.cos(m)*(e-r)/2+Math.sin(m)*(n-i)/2,b=-1*Math.sin(m)*(e-r)/2+Math.cos(m)*(n-i)/2,x=g*g/(l*l)+b*b/(u*u);x>1&&(l*=Math.sqrt(x),u*=Math.sqrt(x));let S=Math.sqrt((l*l*(u*u)-l*l*(b*b)-u*u*(g*g))/(l*l*(b*b)+u*u*(g*g)));s===a&&(S*=-1),isNaN(S)&&(S=0);const k=S*l*b/u,_=S*-u*g/l,A=(e+r)/2+Math.cos(m)*k-Math.sin(m)*_,O=(n+i)/2+Math.sin(m)*k+Math.cos(m)*_,z=function(q){return Math.sqrt(q[0]*q[0]+q[1]*q[1])},L=function(q,X){return(q[0]*X[0]+q[1]*X[1])/(z(q)*z(X))},I=function(q,X){return(q[0]*X[1]<q[1]*X[0]?-1:1)*Math.acos(L(q,X))},j=I([1,0],[(g-k)/l,(b-_)/u]),P=[(g-k)/l,(b-_)/u],H=[(-1*g-k)/l,(-1*b-_)/u];let Q=I(P,H);return L(P,H)<=-1&&(Q=Math.PI),L(P,H)>=1&&(Q=0),a===0&&Q>0&&(Q=Q-2*Math.PI),a===1&&Q<0&&(Q=Q+2*Math.PI),[A,O,l,u,j,Q,m,a]}}bn.prototype.className="Path";bn.prototype._attrsAffectingSize=["data"];er(bn);K.addGetterSetter(bn,"data");let Rd=class extends Sc{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const a=this.pointerLength(),l=r.length;let u,d;if(s){const b=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[l-2],r[l-1]],x=bn.calcLength(i[i.length-4],i[i.length-3],"C",b),S=bn.getPointOnQuadraticBezier(Math.min(1,1-a/x),b[0],b[1],b[2],b[3],b[4],b[5]);u=r[l-2]-S.x,d=r[l-1]-S.y}else u=r[l-2]-r[l-4],d=r[l-1]-r[l-3];const m=(Math.atan2(d,u)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[l-2],r[l-1]),e.rotate(m),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(u=(i[0]+i[2])/2-r[0],d=(i[1]+i[3])/2-r[1]):(u=r[2]-r[0],d=r[3]-r[1]),e.rotate((Math.atan2(-d,-u)+n)%n),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Rd.prototype.className="Arrow";er(Rd);K.addGetterSetter(Rd,"pointerLength",10,Oe());K.addGetterSetter(Rd,"pointerWidth",10,Oe());K.addGetterSetter(Rd,"pointerAtBeginning",!1);K.addGetterSetter(Rd,"pointerAtEnding",!0);let Kp=class extends Te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Kp.prototype._centroid=!0;Kp.prototype.className="Circle";Kp.prototype._attrsAffectingSize=["radius"];er(Kp);K.addGetterSetter(Kp,"radius",0,Oe());class Zu extends Te{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Zu.prototype.className="Ellipse";Zu.prototype._centroid=!0;Zu.prototype._attrsAffectingSize=["radiusX","radiusY"];er(Zu);K.addComponentsGetterSetter(Zu,"radius",["x","y"]);K.addGetterSetter(Zu,"radiusX",0,Oe());K.addGetterSetter(Zu,"radiusY",0,Oe());class oa extends Te{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let a;if(s){const l=this.attrs.cropWidth,u=this.attrs.cropHeight;l&&u?a=[s,this.cropX(),this.cropY(),l,u,0,0,n,r]:a=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?oe.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?oe.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const i=oe.createImageElement();i.onload=function(){const s=new oa({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}oa.prototype.className="Image";oa.prototype._attrsAffectingSize=["image"];er(oa);K.addGetterSetter(oa,"cornerRadius",0,c2(4));K.addGetterSetter(oa,"image");K.addComponentsGetterSetter(oa,"crop",["x","y","width","height"]);K.addGetterSetter(oa,"cropX",0,Oe());K.addGetterSetter(oa,"cropY",0,Oe());K.addGetterSetter(oa,"cropWidth",0,Oe());K.addGetterSetter(oa,"cropHeight",0,Oe());const hR=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],dJ="Change.konva",hJ="none",YC="up",KC="right",XC="down",QC="left",pJ=hR.length;let K3=class extends Dp{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<pJ;r++)e.on(hR[r]+dJ,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,a,l,u,d;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),d=n.pointerHeight(),l=0,u=0,s){case YC:l=r/2,u=-1*d;break;case KC:l=r+a,u=i/2;break;case XC:l=r/2,u=i+d;break;case QC:l=-1*a,u=i/2;break}n.setAttrs({x:-1*l,y:-1*u,width:r,height:i}),e.setAttrs({x:-1*l,y:-1*u})}}};K3.prototype.className="Label";er(K3);class Od extends Te{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),l=this.cornerRadius();let u=0,d=0,m=0,g=0;typeof l=="number"?u=d=m=g=Math.min(l,n/2,r/2):(u=Math.min(l[0]||0,n/2,r/2),d=Math.min(l[1]||0,n/2,r/2),g=Math.min(l[2]||0,n/2,r/2),m=Math.min(l[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(u,0),i===YC&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-d,0),e.arc(n-d,d,d,Math.PI*3/2,0,!1),i===KC&&(e.lineTo(n,(r-a)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+a)/2)),e.lineTo(n,r-g),e.arc(n-g,r-g,g,0,Math.PI/2,!1),i===XC&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+a),e.lineTo((n-s)/2,r)),e.lineTo(m,r),e.arc(m,r-m,m,Math.PI/2,Math.PI,!1),i===QC&&(e.lineTo(0,(r+a)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-a)/2)),e.lineTo(0,u),e.arc(u,u,u,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),l=this.height();return s===YC?(n-=i,l+=i):s===XC?l+=i:s===QC?(e-=r*1.5,a+=r):s===KC&&(a+=r*1.5),{x:e,y:n,width:a,height:l}}}Od.prototype.className="Tag";er(Od);K.addGetterSetter(Od,"pointerDirection",hJ);K.addGetterSetter(Od,"pointerWidth",0,Oe());K.addGetterSetter(Od,"pointerHeight",0,Oe());K.addGetterSetter(Od,"cornerRadius",0,c2(4));let cy=class extends Te{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?oe.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};cy.prototype.className="Rect";er(cy);K.addGetterSetter(cy,"cornerRadius",0,c2(4));class ef extends Te{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),i=this.sides(),s=this.cornerRadius();if(e.beginPath(),s)oe.drawRoundedPolygonPath(e,n,i,r,s);else{e.moveTo(n[0].x,n[0].y);for(let a=1;a<n.length;a++)e.lineTo(n[a].x,n[a].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,i=e[0].y,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ef.prototype.className="RegularPolygon";ef.prototype._centroid=!0;ef.prototype._attrsAffectingSize=["radius"];er(ef);K.addGetterSetter(ef,"radius",0,Oe());K.addGetterSetter(ef,"sides",0,Oe());K.addGetterSetter(ef,"cornerRadius",0,c2(4));const M_=Math.PI*2;class Dd extends Te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,M_,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),M_,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Dd.prototype.className="Ring";Dd.prototype._centroid=!0;Dd.prototype._attrsAffectingSize=["innerRadius","outerRadius"];er(Dd);K.addGetterSetter(Dd,"innerRadius",0,Oe());K.addGetterSetter(Dd,"outerRadius",0,Oe());class gl extends Te{constructor(e){super(e),this._updated=!0,this.anim=new Ua(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),l=s[i+0],u=s[i+1],d=s[i+2],m=s[i+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,d,m),e.closePath(),e.fillStrokeShape(this)),g)if(a){const b=a[n],x=r*2;e.drawImage(g,l,u,d,m,b[x+0],b[x+1],d,m)}else e.drawImage(g,l,u,d,m,0,0,d,m)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),l=s[i+2],u=s[i+3];if(e.beginPath(),a){const d=a[n],m=r*2;e.rect(d[m+0],d[m+1],l,u)}else e.rect(0,0,l,u);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}gl.prototype.className="Sprite";er(gl);K.addGetterSetter(gl,"animation");K.addGetterSetter(gl,"animations");K.addGetterSetter(gl,"frameOffsets");K.addGetterSetter(gl,"image");K.addGetterSetter(gl,"frameIndex",0,Oe());K.addGetterSetter(gl,"frameRate",17,Oe());K.backCompat(gl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class tf extends Te{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const a=s%2===0?r:n,l=a*Math.sin(s*Math.PI/i),u=-1*a*Math.cos(s*Math.PI/i);e.lineTo(l,u)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}tf.prototype.className="Star";tf.prototype._centroid=!0;tf.prototype._attrsAffectingSize=["innerRadius","outerRadius"];er(tf);K.addGetterSetter(tf,"numPoints",5,Oe());K.addGetterSetter(tf,"innerRadius",0,Oe());K.addGetterSetter(tf,"outerRadius",0,Oe());function Tu(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=i[r+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const ap="auto",mJ="center",pR="inherit",Hg="justify",gJ="Change.konva",yJ="2d",A_="-",mR="left",bJ="text",vJ="Text",xJ="top",SJ="bottom",N_="middle",gR="normal",wJ="px ",Pb=" ",CJ="right",R_="rtl",EJ="word",kJ="char",O_="none",hw="",yR=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],TJ=yR.length;function _J(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Bb;function pw(){return Bb||(Bb=oe.createCanvasElement().getContext(yJ),Bb)}function MJ(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function AJ(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function NJ(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class An extends Te{constructor(e){super(NJ(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<TJ;n++)this.on(yR[n]+gJ,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const i=this.textArr,s=i.length;if(!this.text())return;let a=this.padding(),l=this.fontSize(),u=this.lineHeight()*l,d=this.verticalAlign(),m=this.direction(),g=0,b=this.align(),x=this.getWidth(),S=this.letterSpacing(),k=this.charRenderFunc(),_=this.fill(),A=this.textDecoration(),O=A.indexOf("underline")!==-1,z=A.indexOf("line-through")!==-1,L;m=m===pR?e.direction:m;let I=u/2,j=N_;if(!Le.legacyTextRendering){const P=this.measureSize("M");j="alphabetic";const H=(n=P.fontBoundingBoxAscent)!==null&&n!==void 0?n:P.actualBoundingBoxAscent,Q=(r=P.fontBoundingBoxDescent)!==null&&r!==void 0?r:P.actualBoundingBoxDescent;I=(H-Q)/2+u/2}for(m===R_&&e.setAttr("direction",m),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",j),e.setAttr("textAlign",mR),d===N_?g=(this.getHeight()-s*u-a*2)/2:d===SJ&&(g=this.getHeight()-s*u-a*2),e.translate(a,g+a),L=0;L<s;L++){let P=0,H=0;const Q=i[L],q=Q.text,X=Q.width,W=Q.lastInParagraph;if(e.save(),b===CJ?P+=x-X-a*2:b===mJ&&(P+=(x-X-a*2)/2),O){e.save(),e.beginPath();const Z=Le.legacyTextRendering?Math.round(l/2):Math.round(l/4),te=P,V=I+H+Z;e.moveTo(te,V);const re=b===Hg&&!W?x-a*2:X;e.lineTo(te+Math.round(re),V),e.lineWidth=l/15;const ee=this._getLinearGradient();e.strokeStyle=ee||_,e.stroke(),e.restore()}const le=P;if(m!==R_&&(S!==0||b===Hg||k)){const Z=q.split(" ").length-1,te=Tu(q);for(let V=0;V<te.length;V++){const re=te[V];if(re===" "&&!W&&b===Hg&&(P+=(x-a*2-X)/Z),this._partialTextX=P,this._partialTextY=I+H,this._partialText=re,k){e.save();const de=i.slice(0,L).reduce((Y,ie)=>Y+Tu(ie.text).length,0),G=V+de;k({char:re,index:G,x:P,y:I+H,lineIndex:L,column:V,isLastInLine:W,width:this.measureSize(re).width,context:e})}e.fillStrokeShape(this),k&&e.restore(),P+=this.measureSize(re).width+S}}else S!==0&&e.setAttr("letterSpacing",`${S}px`),this._partialTextX=P,this._partialTextY=I+H,this._partialText=q,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const Z=Le.legacyTextRendering?0:-Math.round(l/4),te=le;e.moveTo(te,I+H+Z);const V=b===Hg&&!W?x-a*2:X;e.lineTo(te+Math.round(V),I+H+Z),e.lineWidth=l/15;const re=this._getLinearGradient();e.strokeStyle=re||_,e.stroke(),e.restore()}e.restore(),s>1&&(I+=u)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=oe._isString(e)?e:e==null?"":e+"";return this._setAttr(bJ,n),this}getWidth(){return this.attrs.width===ap||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===ap||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return oe.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,a,l,u,d,m,g,b;let x=pw(),S=this.fontSize(),k;x.save(),x.font=this._getContextFont(),k=x.measureText(e),x.restore();const _=S/100;return{actualBoundingBoxAscent:(n=k.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*_,actualBoundingBoxDescent:(r=k.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=k.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*_,actualBoundingBoxRight:(s=k.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*_,alphabeticBaseline:(a=k.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(l=k.emHeightAscent)!==null&&l!==void 0?l:100*_,emHeightDescent:(u=k.emHeightDescent)!==null&&u!==void 0?u:-20*_,fontBoundingBoxAscent:(d=k.fontBoundingBoxAscent)!==null&&d!==void 0?d:91*_,fontBoundingBoxDescent:(m=k.fontBoundingBoxDescent)!==null&&m!==void 0?m:21*_,hangingBaseline:(g=k.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*_,ideographicBaseline:(b=k.ideographicBaseline)!==null&&b!==void 0?b:-21*_,width:k.width,height:S}}_getContextFont(){return this.fontStyle()+Pb+this.fontVariant()+Pb+(this.fontSize()+wJ)+_J(this.fontFamily())}_addTextLine(e){this.align()===Hg&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return pw().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,l=s!==ap&&s!==void 0,u=a!==ap&&a!==void 0,d=this.padding(),m=s-d*2,g=a-d*2,b=0,x=this.wrap(),S=x!==O_,k=x!==kJ&&S,_=this.ellipsis();this.textArr=[],pw().font=this._getContextFont();const A=_?this._getTextWidth(hw):0;for(let O=0,z=e.length;O<z;++O){let L=e[O],I=this._getTextWidth(L);if(l&&I>m)for(;L.length>0;){let j=0,P=Tu(L).length,H="",Q=0;for(;j<P;){const q=j+P>>>1,X=Tu(L),W=X.slice(0,q+1).join(""),le=this._getTextWidth(W);(_&&u&&b+i>g?le+A:le)<=m?(j=q+1,H=W,Q=le):P=q}if(H){if(k){const W=Tu(L),le=Tu(H),Z=W[le.length],te=Z===Pb||Z===A_;let V;if(te&&Q<=m)V=le.length;else{const re=le.lastIndexOf(Pb),ee=le.lastIndexOf(A_);V=Math.max(re,ee)+1}V>0&&(j=V,H=W.slice(0,j).join(""),Q=this._getTextWidth(H))}if(H=H.trimRight(),this._addTextLine(H),r=Math.max(r,Q),b+=i,this._shouldHandleEllipsis(b)){this._tryToAddEllipsisToLastLine();break}if(L=Tu(L).slice(j).join("").trimLeft(),L.length>0&&(I=this._getTextWidth(L),I<=m)){this._addTextLine(L),b+=i,r=Math.max(r,I);break}}else break}else this._addTextLine(L),b+=i,r=Math.max(r,I),this._shouldHandleEllipsis(b)&&O<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),u&&b+i>g)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==ap&&i!==void 0,a=this.padding(),l=i-a*2;return!(this.wrap()!==O_)||s&&e+r>l}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==ap&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!s||(n&&(this._getTextWidth(a.text+hw)<i||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+hw))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}An.prototype._fillFunc=MJ;An.prototype._strokeFunc=AJ;An.prototype.className=vJ;An.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];er(An);K.overWriteSetter(An,"width",q3());K.overWriteSetter(An,"height",q3());K.addGetterSetter(An,"direction",pR);K.addGetterSetter(An,"fontFamily","Arial");K.addGetterSetter(An,"fontSize",12,Oe());K.addGetterSetter(An,"fontStyle",gR);K.addGetterSetter(An,"fontVariant",gR);K.addGetterSetter(An,"padding",0,Oe());K.addGetterSetter(An,"align",mR);K.addGetterSetter(An,"verticalAlign",xJ);K.addGetterSetter(An,"lineHeight",1,Oe());K.addGetterSetter(An,"wrap",EJ);K.addGetterSetter(An,"ellipsis",!1,Eo());K.addGetterSetter(An,"letterSpacing",0,Oe());K.addGetterSetter(An,"text","",Ad());K.addGetterSetter(An,"textDecoration","");K.addGetterSetter(An,"charRenderFunc",void 0);const RJ="",bR="normal";function vR(t){t.fillText(this.partialText,0,0)}function xR(t){t.strokeText(this.partialText,0,0)}class Vr extends Te{constructor(e){super(e),this.dummyCanvas=oe.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return bn.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:bn.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=bn.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo,a=n.indexOf("underline")!==-1,l=n.indexOf("line-through")!==-1;a&&e.beginPath();for(let u=0;u<s.length;u++){e.save();const d=s[u].p0;e.translate(d.x,d.y),e.rotate(s[u].rotation),this.partialText=s[u].text,e.fillStrokeShape(this),a&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(s[u].width,i/2+1)),e.restore()}if(a&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),l){e.beginPath();for(let u=0;u<s.length;u++){e.save();const d=s[u].p0;e.translate(d.x,d.y),e.rotate(s[u].rotation),u===0&&e.moveTo(0,0),e.lineTo(s[u].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return oe.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return An.prototype.setText.call(this,e)}_getContextFont(){return An.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Tu(this.text()),n=[];let r=0;for(let g=0;g<e.length;g++)n.push({char:e[g],width:this._getTextSize(e[g]).width}),r+=n[g].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),a=this.align(),l=this.kerningFunc(),u=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let d=0;a==="center"&&(d=Math.max(0,this.pathLength/2-u/2)),a==="right"&&(d=Math.max(0,this.pathLength-u));let m=d;for(let g=0;g<n.length;g++){const b=this._getPointAtLength(m);if(!b)return;const x=n[g].char;let S=n[g].width+s;if(x===" "&&a==="justify"){const L=this.text().split(" ").length-1;S+=(this.pathLength-u)/L}const k=this._getPointAtLength(m+S);if(!k)return;const _=bn.getLineLength(b.x,b.y,k.x,k.y);let A=0;if(l)try{A=l(n[g-1].char,x)*this.fontSize()}catch{A=0}b.x+=A,k.x+=A,this.textWidth+=A;const O=bn.getPointOnLine(A+_/2,b.x,b.y,k.x,k.y),z=Math.atan2(k.y-b.y,k.x-b.x);this.glyphInfo.push({transposeX:O.x,transposeY:O.y,text:e[g],rotation:z,p0:b,p1:k,width:_}),m+=S}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(d){e.push(d.p0.x),e.push(d.p0.y),e.push(d.p1.x),e.push(d.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,a,l;for(let d=0;d<e.length/2;d++)a=e[d*2],l=e[d*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,l),s=Math.max(s,l);const u=this.fontSize();return{x:n-u/2,y:i-u/2,width:r-n+u,height:s-i+u}}destroy(){return oe.releaseCanvas(this.dummyCanvas),super.destroy()}}Vr.prototype._fillFunc=vR;Vr.prototype._strokeFunc=xR;Vr.prototype._fillFuncHit=vR;Vr.prototype._strokeFuncHit=xR;Vr.prototype.className="TextPath";Vr.prototype._attrsAffectingSize=["text","fontSize","data"];er(Vr);K.addGetterSetter(Vr,"data");K.addGetterSetter(Vr,"fontFamily","Arial");K.addGetterSetter(Vr,"fontSize",12,Oe());K.addGetterSetter(Vr,"fontStyle",bR);K.addGetterSetter(Vr,"align","left");K.addGetterSetter(Vr,"letterSpacing",0,Oe());K.addGetterSetter(Vr,"textBaseline","middle");K.addGetterSetter(Vr,"fontVariant",bR);K.addGetterSetter(Vr,"text",RJ);K.addGetterSetter(Vr,"textDecoration","");K.addGetterSetter(Vr,"kerningFunc",void 0);const SR="tr-konva",OJ=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${SR}`).join(" "),D_="nodesRect",DJ=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],zJ={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},jJ="ontouchstart"in Le._global;function LJ(t,e,n){if(t==="rotater")return n;e+=oe.degToRad(zJ[t]||0);const r=(oe.radToDeg(e)%360+360)%360;return oe._inRange(r,315+22.5,360)||oe._inRange(r,0,22.5)?"ns-resize":oe._inRange(r,45-22.5,45+22.5)?"nesw-resize":oe._inRange(r,90-22.5,90+22.5)?"ew-resize":oe._inRange(r,135-22.5,135+22.5)?"nwse-resize":oe._inRange(r,180-22.5,180+22.5)?"ns-resize":oe._inRange(r,225-22.5,225+22.5)?"nesw-resize":oe._inRange(r,270-22.5,270+22.5)?"ew-resize":oe._inRange(r,315-22.5,315+22.5)?"nwse-resize":(oe.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const px=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function PJ(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function wR(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function BJ(t,e){const n=PJ(t);return wR(t,e,n)}function IJ(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Le.getAngle(t[i]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(r=s)}return r}let WC=0;class Bt extends Dp{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(OJ,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return oe.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return SR+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(oe.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const a=i._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");i.on(a,s)}i.on(DJ.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,a=i.y-n.y;this.nodes().forEach(l=>{if(l===e||l.isDragging())return;const u=l.getAbsolutePosition();l.setAbsolutePosition({x:u.x+s,y:u.y+a}),l.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(D_),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(D_,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),a=e.getAbsolutePosition(r),l=i.x*s.x-e.offsetX()*s.x,u=i.y*s.y-e.offsetY()*s.y,d=(Le.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),m={x:a.x+l*Math.cos(d)+u*Math.sin(-d),y:a.y+u*Math.cos(d)+l*Math.sin(d),width:i.width*s.x,height:i.height*s.y,rotation:d};return wR(m,-Le.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(d=>{const m=d.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:m.x,y:m.y},{x:m.x+m.width,y:m.y},{x:m.x+m.width,y:m.y+m.height},{x:m.x,y:m.y+m.height}],b=d.getAbsoluteTransform();g.forEach(function(x){const S=b.point(x);n.push(S)})});const r=new ea;r.rotate(-Le.getAngle(this.rotation()));let i=1/0,s=1/0,a=-1/0,l=-1/0;n.forEach(function(d){const m=r.point(d);i===void 0&&(i=a=m.x,s=l=m.y),i=Math.min(i,m.x),s=Math.min(s,m.y),a=Math.max(a,m.x),l=Math.max(l,m.y)}),r.invert();const u=r.point({x:i,y:s});return{x:u.x,y:u.y,width:a-i,height:l-s,rotation:Le.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),px.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new cy({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:jJ?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Le.getAngle(this.rotation()),s=this.rotateAnchorCursor(),a=LJ(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new Te({name:"back",width:0,height:0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*oe._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),l=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:l.x-a.x,y:l.y-a.y},WC++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(u=>{u._fire("transformstart",{evt:e.evt,target:u})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const l=a.getPointerPosition();let u={x:l.x-this._anchorDragOffset.x,y:l.y-this._anchorDragOffset.y};const d=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(u=this.anchorDragBoundFunc()(d,u,e)),s.setAbsolutePosition(u);const m=s.getAbsolutePosition();if(d.x===m.x&&d.y===m.y)return;if(this._movingAnchorName==="rotater"){const O=this._getNodeRect();n=s.x()-O.width/2,r=-s.y()+O.height/2;let z=Math.atan2(-r,n)+Math.PI/2;O.height<0&&(z-=Math.PI);const I=Le.getAngle(this.rotation())+z,j=Le.getAngle(this.rotationSnapTolerance()),H=IJ(this.rotationSnaps(),I,j)-O.rotation,Q=BJ(O,H);this._fitNodesInto(Q,e);return}const g=this.shiftBehavior();let b;g==="inverted"?b=this.keepRatio()&&!e.shiftKey:g==="none"?b=this.keepRatio():b=this.keepRatio()||e.shiftKey;let x=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(O.x-s.x(),2)+Math.pow(O.y-s.y(),2));const z=this.findOne(".top-left").x()>O.x?-1:1,L=this.findOne(".top-left").y()>O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,this.findOne(".top-left").x(O.x-n),this.findOne(".top-left").y(O.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-O.x,2)+Math.pow(O.y-s.y(),2));const z=this.findOne(".top-right").x()<O.x?-1:1,L=this.findOne(".top-right").y()>O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,this.findOne(".top-right").x(O.x+n),this.findOne(".top-right").y(O.y-r)}var S=s.position();this.findOne(".top-left").y(S.y),this.findOne(".bottom-right").x(S.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(O.x-s.x(),2)+Math.pow(s.y()-O.y,2));const z=O.x<s.x()?-1:1,L=s.y()<O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,s.x(O.x-n),s.y(O.y+r)}S=s.position(),this.findOne(".top-left").x(S.x),this.findOne(".bottom-right").y(S.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-O.x,2)+Math.pow(s.y()-O.y,2));const z=this.findOne(".bottom-right").x()<O.x?-1:1,L=this.findOne(".bottom-right").y()<O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,this.findOne(".bottom-right").x(O.x+n),this.findOne(".bottom-right").y(O.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(x=this.centeredScaling()||e.altKey,x){const O=this.findOne(".top-left"),z=this.findOne(".bottom-right"),L=O.x(),I=O.y(),j=this.getWidth()-z.x(),P=this.getHeight()-z.y();z.move({x:-L,y:-I}),O.move({x:j,y:P})}const k=this.findOne(".top-left").getAbsolutePosition();n=k.x,r=k.y;const _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),A=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:_,height:A,rotation:Le.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();WC--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(oe._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(oe._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new ea;if(s.rotate(Le.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const b=s.point({x:-this.padding()*2,y:0});e.x+=b.x,e.y+=b.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const b=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const b=s.point({x:0,y:-this.padding()*2});e.x+=b.x,e.y+=b.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const b=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const b=this.boundBoxFunc()(r,e);b?e=b:oe.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,l=new ea;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/a,r.height/a);const u=new ea,d=e.width/a,m=e.height/a;this.flipEnabled()===!1?(u.translate(e.x,e.y),u.rotate(e.rotation),u.translate(e.width<0?e.width:0,e.height<0?e.height:0),u.scale(Math.abs(d),Math.abs(m))):(u.translate(e.x,e.y),u.rotate(e.rotation),u.scale(d,m));const g=u.multiply(l.invert());this._nodes.forEach(b=>{var x;if(!b.getStage())return;const S=b.getParent().getAbsoluteTransform(),k=b.getTransform().copy();k.translate(b.offsetX(),b.offsetY());const _=new ea;_.multiply(S.copy().invert()).multiply(g).multiply(S).multiply(k);const A=_.decompose();b.setAttrs(A),(x=b.getLayer())===null||x===void 0||x.batchDraw()}),this.rotation(oe._getRotation(e.rotation)),this._nodes.forEach(b=>{this._fire("transform",{evt:n,target:b}),b._fire("transform",{evt:n,target:b})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(oe._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),l=this.padding(),u=this.anchorSize(),d=this.find("._anchor");d.forEach(g=>{g.setAttrs({width:u,height:u,offsetX:u/2,offsetY:u/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:u/2+l,offsetY:u/2+l,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:u/2+l,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:u/2-l,offsetY:u/2+l,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:u/2+l,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:u/2-l,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:u/2+l,offsetY:u/2-l,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:u/2-l,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:u/2-l,offsetY:u/2-l,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*oe._sign(i)-l,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(g=>g.draggable()),x:0,y:0});const m=this.anchorStyleFunc();m&&d.forEach(g=>{m(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Dp.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return ze.prototype.toObject.call(this)}clone(e){return ze.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Bt.isTransforming=()=>WC>0;function HJ(t){return t instanceof Array||oe.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){px.indexOf(e)===-1&&oe.warn("Unknown anchor name: "+e+". Available names are: "+px.join(", "))}),t||[]}Bt.prototype.className="Transformer";er(Bt);K.addGetterSetter(Bt,"enabledAnchors",px,HJ);K.addGetterSetter(Bt,"flipEnabled",!0,Eo());K.addGetterSetter(Bt,"resizeEnabled",!0);K.addGetterSetter(Bt,"anchorSize",10,Oe());K.addGetterSetter(Bt,"rotateEnabled",!0);K.addGetterSetter(Bt,"rotateLineVisible",!0);K.addGetterSetter(Bt,"rotationSnaps",[]);K.addGetterSetter(Bt,"rotateAnchorOffset",50,Oe());K.addGetterSetter(Bt,"rotateAnchorCursor","crosshair");K.addGetterSetter(Bt,"rotationSnapTolerance",5,Oe());K.addGetterSetter(Bt,"borderEnabled",!0);K.addGetterSetter(Bt,"anchorStroke","rgb(0, 161, 255)");K.addGetterSetter(Bt,"anchorStrokeWidth",1,Oe());K.addGetterSetter(Bt,"anchorFill","white");K.addGetterSetter(Bt,"anchorCornerRadius",0,Oe());K.addGetterSetter(Bt,"borderStroke","rgb(0, 161, 255)");K.addGetterSetter(Bt,"borderStrokeWidth",1,Oe());K.addGetterSetter(Bt,"borderDash");K.addGetterSetter(Bt,"keepRatio",!0);K.addGetterSetter(Bt,"shiftBehavior","default");K.addGetterSetter(Bt,"centeredScaling",!1);K.addGetterSetter(Bt,"ignoreStroke",!1);K.addGetterSetter(Bt,"padding",0,Oe());K.addGetterSetter(Bt,"nodes");K.addGetterSetter(Bt,"node");K.addGetterSetter(Bt,"boundBoxFunc");K.addGetterSetter(Bt,"anchorDragBoundFunc");K.addGetterSetter(Bt,"anchorStyleFunc");K.addGetterSetter(Bt,"shouldOverdrawWholeArea",!1);K.addGetterSetter(Bt,"useSingleNodeRotation",!0);K.backCompat(Bt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class wc extends Te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Le.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}wc.prototype.className="Wedge";wc.prototype._centroid=!0;wc.prototype._attrsAffectingSize=["radius"];er(wc);K.addGetterSetter(wc,"radius",0,Oe());K.addGetterSetter(wc,"angle",0,Oe());K.addGetterSetter(wc,"clockwise",!1);K.backCompat(wc,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function z_(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const UJ=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],FJ=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function GJ(t,e){const n=t.data,r=t.width,i=t.height;let s,a,l,u,d,m,g,b,x,S,k,_,A,O,z,L,I,j,P,H;const Q=e+e+1,q=r-1,X=i-1,W=e+1,le=W*(W+1)/2,Z=new z_,te=UJ[e],V=FJ[e];let re=null,ee=Z,de=null,G=null;for(let Y=1;Y<Q;Y++)ee=ee.next=new z_,Y===W&&(re=ee);ee.next=Z,l=a=0;for(let Y=0;Y<i;Y++){_=A=O=z=u=d=m=g=0,b=W*(L=n[a]),x=W*(I=n[a+1]),S=W*(j=n[a+2]),k=W*(P=n[a+3]),u+=le*L,d+=le*I,m+=le*j,g+=le*P,ee=Z;for(let ie=0;ie<W;ie++)ee.r=L,ee.g=I,ee.b=j,ee.a=P,ee=ee.next;for(let ie=1;ie<W;ie++)s=a+((q<ie?q:ie)<<2),u+=(ee.r=L=n[s])*(H=W-ie),d+=(ee.g=I=n[s+1])*H,m+=(ee.b=j=n[s+2])*H,g+=(ee.a=P=n[s+3])*H,_+=L,A+=I,O+=j,z+=P,ee=ee.next;de=Z,G=re;for(let ie=0;ie<r;ie++)n[a+3]=P=g*te>>V,P!==0?(P=255/P,n[a]=(u*te>>V)*P,n[a+1]=(d*te>>V)*P,n[a+2]=(m*te>>V)*P):n[a]=n[a+1]=n[a+2]=0,u-=b,d-=x,m-=S,g-=k,b-=de.r,x-=de.g,S-=de.b,k-=de.a,s=l+((s=ie+e+1)<q?s:q)<<2,_+=de.r=n[s],A+=de.g=n[s+1],O+=de.b=n[s+2],z+=de.a=n[s+3],u+=_,d+=A,m+=O,g+=z,de=de.next,b+=L=G.r,x+=I=G.g,S+=j=G.b,k+=P=G.a,_-=L,A-=I,O-=j,z-=P,G=G.next,a+=4;l+=r}for(let Y=0;Y<r;Y++){A=O=z=_=d=m=g=u=0,a=Y<<2,b=W*(L=n[a]),x=W*(I=n[a+1]),S=W*(j=n[a+2]),k=W*(P=n[a+3]),u+=le*L,d+=le*I,m+=le*j,g+=le*P,ee=Z;for(let F=0;F<W;F++)ee.r=L,ee.g=I,ee.b=j,ee.a=P,ee=ee.next;let ie=r;for(let F=1;F<=e;F++)a=ie+Y<<2,u+=(ee.r=L=n[a])*(H=W-F),d+=(ee.g=I=n[a+1])*H,m+=(ee.b=j=n[a+2])*H,g+=(ee.a=P=n[a+3])*H,_+=L,A+=I,O+=j,z+=P,ee=ee.next,F<X&&(ie+=r);a=Y,de=Z,G=re;for(let F=0;F<i;F++)s=a<<2,n[s+3]=P=g*te>>V,P>0?(P=255/P,n[s]=(u*te>>V)*P,n[s+1]=(d*te>>V)*P,n[s+2]=(m*te>>V)*P):n[s]=n[s+1]=n[s+2]=0,u-=b,d-=x,m-=S,g-=k,b-=de.r,x-=de.g,S-=de.b,k-=de.a,s=Y+((s=F+W)<X?s:X)*r<<2,u+=_+=de.r=n[s],d+=A+=de.g=n[s+1],m+=O+=de.b=n[s+2],g+=z+=de.a=n[s+3],de=de.next,b+=L=G.r,x+=I=G.g,S+=j=G.b,k+=P=G.a,_-=L,A-=I,O-=j,z-=P,G=G.next,a+=r}}const qJ=function(e){const n=Math.round(this.blurRadius());n>0&&GJ(e,n)};K.addGetterSetter(ze,"blurRadius",0,Oe(),K.afterSetFilter);const VJ=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};K.addGetterSetter(ze,"brightness",0,Oe(),K.afterSetFilter);const YJ=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},KJ=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,a=150;for(let l=0;l<r;l+=4)i=n[l],s=n[l+1],a=n[l+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[l]=i,n[l+1]=s,n[l+2]=a};K.addGetterSetter(ze,"contrast",0,Oe(),K.afterSetFilter);const XJ=function(t){var e,n,r,i,s,a,l,u,d;const m=t.data,g=t.width,b=t.height,x=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),S=Math.min(1,Math.max(0,(i=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&i!==void 0?i:.5)),_=(l={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(a=(s=this.embossDirection)===null||s===void 0?void 0:s.call(this))!==null&&a!==void 0?a:"top-left"])!==null&&l!==void 0?l:315,A=!!((d=(u=this.embossBlend)===null||u===void 0?void 0:u.call(this))!==null&&d!==void 0&&d),O=x*10,z=S*255,L=_*Math.PI/180,I=Math.cos(L),j=Math.sin(L),P=128/1020*O,H=new Uint8ClampedArray(m),Q=new Float32Array(g*b);for(let Z=0,te=0;te<m.length;te+=4,Z++)Q[Z]=.2126*H[te]+.7152*H[te+1]+.0722*H[te+2];const q=[-1,0,1,-2,0,2,-1,0,1],X=[-1,-2,-1,0,0,0,1,2,1],W=[-g-1,-g,-g+1,-1,0,1,g-1,g,g+1],le=Z=>Z<0?0:Z>255?255:Z;for(let Z=1;Z<b-1;Z++)for(let te=1;te<g-1;te++){const V=Z*g+te;let re=0,ee=0;re+=Q[V+W[0]]*q[0],ee+=Q[V+W[0]]*X[0],re+=Q[V+W[1]]*q[1],ee+=Q[V+W[1]]*X[1],re+=Q[V+W[2]]*q[2],ee+=Q[V+W[2]]*X[2],re+=Q[V+W[3]]*q[3],ee+=Q[V+W[3]]*X[3],re+=Q[V+W[5]]*q[5],ee+=Q[V+W[5]]*X[5],re+=Q[V+W[6]]*q[6],ee+=Q[V+W[6]]*X[6],re+=Q[V+W[7]]*q[7],ee+=Q[V+W[7]]*X[7],re+=Q[V+W[8]]*q[8],ee+=Q[V+W[8]]*X[8];const de=I*re+j*ee,G=le(z+de*P),Y=V*4;if(A){const ie=G-z;m[Y]=le(H[Y]+ie),m[Y+1]=le(H[Y+1]+ie),m[Y+2]=le(H[Y+2]+ie),m[Y+3]=H[Y+3]}else m[Y]=m[Y+1]=m[Y+2]=G,m[Y+3]=H[Y+3]}for(let Z=0;Z<g;Z++){let te=Z*4,V=((b-1)*g+Z)*4;m[te]=H[te],m[te+1]=H[te+1],m[te+2]=H[te+2],m[te+3]=H[te+3],m[V]=H[V],m[V+1]=H[V+1],m[V+2]=H[V+2],m[V+3]=H[V+3]}for(let Z=1;Z<b-1;Z++){let te=Z*g*4,V=(Z*g+(g-1))*4;m[te]=H[te],m[te+1]=H[te+1],m[te+2]=H[te+2],m[te+3]=H[te+3],m[V]=H[V],m[V+1]=H[V+1],m[V+2]=H[V+2],m[V+3]=H[V+3]}return t};K.addGetterSetter(ze,"embossStrength",.5,Oe(),K.afterSetFilter);K.addGetterSetter(ze,"embossWhiteLevel",.5,Oe(),K.afterSetFilter);K.addGetterSetter(ze,"embossDirection","top-left",void 0,K.afterSetFilter);K.addGetterSetter(ze,"embossBlend",!1,void 0,K.afterSetFilter);function mw(t,e,n,r,i){const s=n-e,a=i-r;if(s===0)return r+a/2;if(a===0)return r;let l=(t-e)/s;return l=a*l+r,l}const QJ=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,a=e[1],l=a,u,d=e[2],m=d,g;const b=this.enhance();if(b===0)return;for(let z=0;z<n;z+=4)s=e[z+0],s<r?r=s:s>i&&(i=s),u=e[z+1],u<a?a=u:u>l&&(l=u),g=e[z+2],g<d?d=g:g>m&&(m=g);i===r&&(i=255,r=0),l===a&&(l=255,a=0),m===d&&(m=255,d=0);let x,S,k,_,A,O;if(b>0)x=i+b*(255-i),S=r-b*(r-0),k=l+b*(255-l),_=a-b*(a-0),A=m+b*(255-m),O=d-b*(d-0);else{const z=(i+r)*.5;x=i+b*(i-z),S=r+b*(r-z);const L=(l+a)*.5;k=l+b*(l-L),_=a+b*(a-L);const I=(m+d)*.5;A=m+b*(m-I),O=d+b*(d-I)}for(let z=0;z<n;z+=4)e[z+0]=mw(e[z+0],r,i,S,x),e[z+1]=mw(e[z+1],a,l,_,k),e[z+2]=mw(e[z+2],d,m,O,A)};K.addGetterSetter(ze,"enhance",0,Oe(),K.afterSetFilter);const WJ=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};K.addGetterSetter(ze,"hue",0,Oe(),K.afterSetFilter);K.addGetterSetter(ze,"saturation",0,Oe(),K.afterSetFilter);K.addGetterSetter(ze,"luminance",0,Oe(),K.afterSetFilter);const JJ=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,l=r*i*Math.cos(s*Math.PI/180),u=r*i*Math.sin(s*Math.PI/180),d=.299*r+.701*l+.167*u,m=.587*r-.587*l+.33*u,g=.114*r-.114*l-.497*u,b=.299*r-.299*l-.328*u,x=.587*r+.413*l+.035*u,S=.114*r-.114*l+.293*u,k=.299*r-.3*l+1.25*u,_=.587*r-.586*l-1.05*u,A=.114*r+.886*l-.2*u;let O,z,L,I;for(let j=0;j<n;j+=4)O=e[j+0],z=e[j+1],L=e[j+2],I=e[j+3],e[j+0]=d*O+m*z+g*L+a,e[j+1]=b*O+x*z+S*L+a,e[j+2]=k*O+_*z+A*L+a,e[j+3]=I},$J=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),u=.299*r+.701*a+.167*l,d=.587*r-.587*a+.33*l,m=.114*r-.114*a-.497*l,g=.299*r-.299*a-.328*l,b=.587*r+.413*a+.035*l,x=.114*r-.114*a+.293*l,S=.299*r-.3*a+1.25*l,k=.587*r-.586*a-1.05*l,_=.114*r+.886*a-.2*l;for(let A=0;A<n;A+=4){const O=e[A+0],z=e[A+1],L=e[A+2],I=e[A+3];e[A+0]=u*O+d*z+m*L,e[A+1]=g*O+b*z+x*L,e[A+2]=S*O+k*z+_*L,e[A+3]=I}};K.addGetterSetter(ze,"hue",0,Oe(),K.afterSetFilter);K.addGetterSetter(ze,"saturation",0,Oe(),K.afterSetFilter);K.addGetterSetter(ze,"value",0,Oe(),K.afterSetFilter);const ZJ=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},e$=function(t,e,n){const r=t.data,i=e.data,s=t.width,a=t.height,l=n.polarCenterX||s/2,u=n.polarCenterY||a/2;let d=Math.sqrt(l*l+u*u),m=s-l,g=a-u;const b=Math.sqrt(m*m+g*g);d=b>d?b:d;const x=a,S=s,k=360/S*Math.PI/180;for(let _=0;_<S;_+=1){const A=Math.sin(_*k),O=Math.cos(_*k);for(let z=0;z<x;z+=1){m=Math.floor(l+d*z/x*O),g=Math.floor(u+d*z/x*A);let L=(g*s+m)*4;const I=r[L+0],j=r[L+1],P=r[L+2],H=r[L+3];L=(_+z*s)*4,i[L+0]=I,i[L+1]=j,i[L+2]=P,i[L+3]=H}}},t$=function(t,e,n){const r=t.data,i=e.data,s=t.width,a=t.height,l=n.polarCenterX||s/2,u=n.polarCenterY||a/2;let d=Math.sqrt(l*l+u*u),m=s-l,g=a-u;const b=Math.sqrt(m*m+g*g);d=b>d?b:d;const x=a,S=s,k=0;let _,A;for(m=0;m<s;m+=1)for(g=0;g<a;g+=1){const O=m-l,z=g-u,L=Math.sqrt(O*O+z*z)*x/d;let I=(Math.atan2(z,O)*180/Math.PI+360+k)%360;I=I*S/360,_=Math.floor(I),A=Math.floor(L);let j=(A*s+_)*4;const P=r[j+0],H=r[j+1],Q=r[j+2],q=r[j+3];j=(g*s+m)*4,i[j+0]=P,i[j+1]=H,i[j+2]=Q,i[j+3]=q}},n$=function(t){const e=t.width,n=t.height;let r,i,s,a,l,u,d,m,g,b,x=Math.round(this.kaleidoscopePower());const S=Math.round(this.kaleidoscopeAngle()),k=Math.floor(e*(S%360)/360);if(x<1)return;const _=oe.createCanvasElement();_.width=e,_.height=n;const A=_.getContext("2d").getImageData(0,0,e,n);oe.releaseCanvas(_),e$(t,A,{polarCenterX:e/2,polarCenterY:n/2});let O=e/Math.pow(2,x);for(;O<=8;)O=O*2,x-=1;O=Math.ceil(O);let z=O,L=0,I=z,j=1;for(k+O>e&&(L=z,I=0,j=-1),i=0;i<n;i+=1)for(r=L;r!==I;r+=j)s=Math.round(r+k)%e,g=(e*i+s)*4,l=A.data[g+0],u=A.data[g+1],d=A.data[g+2],m=A.data[g+3],b=(e*i+r)*4,A.data[b+0]=l,A.data[b+1]=u,A.data[b+2]=d,A.data[b+3]=m;for(i=0;i<n;i+=1)for(z=Math.floor(O),a=0;a<x;a+=1){for(r=0;r<z+1;r+=1)g=(e*i+r)*4,l=A.data[g+0],u=A.data[g+1],d=A.data[g+2],m=A.data[g+3],b=(e*i+z*2-r-1)*4,A.data[b+0]=l,A.data[b+1]=u,A.data[b+2]=d,A.data[b+3]=m;z*=2}t$(A,t,{})};K.addGetterSetter(ze,"kaleidoscopePower",2,Oe(),K.afterSetFilter);K.addGetterSetter(ze,"kaleidoscopeAngle",0,Oe(),K.afterSetFilter);function Ib(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Ug(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function r$(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function i$(t,e){const n=Ib(t,0,0),r=Ib(t,t.width-1,0),i=Ib(t,0,t.height-1),s=Ib(t,t.width-1,t.height-1),a=e||10;if(Ug(n,r)<a&&Ug(r,s)<a&&Ug(s,i)<a&&Ug(i,n)<a){const l=r$([r,n,s,i]),u=[];for(let d=0;d<t.width*t.height;d++){const m=Ug(l,[t.data[d*4],t.data[d*4+1],t.data[d*4+2]]);u[d]=m<a?0:255}return u}}function s$(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function a$(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){const d=l*e+u;let m=0;for(let g=0;g<i;g++)for(let b=0;b<i;b++){const x=l+g-s,S=u+b-s;if(x>=0&&x<n&&S>=0&&S<e){const k=x*e+S,_=r[g*i+b];m+=t[k]*_}}a[d]=m===2040?255:0}return a}function o$(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){const d=l*e+u;let m=0;for(let g=0;g<i;g++)for(let b=0;b<i;b++){const x=l+g-s,S=u+b-s;if(x>=0&&x<n&&S>=0&&S<e){const k=x*e+S,_=r[g*i+b];m+=t[k]*_}}a[d]=m>=1020?255:0}return a}function l$(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){const d=l*e+u;let m=0;for(let g=0;g<i;g++)for(let b=0;b<i;b++){const x=l+g-s,S=u+b-s;if(x>=0&&x<n&&S>=0&&S<e){const k=x*e+S,_=r[g*i+b];m+=t[k]*_}}a[d]=m}return a}const c$=function(t){const e=this.threshold();let n=i$(t,e);return n&&(n=a$(n,t.width,t.height),n=o$(n,t.width,t.height),n=l$(n,t.width,t.height),s$(t,n)),t};K.addGetterSetter(ze,"threshold",0,Oe(),K.afterSetFilter);const u$=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};K.addGetterSetter(ze,"noise",.2,Oe(),K.afterSetFilter);const f$=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),a=t.data;if(e<=0){oe.error("pixelSize value can not be <= 0");return}for(let l=0;l<i;l+=1)for(let u=0;u<s;u+=1){let d=0,m=0,g=0,b=0;const x=l*e,S=x+e,k=u*e,_=k+e;let A=0;for(let O=x;O<S;O+=1)if(!(O>=n))for(let z=k;z<_;z+=1){if(z>=r)continue;const L=(n*z+O)*4;d+=a[L+0],m+=a[L+1],g+=a[L+2],b+=a[L+3],A+=1}d=d/A,m=m/A,g=g/A,b=b/A;for(let O=x;O<S;O+=1)if(!(O>=n))for(let z=k;z<_;z+=1){if(z>=r)continue;const L=(n*z+O)*4;a[L+0]=d,a[L+1]=m,a[L+2]=g,a[L+3]=b}}};K.addGetterSetter(ze,"pixelSize",8,Oe(),K.afterSetFilter);const d$=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};K.addGetterSetter(ze,"levels",.5,Oe(),K.afterSetFilter);const h$=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let a=0;a<n;a+=4){const l=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=l*r,e[a+1]=l*i,e[a+2]=l*s,e[a+3]=e[a+3]}};K.addGetterSetter(ze,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});K.addGetterSetter(ze,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});K.addGetterSetter(ze,"blue",0,Y9,K.afterSetFilter);const p$=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a=this.alpha();for(let l=0;l<n;l+=4){const u=1-a;e[l]=r*a+e[l]*u,e[l+1]=i*a+e[l+1]*u,e[l+2]=s*a+e[l+2]*u}};K.addGetterSetter(ze,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});K.addGetterSetter(ze,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});K.addGetterSetter(ze,"blue",0,Y9,K.afterSetFilter);K.addGetterSetter(ze,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const m$=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],a=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+a*.189),e[r+1]=Math.min(255,i*.349+s*.686+a*.168),e[r+2]=Math.min(255,i*.272+s*.534+a*.131)}},g$=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const i=n[r],s=n[r+1],a=n[r+2];.2126*i+.7152*s+.0722*a>=128&&(n[r]=255-i,n[r+1]=255-s,n[r+2]=255-a)}return t},y$=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};K.addGetterSetter(ze,"threshold",.5,Oe(),K.afterSetFilter);zp.Util._assign(zp,{Arc:xc,Arrow:Rd,Circle:Kp,Ellipse:Zu,Image:oa,Label:K3,Tag:Od,Line:Sc,Path:bn,Rect:cy,RegularPolygon:ef,Ring:Dd,Sprite:gl,Star:tf,Text:An,TextPath:Vr,Transformer:Bt,Wedge:wc,Filters:{Blur:qJ,Brightness:YJ,Brighten:VJ,Contrast:KJ,Emboss:XJ,Enhance:QJ,Grayscale:WJ,HSL:JJ,HSV:$J,Invert:ZJ,Kaleidoscope:n$,Mask:c$,Noise:u$,Pixelate:f$,Posterize:d$,RGB:h$,RGBA:p$,Sepia:m$,Solarize:g$,Threshold:y$}});var gw={exports:{}},yw={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function b$(){return j_||(j_=1,(function(t){t.exports=function(e){function n(f,h,v,w){return new Am(f,h,v,w)}function r(){}function i(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){var h=f,v=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(v=h.return),f=h.return;while(f)}return h.tag===3?v:null}function a(f){if(s(f)!==f)throw Error(i(188))}function l(f){var h=f.alternate;if(!h){if(h=s(f),h===null)throw Error(i(188));return h!==f?null:f}for(var v=f,w=h;;){var M=v.return;if(M===null)break;var R=M.alternate;if(R===null){if(w=M.return,w!==null){v=w;continue}break}if(M.child===R.child){for(R=M.child;R;){if(R===v)return a(M),f;if(R===w)return a(M),h;R=R.sibling}throw Error(i(188))}if(v.return!==w.return)v=M,w=R;else{for(var B=!1,$=M.child;$;){if($===v){B=!0,v=M,w=R;break}if($===w){B=!0,w=M,v=R;break}$=$.sibling}if(!B){for($=R.child;$;){if($===v){B=!0,v=R,w=M;break}if($===w){B=!0,w=R,v=M;break}$=$.sibling}if(!B)throw Error(i(189))}}if(v.alternate!==w)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?f:h}function u(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=u(f),h!==null)return h;f=f.sibling}return null}function d(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(h=d(f),h!==null))return h;f=f.sibling}return null}function m(f){return f===null||typeof f!="object"?null:(f=ro&&f[ro]||f["@@iterator"],typeof f=="function"?f:null)}function g(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Vo?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case zl:return"Fragment";case Ll:return"Profiler";case jl:return"StrictMode";case xh:return"Suspense";case no:return"SuspenseList";case Af:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case Dl:return"Portal";case Ms:return f.displayName||"Context";case Mf:return(f._context.displayName||"Context")+".Consumer";case Qc:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Sh:return h=f.displayName||null,h!==null?h:g(f.type)||"Memo";case hi:h=f._payload,f=f._init;try{return g(f(h))}catch{}}return null}function b(f){return{current:f}}function x(f){0>Ul||(f.current=zh[Ul],zh[Ul]=null,Ul--)}function S(f,h){Ul++,zh[Ul]=f.current,f.current=h}function k(f){return f>>>=0,f===0?32:31-(jh(f)/B1|0)|0}function _(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function A(f,h,v){var w=f.pendingLanes;if(w===0)return 0;var M=0,R=f.suspendedLanes,B=f.pingedLanes;f=f.warmLanes;var $=w&134217727;return $!==0?(w=$&~R,w!==0?M=_(w):(B&=$,B!==0?M=_(B):v||(v=$&~f,v!==0&&(M=_(v))))):($=w&~R,$!==0?M=_($):B!==0?M=_(B):v||(v=w&~f,v!==0&&(M=_(v)))),M===0?0:h!==0&&h!==M&&(h&R)===0&&(R=M&-M,v=h&-h,R>=v||R===32&&(v&4194048)!==0)?h:M}function O(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function z(f,h){switch(f){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var f=nu;return nu<<=1,(nu&62914560)===0&&(nu=4194304),f}function I(f){for(var h=[],v=0;31>v;v++)h.push(f);return h}function j(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function P(f,h,v,w,M,R){var B=f.pendingLanes;f.pendingLanes=v,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=v,f.entangledLanes&=v,f.errorRecoveryDisabledLanes&=v,f.shellSuspendCounter=0;var $=f.entanglements,me=f.expirationTimes,Ce=f.hiddenUpdates;for(v=B&~v;0<v;){var Re=31-Oi(v),Ee=1<<Re;$[Re]=0,me[Re]=-1;var Pe=Ce[Re];if(Pe!==null)for(Ce[Re]=null,Re=0;Re<Pe.length;Re++){var ct=Pe[Re];ct!==null&&(ct.lane&=-536870913)}v&=~Ee}w!==0&&H(f,w,0),R!==0&&M===0&&f.tag!==0&&(f.suspendedLanes|=R&~(B&~h))}function H(f,h,v){f.pendingLanes|=h,f.suspendedLanes&=~h;var w=31-Oi(h);f.entangledLanes|=h,f.entanglements[w]=f.entanglements[w]|1073741824|v&261930}function Q(f,h){var v=f.entangledLanes|=h;for(f=f.entanglements;v;){var w=31-Oi(v),M=1<<w;M&h|f[w]&h&&(f[w]|=h),v&=~M}}function q(f,h){var v=h&-h;return v=(v&42)!==0?1:X(v),(v&(f.suspendedLanes|h))!==0?0:v}function X(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function W(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function le(f){if(typeof pg=="function"&&U1(f),Di&&typeof Di.setStrictMode=="function")try{Di.setStrictMode(Gl,f)}catch{}}function Z(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}function te(f){if(Uh===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);Uh=h&&h[1]||"",Ea=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uh+f+Ea}function V(f,h){if(!f||Bf)return"";Bf=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ct){var Pe=ct}Reflect.construct(f,[],Ee)}else{try{Ee.call()}catch(ct){Pe=ct}f.call(Ee.prototype)}}else{try{throw Error()}catch(ct){Pe=ct}(Ee=f())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ct){if(ct&&Pe&&typeof ct.stack=="string")return[ct.stack,Pe.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=w.DetermineComponentFrameRoot(),B=R[0],$=R[1];if(B&&$){var me=B.split(`
`),Ce=$.split(`
`);for(M=w=0;w<me.length&&!me[w].includes("DetermineComponentFrameRoot");)w++;for(;M<Ce.length&&!Ce[M].includes("DetermineComponentFrameRoot");)M++;if(w===me.length||M===Ce.length)for(w=me.length-1,M=Ce.length-1;1<=w&&0<=M&&me[w]!==Ce[M];)M--;for(;1<=w&&0<=M;w--,M--)if(me[w]!==Ce[M]){if(w!==1||M!==1)do if(w--,M--,0>M||me[w]!==Ce[M]){var Re=`
`+me[w].replace(" at new "," at ");return f.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",f.displayName)),Re}while(1<=w&&0<=M);break}}}finally{Bf=!1,Error.prepareStackTrace=v}return(v=f?f.displayName||f.name:"")?te(v):""}function re(f,h){switch(f.tag){case 26:case 27:case 5:return te(f.type);case 16:return te("Lazy");case 13:return f.child!==h&&h!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return V(f.type,!1);case 11:return V(f.type.render,!1);case 1:return V(f.type,!0);case 31:return te("Activity");default:return""}}function ee(f){try{var h="",v=null;do h+=re(f,v),v=f,f=f.return;while(f);return h}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function de(f,h){if(typeof f=="object"&&f!==null){var v=mg.get(f);return v!==void 0?v:(h={value:f,source:h,stack:ee(h)},mg.set(f,h),h)}return{value:f,source:h,stack:ee(h)}}function G(f,h){ao[ka++]=If,ao[ka++]=Wt,Wt=f,If=h}function Y(f,h,v){Rs[ns++]=jr,Rs[ns++]=Ks,Rs[ns++]=Os,Os=f;var w=jr;f=Ks;var M=32-Oi(w)-1;w&=~(1<<M),v+=1;var R=32-Oi(h)+M;if(30<R){var B=M-M%5;R=(w&(1<<B)-1).toString(32),w>>=B,M-=B,jr=1<<32-Oi(h)+M|v<<M|w,Ks=R+f}else jr=1<<R|v<<M|w,Ks=f}function ie(f){f.return!==null&&(G(f,1),Y(f,1,0))}function F(f){for(;f===Wt;)Wt=ao[--ka],ao[ka]=null,If=ao[--ka],ao[ka]=null;for(;f===Os;)Os=Rs[--ns],Rs[ns]=null,Ks=Rs[--ns],Rs[ns]=null,jr=Rs[--ns],Rs[ns]=null}function we(f,h){Rs[ns++]=jr,Rs[ns++]=Ks,Rs[ns++]=Os,jr=h.id,Ks=h.overflow,Os=f}function Be(f,h){S(Lr,h),S(oo,f),S(Cr,null),f=e1(h),x(Cr),S(Cr,f)}function De(){x(Cr),x(oo),x(Lr)}function je(f){f.memoizedState!==null&&S(Hf,f);var h=Cr.current,v=$c(h,f.type);h!==v&&(S(oo,f),S(Cr,v))}function ot(f){oo.current===f&&(x(Cr),x(oo)),Hf.current===f&&(x(Hf),Yn?Il._currentValue=Bl:Il._currentValue2=Bl)}function Ke(f){var h=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dr(de(h,f)),Fh}function nt(f,h){if(!hn)throw Error(i(175));T1(f.stateNode,f.type,f.memoizedProps,h,f)||Ke(f,!0)}function Nn(f){for(mr=f.return;mr;)switch(mr.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:mr=mr.return}}function Xt(f){if(!hn||f!==mr)return!1;if(!Tt)return Nn(f),Tt=!0,!1;var h=f.tag;if(pr?h!==3&&h!==27&&(h!==5||tu(f.type)&&!pi(f.type,f.memoizedProps))&&pn&&Ke(f):h!==3&&(h!==5||tu(f.type)&&!pi(f.type,f.memoizedProps))&&pn&&Ke(f),Nn(f),h===13){if(!hn)throw Error(i(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));pn=rg(f)}else if(h===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));pn=M1(f)}else pn=pr&&h===27?b1(f.type,pn):mr?y1(f.stateNode):null;return!0}function Rn(){hn&&(pn=mr=null,Tt=!1)}function Gn(){var f=Ta;return f!==null&&(ji===null?ji=f:ji.push.apply(ji,f),Ta=null),f}function Dr(f){Ta===null?Ta=[f]:Ta.push(f)}function tr(f,h,v){Yn?(S(Ds,h._currentValue),h._currentValue=v):(S(Ds,h._currentValue2),h._currentValue2=v)}function si(f){var h=Ds.current;Yn?f._currentValue=h:f._currentValue2=h,x(Ds)}function Va(f,h,v){for(;f!==null;){var w=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),f===v)break;f=f.return}}function ys(f,h,v,w){var M=f.child;for(M!==null&&(M.return=f);M!==null;){var R=M.dependencies;if(R!==null){var B=M.child;R=R.firstContext;e:for(;R!==null;){var $=R;R=M;for(var me=0;me<h.length;me++)if($.context===h[me]){R.lanes|=v,$=R.alternate,$!==null&&($.lanes|=v),Va(R.return,v,f),w||(B=null);break e}R=$.next}}else if(M.tag===18){if(B=M.return,B===null)throw Error(i(341));B.lanes|=v,R=B.alternate,R!==null&&(R.lanes|=v),Va(B,v,f),B=null}else B=M.child;if(B!==null)B.return=M;else for(B=M;B!==null;){if(B===f){B=null;break}if(M=B.sibling,M!==null){M.return=B.return,B=M;break}B=B.return}M=B}}function nr(f,h,v,w){f=null;for(var M=h,R=!1;M!==null;){if(!R){if((M.flags&524288)!==0)R=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var B=M.alternate;if(B===null)throw Error(i(387));if(B=B.memoizedProps,B!==null){var $=M.type;Xn(M.pendingProps.value,B.value)||(f!==null?f.push($):f=[$])}}else if(M===Hf.current){if(B=M.alternate,B===null)throw Error(i(387));B.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(f!==null?f.push(Il):f=[Il])}M=M.return}f!==null&&ys(h,f,v,w),h.flags|=262144}function Gi(f){for(f=f.firstContext;f!==null;){var h=f.context;if(!Xn(Yn?h._currentValue:h._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Ei(f){tn=f,Xs=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function On(f){return Ec(tn,f)}function qn(f,h){return tn===null&&Ei(f),Ec(f,h)}function Ec(f,h){var v=Yn?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:v,next:null},Xs===null){if(f===null)throw Error(i(308));Xs=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else Xs=Xs.next=h;return v}function ye(){return{controller:new F1,data:new Map,refCount:0}}function _e(f){f.refCount--,f.refCount===0&&Er(B2,function(){f.controller.abort()})}function qe(){}function Je(f){f!==qt&&f.next===null&&(qt===null?Uf=qt=f:qt=qt.next=f),zs=!0,$r||($r=!0,Ut())}function xt(f,h){if(!Gh&&zs){Gh=!0;do for(var v=!1,w=Uf;w!==null;){if(f!==0){var M=w.pendingLanes;if(M===0)var R=0;else{var B=w.suspendedLanes,$=w.pingedLanes;R=(1<<31-Oi(42|f)+1)-1,R&=M&~(B&~$),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(v=!0,dr(w,R))}else R=_t,R=A(w,w===yt?R:0,w.cancelPendingCommit!==null||w.timeoutHandle!==Ri),(R&3)===0||O(w,R)||(v=!0,dr(w,R));w=w.next}while(v);Gh=!1}}function vn(){qi()}function qi(){zs=$r=!1;var f=0;Wo!==0&&Pl()&&(f=Wo);for(var h=Jr(),v=null,w=Uf;w!==null;){var M=w.next,R=vr(w,h);R===0?(w.next=null,v===null?Uf=M:v.next=M,M===null&&(qt=v)):(v=w,(f!==0||(R&3)!==0)&&(zs=!0)),w=M}lr!==0&&lr!==5||xt(f),Wo!==0&&(Wo=0)}function vr(f,h){for(var v=f.suspendedLanes,w=f.pingedLanes,M=f.expirationTimes,R=f.pendingLanes&-62914561;0<R;){var B=31-Oi(R),$=1<<B,me=M[B];me===-1?(($&v)===0||($&w)!==0)&&(M[B]=z($,h)):me<=h&&(f.expiredLanes|=$),R&=~$}if(h=yt,v=_t,v=A(f,f===h?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==Ri),w=f.callbackNode,v===0||f===h&&(Yt===2||Yt===9)||f.cancelPendingCommit!==null)return w!==null&&w!==null&&Ph(w),f.callbackNode=null,f.callbackPriority=0;if((v&3)===0||O(f,v)){if(h=v&-v,h===f.callbackPriority)return h;switch(w!==null&&Ph(w),W(v)){case 2:case 8:v=H1;break;case 32:v=Pf;break;case 268435456:v=Ih;break;default:v=Pf}return w=Dn.bind(null,f),v=Lf(v,w),f.callbackPriority=h,f.callbackNode=v,h}return w!==null&&w!==null&&Ph(w),f.callbackPriority=2,f.callbackNode=null,2}function Dn(f,h){if(lr!==0&&lr!==5)return f.callbackNode=null,f.callbackPriority=0,null;var v=f.callbackNode;if(Sa()&&f.callbackNode!==v)return null;var w=_t;return w=A(f,f===yt?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==Ri),w===0?null:(Ys(f,w,h),vr(f,Jr()),f.callbackNode!=null&&f.callbackNode===v?Dn.bind(null,f):null)}function dr(f,h){if(Sa())return null;Ys(f,h,!0)}function Ut(){Um?Fm(function(){(St&6)!==0?Lf(Bh,vn):qi()}):Lf(Bh,vn)}function bs(){if(Wo===0){var f=lo;f===0&&(f=Lh,Lh<<=1,(Lh&261888)===0&&(Lh=256)),Wo=f}return Wo}function ki(f,h){if(ru===null){var v=ru=[];gg=0,lo=bs(),gr={status:"pending",value:void 0,then:function(w){v.push(w)}}}return gg++,h.then(Pd,Pd),h}function Pd(){if(--gg===0&&ru!==null){gr!==null&&(gr.status="fulfilled");var f=ru;ru=null,lo=0,gr=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function kc(f,h){var v=[],w={status:"pending",value:null,reason:null,then:function(M){v.push(M)}};return f.then(function(){w.status="fulfilled",w.value=h;for(var M=0;M<v.length;M++)(0,v[M])(h)},function(M){for(w.status="rejected",w.reason=M,M=0;M<v.length;M++)(0,v[M])(void 0)}),w}function Mo(){var f=Jo.current;return f!==null?f:yt.pooledCache}function un(f,h){h===null?S(Jo,Jo.current):S(Jo,h.pool)}function zn(){var f=Mo();return f===null?null:{parent:Yn?mn._currentValue:mn._currentValue2,pool:f}}function Vn(f,h){if(Xn(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var v=Object.keys(f),w=Object.keys(h);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var M=v[w];if(!P2.call(h,M)||!Xn(f[M],h[M]))return!1}return!0}function ai(f){return f=f.status,f==="fulfilled"||f==="rejected"}function oi(f,h,v){switch(v=f[v],v===void 0?f.push(h):v!==h&&(h.then(qe,qe),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Vi(f),f;default:if(typeof h.status=="string")h.then(qe,qe);else{if(f=yt,f!==null&&100<f.shellSuspendCounter)throw Error(i(482));f=h,f.status="pending",f.then(function(w){if(h.status==="pending"){var M=h;M.status="fulfilled",M.value=w}},function(w){if(h.status==="pending"){var M=h;M.status="rejected",M.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Vi(f),f}throw gi=h,yr}}function jn(f){try{var h=f._init;return h(f._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(gi=v,yr):v}}function li(){if(gi===null)throw Error(i(459));var f=gi;return gi=null,f}function Vi(f){if(f===yr||f===Ls)throw Error(i(483))}function Ln(f){var h=ql;return ql+=1,$o===null&&($o=[]),oi($o,f,h)}function ci(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function Yr(f,h){throw h.$$typeof===Ol?Error(i(525)):(f=Object.prototype.toString.call(h),Error(i(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function Yi(f){function h(fe,ae){if(f){var pe=fe.deletions;pe===null?(fe.deletions=[ae],fe.flags|=16):pe.push(ae)}}function v(fe,ae){if(!f)return null;for(;ae!==null;)h(fe,ae),ae=ae.sibling;return null}function w(fe){for(var ae=new Map;fe!==null;)fe.key!==null?ae.set(fe.key,fe):ae.set(fe.index,fe),fe=fe.sibling;return ae}function M(fe,ae){return fe=es(fe,ae),fe.index=0,fe.sibling=null,fe}function R(fe,ae,pe){return fe.index=pe,f?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<ae?(fe.flags|=67108866,ae):pe):(fe.flags|=67108866,ae)):(fe.flags|=1048576,ae)}function B(fe){return f&&fe.alternate===null&&(fe.flags|=67108866),fe}function $(fe,ae,pe,Ae){return ae===null||ae.tag!==6?(ae=Nm(pe,fe.mode,Ae),ae.return=fe,ae):(ae=M(ae,pe),ae.return=fe,ae)}function me(fe,ae,pe,Ae){var $e=pe.type;return $e===zl?Re(fe,ae,pe.props.children,Ae,pe.key):ae!==null&&(ae.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===hi&&jn($e)===ae.type)?(ae=M(ae,pe.props),ci(ae,pe),ae.return=fe,ae):(ae=to(pe.type,pe.key,pe.props,null,fe.mode,Ae),ci(ae,pe),ae.return=fe,ae)}function Ce(fe,ae,pe,Ae){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=Om(pe,fe.mode,Ae),ae.return=fe,ae):(ae=M(ae,pe.children||[]),ae.return=fe,ae)}function Re(fe,ae,pe,Ae,$e){return ae===null||ae.tag!==7?(ae=_s(pe,fe.mode,Ae,$e),ae.return=fe,ae):(ae=M(ae,pe),ae.return=fe,ae)}function Ee(fe,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Nm(""+ae,fe.mode,pe),ae.return=fe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case wa:return pe=to(ae.type,ae.key,ae.props,null,fe.mode,pe),ci(pe,ae),pe.return=fe,pe;case Dl:return ae=Om(ae,fe.mode,pe),ae.return=fe,ae;case hi:return ae=jn(ae),Ee(fe,ae,pe)}if(Yo(ae)||m(ae))return ae=_s(ae,fe.mode,pe,null),ae.return=fe,ae;if(typeof ae.then=="function")return Ee(fe,Ln(ae),pe);if(ae.$$typeof===Ms)return Ee(fe,qn(fe,ae),pe);Yr(fe,ae)}return null}function Pe(fe,ae,pe,Ae){var $e=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return $e!==null?null:$(fe,ae,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case wa:return pe.key===$e?me(fe,ae,pe,Ae):null;case Dl:return pe.key===$e?Ce(fe,ae,pe,Ae):null;case hi:return pe=jn(pe),Pe(fe,ae,pe,Ae)}if(Yo(pe)||m(pe))return $e!==null?null:Re(fe,ae,pe,Ae,null);if(typeof pe.then=="function")return Pe(fe,ae,Ln(pe),Ae);if(pe.$$typeof===Ms)return Pe(fe,ae,qn(fe,pe),Ae);Yr(fe,pe)}return null}function ct(fe,ae,pe,Ae,$e){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return fe=fe.get(pe)||null,$(ae,fe,""+Ae,$e);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case wa:return fe=fe.get(Ae.key===null?pe:Ae.key)||null,me(ae,fe,Ae,$e);case Dl:return fe=fe.get(Ae.key===null?pe:Ae.key)||null,Ce(ae,fe,Ae,$e);case hi:return Ae=jn(Ae),ct(fe,ae,pe,Ae,$e)}if(Yo(Ae)||m(Ae))return fe=fe.get(pe)||null,Re(ae,fe,Ae,$e,null);if(typeof Ae.then=="function")return ct(fe,ae,pe,Ln(Ae),$e);if(Ae.$$typeof===Ms)return ct(fe,ae,pe,qn(ae,Ae),$e);Yr(ae,Ae)}return null}function kr(fe,ae,pe,Ae){for(var $e=null,_n=null,et=ae,zt=ae=0,Tr=null;et!==null&&zt<pe.length;zt++){et.index>zt?(Tr=et,et=null):Tr=et.sibling;var It=Pe(fe,et,pe[zt],Ae);if(It===null){et===null&&(et=Tr);break}f&&et&&It.alternate===null&&h(fe,et),ae=R(It,ae,zt),_n===null?$e=It:_n.sibling=It,_n=It,et=Tr}if(zt===pe.length)return v(fe,et),Tt&&G(fe,zt),$e;if(et===null){for(;zt<pe.length;zt++)et=Ee(fe,pe[zt],Ae),et!==null&&(ae=R(et,ae,zt),_n===null?$e=et:_n.sibling=et,_n=et);return Tt&&G(fe,zt),$e}for(et=w(et);zt<pe.length;zt++)Tr=ct(et,fe,zt,pe[zt],Ae),Tr!==null&&(f&&Tr.alternate!==null&&et.delete(Tr.key===null?zt:Tr.key),ae=R(Tr,ae,zt),_n===null?$e=Tr:_n.sibling=Tr,_n=Tr);return f&&et.forEach(function(Is){return h(fe,Is)}),Tt&&G(fe,zt),$e}function fu(fe,ae,pe,Ae){if(pe==null)throw Error(i(151));for(var $e=null,_n=null,et=ae,zt=ae=0,Tr=null,It=pe.next();et!==null&&!It.done;zt++,It=pe.next()){et.index>zt?(Tr=et,et=null):Tr=et.sibling;var Is=Pe(fe,et,It.value,Ae);if(Is===null){et===null&&(et=Tr);break}f&&et&&Is.alternate===null&&h(fe,et),ae=R(Is,ae,zt),_n===null?$e=Is:_n.sibling=Is,_n=Is,et=Tr}if(It.done)return v(fe,et),Tt&&G(fe,zt),$e;if(et===null){for(;!It.done;zt++,It=pe.next())It=Ee(fe,It.value,Ae),It!==null&&(ae=R(It,ae,zt),_n===null?$e=It:_n.sibling=It,_n=It);return Tt&&G(fe,zt),$e}for(et=w(et);!It.done;zt++,It=pe.next())It=ct(et,fe,zt,It.value,Ae),It!==null&&(f&&It.alternate!==null&&et.delete(It.key===null?zt:It.key),ae=R(It,ae,zt),_n===null?$e=It:_n.sibling=It,_n=It);return f&&et.forEach(function(I2){return h(fe,I2)}),Tt&&G(fe,zt),$e}function al(fe,ae,pe,Ae){if(typeof pe=="object"&&pe!==null&&pe.type===zl&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case wa:e:{for(var $e=pe.key;ae!==null;){if(ae.key===$e){if($e=pe.type,$e===zl){if(ae.tag===7){v(fe,ae.sibling),Ae=M(ae,pe.props.children),Ae.return=fe,fe=Ae;break e}}else if(ae.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===hi&&jn($e)===ae.type){v(fe,ae.sibling),Ae=M(ae,pe.props),ci(Ae,pe),Ae.return=fe,fe=Ae;break e}v(fe,ae);break}else h(fe,ae);ae=ae.sibling}pe.type===zl?(Ae=_s(pe.props.children,fe.mode,Ae,pe.key),Ae.return=fe,fe=Ae):(Ae=to(pe.type,pe.key,pe.props,null,fe.mode,Ae),ci(Ae,pe),Ae.return=fe,fe=Ae)}return B(fe);case Dl:e:{for($e=pe.key;ae!==null;){if(ae.key===$e)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){v(fe,ae.sibling),Ae=M(ae,pe.children||[]),Ae.return=fe,fe=Ae;break e}else{v(fe,ae);break}else h(fe,ae);ae=ae.sibling}Ae=Om(pe,fe.mode,Ae),Ae.return=fe,fe=Ae}return B(fe);case hi:return pe=jn(pe),al(fe,ae,pe,Ae)}if(Yo(pe))return kr(fe,ae,pe,Ae);if(m(pe)){if($e=m(pe),typeof $e!="function")throw Error(i(150));return pe=$e.call(pe),fu(fe,ae,pe,Ae)}if(typeof pe.then=="function")return al(fe,ae,Ln(pe),Ae);if(pe.$$typeof===Ms)return al(fe,ae,qn(fe,pe),Ae);Yr(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(v(fe,ae.sibling),Ae=M(ae,pe),Ae.return=fe,fe=Ae):(v(fe,ae),Ae=Nm(pe,fe.mode,Ae),Ae.return=fe,fe=Ae),B(fe)):v(fe,ae)}return function(fe,ae,pe,Ae){try{ql=0;var $e=al(fe,ae,pe,Ae);return $o=null,$e}catch(et){if(et===yr||et===Ls)throw et;var _n=n(29,et,null,fe.mode);return _n.lanes=Ae,_n.return=fe,_n}finally{}}}function vs(){for(var f=Ma,h=Vl=Ma=0;h<f;){var v=Br[h];Br[h++]=null;var w=Br[h];Br[h++]=null;var M=Br[h];Br[h++]=null;var R=Br[h];if(Br[h++]=null,w!==null&&M!==null){var B=w.pending;B===null?M.next=M:(M.next=B.next,B.next=M),w.pending=M}R!==0&&Xi(v,M,R)}}function xs(f,h,v,w){Br[Ma++]=f,Br[Ma++]=h,Br[Ma++]=v,Br[Ma++]=w,Vl|=w,f.lanes|=w,f=f.alternate,f!==null&&(f.lanes|=w)}function Ki(f,h,v,w){return xs(f,h,v,w),rr(f)}function Ti(f,h){return xs(f,null,null,h),rr(f)}function Xi(f,h,v){f.lanes|=v;var w=f.alternate;w!==null&&(w.lanes|=v);for(var M=!1,R=f.return;R!==null;)R.childLanes|=v,w=R.alternate,w!==null&&(w.childLanes|=v),R.tag===22&&(f=R.stateNode,f===null||f._visibility&1||(M=!0)),f=R,R=R.return;return f.tag===3?(R=f.stateNode,M&&h!==null&&(M=31-Oi(v),f=R.hiddenUpdates,w=f[M],w===null?f[M]=[h]:w.push(h),h.lane=v|536870912),R):null}function rr(f){if(50<Lt)throw Lt=0,Kf=null,Error(i(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}function Kr(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ao(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function la(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function No(f,h,v){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,(St&2)!==0){var M=w.pending;return M===null?h.next=h:(h.next=M.next,M.next=h),w.pending=h,h=rr(f),Xi(f,null,v),h}return xs(f,w,h,v),rr(f)}function sf(f,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194048)!==0)){var w=h.lanes;w&=f.pendingLanes,v|=w,h.lanes=v,Q(f,v)}}function Bd(f,h){var v=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var M=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var B={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};R===null?M=R=B:R=R.next=B,v=v.next}while(v!==null);R===null?M=R=h:R=R.next=h}else M=R=h;v={baseState:w.baseState,firstBaseUpdate:M,lastBaseUpdate:R,shared:w.shared,callbacks:w.callbacks},f.updateQueue=v;return}f=v.lastBaseUpdate,f===null?v.firstBaseUpdate=h:f.next=h,v.lastBaseUpdate=h}function Ya(){if(Vh){var f=gr;if(f!==null)throw f}}function vl(f,h,v,w){Vh=!1;var M=f.updateQueue;rs=!1;var R=M.firstBaseUpdate,B=M.lastBaseUpdate,$=M.shared.pending;if($!==null){M.shared.pending=null;var me=$,Ce=me.next;me.next=null,B===null?R=Ce:B.next=Ce,B=me;var Re=f.alternate;Re!==null&&(Re=Re.updateQueue,$=Re.lastBaseUpdate,$!==B&&($===null?Re.firstBaseUpdate=Ce:$.next=Ce,Re.lastBaseUpdate=me))}if(R!==null){var Ee=M.baseState;B=0,Re=Ce=me=null,$=R;do{var Pe=$.lane&-536870913,ct=Pe!==$.lane;if(ct?(_t&Pe)===Pe:(w&Pe)===Pe){Pe!==0&&Pe===lo&&(Vh=!0),Re!==null&&(Re=Re.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var kr=f,fu=$;Pe=h;var al=v;switch(fu.tag){case 1:if(kr=fu.payload,typeof kr=="function"){Ee=kr.call(al,Ee,Pe);break e}Ee=kr;break e;case 3:kr.flags=kr.flags&-65537|128;case 0:if(kr=fu.payload,Pe=typeof kr=="function"?kr.call(al,Ee,Pe):kr,Pe==null)break e;Ee=vh({},Ee,Pe);break e;case 2:rs=!0}}Pe=$.callback,Pe!==null&&(f.flags|=64,ct&&(f.flags|=8192),ct=M.callbacks,ct===null?M.callbacks=[Pe]:ct.push(Pe))}else ct={lane:Pe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Re===null?(Ce=Re=ct,me=Ee):Re=Re.next=ct,B|=Pe;if($=$.next,$===null){if($=M.shared.pending,$===null)break;ct=$,$=ct.next,ct.next=null,M.lastBaseUpdate=ct,M.shared.pending=null}}while(!0);Re===null&&(me=Ee),M.baseState=me,M.firstBaseUpdate=Ce,M.lastBaseUpdate=Re,R===null&&(M.shared.lanes=0),uo|=B,f.lanes=B,f.memoizedState=Ee}}function xl(f,h){if(typeof f!="function")throw Error(i(191,f));f.call(h)}function Sl(f,h){var v=f.callbacks;if(v!==null)for(f.callbacks=null,f=0;f<v.length;f++)xl(v[f],h)}function Tc(f,h){f=Na,S(Zo,f),S(Yl,h),Na=f|h.baseLanes}function Ro(){S(Zo,Na),S(Yl,Yl.current)}function ir(){Na=Zo.current,x(Yl),x(Zo)}function Ka(f){var h=f.alternate;S(Bn,Bn.current&1),S(zi,f),yi===null&&(h===null||Yl.current!==null||h.memoizedState!==null)&&(yi=f)}function Id(f){S(Bn,Bn.current),S(zi,f),yi===null&&(yi=f)}function Oo(f){f.tag===22?(S(Bn,Bn.current),S(zi,f),yi===null&&(yi=f)):Qi()}function Qi(){S(Bn,Bn.current),S(zi,zi.current)}function Wi(f){x(zi),yi===f&&(yi=null),x(Bn)}function af(f){for(var h=f;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Xo(v)||_h(v)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function xn(){throw Error(i(321))}function tm(f,h){if(h===null)return!1;for(var v=0;v<h.length&&v<f.length;v++)if(!Xn(f[v],h[v]))return!1;return!0}function _c(f,h,v,w,M,R){return co=R,ft=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Xe.H=f===null||f.memoizedState===null?En:Aa,Rt=!1,R=v(w,M),Rt=!1,ht&&(R=ca(h,v,w,M)),of(f),R}function of(f){Xe.H=is;var h=Ve!==null&&Ve.next!==null;if(co=0,at=Ve=ft=null,gt=!1,Ps=0,Qs=null,h)throw Error(i(300));f===null||sn||(f=f.dependencies,f!==null&&Gi(f)&&(sn=!0))}function ca(f,h,v,w){ft=f;var M=0;do{if(ht&&(Qs=null),Ps=0,ht=!1,25<=M)throw Error(i(301));if(M+=1,at=Ve=null,f.updateQueue!=null){var R=f.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}Xe.H=el,R=h(v,w)}while(ht);return R}function Ss(){var f=Xe.H,h=f.useState()[0];return h=typeof h.then=="function"?Qr(h):h,f=f.useState()[0],(Ve!==null?Ve.memoizedState:null)!==f&&(ft.flags|=1024),h}function Hd(){var f=Zr!==0;return Zr=0,f}function nm(f,h,v){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~v}function lf(f){if(gt){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}gt=!1}co=0,at=Ve=ft=null,ht=!1,Ps=Zr=0,Qs=null}function Xr(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ft.memoizedState=at=f:at=at.next=f,at}function fn(){if(Ve===null){var f=ft.alternate;f=f!==null?f.memoizedState:null}else f=Ve.next;var h=at===null?ft.memoizedState:at.next;if(h!==null)at=h,Ve=f;else{if(f===null)throw ft.alternate===null?Error(i(467)):Error(i(310));Ve=f,f={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},at===null?ft.memoizedState=at=f:at=at.next=f}return at}function Ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qr(f){var h=Ps;return Ps+=1,Qs===null&&(Qs=[]),f=oi(Qs,f,h),h=ft,(at===null?h.memoizedState:at.next)===null&&(h=h.alternate,Xe.H=h===null||h.memoizedState===null?En:Aa),f}function Mc(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Qr(f);if(f.$$typeof===Ms)return On(f)}throw Error(i(438,String(f)))}function Fd(f){var h=null,v=ft.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var w=ft.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(M){return M.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=Ud(),ft.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(f),w=0;w<f;w++)v[w]=zm;return h.index++,v}function Vs(f,h){return typeof h=="function"?h(f):h}function Xa(f){var h=fn();return Gd(h,Ve,f)}function Gd(f,h,v){var w=f.queue;if(w===null)throw Error(i(311));w.lastRenderedReducer=v;var M=f.baseQueue,R=w.pending;if(R!==null){if(M!==null){var B=M.next;M.next=R.next,R.next=B}h.baseQueue=M=R,w.pending=null}if(R=f.baseState,M===null)f.memoizedState=R;else{h=M.next;var $=B=null,me=null,Ce=h,Re=!1;do{var Ee=Ce.lane&-536870913;if(Ee!==Ce.lane?(_t&Ee)===Ee:(co&Ee)===Ee){var Pe=Ce.revertLane;if(Pe===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Ee===lo&&(Re=!0);else if((co&Pe)===Pe){Ce=Ce.next,Pe===lo&&(Re=!0);continue}else Ee={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},me===null?($=me=Ee,B=R):me=me.next=Ee,ft.lanes|=Pe,uo|=Pe;Ee=Ce.action,Rt&&v(R,Ee),R=Ce.hasEagerState?Ce.eagerState:v(R,Ee)}else Pe={lane:Ee,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},me===null?($=me=Pe,B=R):me=me.next=Pe,ft.lanes|=Ee,uo|=Ee;Ce=Ce.next}while(Ce!==null&&Ce!==h);if(me===null?B=R:me.next=$,!Xn(R,f.memoizedState)&&(sn=!0,Re&&(v=gr,v!==null)))throw v;f.memoizedState=R,f.baseState=B,f.baseQueue=me,w.lastRenderedState=R}return M===null&&(w.lanes=0),[f.memoizedState,w.dispatch]}function qd(f){var h=fn(),v=h.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=f;var w=v.dispatch,M=v.pending,R=h.memoizedState;if(M!==null){v.pending=null;var B=M=M.next;do R=f(R,B.action),B=B.next;while(B!==M);Xn(R,h.memoizedState)||(sn=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),v.lastRenderedState=R}return[R,w]}function wl(f,h,v){var w=ft,M=fn(),R=Tt;if(R){if(v===void 0)throw Error(i(407));v=v()}else v=h();var B=!Xn((Ve||M).memoizedState,v);if(B&&(M.memoizedState=v,sn=!0),M=M.queue,Rc(im.bind(null,w,M,f),[f]),M.getSnapshot!==h||B||at!==null&&at.memoizedState.tag&1){if(w.flags|=2048,Ji(9,{destroy:void 0},rm.bind(null,w,M,v,h),null),yt===null)throw Error(i(349));R||(co&127)!==0||Sy(w,h,v)}return v}function Sy(f,h,v){f.flags|=16384,f={getSnapshot:h,value:v},h=ft.updateQueue,h===null?(h=Ud(),ft.updateQueue=h,h.stores=[f]):(v=h.stores,v===null?h.stores=[f]:v.push(f))}function rm(f,h,v,w){h.value=v,h.getSnapshot=w,Vd(h)&&wy(f)}function im(f,h,v){return v(function(){Vd(h)&&wy(f)})}function Vd(f){var h=f.getSnapshot;f=f.value;try{var v=h();return!Xn(f,v)}catch{return!0}}function wy(f){var h=Ti(f,2);h!==null&&wn(h,f,2)}function sm(f){var h=Xr();if(typeof f=="function"){var v=f;if(f=v(),Rt){le(!0);try{v()}finally{le(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:f},h}function cf(f,h,v,w){return f.baseState=v,Gd(f,Ve,typeof w=="function"?w:Vs)}function Qa(f,h,v,w,M){if(Zd(f))throw Error(i(485));if(f=h.action,f!==null){var R={payload:M,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){R.listeners.push(B)}};Xe.T!==null?v(!0):R.isTransition=!1,w(R),v=h.pending,v===null?(R.next=h.pending=R,Yd(h,R)):(R.next=v.next,h.pending=v.next=R)}}function Yd(f,h){var v=h.action,w=h.payload,M=f.state;if(h.isTransition){var R=Xe.T,B={};Xe.T=B;try{var $=v(M,w),me=Xe.S;me!==null&&me(B,$),Kd(f,h,$)}catch(Ce){Do(f,h,Ce)}finally{R!==null&&B.types!==null&&(R.types=B.types),Xe.T=R}}else try{R=v(M,w),Kd(f,h,R)}catch(Ce){Do(f,h,Ce)}}function Kd(f,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(w){Cl(f,h,w)},function(w){return Do(f,h,w)}):Cl(f,h,v)}function Cl(f,h,v){h.status="fulfilled",h.value=v,am(h),f.state=v,h=f.pending,h!==null&&(v=h.next,v===h?f.pending=null:(v=v.next,h.next=v,Yd(f,v)))}function Do(f,h,v){var w=f.pending;if(f.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=v,am(h),h=h.next;while(h!==w)}f.action=null}function am(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function Xd(f,h){return h}function om(f,h){if(Tt){var v=yt.formState;if(v!==null){e:{var w=ft;if(Tt){if(pn){var M=g1(pn,mi);if(M){pn=y1(M),w=Zm(M);break e}}Ke(w)}w=!1}w&&(h=v[0])}}v=Xr(),v.memoizedState=v.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:h},v.queue=w,v=My.bind(null,ft,w),w.dispatch=v,w=sm(!1);var R=$d.bind(null,ft,!1,w.queue);return w=Xr(),M={state:h,dispatch:null,action:f,pending:null},w.queue=M,v=Qa.bind(null,ft,M,R,v),M.dispatch=v,w.memoizedState=f,[h,v,!1]}function Ac(f){var h=fn();return ua(h,Ve,f)}function ua(f,h,v){if(h=Gd(f,h,Xd)[0],f=Xa(Vs)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=Qr(h)}catch(B){throw B===yr?Ls:B}else w=h;h=fn();var M=h.queue,R=M.dispatch;return v!==h.memoizedState&&(ft.flags|=2048,Ji(9,{destroy:void 0},lm.bind(null,M,v),null)),[w,R,f]}function lm(f,h){f.action=h}function Nc(f){var h=fn(),v=Ve;if(v!==null)return ua(h,v,f);fn(),h=h.memoizedState,v=fn();var w=v.queue.dispatch;return v.memoizedState=f,[h,w,!1]}function Ji(f,h,v,w){return f={tag:f,create:v,deps:w,inst:h,next:null},h=ft.updateQueue,h===null&&(h=Ud(),ft.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=f.next=f:(w=v.next,v.next=f,f.next=w,h.lastEffect=f),f}function Qd(){return fn().memoizedState}function El(f,h,v,w){var M=Xr();ft.flags|=f,M.memoizedState=Ji(1|h,{destroy:void 0},v,w===void 0?null:w)}function uf(f,h,v,w){var M=fn();w=w===void 0?null:w;var R=M.memoizedState.inst;Ve!==null&&w!==null&&tm(w,Ve.memoizedState.deps)?M.memoizedState=Ji(h,R,v,w):(ft.flags|=f,M.memoizedState=Ji(1|h,R,v,w))}function ff(f,h){El(8390656,8,f,h)}function Rc(f,h){uf(2048,8,f,h)}function Cy(f){ft.flags|=4;var h=ft.updateQueue;if(h===null)h=Ud(),ft.updateQueue=h,h.events=[f];else{var v=h.events;v===null?h.events=[f]:v.push(f)}}function ui(f){var h=fn().memoizedState;return Cy({ref:h,nextImpl:f}),function(){if((St&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}function zo(f,h){return uf(4,2,f,h)}function df(f,h){return uf(4,4,f,h)}function Oc(f,h){if(typeof h=="function"){f=f();var v=h(f);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function Ey(f,h,v){v=v!=null?v.concat([f]):null,uf(4,4,Oc.bind(null,h,f),v)}function hf(){}function Wd(f,h){var v=fn();h=h===void 0?null:h;var w=v.memoizedState;return h!==null&&tm(h,w[1])?w[0]:(v.memoizedState=[f,h],f)}function Dc(f,h){var v=fn();h=h===void 0?null:h;var w=v.memoizedState;if(h!==null&&tm(h,w[1]))return w[0];if(w=f(),Rt){le(!0);try{f()}finally{le(!1)}}return v.memoizedState=[w,h],w}function zc(f,h,v){return v===void 0||(co&1073741824)!==0&&(_t&261930)===0?f.memoizedState=h:(f.memoizedState=v,f=$a(),ft.lanes|=f,uo|=f,v)}function cm(f,h,v,w){return Xn(v,h)?v:Yl.current!==null?(f=zc(f,v,w),Xn(f,h)||(sn=!0),f):(co&42)===0||(co&1073741824)!==0&&(_t&261930)===0?(sn=!0,f.memoizedState=v):(f=$a(),ft.lanes|=f,uo|=f,h)}function ky(f,h,v,w,M){var R=As();kt(R!==0&&8>R?R:8);var B=Xe.T,$={};Xe.T=$,$d(f,!1,h,v);try{var me=M(),Ce=Xe.S;if(Ce!==null&&Ce($,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Re=kc(me,w);pf(f,h,Re,dn(f))}else pf(f,h,w,dn(f))}catch(Ee){pf(f,h,{then:function(){},status:"rejected",reason:Ee},dn())}finally{kt(R),B!==null&&$.types!==null&&(B.types=$.types),Xe.T=B}}function Ty(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:Bl,baseState:Bl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:Bl},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:v},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function um(){return On(Il)}function Jd(){return fn().memoizedState}function _y(){return fn().memoizedState}function _2(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var v=dn();f=la(v);var w=No(h,f,v);w!==null&&(wn(w,h,v),sf(w,h,v)),h={cache:ye()},f.payload=h;return}h=h.return}}function M2(f,h,v){var w=dn();v={lane:w,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Zd(f)?Ay(h,v):(v=Ki(f,h,v,w),v!==null&&(wn(v,f,w),Ny(v,h,w)))}function My(f,h,v){var w=dn();pf(f,h,v,w)}function pf(f,h,v,w){var M={lane:w,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(Zd(f))Ay(h,M);else{var R=f.alternate;if(f.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var B=h.lastRenderedState,$=R(B,v);if(M.hasEagerState=!0,M.eagerState=$,Xn($,B))return xs(f,h,M,0),yt===null&&vs(),!1}catch{}finally{}if(v=Ki(f,h,M,w),v!==null)return wn(v,f,w),Ny(v,h,w),!0}return!1}function $d(f,h,v,w){if(w={lane:2,revertLane:bs(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},Zd(f)){if(h)throw Error(i(479))}else h=Ki(f,v,w,2),h!==null&&wn(h,f,2)}function Zd(f){var h=f.alternate;return f===ft||h!==null&&h===ft}function Ay(f,h){ht=gt=!0;var v=f.pending;v===null?h.next=h:(h.next=v.next,v.next=h),f.pending=h}function Ny(f,h,v){if((v&4194048)!==0){var w=h.lanes;w&=f.pendingLanes,v|=w,h.lanes=v,Q(f,v)}}function fm(f,h,v,w){h=f.memoizedState,v=v(w,h),v=v==null?h:vh({},h,v),f.memoizedState=v,f.lanes===0&&(f.updateQueue.baseState=v)}function eh(f,h,v,w,M,R,B){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,R,B):h.prototype&&h.prototype.isPureReactComponent?!Vn(v,w)||!Vn(M,R):!0}function Ry(f,h,v,w){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,w),h.state!==f&&Ff.enqueueReplaceState(h,h.state,null)}function kl(f,h){var v=h;if("ref"in h){v={};for(var w in h)w!=="ref"&&(v[w]=h[w])}if(f=f.defaultProps){v===h&&(v=vh({},v));for(var M in f)v[M]===void 0&&(v[M]=f[M])}return v}function th(f,h){try{var v=f.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function dm(f,h,v){try{var w=f.onCaughtError;w(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function hm(f,h,v){return v=la(v),v.tag=3,v.payload={element:null},v.callback=function(){th(f,h)},v}function Oy(f){return f=la(f),f.tag=3,f}function Dy(f,h,v,w){var M=v.type.getDerivedStateFromError;if(typeof M=="function"){var R=w.value;f.payload=function(){return M(R)},f.callback=function(){dm(h,v,w)}}var B=v.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(f.callback=function(){dm(h,v,w),typeof M!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var $=w.stack;this.componentDidCatch(w.value,{componentStack:$!==null?$:""})})}function A2(f,h,v,w,M){if(v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=v.alternate,h!==null&&nr(h,v,M,!0),v=zi.current,v!==null){switch(v.tag){case 31:case 13:return yi===null?Vc():v.alternate===null&&Tn===0&&(Tn=3),v.flags&=-257,v.flags|=65536,v.lanes=M,w===_a?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([w]):h.add(w),Xc(f,w,M)),!1;case 22:return v.flags|=65536,w===_a?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([w]):v.add(w)),Xc(f,w,M)),!1}throw Error(i(435,v.tag))}return Xc(f,w,M),Vc(),!1}if(Tt)return h=zi.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=M,w!==Fh&&(f=Error(i(422),{cause:w}),Dr(de(f,v)))):(w!==Fh&&(h=Error(i(423),{cause:w}),Dr(de(h,v))),f=f.current.alternate,f.flags|=65536,M&=-M,f.lanes|=M,w=de(w,v),M=hm(f.stateNode,w,M),Bd(f,M),Tn!==4&&(Tn=2)),!1;var R=Error(i(520),{cause:w});if(R=de(R,v),qf===null?qf=[R]:qf.push(R),Tn!==4&&(Tn=2),h===null)return!0;w=de(w,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,f=M&-M,v.lanes|=f,f=hm(v.stateNode,w,f),Bd(v,f),!1;case 1:if(h=v.type,R=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(fo===null||!fo.has(R))))return v.flags|=65536,M&=-M,v.lanes|=M,M=Oy(M),Dy(M,f,v,w),Bd(v,M),!1}v=v.return}while(v!==null);return!1}function zr(f,h,v,w){h.child=f===null?yg(h,null,v,w):Pr(h,f.child,v,w)}function zy(f,h,v,w,M){v=v.render;var R=h.ref;if("ref"in w){var B={};for(var $ in w)$!=="ref"&&(B[$]=w[$])}else B=w;return Ei(h),w=_c(f,h,v,B,R,M),$=Hd(),f!==null&&!sn?(nm(f,h,M),fa(f,h,M)):(Tt&&$&&ie(h),h.flags|=1,zr(f,h,w,M),h.child)}function jy(f,h,v,w,M){if(f===null){var R=v.type;return typeof R=="function"&&!Nl(R)&&R.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=R,Ly(f,h,R,w,M)):(f=to(v.type,null,w,h,h.mode,M),f.ref=h.ref,f.return=h,h.child=f)}if(R=f.child,!gf(f,M)){var B=R.memoizedProps;if(v=v.compare,v=v!==null?v:Vn,v(B,w)&&f.ref===h.ref)return fa(f,h,M)}return h.flags|=1,f=es(R,w),f.ref=h.ref,f.return=h,h.child=f}function Ly(f,h,v,w,M){if(f!==null){var R=f.memoizedProps;if(Vn(R,w)&&f.ref===h.ref)if(sn=!1,h.pendingProps=w=R,gf(f,M))(f.flags&131072)!==0&&(sn=!0);else return h.lanes=f.lanes,fa(f,h,M)}return rh(f,h,v,w,M)}function Py(f,h,v,w){var M=w.children,R=f!==null?f.memoizedState:null;if(f===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((h.flags&128)!==0){if(R=R!==null?R.baseLanes|v:v,f!==null){for(w=h.child=f.child,M=0;w!==null;)M=M|w.lanes|w.childLanes,w=w.sibling;w=M&~R}else w=0,h.child=null;return jc(f,h,R,v,w)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&un(h,R!==null?R.cachePool:null),R!==null?Tc(h,R):Ro(),Oo(h);else return w=h.lanes=536870912,jc(f,h,R!==null?R.baseLanes|v:v,v,w)}else R!==null?(un(h,R.cachePool),Tc(h,R),Qi(),h.memoizedState=null):(f!==null&&un(h,null),Ro(),Qi());return zr(f,h,M,v),h.child}function Tl(f,h){return f!==null&&f.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function jc(f,h,v,w,M){var R=Mo();return R=R===null?null:{parent:Yn?mn._currentValue:mn._currentValue2,pool:R},h.memoizedState={baseLanes:v,cachePool:R},f!==null&&un(h,null),Ro(),Oo(h),f!==null&&nr(f,h,w,!0),h.childLanes=M,null}function nh(f,h){return h=jo({mode:h.mode,children:h.children},f.mode),h.ref=f.ref,f.child=h,h.return=f,h}function pm(f,h,v){return Pr(h,f.child,null,v),f=nh(h,h.pendingProps),f.flags|=2,Wi(h),h.memoizedState=null,f}function By(f,h,v){var w=h.pendingProps,M=(h.flags&128)!==0;if(h.flags&=-129,f===null){if(Tt){if(w.mode==="hidden")return f=nh(h,w),h.lanes=536870912,Tl(null,f);if(Id(h),(f=pn)?(f=tg(f,mi),f!==null&&(h.memoizedState={dehydrated:f,treeContext:Os!==null?{id:jr,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},v=Rm(f),v.return=h,h.child=v,mr=h,pn=null)):f=null,f===null)throw Ke(h);return h.lanes=536870912,null}return nh(h,w)}var R=f.memoizedState;if(R!==null){var B=R.dehydrated;if(Id(h),M)if(h.flags&256)h.flags&=-257,h=pm(f,h,v);else if(h.memoizedState!==null)h.child=f.child,h.flags|=128,h=null;else throw Error(i(558));else if(sn||nr(f,h,v,!1),M=(v&f.childLanes)!==0,sn||M){if(w=yt,w!==null&&(B=q(w,v),B!==0&&B!==R.retryLane))throw R.retryLane=B,Ti(f,B),wn(w,f,B),bi;Vc(),h=pm(f,h,v)}else f=R.treeContext,hn&&(pn=S1(B),mr=h,Tt=!0,Ta=null,mi=!1,f!==null&&we(h,f)),h=nh(h,w),h.flags|=4096;return h}return f=es(f.child,{mode:w.mode,children:w.children}),f.ref=h.ref,h.child=f,f.return=h,f}function mf(f,h){var v=h.ref;if(v===null)f!==null&&f.ref!==null&&(h.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(f===null||f.ref!==v)&&(h.flags|=4194816)}}function rh(f,h,v,w,M){return Ei(h),v=_c(f,h,v,w,void 0,M),w=Hd(),f!==null&&!sn?(nm(f,h,M),fa(f,h,M)):(Tt&&w&&ie(h),h.flags|=1,zr(f,h,v,M),h.child)}function mm(f,h,v,w,M,R){return Ei(h),h.updateQueue=null,v=ca(h,w,v,M),of(f),w=Hd(),f!==null&&!sn?(nm(f,h,R),fa(f,h,R)):(Tt&&w&&ie(h),h.flags|=1,zr(f,h,v,R),h.child)}function _l(f,h,v,w,M){if(Ei(h),h.stateNode===null){var R=Ca,B=v.contextType;typeof B=="object"&&B!==null&&(R=On(B)),R=new v(w,R),h.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=Ff,h.stateNode=R,R._reactInternals=h,R=h.stateNode,R.props=w,R.state=h.memoizedState,R.refs={},Kr(h),B=v.contextType,R.context=typeof B=="object"&&B!==null?On(B):Ca,R.state=h.memoizedState,B=v.getDerivedStateFromProps,typeof B=="function"&&(fm(h,v,B,w),R.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(B=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),B!==R.state&&Ff.enqueueReplaceState(R,R.state,null),vl(h,w,R,M),Ya(),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(f===null){R=h.stateNode;var $=h.memoizedProps,me=kl(v,$);R.props=me;var Ce=R.context,Re=v.contextType;B=Ca,typeof Re=="object"&&Re!==null&&(B=On(Re));var Ee=v.getDerivedStateFromProps;Re=typeof Ee=="function"||typeof R.getSnapshotBeforeUpdate=="function",$=h.pendingProps!==$,Re||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($||Ce!==B)&&Ry(h,R,w,B),rs=!1;var Pe=h.memoizedState;R.state=Pe,vl(h,w,R,M),Ya(),Ce=h.memoizedState,$||Pe!==Ce||rs?(typeof Ee=="function"&&(fm(h,v,Ee,w),Ce=h.memoizedState),(me=rs||eh(h,v,me,w,Pe,Ce,B))?(Re||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(h.flags|=4194308)):(typeof R.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Ce),R.props=w,R.state=Ce,R.context=B,w=me):(typeof R.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{R=h.stateNode,Ao(f,h),B=h.memoizedProps,Re=kl(v,B),R.props=Re,Ee=h.pendingProps,Pe=R.context,Ce=v.contextType,me=Ca,typeof Ce=="object"&&Ce!==null&&(me=On(Ce)),$=v.getDerivedStateFromProps,(Ce=typeof $=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==Ee||Pe!==me)&&Ry(h,R,w,me),rs=!1,Pe=h.memoizedState,R.state=Pe,vl(h,w,R,M),Ya();var ct=h.memoizedState;B!==Ee||Pe!==ct||rs||f!==null&&f.dependencies!==null&&Gi(f.dependencies)?(typeof $=="function"&&(fm(h,v,$,w),ct=h.memoizedState),(Re=rs||eh(h,v,Re,w,Pe,ct,me)||f!==null&&f.dependencies!==null&&Gi(f.dependencies))?(Ce||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(w,ct,me),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(w,ct,me)),typeof R.componentDidUpdate=="function"&&(h.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof R.componentDidUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=ct),R.props=w,R.state=ct,R.context=me,w=Re):(typeof R.componentDidUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=1024),w=!1)}return R=w,mf(f,h),w=(h.flags&128)!==0,R||w?(R=h.stateNode,v=w&&typeof v.getDerivedStateFromError!="function"?null:R.render(),h.flags|=1,f!==null&&w?(h.child=Pr(h,f.child,null,M),h.child=Pr(h,null,v,M)):zr(f,h,v,M),h.memoizedState=R.state,f=h.child):f=fa(f,h,M),f}function Iy(f,h,v,w){return Rn(),h.flags|=256,zr(f,h,v,w),h.child}function gm(f){return{baseLanes:f,cachePool:zn()}}function ym(f,h,v){return f=f!==null?f.childLanes&~v:0,h&&(f|=vi),f}function bm(f,h,v){var w=h.pendingProps,M=!1,R=(h.flags&128)!==0,B;if((B=R)||(B=f!==null&&f.memoizedState===null?!1:(Bn.current&2)!==0),B&&(M=!0,h.flags&=-129),B=(h.flags&32)!==0,h.flags&=-33,f===null){if(Tt){if(M?Ka(h):Qi(),(f=pn)?(f=k1(f,mi),f!==null&&(h.memoizedState={dehydrated:f,treeContext:Os!==null?{id:jr,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},v=Rm(f),v.return=h,h.child=v,mr=h,pn=null)):f=null,f===null)throw Ke(h);return _h(f)?h.lanes=32:h.lanes=536870912,null}var $=w.children;return w=w.fallback,M?(Qi(),M=h.mode,$=jo({mode:"hidden",children:$},M),w=_s(w,M,v,null),$.return=h,w.return=h,$.sibling=w,h.child=$,w=h.child,w.memoizedState=gm(v),w.childLanes=ym(f,B,v),h.memoizedState=Kl,Tl(null,w)):(Ka(h),ih(h,$))}var me=f.memoizedState;if(me!==null&&($=me.dehydrated,$!==null)){if(R)h.flags&256?(Ka(h),h.flags&=-257,h=Ml(f,h,v)):h.memoizedState!==null?(Qi(),h.child=f.child,h.flags|=128,h=null):(Qi(),$=w.fallback,M=h.mode,w=jo({mode:"visible",children:w.children},M),$=_s($,M,v,null),$.flags|=2,w.return=h,$.return=h,w.sibling=$,h.child=w,Pr(h,f.child,null,v),w=h.child,w.memoizedState=gm(v),w.childLanes=ym(f,B,v),h.memoizedState=Kl,h=Tl(null,w));else if(Ka(h),_h($))B=Mh($).digest,w=Error(i(419)),w.stack="",w.digest=B,Dr({value:w,source:null,stack:null}),h=Ml(f,h,v);else if(sn||nr(f,h,v,!1),B=(v&f.childLanes)!==0,sn||B){if(B=yt,B!==null&&(w=q(B,v),w!==0&&w!==me.retryLane))throw me.retryLane=w,Ti(f,w),wn(B,f,w),bi;Xo($)||Vc(),h=Ml(f,h,v)}else Xo($)?(h.flags|=192,h.child=f.child,h=null):(f=me.treeContext,hn&&(pn=w1($),mr=h,Tt=!0,Ta=null,mi=!1,f!==null&&we(h,f)),h=ih(h,w.children),h.flags|=4096);return h}return M?(Qi(),$=w.fallback,M=h.mode,me=f.child,R=me.sibling,w=es(me,{mode:"hidden",children:w.children}),w.subtreeFlags=me.subtreeFlags&65011712,R!==null?$=es(R,$):($=_s($,M,v,null),$.flags|=2),$.return=h,w.return=h,w.sibling=$,h.child=w,Tl(null,w),w=h.child,$=f.child.memoizedState,$===null?$=gm(v):(M=$.cachePool,M!==null?(me=Yn?mn._currentValue:mn._currentValue2,M=M.parent!==me?{parent:me,pool:me}:M):M=zn(),$={baseLanes:$.baseLanes|v,cachePool:M}),w.memoizedState=$,w.childLanes=ym(f,B,v),h.memoizedState=Kl,Tl(f.child,w)):(Ka(h),v=f.child,f=v.sibling,v=es(v,{mode:"visible",children:w.children}),v.return=h,v.sibling=null,f!==null&&(B=h.deletions,B===null?(h.deletions=[f],h.flags|=16):B.push(f)),h.child=v,h.memoizedState=null,v)}function ih(f,h){return h=jo({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function jo(f,h){return f=n(22,f,null,h),f.lanes=0,f}function Ml(f,h,v){return Pr(h,f.child,null,v),f=ih(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function Hy(f,h,v){f.lanes|=h;var w=f.alternate;w!==null&&(w.lanes|=h),Va(f.return,h,v)}function Lc(f,h,v,w,M,R){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:M,treeForkCount:R}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=w,B.tail=v,B.tailMode=M,B.treeForkCount=R)}function vm(f,h,v){var w=h.pendingProps,M=w.revealOrder,R=w.tail;w=w.children;var B=Bn.current,$=(B&2)!==0;if($?(B=B&1|2,h.flags|=128):B&=1,S(Bn,B),zr(f,h,w,v),w=Tt?If:0,!$&&f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Hy(f,v,h);else if(f.tag===19)Hy(f,v,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(M){case"forwards":for(v=h.child,M=null;v!==null;)f=v.alternate,f!==null&&af(f)===null&&(M=v),v=v.sibling;v=M,v===null?(M=h.child,h.child=null):(M=v.sibling,v.sibling=null),Lc(h,!1,M,v,R,w);break;case"backwards":case"unstable_legacy-backwards":for(v=null,M=h.child,h.child=null;M!==null;){if(f=M.alternate,f!==null&&af(f)===null){h.child=M;break}f=M.sibling,M.sibling=v,v=M,M=f}Lc(h,!0,v,null,R,w);break;case"together":Lc(h,!1,null,null,void 0,w);break;default:h.memoizedState=null}return h.child}function fa(f,h,v){if(f!==null&&(h.dependencies=f.dependencies),uo|=h.lanes,(v&h.childLanes)===0)if(f!==null){if(nr(f,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(i(153));if(h.child!==null){for(f=h.child,v=es(f,f.pendingProps),h.child=v,v.return=h;f.sibling!==null;)f=f.sibling,v=v.sibling=es(f,f.pendingProps),v.return=h;v.sibling=null}return h.child}function gf(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&Gi(f)))}function xm(f,h,v){switch(h.tag){case 3:Be(h,h.stateNode.containerInfo),tr(h,mn,f.memoizedState.cache),Rn();break;case 27:case 5:je(h);break;case 4:Be(h,h.stateNode.containerInfo);break;case 10:tr(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Id(h),null;break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Ka(h),h.flags|=128,null):(v&h.child.childLanes)!==0?bm(f,h,v):(Ka(h),f=fa(f,h,v),f!==null?f.sibling:null);Ka(h);break;case 19:var M=(f.flags&128)!==0;if(w=(v&h.childLanes)!==0,w||(nr(f,h,v,!1),w=(v&h.childLanes)!==0),M){if(w)return vm(f,h,v);h.flags|=128}if(M=h.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),S(Bn,Bn.current),w)break;return null;case 22:return h.lanes=0,Py(f,h,v,h.pendingProps);case 24:tr(h,mn,f.memoizedState.cache)}return fa(f,h,v)}function Sm(f,h,v){if(f!==null)if(f.memoizedProps!==h.pendingProps)sn=!0;else{if(!gf(f,v)&&(h.flags&128)===0)return sn=!1,xm(f,h,v);sn=(f.flags&131072)!==0}else sn=!1,Tt&&(h.flags&1048576)!==0&&Y(h,If,h.index);switch(h.lanes=0,h.tag){case 16:e:{var w=h.pendingProps;if(f=jn(h.elementType),h.type=f,typeof f=="function")Nl(f)?(w=kl(f,w),h.tag=1,h=_l(null,h,f,w,v)):(h.tag=0,h=rh(null,h,f,w,v));else{if(f!=null){var M=f.$$typeof;if(M===Qc){h.tag=11,h=zy(null,h,f,w,v);break e}else if(M===Sh){h.tag=14,h=jy(null,h,f,w,v);break e}}throw h=g(f)||f,Error(i(306,h,""))}}return h;case 0:return rh(f,h,h.type,h.pendingProps,v);case 1:return w=h.type,M=kl(w,h.pendingProps),_l(f,h,w,M,v);case 3:e:{if(Be(h,h.stateNode.containerInfo),f===null)throw Error(i(387));var R=h.pendingProps;M=h.memoizedState,w=M.element,Ao(f,h),vl(h,R,null,v);var B=h.memoizedState;if(R=B.cache,tr(h,mn,R),R!==M.cache&&ys(h,[mn],v,!0),Ya(),R=B.element,hn&&M.isDehydrated)if(M={element:R,isDehydrated:!1,cache:B.cache},h.updateQueue.baseState=M,h.memoizedState=M,h.flags&256){h=Iy(f,h,R,v);break e}else if(R!==w){w=de(Error(i(424)),h),Dr(w),h=Iy(f,h,R,v);break e}else for(hn&&(pn=x1(h.stateNode.containerInfo),mr=h,Tt=!0,Ta=null,mi=!0),v=yg(h,null,R,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Rn(),R===w){h=fa(f,h,v);break e}zr(f,h,R,v)}h=h.child}return h;case 26:if(Ns)return mf(f,h),f===null?(v=ag(h.type,null,h.pendingProps,null))?h.memoizedState=v:Tt||(h.stateNode=Oh(h.type,h.pendingProps,Lr.current,h)):h.memoizedState=ag(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:if(pr)return je(h),f===null&&pr&&Tt&&(w=h.stateNode=Dh(h.type,h.pendingProps,Lr.current,Cr.current,!1),mr=h,mi=!0,pn=eg(h.type,w,pn)),zr(f,h,h.pendingProps.children,v),mf(f,h),f===null&&(h.flags|=4194304),h.child;case 5:return f===null&&Tt&&(z1(h.type,h.pendingProps,Cr.current),(M=w=pn)&&(w=C1(w,h.type,h.pendingProps,mi),w!==null?(h.stateNode=w,mr=h,pn=v1(w),mi=!1,M=!0):M=!1),M||Ke(h)),je(h),M=h.type,R=h.pendingProps,B=f!==null?f.memoizedProps:null,w=R.children,pi(M,R)?w=null:B!==null&&pi(M,B)&&(h.flags|=32),h.memoizedState!==null&&(M=_c(f,h,Ss,null,null,v),Yn?Il._currentValue=M:Il._currentValue2=M),mf(f,h),zr(f,h,w,v),h.child;case 6:return f===null&&Tt&&(sg(h.pendingProps,Cr.current),(f=v=pn)&&(v=E1(v,h.pendingProps,mi),v!==null?(h.stateNode=v,mr=h,pn=null,f=!0):f=!1),f||Ke(h)),null;case 13:return bm(f,h,v);case 4:return Be(h,h.stateNode.containerInfo),w=h.pendingProps,f===null?h.child=Pr(h,null,w,v):zr(f,h,w,v),h.child;case 11:return zy(f,h,h.type,h.pendingProps,v);case 7:return zr(f,h,h.pendingProps,v),h.child;case 8:return zr(f,h,h.pendingProps.children,v),h.child;case 12:return zr(f,h,h.pendingProps.children,v),h.child;case 10:return w=h.pendingProps,tr(h,h.type,w.value),zr(f,h,w.children,v),h.child;case 9:return M=h.type._context,w=h.pendingProps.children,Ei(h),M=On(M),w=w(M),h.flags|=1,zr(f,h,w,v),h.child;case 14:return jy(f,h,h.type,h.pendingProps,v);case 15:return Ly(f,h,h.type,h.pendingProps,v);case 19:return vm(f,h,v);case 31:return By(f,h,v);case 22:return Py(f,h,v,h.pendingProps);case 24:return Ei(h),w=On(mn),f===null?(M=Mo(),M===null&&(M=yt,R=ye(),M.pooledCache=R,R.refCount++,R!==null&&(M.pooledCacheLanes|=v),M=R),h.memoizedState={parent:w,cache:M},Kr(h),tr(h,mn,M)):((f.lanes&v)!==0&&(Ao(f,h),vl(h,null,null,v),Ya()),M=f.memoizedState,R=h.memoizedState,M.parent!==w?(M={parent:w,cache:w},h.memoizedState=M,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=M),tr(h,mn,w)):(w=R.cache,tr(h,mn,w),w!==M.cache&&ys(h,[mn],v,!0))),zr(f,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}function ws(f){f.flags|=4}function yf(f){ts&&(f.flags|=8)}function Uy(f,h){if(f!==null&&f.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(f=h.child;f!==null;){if((f.flags&8218)!==0||(f.subtreeFlags&8218)!==0)return!0;f=f.sibling}return!1}function wm(f,h,v,w){if(Nt)for(v=h.child;v!==null;){if(v.tag===5||v.tag===6)Rf(f,v.stateNode);else if(!(v.tag===4||pr&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(ts)for(var M=h.child;M!==null;){if(M.tag===5){var R=M.stateNode;v&&w&&(R=m1(R,M.type,M.memoizedProps)),Rf(f,R)}else if(M.tag===6)R=M.stateNode,v&&w&&(R=$m(R,M.memoizedProps)),Rf(f,R);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)R=M.child,R!==null&&(R.return=M),wm(f,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}}function Fy(f,h,v,w){var M=!1;if(ts)for(var R=h.child;R!==null;){if(R.tag===5){var B=R.stateNode;v&&w&&(B=m1(B,R.type,R.memoizedProps)),Wm(f,B)}else if(R.tag===6)B=R.stateNode,v&&w&&(B=$m(B,R.memoizedProps)),Wm(f,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)M=R.child,M!==null&&(M.return=R),Fy(f,R,!0,!0),M=!0;else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return M;R=R.return}R.sibling.return=R.return,R=R.sibling}return M}function Gy(f,h){if(ts&&Uy(f,h)){f=h.stateNode;var v=f.containerInfo,w=Qm();Fy(w,h,!1,!1),f.pendingChildren=w,ws(h),p1(v,w)}}function Cm(f,h,v,w){if(Nt)f.memoizedProps!==w&&ws(h);else if(ts){var M=f.stateNode,R=f.memoizedProps;if((f=Uy(f,h))||R!==w){var B=Cr.current;R=h1(M,v,R,w,!f,null),R===M?h.stateNode=M:(yf(h),Ni(R,v,w,B)&&ws(h),h.stateNode=R,f&&wm(R,h,!1,!1))}else h.stateNode=M}}function fi(f,h,v,w,M){if((f.mode&32)!==0&&(v===null?Of(h,w):eu(h,v,w))){if(f.flags|=16777216,(M&335544128)===M||Bm(h,w))if(Cn(f.stateNode,h,w))f.flags|=8192;else if(At())f.flags|=8192;else throw gi=_a,qh}else f.flags&=-16777217}function Pc(f,h){if(ug(h)){if(f.flags|=16777216,!fg(h))if(At())f.flags|=8192;else throw gi=_a,qh}else f.flags&=-16777217}function bf(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?L():536870912,f.lanes|=h,cu|=h)}function Bc(f,h){if(!Tt)switch(f.tailMode){case"hidden":h=f.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?f.tail=null:v.sibling=null;break;case"collapsed":v=f.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Zt(f){var h=f.alternate!==null&&f.alternate.child===f.child,v=0,w=0;if(h)for(var M=f.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags&65011712,w|=M.flags&65011712,M.return=f,M=M.sibling;else for(M=f.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags,w|=M.flags,M.return=f,M=M.sibling;return f.subtreeFlags|=w,f.childLanes=v,h}function qy(f,h,v){var w=h.pendingProps;switch(F(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(h),null;case 1:return Zt(h),null;case 3:return v=h.stateNode,w=null,f!==null&&(w=f.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),si(mn),De(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(f===null||f.child===null)&&(Xt(h)?ws(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Gn())),Gy(f,h),Zt(h),null;case 26:if(Ns){var M=h.type,R=h.memoizedState;return f===null?(ws(h),R!==null?(Zt(h),Pc(h,R)):(Zt(h),fi(h,M,null,w,v))):R?R!==f.memoizedState?(ws(h),Zt(h),Pc(h,R)):(Zt(h),h.flags&=-16777217):(R=f.memoizedProps,Nt?R!==w&&ws(h):Cm(f,h,M,w),Zt(h),fi(h,M,R,w,v)),null}case 27:if(pr){if(ot(h),v=Lr.current,M=h.type,f!==null&&h.stateNode!=null)Nt?f.memoizedProps!==w&&ws(h):Cm(f,h,M,w);else{if(!w){if(h.stateNode===null)throw Error(i(166));return Zt(h),null}f=Cr.current,Xt(h)?nt(h,f):(f=Dh(M,w,v,f,!0),h.stateNode=f,ws(h))}return Zt(h),null}case 5:if(ot(h),M=h.type,f!==null&&h.stateNode!=null)Cm(f,h,M,w);else{if(!w){if(h.stateNode===null)throw Error(i(166));return Zt(h),null}if(R=Cr.current,Xt(h))nt(h,R),R1(h.stateNode,M,w,R)&&(h.flags|=64);else{var B=Lm(M,w,Lr.current,R,h);yf(h),wm(B,h,!1,!1),h.stateNode=B,Ni(B,M,w,R)&&ws(h)}}return Zt(h),fi(h,h.type,f===null?null:f.memoizedProps,h.pendingProps,v),null;case 6:if(f&&h.stateNode!=null)v=f.memoizedProps,Nt?v!==w&&ws(h):ts&&(v!==w?(f=Lr.current,v=Cr.current,yf(h),h.stateNode=io(w,f,v,h)):h.stateNode=f.stateNode);else{if(typeof w!="string"&&h.stateNode===null)throw Error(i(166));if(f=Lr.current,v=Cr.current,Xt(h)){if(!hn)throw Error(i(176));if(f=h.stateNode,v=h.memoizedProps,w=null,M=mr,M!==null)switch(M.tag){case 27:case 5:w=M.memoizedProps}z2(f,v,h,w)||Ke(h,!0)}else yf(h),h.stateNode=io(w,f,v,h)}return Zt(h),null;case 31:if(v=h.memoizedState,f===null||f.memoizedState!==null){if(w=Xt(h),v!==null){if(f===null){if(!w)throw Error(i(318));if(!hn)throw Error(i(556));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(557));ng(f,h)}else Rn(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zt(h),f=!1}else v=Gn(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=v),f=!0;if(!f)return h.flags&256?(Wi(h),h):(Wi(h),null);if((h.flags&128)!==0)throw Error(i(558))}return Zt(h),null;case 13:if(w=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(M=Xt(h),w!==null&&w.dehydrated!==null){if(f===null){if(!M)throw Error(i(318));if(!hn)throw Error(i(344));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));_1(M,h)}else Rn(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zt(h),M=!1}else M=Gn(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=M),M=!0;if(!M)return h.flags&256?(Wi(h),h):(Wi(h),null)}return Wi(h),(h.flags&128)!==0?(h.lanes=v,h):(v=w!==null,f=f!==null&&f.memoizedState!==null,v&&(w=h.child,M=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(M=w.alternate.memoizedState.cachePool.pool),R=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(R=w.memoizedState.cachePool.pool),R!==M&&(w.flags|=2048)),v!==f&&v&&(h.child.flags|=8192),bf(h,h.updateQueue),Zt(h),null);case 4:return De(),Gy(f,h),f===null&&Qt(h.stateNode.containerInfo),Zt(h),null;case 10:return si(h.type),Zt(h),null;case 19:if(x(Bn),w=h.memoizedState,w===null)return Zt(h),null;if(M=(h.flags&128)!==0,R=w.rendering,R===null)if(M)Bc(w,!1);else{if(Tn!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(R=af(f),R!==null){for(h.flags|=128,Bc(w,!1),f=R.updateQueue,h.updateQueue=f,bf(h,f),h.subtreeFlags=0,f=v,v=h.child;v!==null;)gh(v,f),v=v.sibling;return S(Bn,Bn.current&1|2),Tt&&G(h,w.treeForkCount),h.child}f=f.sibling}w.tail!==null&&Jr()>sl&&(h.flags|=128,M=!0,Bc(w,!1),h.lanes=4194304)}else{if(!M)if(f=af(R),f!==null){if(h.flags|=128,M=!0,f=f.updateQueue,h.updateQueue=f,bf(h,f),Bc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!R.alternate&&!Tt)return Zt(h),null}else 2*Jr()-w.renderingStartTime>sl&&v!==536870912&&(h.flags|=128,M=!0,Bc(w,!1),h.lanes=4194304);w.isBackwards?(R.sibling=h.child,h.child=R):(f=w.last,f!==null?f.sibling=R:h.child=R,w.last=R)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=Jr(),f.sibling=null,v=Bn.current,S(Bn,M?v&1|2:v&1),Tt&&G(h,w.treeForkCount),f):(Zt(h),null);case 22:case 23:return Wi(h),ir(),w=h.memoizedState!==null,f!==null?f.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(v&536870912)!==0&&(h.flags&128)===0&&(Zt(h),h.subtreeFlags&6&&(h.flags|=8192)):Zt(h),v=h.updateQueue,v!==null&&bf(h,v.retryQueue),v=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048),f!==null&&x(Jo),null;case 24:return v=null,f!==null&&(v=f.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),si(mn),Zt(h),null;case 25:return null;case 30:return null}throw Error(i(156,h.tag))}function Em(f,h){switch(F(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return si(mn),De(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return ot(h),null;case 31:if(h.memoizedState!==null){if(Wi(h),h.alternate===null)throw Error(i(340));Rn()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 13:if(Wi(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(i(340));Rn()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return x(Bn),null;case 4:return De(),null;case 10:return si(h.type),null;case 22:case 23:return Wi(h),ir(),f!==null&&x(Jo),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return si(mn),null;case 25:return null;default:return null}}function Vy(f,h){switch(F(h),h.tag){case 3:si(mn),De();break;case 26:case 27:case 5:ot(h);break;case 4:De();break;case 31:h.memoizedState!==null&&Wi(h);break;case 13:Wi(h);break;case 19:x(Bn);break;case 10:si(h.type);break;case 22:case 23:Wi(h),ir(),f!==null&&x(Jo);break;case 24:si(mn)}}function da(f,h){try{var v=h.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var M=w.next;v=M;do{if((v.tag&f)===f){w=void 0;var R=v.create,B=v.inst;w=R(),B.destroy=w}v=v.next}while(v!==M)}}catch($){it(h,h.return,$)}}function ha(f,h,v){try{var w=h.updateQueue,M=w!==null?w.lastEffect:null;if(M!==null){var R=M.next;w=R;do{if((w.tag&f)===f){var B=w.inst,$=B.destroy;if($!==void 0){B.destroy=void 0,M=h;var me=v,Ce=$;try{Ce()}catch(Re){it(M,me,Re)}}}w=w.next}while(w!==R)}}catch(Re){it(h,h.return,Re)}}function Ic(f){var h=f.updateQueue;if(h!==null){var v=f.stateNode;try{Sl(h,v)}catch(w){it(f,f.return,w)}}}function sh(f,h,v){v.props=kl(f.type,f.memoizedProps),v.state=f.memoizedState;try{v.componentWillUnmount()}catch(w){it(f,h,w)}}function Hc(f,h){try{var v=f.ref;if(v!==null){switch(f.tag){case 26:case 27:case 5:var w=Jc(f.stateNode);break;case 30:w=f.stateNode;break;default:w=f.stateNode}typeof v=="function"?f.refCleanup=v(w):v.current=w}}catch(M){it(f,h,M)}}function Wr(f,h){var v=f.ref,w=f.refCleanup;if(v!==null)if(typeof w=="function")try{w()}catch(M){it(f,h,M)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(M){it(f,h,M)}else v.current=null}function Al(f){var h=f.type,v=f.memoizedProps,w=f.stateNode;try{s1(w,h,v,f)}catch(M){it(f,f.return,M)}}function vf(f,h,v){try{a1(f.stateNode,f.type,v,h,f)}catch(w){it(f,f.return,w)}}function km(f){return f.tag===5||f.tag===3||(Ns?f.tag===26:!1)||(pr?f.tag===27&&Hl(f.type):!1)||f.tag===4}function Wa(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||km(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(pr&&f.tag===27&&Hl(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function ah(f,h,v){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?l1(v,f,h):Vm(v,f);else if(w!==4&&(pr&&w===27&&Hl(f.type)&&(v=f.stateNode,h=null),f=f.child,f!==null))for(ah(f,h,v),f=f.sibling;f!==null;)ah(f,h,v),f=f.sibling}function xf(f,h,v){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?o1(v,f,h):qm(v,f);else if(w!==4&&(pr&&w===27&&Hl(f.type)&&(v=f.stateNode),f=f.child,f!==null))for(xf(f,h,v),f=f.sibling;f!==null;)xf(f,h,v),f=f.sibling}function Tm(f,h,v){f=f.containerInfo;try{Jm(f,v)}catch(w){it(h,h.return,w)}}function Yy(f){var h=f.stateNode,v=f.memoizedProps;try{ar(f.type,v,h,f)}catch(w){it(f,f.return,w)}}function N2(f,h){for(wh(f.containerInfo),Qn=h;Qn!==null;)if(f=Qn,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Qn=h;else for(;Qn!==null;){f=Qn;var v=f.alternate;switch(h=f.flags,f.tag){case 0:if((h&4)!==0&&(h=f.updateQueue,h=h!==null?h.events:null,h!==null))for(var w=0;w<h.length;w++){var M=h[w];M.ref.impl=M.nextImpl}break;case 11:case 15:break;case 1:if((h&1024)!==0&&v!==null){h=void 0,w=f,M=v.memoizedProps,v=v.memoizedState;var R=w.stateNode;try{var B=kl(w.type,M);h=R.getSnapshotBeforeUpdate(B,v),R.__reactInternalSnapshotBeforeUpdate=h}catch($){it(w,w.return,$)}}break;case 3:(h&1024)!==0&&Nt&&Xm(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(i(163))}if(h=f.sibling,h!==null){h.return=f.return,Qn=h;break}Qn=f.return}}function Ky(f,h,v){var w=v.flags;switch(v.tag){case 0:case 11:case 15:di(f,v),w&4&&da(5,v);break;case 1:if(di(f,v),w&4)if(f=v.stateNode,h===null)try{f.componentDidMount()}catch(B){it(v,v.return,B)}else{var M=kl(v.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(M,h,f.__reactInternalSnapshotBeforeUpdate)}catch(B){it(v,v.return,B)}}w&64&&Ic(v),w&512&&Hc(v,v.return);break;case 3:if(di(f,v),w&64&&(w=v.updateQueue,w!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=Jc(v.child.stateNode);break;case 1:f=v.child.stateNode}try{Sl(w,f)}catch(B){it(v,v.return,B)}}break;case 27:pr&&h===null&&w&4&&Yy(v);case 26:case 5:if(di(f,v),h===null){if(w&4)Al(v);else if(w&64){f=v.type,h=v.memoizedProps,M=v.stateNode;try{A1(M,f,h,v)}catch(B){it(v,v.return,B)}}}w&512&&Hc(v,v.return);break;case 12:di(f,v);break;case 31:di(f,v),w&4&&Es(f,v);break;case 13:di(f,v),w&4&&wf(f,v),w&64&&(w=v.memoizedState,w!==null&&(w=w.dehydrated,w!==null&&(v=R2.bind(null,v),Ah(w,v))));break;case 22:if(w=v.memoizedState!==null||In,!w){h=h!==null&&h.memoizedState!==null||Hn,M=In;var R=Hn;In=w,(Hn=h)&&!R?Ts(f,v,(v.subtreeFlags&8772)!==0):di(f,v),In=M,Hn=R}break;case 30:break;default:di(f,v)}}function _m(f){var h=f.alternate;h!==null&&(f.alternate=null,_m(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&Ch(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Cs(f,h,v){for(v=v.child;v!==null;)Sf(f,h,v),v=v.sibling}function Sf(f,h,v){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Gl,v)}catch{}switch(v.tag){case 26:if(Ns){Hn||Wr(v,h),Cs(f,h,v),v.memoizedState?Qo(v.memoizedState):v.stateNode&&cg(v.stateNode);break}case 27:if(pr){Hn||Wr(v,h);var w=kn,M=Wn;Hl(v.type)&&(kn=v.stateNode,Wn=!1),Cs(f,h,v),wr(v.stateNode),kn=w,Wn=M;break}case 5:Hn||Wr(v,h);case 6:if(Nt){if(w=kn,M=Wn,kn=null,Cs(f,h,v),kn=w,Wn=M,kn!==null)if(Wn)try{Ym(kn,v.stateNode)}catch(R){it(v,h,R)}else try{c1(kn,v.stateNode)}catch(R){it(v,h,R)}}else Cs(f,h,v);break;case 18:Nt&&kn!==null&&(Wn?Nh(kn,v.stateNode):ig(kn,v.stateNode));break;case 4:Nt?(w=kn,M=Wn,kn=v.stateNode.containerInfo,Wn=!0,Cs(f,h,v),kn=w,Wn=M):(ts&&Tm(v.stateNode,v,Qm()),Cs(f,h,v));break;case 0:case 11:case 14:case 15:ha(2,v,h),Hn||ha(4,v,h),Cs(f,h,v);break;case 1:Hn||(Wr(v,h),w=v.stateNode,typeof w.componentWillUnmount=="function"&&sh(v,h,w)),Cs(f,h,v);break;case 21:Cs(f,h,v);break;case 22:Hn=(w=Hn)||v.memoizedState!==null,Cs(f,h,v),Hn=w;break;default:Cs(f,h,v)}}function Es(f,h){if(hn&&h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{j2(f)}catch(v){it(h,h.return,v)}}}function wf(f,h){if(hn&&h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{L2(f)}catch(v){it(h,h.return,v)}}function ks(f){switch(f.tag){case 31:case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new vg),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new vg),h;default:throw Error(i(435,f.tag))}}function Ja(f,h){var v=ks(f);h.forEach(function(w){if(!v.has(w)){v.add(w);var M=O2.bind(null,f,w);w.then(M,M)}})}function xr(f,h){var v=h.deletions;if(v!==null)for(var w=0;w<v.length;w++){var M=v[w],R=f,B=h;if(Nt){var $=B;e:for(;$!==null;){switch($.tag){case 27:if(pr){if(Hl($.type)){kn=$.stateNode,Wn=!1;break e}break}case 5:kn=$.stateNode,Wn=!1;break e;case 3:case 4:kn=$.stateNode.containerInfo,Wn=!0;break e}$=$.return}if(kn===null)throw Error(i(160));Sf(R,B,M),kn=null,Wn=!1}else Sf(R,B,M);R=M.alternate,R!==null&&(R.return=null),M.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)Cf(h,f),h=h.sibling}function Cf(f,h){var v=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:xr(h,f),Sr(f),w&4&&(ha(3,f,f.return),da(3,f),ha(5,f,f.return));break;case 1:xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),w&64&&In&&(f=f.updateQueue,f!==null&&(w=f.callbacks,w!==null&&(v=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=v===null?w:v.concat(w))));break;case 26:if(Ns){var M=Vt;if(xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),w&4){w=v!==null?v.memoizedState:null;var R=f.memoizedState;v===null?R===null?f.stateNode===null?f.stateNode=j1(M,f.type,f.memoizedProps,f):lg(M,f.type,f.stateNode):f.stateNode=og(M,R,f.memoizedProps):w!==R?(w===null?v.stateNode!==null&&cg(v.stateNode):Qo(w),R===null?lg(M,f.type,f.stateNode):og(M,R,f.memoizedProps)):R===null&&f.stateNode!==null&&vf(f,f.memoizedProps,v.memoizedProps)}break}case 27:if(pr){xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),v!==null&&w&4&&vf(f,f.memoizedProps,v.memoizedProps);break}case 5:if(xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),Nt){if(f.flags&32){M=f.stateNode;try{Km(M)}catch(Ee){it(f,f.return,Ee)}}w&4&&f.stateNode!=null&&(M=f.memoizedProps,vf(f,M,v!==null?v.memoizedProps:M)),w&1024&&(iu=!0)}else ts&&f.alternate!==null&&(f.alternate.stateNode=f.stateNode);break;case 6:if(xr(h,f),Sr(f),w&4&&Nt){if(f.stateNode===null)throw Error(i(162));w=f.memoizedProps,v=v!==null?v.memoizedProps:w,M=f.stateNode;try{i1(M,v,w)}catch(Ee){it(f,f.return,Ee)}}break;case 3:if(Ns?(L1(),M=Vt,Vt=jf(h.containerInfo),xr(h,f),Vt=M):xr(h,f),Sr(f),w&4){if(Nt&&hn&&v!==null&&v.memoizedState.isDehydrated)try{N1(h.containerInfo)}catch(Ee){it(f,f.return,Ee)}if(ts){w=h.containerInfo,v=h.pendingChildren;try{Jm(w,v)}catch(Ee){it(f,f.return,Ee)}}}iu&&(iu=!1,oh(f));break;case 4:Ns?(v=Vt,Vt=jf(f.stateNode.containerInfo),xr(h,f),Sr(f),Vt=v):(xr(h,f),Sr(f)),w&4&&ts&&Tm(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:xr(h,f),Sr(f);break;case 31:xr(h,f),Sr(f),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,Ja(f,w)));break;case 13:xr(h,f),Sr(f),f.child.flags&8192&&f.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Vf=Jr()),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,Ja(f,w)));break;case 22:M=f.memoizedState!==null;var B=v!==null&&v.memoizedState!==null,$=In,me=Hn;if(In=$||M,Hn=me||B,xr(h,f),Hn=me,In=$,Sr(f),w&8192&&(h=f.stateNode,h._visibility=M?h._visibility&-2:h._visibility|1,M&&(v===null||B||In||Hn||Lo(f)),Nt)){e:if(v=null,Nt)for(h=f;;){if(h.tag===5||Ns&&h.tag===26){if(v===null){B=v=h;try{R=B.stateNode,M?D2(R):f1(B.stateNode,B.memoizedProps)}catch(Ee){it(B,B.return,Ee)}}}else if(h.tag===6){if(v===null){B=h;try{var Ce=B.stateNode;M?u1(Ce):d1(Ce,B.memoizedProps)}catch(Ee){it(B,B.return,Ee)}}}else if(h.tag===18){if(v===null){B=h;try{var Re=B.stateNode;M?O1(Re):D1(B.stateNode)}catch(Ee){it(B,B.return,Ee)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}}w&4&&(w=f.updateQueue,w!==null&&(v=w.retryQueue,v!==null&&(w.retryQueue=null,Ja(f,v))));break;case 19:xr(h,f),Sr(f),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,Ja(f,w)));break;case 30:break;case 21:break;default:xr(h,f),Sr(f)}}function Sr(f){var h=f.flags;if(h&2){try{for(var v,w=f.return;w!==null;){if(km(w)){v=w;break}w=w.return}if(Nt){if(v==null)throw Error(i(160));switch(v.tag){case 27:if(pr){var M=v.stateNode,R=Wa(f);xf(f,R,M);break}case 5:var B=v.stateNode;v.flags&32&&(Km(B),v.flags&=-33);var $=Wa(f);xf(f,$,B);break;case 3:case 4:var me=v.stateNode.containerInfo,Ce=Wa(f);ah(f,Ce,me);break;default:throw Error(i(161))}}}catch(Re){it(f,f.return,Re)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function oh(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;oh(h),h.tag===5&&h.flags&1024&&Hm(h.stateNode),f=f.sibling}}function di(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Ky(f,h.alternate,h),h=h.sibling}function Lo(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:ha(4,h,h.return),Lo(h);break;case 1:Wr(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&sh(h,h.return,v),Lo(h);break;case 27:pr&&wr(h.stateNode);case 26:case 5:Wr(h,h.return),Lo(h);break;case 22:h.memoizedState===null&&Lo(h);break;case 30:Lo(h);break;default:Lo(h)}f=f.sibling}}function Ts(f,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,M=f,R=h,B=R.flags;switch(R.tag){case 0:case 11:case 15:Ts(M,R,v),da(4,R);break;case 1:if(Ts(M,R,v),w=R,M=w.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Ce){it(w,w.return,Ce)}if(w=R,M=w.updateQueue,M!==null){var $=w.stateNode;try{var me=M.shared.hiddenCallbacks;if(me!==null)for(M.shared.hiddenCallbacks=null,M=0;M<me.length;M++)xl(me[M],$)}catch(Ce){it(w,w.return,Ce)}}v&&B&64&&Ic(R),Hc(R,R.return);break;case 27:pr&&Yy(R);case 26:case 5:Ts(M,R,v),v&&w===null&&B&4&&Al(R),Hc(R,R.return);break;case 12:Ts(M,R,v);break;case 31:Ts(M,R,v),v&&B&4&&Es(M,R);break;case 13:Ts(M,R,v),v&&B&4&&wf(M,R);break;case 22:R.memoizedState===null&&Ts(M,R,v),Hc(R,R.return);break;case 30:break;default:Ts(M,R,v)}h=h.sibling}}function Po(f,h){var v=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==v&&(f!=null&&f.refCount++,v!=null&&_e(v))}function Mm(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&_e(f))}function Sn(f,h,v,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)lh(f,h,v,w),h=h.sibling}function lh(f,h,v,w){var M=h.flags;switch(h.tag){case 0:case 11:case 15:Sn(f,h,v,w),M&2048&&da(9,h);break;case 1:Sn(f,h,v,w);break;case 3:Sn(f,h,v,w),M&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&_e(f)));break;case 12:if(M&2048){Sn(f,h,v,w),f=h.stateNode;try{var R=h.memoizedProps,B=R.id,$=R.onPostCommit;typeof $=="function"&&$(B,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(me){it(h,h.return,me)}}else Sn(f,h,v,w);break;case 31:Sn(f,h,v,w);break;case 13:Sn(f,h,v,w);break;case 23:break;case 22:R=h.stateNode,B=h.alternate,h.memoizedState!==null?R._visibility&2?Sn(f,h,v,w):Uc(f,h):R._visibility&2?Sn(f,h,v,w):(R._visibility|=2,_i(f,h,v,w,(h.subtreeFlags&10256)!==0||!1)),M&2048&&Po(B,h);break;case 24:Sn(f,h,v,w),M&2048&&Mm(h.alternate,h);break;default:Sn(f,h,v,w)}}function _i(f,h,v,w,M){for(M=M&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var R=f,B=h,$=v,me=w,Ce=B.flags;switch(B.tag){case 0:case 11:case 15:_i(R,B,$,me,M),da(8,B);break;case 23:break;case 22:var Re=B.stateNode;B.memoizedState!==null?Re._visibility&2?_i(R,B,$,me,M):Uc(R,B):(Re._visibility|=2,_i(R,B,$,me,M)),M&&Ce&2048&&Po(B.alternate,B);break;case 24:_i(R,B,$,me,M),M&&Ce&2048&&Mm(B.alternate,B);break;default:_i(R,B,$,me,M)}h=h.sibling}}function Uc(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=f,w=h,M=w.flags;switch(w.tag){case 22:Uc(v,w),M&2048&&Po(w.alternate,w);break;case 24:Uc(v,w),M&2048&&Mm(w.alternate,w);break;default:Uc(v,w)}h=h.sibling}}function pa(f,h,v){if(f.subtreeFlags&ss)for(f=f.child;f!==null;)Bo(f,h,v),f=f.sibling}function Bo(f,h,v){switch(f.tag){case 26:if(pa(f,h,v),f.flags&ss)if(f.memoizedState!==null)P1(v,Vt,f.memoizedState,f.memoizedProps);else{var w=f.stateNode,M=f.type;f=f.memoizedProps,((h&335544128)===h||Bm(M,f))&&Eh(v,w,M,f)}break;case 5:pa(f,h,v),f.flags&ss&&(w=f.stateNode,M=f.type,f=f.memoizedProps,((h&335544128)===h||Bm(M,f))&&Eh(v,w,M,f));break;case 3:case 4:Ns?(w=Vt,Vt=jf(f.stateNode.containerInfo),pa(f,h,v),Vt=w):pa(f,h,v);break;case 22:f.memoizedState===null&&(w=f.alternate,w!==null&&w.memoizedState!==null?(w=ss,ss=16777216,pa(f,h,v),ss=w):pa(f,h,v));break;default:pa(f,h,v)}}function ch(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function Fc(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Qn=w,$i(w,f)}ch(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)uh(f),f=f.sibling}function uh(f){switch(f.tag){case 0:case 11:case 15:Fc(f),f.flags&2048&&ha(9,f,f.return);break;case 3:Fc(f);break;case 12:Fc(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&2&&(f.return===null||f.return.tag!==13)?(h._visibility&=-3,Ef(f)):Fc(f);break;default:Fc(f)}}function Ef(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Qn=w,$i(w,f)}ch(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:ha(8,h,h.return),Ef(h);break;case 22:v=h.stateNode,v._visibility&2&&(v._visibility&=-3,Ef(h));break;default:Ef(h)}f=f.sibling}}function $i(f,h){for(;Qn!==null;){var v=Qn;switch(v.tag){case 0:case 11:case 15:ha(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var w=v.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:_e(v.memoizedState.cache)}if(w=v.child,w!==null)w.return=v,Qn=w;else e:for(v=f;Qn!==null;){w=Qn;var M=w.sibling,R=w.return;if(_m(w),w===v){Qn=null;break e}if(M!==null){M.return=R,Qn=M;break e}Qn=R}}}function Io(f){var h=ut(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(i(364));return h}if(f=Kn(f),f===null)throw Error(i(362));return f.stateNode.current}function Ho(f,h){var v=f.tag;switch(h.$$typeof){case Bs:if(f.type===h.value)return!0;break;case au:e:{for(h=h.value,f=[f,0],v=0;v<f.length;){var w=f[v++],M=w.tag,R=f[v++],B=h[R];if(M!==5&&M!==26&&M!==27||!Ko(w)){for(;B!=null&&Ho(w,B);)R++,B=h[R];if(R===h.length){h=!0;break e}else for(w=w.child;w!==null;)f.push(w,R),w=w.sibling}}h=!1}return h;case ou:if((v===5||v===26||v===27)&&Gm(f.stateNode,h.value))return!0;break;case tl:if((v===5||v===6||v===26||v===27)&&(f=Df(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Gf:if((v===5||v===26||v===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Gc(f){switch(f.$$typeof){case Bs:return"<"+(g(f.value)||"Unknown")+">";case au:return":has("+(Gc(f)||"")+")";case ou:return'[role="'+f.value+'"]';case tl:return'"'+f.value+'"';case Gf:return'[data-testname="'+f.value+'"]';default:throw Error(i(365))}}function qc(f,h){var v=[];f=[f,0];for(var w=0;w<f.length;){var M=f[w++],R=M.tag,B=f[w++],$=h[B];if(R!==5&&R!==26&&R!==27||!Ko(M)){for(;$!=null&&Ho(M,$);)B++,$=h[B];if(B===h.length)v.push(M);else for(M=M.child;M!==null;)f.push(M,B),M=M.sibling}}return v}function Mi(f,h){if(!hr)throw Error(i(363));f=Io(f),f=qc(f,h),h=[],f=Array.from(f);for(var v=0;v<f.length;){var w=f[v++],M=w.tag;if(M===5||M===26||M===27)Ko(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)f.push(w),w=w.sibling}return h}function dn(){return(St&2)!==0&&_t!==0?_t&-_t:Xe.T!==null?bs():Zc()}function $a(){if(vi===0)if((_t&536870912)===0||Tt){var f=Fl;Fl<<=1,(Fl&3932160)===0&&(Fl=262144),vi=f}else vi=536870912;return f=zi.current,f!==null&&(f.flags|=32),vi}function wn(f,h,v){(f===yt&&(Yt===2||Yt===9)||f.cancelPendingCommit!==null)&&(Pn(f,0),ga(f,_t,vi,!1)),j(f,v),((St&2)===0||f!==yt)&&(f===yt&&((St&2)===0&&(il|=v),Tn===4&&ga(f,_t,vi,!1)),Je(f))}function Ys(f,h,v){if((St&6)!==0)throw Error(i(327));var w=!v&&(h&127)===0&&(h&f.expiredLanes)===0||O(f,h),M=w?Wy(f,h):ya(f,h,!0),R=w;do{if(M===0){nl&&!w&&ga(f,h,0,!1);break}else{if(v=f.current.alternate,R&&!Xy(v)){M=ya(f,h,!1),R=!1;continue}if(M===2){if(R=h,f.errorRecoveryDisabledLanes&R)var B=0;else B=f.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){h=B;e:{var $=f;M=qf;var me=hn&&$.current.memoizedState.isDehydrated;if(me&&(Pn($,B).flags|=256),B=ya($,B,!1),B!==2){if(rl&&!me){$.errorRecoveryDisabledLanes|=R,il|=R,M=4;break e}R=ji,ji=M,R!==null&&(ji===null?ji=R:ji.push.apply(ji,R))}M=B}if(R=!1,M!==2)continue}}if(M===1){Pn(f,0),ga(f,h,0,!0);break}e:{switch(w=f,R=M,R){case 0:case 1:throw Error(i(345));case 4:if((h&4194048)!==h)break;case 6:ga(w,h,vi,!Ws);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(i(329))}if((h&62914560)===h&&(M=Vf+300-Jr(),10<M)){if(ga(w,h,vi,!Ws),A(w,0,!0)!==0)break e;Ra=h,w.timeoutHandle=Pm(ma.bind(null,w,v,ji,Yf,Yh,h,vi,il,cu,Ws,R,"Throttled",-0,0),M);break e}ma(w,v,ji,Yf,Yh,h,vi,il,cu,Ws,R,null,-0,0)}}break}while(!0);Je(f)}function ma(f,h,v,w,M,R,B,$,me,Ce,Re,Ee,Pe,ct){if(f.timeoutHandle=Ri,Ee=h.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee=Im(),Bo(h,R,Ee);var kr=(R&62914560)===R?Vf-Jr():(R&4194048)===R?Ql-Jr():0;if(kr=r1(Ee,kr),kr!==null){Ra=R,f.cancelPendingCommit=kr(va.bind(null,f,h,R,v,w,M,B,$,me,Re,Ee,null,Pe,ct)),ga(f,R,B,!Ce);return}}va(f,h,R,v,w,M,B,$,me)}function Xy(f){for(var h=f;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var w=0;w<v.length;w++){var M=v[w],R=M.getSnapshot;M=M.value;try{if(!Xn(R(),M))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ga(f,h,v,w){h&=~lu,h&=~il,f.suspendedLanes|=h,f.pingedLanes&=~h,w&&(f.warmLanes|=h),w=f.expirationTimes;for(var M=h;0<M;){var R=31-Oi(M),B=1<<R;w[R]=-1,M&=~B}v!==0&&H(f,v,h)}function fh(){return(St&6)===0?(xt(0),!1):!0}function dh(){if(wt!==null){if(Yt===0)var f=wt.return;else f=wt,Xs=tn=null,lf(f),$o=null,ql=0,f=wt;for(;f!==null;)Vy(f.alternate,f),f=f.return;wt=null}}function Pn(f,h){var v=f.timeoutHandle;v!==Ri&&(f.timeoutHandle=Ri,n1(v)),v=f.cancelPendingCommit,v!==null&&(f.cancelPendingCommit=null,v()),Ra=0,dh(),yt=f,wt=v=es(f.current,null),_t=h,Yt=0,or=null,Ws=!1,nl=O(f,h),rl=!1,cu=vi=lu=il=uo=Tn=0,ji=qf=null,Yh=!1,(h&8)!==0&&(h|=h&32);var w=f.entangledLanes;if(w!==0)for(f=f.entanglements,w&=h;0<w;){var M=31-Oi(w),R=1<<M;h|=f[M],w&=~R}return Na=h,vs(),v}function en(f,h){ft=null,Xe.H=is,h===yr||h===Ls?(h=li(),Yt=3):h===qh?(h=li(),Yt=4):Yt=h===bi?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,or=h,wt===null&&(Tn=1,th(f,de(h,f.current)))}function At(){var f=zi.current;return f===null?!0:(_t&4194048)===_t?yi===null:(_t&62914560)===_t||(_t&536870912)!==0?f===yi:!1}function Za(){var f=Xe.H;return Xe.H=is,f===null?is:f}function Zi(){var f=Xe.A;return Xe.A=su,f}function Vc(){Tn=4,Ws||(_t&4194048)!==_t&&zi.current!==null||(nl=!0),(uo&134217727)===0&&(il&134217727)===0||yt===null||ga(yt,_t,vi,!1)}function ya(f,h,v){var w=St;St|=2;var M=Za(),R=Zi();(yt!==f||_t!==h)&&(Yf=null,Pn(f,h)),h=!1;var B=Tn;e:do try{if(Yt!==0&&wt!==null){var $=wt,me=or;switch(Yt){case 8:dh(),B=6;break e;case 3:case 2:case 9:case 6:zi.current===null&&(h=!0);var Ce=Yt;if(Yt=0,or=null,ba(f,$,me,Ce),v&&nl){B=0;break e}break;default:Ce=Yt,Yt=0,or=null,ba(f,$,me,Ce)}}Qy(),B=Tn;break}catch(Re){en(f,Re)}while(!0);return h&&f.shellSuspendCounter++,Xs=tn=null,St=w,Xe.H=M,Xe.A=R,wt===null&&(yt=null,_t=0,vs()),B}function Qy(){for(;wt!==null;)Uo(wt)}function Wy(f,h){var v=St;St|=2;var w=Za(),M=Zi();yt!==f||_t!==h?(Yf=null,sl=Jr()+500,Pn(f,h)):nl=O(f,h);e:do try{if(Yt!==0&&wt!==null){h=wt;var R=or;t:switch(Yt){case 1:Yt=0,or=null,ba(f,h,R,1);break;case 2:case 9:if(ai(R)){Yt=0,or=null,hh(h);break}h=function(){Yt!==2&&Yt!==9||yt!==f||(Yt=7),Je(f)},R.then(h,h);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:ai(R)?(Yt=0,or=null,hh(h)):(Yt=0,or=null,ba(f,h,R,7));break;case 5:var B=null;switch(wt.tag){case 26:B=wt.memoizedState;case 5:case 27:var $=wt,me=$.type,Ce=$.pendingProps;if(B?fg(B):Cn($.stateNode,me,Ce)){Yt=0,or=null;var Re=$.sibling;if(Re!==null)wt=Re;else{var Ee=$.return;Ee!==null?(wt=Ee,Kc(Ee)):wt=null}break t}}Yt=0,or=null,ba(f,h,R,5);break;case 6:Yt=0,or=null,ba(f,h,R,6);break;case 8:dh(),Tn=6;break e;default:throw Error(i(462))}}Yc();break}catch(Pe){en(f,Pe)}while(!0);return Xs=tn=null,Xe.H=w,Xe.A=M,St=v,wt!==null?0:(yt=null,_t=0,vs(),Tn)}function Yc(){for(;wt!==null&&!I1();)Uo(wt)}function Uo(f){var h=Sm(f.alternate,f,Na);f.memoizedProps=f.pendingProps,h===null?Kc(f):wt=h}function hh(f){var h=f,v=h.alternate;switch(h.tag){case 15:case 0:h=mm(v,h,h.pendingProps,h.type,void 0,_t);break;case 11:h=mm(v,h,h.pendingProps,h.type.render,h.ref,_t);break;case 5:lf(h);default:Vy(v,h),h=wt=gh(h,Na),h=Sm(v,h,Na)}f.memoizedProps=f.pendingProps,h===null?Kc(f):wt=h}function ba(f,h,v,w){Xs=tn=null,lf(h),$o=null,ql=0;var M=h.return;try{if(A2(f,M,h,v,_t)){Tn=1,th(f,de(v,f.current)),wt=null;return}}catch(R){if(M!==null)throw wt=M,R;Tn=1,th(f,de(v,f.current)),wt=null;return}h.flags&32768?(Tt||w===1?f=!0:nl||(_t&536870912)!==0?f=!1:(Ws=f=!0,(w===2||w===9||w===3||w===6)&&(w=zi.current,w!==null&&w.tag===13&&(w.flags|=16384))),Fo(h,f)):Kc(h)}function Kc(f){var h=f;do{if((h.flags&32768)!==0){Fo(h,Ws);return}f=h.return;var v=qy(h.alternate,h,Na);if(v!==null){wt=v;return}if(h=h.sibling,h!==null){wt=h;return}wt=h=f}while(h!==null);Tn===0&&(Tn=5)}function Fo(f,h){do{var v=Em(f.alternate,f);if(v!==null){v.flags&=32767,wt=v;return}if(v=f.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(f=f.sibling,f!==null)){wt=f;return}wt=f=v}while(f!==null);Tn=6,wt=null}function va(f,h,v,w,M,R,B,$,me){f.cancelPendingCommit=null;do Sa();while(lr!==0);if((St&6)!==0)throw Error(i(327));if(h!==null){if(h===f.current)throw Error(i(177));if(R=h.lanes|h.childLanes,R|=Vl,P(f,v,R,B,$,me),f===yt&&(wt=yt=null,_t=0),Wl=h,ho=f,Ra=v,uu=R,Kh=M,xg=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,sr(Pf,function(){return kf(),null})):(f.callbackNode=null,f.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=Xe.T,Xe.T=null,M=As(),kt(2),B=St,St|=4;try{N2(f,h,v)}finally{St=B,kt(M),Xe.T=w}}lr=1,eo(),xa(),ph()}}function eo(){if(lr===1){lr=0;var f=ho,h=Wl,v=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||v){v=Xe.T,Xe.T=null;var w=As();kt(2);var M=St;St|=4;try{Cf(h,f),t1(f.containerInfo)}finally{St=M,kt(w),Xe.T=v}}f.current=h,lr=2}}function xa(){if(lr===2){lr=0;var f=ho,h=Wl,v=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||v){v=Xe.T,Xe.T=null;var w=As();kt(2);var M=St;St|=4;try{Ky(f,h.alternate,h)}finally{St=M,kt(w),Xe.T=v}}lr=3}}function ph(){if(lr===4||lr===3){lr=0,hg();var f=ho,h=Wl,v=Ra,w=xg;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?lr=5:(lr=0,Wl=ho=null,mh(f,f.pendingLanes));var M=f.pendingLanes;if(M===0&&(fo=null),W(v),h=h.stateNode,Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Gl,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=Xe.T,M=As(),kt(2),Xe.T=null;try{for(var R=f.onRecoverableError,B=0;B<w.length;B++){var $=w[B];R($.value,{componentStack:$.stack})}}finally{Xe.T=h,kt(M)}}(Ra&3)!==0&&Sa(),Je(f),M=f.pendingLanes,(v&261930)!==0&&(M&42)!==0?f===Kf?Lt++:(Lt=0,Kf=f):Lt=0,hn&&zf(),xt(0)}}function mh(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,_e(h)))}function Sa(){return eo(),xa(),ph(),kf()}function kf(){if(lr!==5)return!1;var f=ho,h=uu;uu=0;var v=W(Ra),w=32>v?32:v;v=Xe.T;var M=As();try{kt(w),Xe.T=null,w=Kh,Kh=null;var R=ho,B=Ra;if(lr=0,Wl=ho=null,Ra=0,(St&6)!==0)throw Error(i(331));var $=St;if(St|=4,uh(R.current),lh(R,R.current,B,w),St=$,xt(0,!1),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Gl,R)}catch{}return!0}finally{kt(M),Xe.T=v,mh(f,h)}}function Go(f,h,v){h=de(v,h),h=hm(f.stateNode,h,2),f=No(f,h,2),f!==null&&(j(f,2),Je(f))}function it(f,h,v){if(f.tag===3)Go(f,f,v);else for(;h!==null;){if(h.tag===3){Go(h,f,v);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(fo===null||!fo.has(w))){f=de(v,f),v=Oy(2),w=No(h,v,2),w!==null&&(Dy(v,w,h,f),j(w,2),Je(w));break}}h=h.return}}function Xc(f,h,v){var w=f.pingCache;if(w===null){w=f.pingCache=new as;var M=new Set;w.set(h,M)}else M=w.get(h),M===void 0&&(M=new Set,w.set(h,M));M.has(v)||(rl=!0,M.add(v),f=Jy.bind(null,f,h,v),h.then(f,f))}function Jy(f,h,v){var w=f.pingCache;w!==null&&w.delete(h),f.pingedLanes|=f.suspendedLanes&v,f.warmLanes&=~v,yt===f&&(_t&v)===v&&(Tn===4||Tn===3&&(_t&62914560)===_t&&300>Jr()-Vf?(St&2)===0&&Pn(f,0):lu|=v,cu===_t&&(cu=0)),Je(f)}function $y(f,h){h===0&&(h=L()),f=Ti(f,h),f!==null&&(j(f,h),Je(f))}function R2(f){var h=f.memoizedState,v=0;h!==null&&(v=h.retryLane),$y(f,v)}function O2(f,h){var v=0;switch(f.tag){case 31:case 13:var w=f.stateNode,M=f.memoizedState;M!==null&&(v=M.retryLane);break;case 19:w=f.stateNode;break;case 22:w=f.stateNode._retryCache;break;default:throw Error(i(314))}w!==null&&w.delete(h),$y(f,v)}function sr(f,h){return Lf(f,h)}function Am(f,h,v,w){this.tag=f,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(f){return f=f.prototype,!(!f||!f.isReactComponent)}function es(f,h){var v=f.alternate;return v===null?(v=n(f.tag,h,f.key,f.mode),v.elementType=f.elementType,v.type=f.type,v.stateNode=f.stateNode,v.alternate=f,f.alternate=v):(v.pendingProps=h,v.type=f.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=f.flags&65011712,v.childLanes=f.childLanes,v.lanes=f.lanes,v.child=f.child,v.memoizedProps=f.memoizedProps,v.memoizedState=f.memoizedState,v.updateQueue=f.updateQueue,h=f.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=f.sibling,v.index=f.index,v.ref=f.ref,v.refCleanup=f.refCleanup,v}function gh(f,h){f.flags&=65011714;var v=f.alternate;return v===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,h=v.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function to(f,h,v,w,M,R){var B=0;if(w=f,typeof f=="function")Nl(f)&&(B=1);else if(typeof f=="string")B=Ns&&pr?Rh(f,v,Cr.current)?26:dg(f)?27:5:Ns?Rh(f,v,Cr.current)?26:5:pr&&dg(f)?27:5;else e:switch(f){case Af:return f=n(31,v,h,M),f.elementType=Af,f.lanes=R,f;case zl:return _s(v.children,M,R,h);case jl:B=8,M|=24;break;case Ll:return f=n(12,v,h,M|2),f.elementType=Ll,f.lanes=R,f;case xh:return f=n(13,v,h,M),f.elementType=xh,f.lanes=R,f;case no:return f=n(19,v,h,M),f.elementType=no,f.lanes=R,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Ms:B=10;break e;case Mf:B=9;break e;case Qc:B=11;break e;case Sh:B=14;break e;case hi:B=16,w=null;break e}B=29,v=Error(i(130,f===null?"null":typeof f,"")),w=null}return h=n(B,v,h,M),h.elementType=f,h.type=w,h.lanes=R,h}function _s(f,h,v,w){return f=n(7,f,w,h),f.lanes=v,f}function Nm(f,h,v){return f=n(6,f,null,h),f.lanes=v,f}function Rm(f){var h=n(18,null,null,0);return h.stateNode=f,h}function Om(f,h,v){return h=n(4,f.children!==null?f.children:[],f.key,h),h.lanes=v,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Zy(f,h,v,w,M,R,B,$,me){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ri,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=I(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I(0),this.hiddenUpdates=I(null),this.identifierPrefix=w,this.onUncaughtError=M,this.onCaughtError=R,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function qo(f,h,v,w,M,R,B,$,me,Ce,Re,Ee){return f=new Zy(f,h,v,B,me,Ce,Re,Ee,$),h=1,R===!0&&(h|=24),R=n(3,null,null,h),f.current=R,R.stateNode=f,h=ye(),h.refCount++,f.pooledCache=h,h.refCount++,R.memoizedState={element:w,isDehydrated:v,cache:h},Kr(R),f}function yh(f){return f?(f=Ca,f):Ca}function Tf(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(i(188)):(f=Object.keys(f).join(","),Error(i(268,f)));return f=l(h),f=f!==null?u(f):null,f===null?null:Jc(f.stateNode)}function Dm(f,h,v,w,M,R){M=yh(M),w.context===null?w.context=M:w.pendingContext=M,w=la(h),w.payload={element:v},R=R===void 0?null:R,R!==null&&(w.callback=R),v=No(f,w,h),v!==null&&(wn(v,f,h),sf(v,f,h))}function Rl(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var v=f.retryLane;f.retryLane=v!==0&&v<h?v:h}}function _f(f,h){Rl(f,h),(f=f.alternate)&&Rl(f,h)}var mt={},bh=Bp(),Ai=bE(),vh=Object.assign,Ol=Symbol.for("react.element"),wa=Symbol.for("react.transitional.element"),Dl=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),jl=Symbol.for("react.strict_mode"),Ll=Symbol.for("react.profiler"),Mf=Symbol.for("react.consumer"),Ms=Symbol.for("react.context"),Qc=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),no=Symbol.for("react.suspense_list"),Sh=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),Af=Symbol.for("react.activity"),zm=Symbol.for("react.memo_cache_sentinel"),ro=Symbol.iterator,Vo=Symbol.for("react.client.reference"),Yo=Array.isArray,Xe=bh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jm=e.rendererVersion,Nf=e.rendererPackageName,Wc=e.extraDevToolsConfig,Jc=e.getPublicInstance,e1=e.getRootHostContext,$c=e.getChildHostContext,wh=e.prepareForCommit,t1=e.resetAfterCommit,Lm=e.createInstance;e.cloneMutableInstance;var Rf=e.appendInitialChild,Ni=e.finalizeInitialChildren,pi=e.shouldSetTextContent,io=e.createTextInstance;e.cloneMutableTextInstance;var Pm=e.scheduleTimeout,n1=e.cancelTimeout,Ri=e.noTimeout,Yn=e.isPrimaryRenderer;e.warnsIfNotActing;var Nt=e.supportsMutation,ts=e.supportsPersistence,hn=e.supportsHydration,ut=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Qt=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var kt=e.setCurrentUpdatePriority,As=e.getCurrentUpdatePriority,Zc=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Pl=e.shouldAttemptEagerTransition,Ch=e.detachDeletedInstance;e.requestPostPaintCallback;var Of=e.maySuspendCommit,eu=e.maySuspendCommitOnUpdate,Bm=e.maySuspendCommitInSyncRender,Cn=e.preloadInstance,Im=e.startSuspendingCommit,Eh=e.suspendInstance;e.suspendOnActiveViewTransition;var r1=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Bl=e.NotPendingTransition,Il=e.HostTransitionContext,Hm=e.resetFormInstance;e.bindToConsole;var Um=e.supportsMicrotasks,Fm=e.scheduleMicrotask,hr=e.supportsTestSelectors,Kn=e.findFiberRoot,kh=e.getBoundingRect,Df=e.getTextContent,Ko=e.isHiddenSubtree,Gm=e.matchAccessibilityRole,so=e.setFocusIfFocusable,Th=e.setupIntersectionObserver,qm=e.appendChild,Vm=e.appendChildToContainer,i1=e.commitTextUpdate,s1=e.commitMount,a1=e.commitUpdate,o1=e.insertBefore,l1=e.insertInContainerBefore,c1=e.removeChild,Ym=e.removeChildFromContainer,Km=e.resetTextContent,D2=e.hideInstance,u1=e.hideTextInstance,f1=e.unhideInstance,d1=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Xm=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var h1=e.cloneInstance,Qm=e.createContainerChildSet,Wm=e.appendChildToContainerChildSet,p1=e.finalizeContainerChildren,Jm=e.replaceContainerChildren,m1=e.cloneHiddenInstance,$m=e.cloneHiddenTextInstance,Xo=e.isSuspenseInstancePending,_h=e.isSuspenseInstanceFallback,Mh=e.getSuspenseInstanceFallbackErrorDetails,Ah=e.registerSuspenseInstanceRetry,g1=e.canHydrateFormStateMarker,Zm=e.isFormStateMarkerMatching,y1=e.getNextHydratableSibling,b1=e.getNextHydratableSiblingAfterSingleton,v1=e.getFirstHydratableChild,x1=e.getFirstHydratableChildWithinContainer,S1=e.getFirstHydratableChildWithinActivityInstance,w1=e.getFirstHydratableChildWithinSuspenseInstance,eg=e.getFirstHydratableChildWithinSingleton,C1=e.canHydrateInstance,E1=e.canHydrateTextInstance,tg=e.canHydrateActivityInstance,k1=e.canHydrateSuspenseInstance,T1=e.hydrateInstance,z2=e.hydrateTextInstance,ng=e.hydrateActivityInstance,_1=e.hydrateSuspenseInstance,M1=e.getNextHydratableInstanceAfterActivityInstance,rg=e.getNextHydratableInstanceAfterSuspenseInstance,A1=e.commitHydratedInstance,N1=e.commitHydratedContainer,j2=e.commitHydratedActivityInstance,L2=e.commitHydratedSuspenseInstance,R1=e.finalizeHydratedChildren,zf=e.flushHydrationEvents;e.clearActivityBoundary;var ig=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Nh=e.clearSuspenseBoundaryFromContainer,O1=e.hideDehydratedBoundary,D1=e.unhideDehydratedBoundary,tu=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var z1=e.validateHydratableInstance,sg=e.validateHydratableTextInstance,Ns=e.supportsResources,Rh=e.isHostHoistableType,jf=e.getHoistableRoot,ag=e.getResource,og=e.acquireResource,Qo=e.releaseResource,j1=e.hydrateHoistable,lg=e.mountHoistable,cg=e.unmountHoistable,Oh=e.createHoistableInstance,L1=e.prepareToCommitHoistables,ug=e.mayResourceSuspendCommit,fg=e.preloadResource,P1=e.suspendResource,pr=e.supportsSingletons,Dh=e.resolveSingletonInstance,ar=e.acquireSingletonInstance,wr=e.releaseSingletonInstance,dg=e.isHostSingletonType,Hl=e.isSingletonScope,zh=[],Ul=-1,Ca={},Oi=Math.clz32?Math.clz32:k,jh=Math.log,B1=Math.LN2,Lh=256,Fl=262144,nu=4194304,Lf=Ai.unstable_scheduleCallback,Ph=Ai.unstable_cancelCallback,I1=Ai.unstable_shouldYield,hg=Ai.unstable_requestPaint,Jr=Ai.unstable_now,Bh=Ai.unstable_ImmediatePriority,H1=Ai.unstable_UserBlockingPriority,Pf=Ai.unstable_NormalPriority,Ih=Ai.unstable_IdlePriority,pg=Ai.log,U1=Ai.unstable_setDisableYieldValue,Gl=null,Di=null,Xn=typeof Object.is=="function"?Object.is:Z,Hh=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},P2=Object.prototype.hasOwnProperty,Uh,Ea,Bf=!1,mg=new WeakMap,ao=[],ka=0,Wt=null,If=0,Rs=[],ns=0,Os=null,jr=1,Ks="",Cr=b(null),oo=b(null),Lr=b(null),Hf=b(null),mr=null,pn=null,Tt=!1,Ta=null,mi=!1,Fh=Error(i(519)),Ds=b(null),tn=null,Xs=null,F1=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(v,w){f.push(w)}};this.abort=function(){h.aborted=!0,f.forEach(function(v){return v()})}},Er=Ai.unstable_scheduleCallback,B2=Ai.unstable_NormalPriority,mn={$$typeof:Ms,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Uf=null,qt=null,$r=!1,zs=!1,Gh=!1,Wo=0,ru=null,gg=0,lo=0,gr=null,js=Xe.S;Xe.S=function(f,h){Ql=Jr(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&ki(f,h),js!==null&&js(f,h)};var Jo=b(null),yr=Error(i(460)),qh=Error(i(474)),Ls=Error(i(542)),_a={then:function(){}},gi=null,$o=null,ql=0,Pr=Yi(!0),yg=Yi(!1),Br=[],Ma=0,Vl=0,rs=!1,Vh=!1,Yl=b(null),Zo=b(0),zi=b(null),yi=null,Bn=b(0),co=0,ft=null,Ve=null,at=null,gt=!1,ht=!1,Rt=!1,Zr=0,Ps=0,Qs=null,bg=0,is={readContext:On,use:Mc,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};is.useEffectEvent=xn;var En={readContext:On,use:Mc,useCallback:function(f,h){return Xr().memoizedState=[f,h===void 0?null:h],f},useContext:On,useEffect:ff,useImperativeHandle:function(f,h,v){v=v!=null?v.concat([f]):null,El(4194308,4,Oc.bind(null,h,f),v)},useLayoutEffect:function(f,h){return El(4194308,4,f,h)},useInsertionEffect:function(f,h){El(4,2,f,h)},useMemo:function(f,h){var v=Xr();h=h===void 0?null:h;var w=f();if(Rt){le(!0);try{f()}finally{le(!1)}}return v.memoizedState=[w,h],w},useReducer:function(f,h,v){var w=Xr();if(v!==void 0){var M=v(h);if(Rt){le(!0);try{v(h)}finally{le(!1)}}}else M=h;return w.memoizedState=w.baseState=M,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:M},w.queue=f,f=f.dispatch=M2.bind(null,ft,f),[w.memoizedState,f]},useRef:function(f){var h=Xr();return f={current:f},h.memoizedState=f},useState:function(f){f=sm(f);var h=f.queue,v=My.bind(null,ft,h);return h.dispatch=v,[f.memoizedState,v]},useDebugValue:hf,useDeferredValue:function(f,h){var v=Xr();return zc(v,f,h)},useTransition:function(){var f=sm(!1);return f=ky.bind(null,ft,f.queue,!0,!1),Xr().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,v){var w=ft,M=Xr();if(Tt){if(v===void 0)throw Error(i(407));v=v()}else{if(v=h(),yt===null)throw Error(i(349));(_t&127)!==0||Sy(w,h,v)}M.memoizedState=v;var R={value:v,getSnapshot:h};return M.queue=R,ff(im.bind(null,w,R,f),[f]),w.flags|=2048,Ji(9,{destroy:void 0},rm.bind(null,w,R,v,h),null),v},useId:function(){var f=Xr(),h=yt.identifierPrefix;if(Tt){var v=Ks,w=jr;v=(w&~(1<<32-Oi(w)-1)).toString(32)+v,h="_"+h+"R_"+v,v=Zr++,0<v&&(h+="H"+v.toString(32)),h+="_"}else v=bg++,h="_"+h+"r_"+v.toString(32)+"_";return f.memoizedState=h},useHostTransitionStatus:um,useFormState:om,useActionState:om,useOptimistic:function(f){var h=Xr();h.memoizedState=h.baseState=f;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=$d.bind(null,ft,!0,v),v.dispatch=h,[f,h]},useMemoCache:Fd,useCacheRefresh:function(){return Xr().memoizedState=_2.bind(null,ft)},useEffectEvent:function(f){var h=Xr(),v={impl:f};return h.memoizedState=v,function(){if((St&2)!==0)throw Error(i(440));return v.impl.apply(void 0,arguments)}}},Aa={readContext:On,use:Mc,useCallback:Wd,useContext:On,useEffect:Rc,useImperativeHandle:Ey,useInsertionEffect:zo,useLayoutEffect:df,useMemo:Dc,useReducer:Xa,useRef:Qd,useState:function(){return Xa(Vs)},useDebugValue:hf,useDeferredValue:function(f,h){var v=fn();return cm(v,Ve.memoizedState,f,h)},useTransition:function(){var f=Xa(Vs)[0],h=fn().memoizedState;return[typeof f=="boolean"?f:Qr(f),h]},useSyncExternalStore:wl,useId:Jd,useHostTransitionStatus:um,useFormState:Ac,useActionState:Ac,useOptimistic:function(f,h){var v=fn();return cf(v,Ve,f,h)},useMemoCache:Fd,useCacheRefresh:_y};Aa.useEffectEvent=ui;var el={readContext:On,use:Mc,useCallback:Wd,useContext:On,useEffect:Rc,useImperativeHandle:Ey,useInsertionEffect:zo,useLayoutEffect:df,useMemo:Dc,useReducer:qd,useRef:Qd,useState:function(){return qd(Vs)},useDebugValue:hf,useDeferredValue:function(f,h){var v=fn();return Ve===null?zc(v,f,h):cm(v,Ve.memoizedState,f,h)},useTransition:function(){var f=qd(Vs)[0],h=fn().memoizedState;return[typeof f=="boolean"?f:Qr(f),h]},useSyncExternalStore:wl,useId:Jd,useHostTransitionStatus:um,useFormState:Nc,useActionState:Nc,useOptimistic:function(f,h){var v=fn();return Ve!==null?cf(v,Ve,f,h):(v.baseState=f,[f,v.queue.dispatch])},useMemoCache:Fd,useCacheRefresh:_y};el.useEffectEvent=ui;var Ff={enqueueSetState:function(f,h,v){f=f._reactInternals;var w=dn(),M=la(w);M.payload=h,v!=null&&(M.callback=v),h=No(f,M,w),h!==null&&(wn(h,f,w),sf(h,f,w))},enqueueReplaceState:function(f,h,v){f=f._reactInternals;var w=dn(),M=la(w);M.tag=1,M.payload=h,v!=null&&(M.callback=v),h=No(f,M,w),h!==null&&(wn(h,f,w),sf(h,f,w))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var v=dn(),w=la(v);w.tag=2,h!=null&&(w.callback=h),h=No(f,w,v),h!==null&&(wn(h,f,v),sf(h,f,v))}},bi=Error(i(461)),sn=!1,Kl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},In=!1,Hn=!1,iu=!1,vg=typeof WeakSet=="function"?WeakSet:Set,Qn=null,kn=null,Wn=!1,Vt=null,ss=8192,su={getCacheForType:function(f){var h=On(mn),v=h.data.get(f);return v===void 0&&(v=f(),h.data.set(f,v)),v},cacheSignal:function(){return On(mn).controller.signal}},Bs=0,au=1,ou=2,Gf=3,tl=4;if(typeof Symbol=="function"&&Symbol.for){var Xl=Symbol.for;Bs=Xl("selector.component"),au=Xl("selector.has_pseudo_class"),ou=Xl("selector.role"),Gf=Xl("selector.test_id"),tl=Xl("selector.text")}var as=typeof WeakMap=="function"?WeakMap:Map,St=0,yt=null,wt=null,_t=0,Yt=0,or=null,Ws=!1,nl=!1,rl=!1,Na=0,Tn=0,uo=0,il=0,lu=0,vi=0,cu=0,qf=null,ji=null,Yh=!1,Vf=0,Ql=0,sl=1/0,Yf=null,fo=null,lr=0,ho=null,Wl=null,Ra=0,uu=0,Kh=null,xg=null,Lt=0,Kf=null;return mt.attemptContinuousHydration=function(f){if(f.tag===13||f.tag===31){var h=Ti(f,67108864);h!==null&&wn(h,f,67108864),_f(f,67108864)}},mt.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13||f.tag===31){var h=dn();h=X(h);var v=Ti(f,h);v!==null&&wn(v,f,h),_f(f,h)}},mt.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var h=_(f.pendingLanes);if(h!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;h;){var v=1<<31-Oi(h);f.entanglements[1]|=v,h&=~v}Je(f),(St&6)===0&&(sl=Jr()+500,xt(0))}}break;case 31:case 13:h=Ti(f,2),h!==null&&wn(h,f,2),fh(),_f(f,2)}},mt.batchedUpdates=function(f,h){return f(h)},mt.createComponentSelector=function(f){return{$$typeof:Bs,value:f}},mt.createContainer=function(f,h,v,w,M,R,B,$,me,Ce){return qo(f,h,!1,null,v,w,R,null,B,$,me,Ce)},mt.createHasPseudoClassSelector=function(f){return{$$typeof:au,value:f}},mt.createHydrationContainer=function(f,h,v,w,M,R,B,$,me,Ce,Re,Ee,Pe,ct){return f=qo(v,w,!0,f,M,R,$,ct,me,Ce,Re,Ee),f.context=yh(null),v=f.current,w=dn(),w=X(w),M=la(w),M.callback=h??null,No(v,M,w),h=w,f.current.lanes=h,j(f,h),Je(f),f},mt.createPortal=function(f,h,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:w==null?null:""+w,children:f,containerInfo:h,implementation:v}},mt.createRoleSelector=function(f){return{$$typeof:ou,value:f}},mt.createTestNameSelector=function(f){return{$$typeof:Gf,value:f}},mt.createTextSelector=function(f){return{$$typeof:tl,value:f}},mt.defaultOnCaughtError=function(f){console.error(f)},mt.defaultOnRecoverableError=function(f){Hh(f)},mt.defaultOnUncaughtError=function(f){Hh(f)},mt.deferredUpdates=function(f){var h=Xe.T,v=As();try{return kt(32),Xe.T=null,f()}finally{kt(v),Xe.T=h}},mt.discreteUpdates=function(f,h,v,w,M){var R=Xe.T,B=As();try{return kt(2),Xe.T=null,f(h,v,w,M)}finally{kt(B),Xe.T=R,St===0&&(sl=Jr()+500)}},mt.findAllNodes=Mi,mt.findBoundingRects=function(f,h){if(!hr)throw Error(i(363));h=Mi(f,h),f=[];for(var v=0;v<h.length;v++)f.push(kh(h[v]));for(h=f.length-1;0<h;h--){v=f[h];for(var w=v.x,M=w+v.width,R=v.y,B=R+v.height,$=h-1;0<=$;$--)if(h!==$){var me=f[$],Ce=me.x,Re=Ce+me.width,Ee=me.y,Pe=Ee+me.height;if(w>=Ce&&R>=Ee&&M<=Re&&B<=Pe){f.splice(h,1);break}else if(w!==Ce||v.width!==me.width||Pe<R||Ee>B){if(!(R!==Ee||v.height!==me.height||Re<w||Ce>M)){Ce>w&&(me.width+=Ce-w,me.x=w),Re<M&&(me.width=M-Ce),f.splice(h,1);break}}else{Ee>R&&(me.height+=Ee-R,me.y=R),Pe<B&&(me.height=B-Ee),f.splice(h,1);break}}}return f},mt.findHostInstance=Tf,mt.findHostInstanceWithNoPortals=function(f){return f=l(f),f=f!==null?d(f):null,f===null?null:Jc(f.stateNode)},mt.findHostInstanceWithWarning=function(f){return Tf(f)},mt.flushPassiveEffects=Sa,mt.flushSyncFromReconciler=function(f){var h=St;St|=1;var v=Xe.T,w=As();try{if(kt(2),Xe.T=null,f)return f()}finally{kt(w),Xe.T=v,St=h,(St&6)===0&&xt(0)}},mt.flushSyncWork=fh,mt.focusWithin=function(f,h){if(!hr)throw Error(i(363));for(f=Io(f),h=qc(f,h),h=Array.from(h),f=0;f<h.length;){var v=h[f++],w=v.tag;if(!Ko(v)){if((w===5||w===26||w===27)&&so(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},mt.getFindAllNodesFailureDescription=function(f,h){if(!hr)throw Error(i(363));var v=0,w=[];f=[Io(f),0];for(var M=0;M<f.length;){var R=f[M++],B=R.tag,$=f[M++],me=h[$];if((B!==5&&B!==26&&B!==27||!Ko(R))&&(Ho(R,me)&&(w.push(Gc(me)),$++,$>v&&(v=$)),$<h.length))for(R=R.child;R!==null;)f.push(R,$),R=R.sibling}if(v<h.length){for(f=[];v<h.length;v++)f.push(Gc(h[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},mt.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Jc(f.child.stateNode);default:return f.child.stateNode}},mt.injectIntoDevTools=function(){var f={bundleType:0,version:jm,rendererPackageName:Nf,currentDispatcherRef:Xe,reconcilerVersion:"19.2.0"};if(Wc!==null&&(f.rendererConfig=Wc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Gl=h.inject(f),Di=h}catch{}f=!!h.checkDCE}}return f},mt.isAlreadyRendering=function(){return(St&6)!==0},mt.observeVisibleRects=function(f,h,v,w){if(!hr)throw Error(i(363));f=Mi(f,h);var M=Th(f,v,w).disconnect;return{disconnect:function(){M()}}},mt.shouldError=function(){return null},mt.shouldSuspend=function(){return!1},mt.startHostTransition=function(f,h,v,w){if(f.tag!==5)throw Error(i(476));var M=Ty(f).queue;ky(f,M,h,Bl,v===null?r:function(){var R=Ty(f);return R.next===null&&(R=f.alternate.memoizedState),pf(f,R.next.queue,{},dn()),v(w)})},mt.updateContainer=function(f,h,v,w){var M=h.current,R=dn();return Dm(M,R,f,h,v,w),R},mt.updateContainerSync=function(f,h,v,w){return Dm(h.current,2,f,h,v,w),2},mt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(yw)),yw.exports}var L_;function v$(){return L_||(L_=1,gw.exports=b$()),gw.exports}var x$=v$();const S$=Pp(x$);var bw={exports:{}},rc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function w$(){return P_||(P_=1,rc.ConcurrentRoot=1,rc.ContinuousEventPriority=8,rc.DefaultEventPriority=32,rc.DiscreteEventPriority=2,rc.IdleEventPriority=268435456,rc.LegacyRoot=0,rc.NoEventPriority=0),rc}var B_;function C$(){return B_||(B_=1,bw.exports=w$()),bw.exports}var f2=C$();const I_={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let H_=!1,U_=!1;const mx=".react-konva-event",E$=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,k$=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,T$={};function d2(t,e,n=T$){if(!H_&&"zIndex"in e&&(console.warn(k$),H_=!0),!U_&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(E$),U_=!0)}for(var s in n)if(!I_[s]){var a=s.slice(0,2)==="on",l=n[s]!==e[s];if(a&&l){var u=s.substr(2).toLowerCase();u.substr(0,7)==="content"&&(u="content"+u.substr(7,1).toUpperCase()+u.substr(8)),t.off(u,n[s])}var d=!e.hasOwnProperty(s);d&&t.setAttr(s,void 0)}var m=e._useStrictMode,g={},b=!1;const x={};for(var s in e)if(!I_[s]){var a=s.slice(0,2)==="on",S=n[s]!==e[s];if(a&&S){var u=s.substr(2).toLowerCase();u.substr(0,7)==="content"&&(u="content"+u.substr(7,1).toUpperCase()+u.substr(8)),e[s]&&(x[u]=e[s])}!a&&(e[s]!==n[s]||m&&e[s]!==t.getAttr(s))&&(b=!0,g[s]=e[s])}b&&(t.setAttrs(g),nf(t));for(var u in x)t.off(u+mx),t.on(u+mx,x[u])}function nf(t){if(!Le.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var vw=bE();const CR={},_$={};zp.Node.prototype._applyProps=d2;let ER=f2.DefaultEventPriority;function M$(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),nf(t)}function A$(t,e,n){let r=zp[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=zp.Group);const i={},s={};for(var a in e)if(a!=="ref"){var l=a.slice(0,2)==="on";l?s[a]=e[a]:i[a]=e[a]}const u=new r(i);return d2(u,s),u}function N$(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function R$(t,e,n){return!1}function O$(t){return t}function D$(){return null}function z$(){return null}function j$(t,e,n,r){return _$}function L$(){}function P$(t){}function B$(t,e){return!1}function I$(){return CR}function H$(){return CR}const U$=setTimeout,F$=clearTimeout,G$=!0,q$=t=>{t()},V$=-1;function Y$(t,e){return!1}const K$=!1,X$=!1,Q$=!0,W$=!1,J$=!1;function $$(t,e){e.parent===t?e.moveToTop():t.add(e),nf(t)}function Z$(t,e){e.parent===t?e.moveToTop():t.add(e),nf(t)}function kR(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),nf(t)}function eZ(t,e,n){kR(t,e,n)}function tZ(t,e){e.destroy(),e.off(mx),nf(t)}function nZ(t,e){e.destroy(),e.off(mx),nf(t)}function rZ(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function iZ(t,e,n){}function sZ(t,e,n,r){d2(t,r,n)}function aZ(t){t.hide(),nf(t)}function oZ(t){}function lZ(t,e){(e.visible==null||e.visible)&&t.show()}function cZ(t,e){}function uZ(t){}function fZ(){}function dZ(){return null}function hZ(){}function pZ(){}function mZ(){return f2.DefaultEventPriority}function gZ(){}function yZ(){return null}function bZ(t){ER=t}function vZ(){return ER}function xZ(){return f2.DiscreteEventPriority}function SZ(){return!1}function wZ(){}function CZ(){return null}function EZ(){return-1.1}function kZ(){}function TZ(){return!1}function _Z(){return!0}function MZ(){}function AZ(){}function NZ(){return null}const RZ=null,OZ=Ye.createContext(null);function DZ(){}const zZ=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:OZ,NotPendingTransition:RZ,afterActiveInstanceBlur:pZ,appendChild:$$,appendChildToContainer:Z$,appendInitialChild:M$,beforeActiveInstanceBlur:hZ,cancelTimeout:F$,clearContainer:uZ,commitMount:iZ,commitTextUpdate:rZ,commitUpdate:sZ,createInstance:A$,createTextInstance:N$,detachDeletedInstance:fZ,finalizeInitialChildren:R$,getChildHostContext:H$,getCurrentEventPriority:mZ,getCurrentUpdatePriority:vZ,getInstanceFromNode:dZ,getInstanceFromScope:yZ,getPublicInstance:O$,getRootHostContext:I$,hideInstance:aZ,hideTextInstance:oZ,idlePriority:vw.unstable_IdlePriority,insertBefore:kR,insertInContainerBefore:eZ,isPrimaryRenderer:K$,maySuspendCommit:TZ,noTimeout:V$,now:vw.unstable_now,preloadInstance:_Z,prepareForCommit:D$,preparePortalMount:z$,prepareScopeUpdate:gZ,prepareUpdate:j$,removeChild:tZ,removeChildFromContainer:nZ,requestPostPaintCallback:kZ,resetAfterCommit:L$,resetFormInstance:DZ,resetTextContent:P$,resolveEventTimeStamp:EZ,resolveEventType:CZ,resolveUpdatePriority:xZ,run:vw.unstable_runWithPriority,scheduleMicrotask:q$,scheduleTimeout:U$,setCurrentUpdatePriority:bZ,shouldAttemptEagerTransition:SZ,shouldDeprioritizeSubtree:B$,shouldSetTextContent:Y$,startSuspendingCommit:MZ,supportsHydration:J$,supportsMicrotasks:G$,supportsMutation:Q$,supportsPersistence:W$,suspendInstance:AZ,trackSchedulerEvent:wZ,unhideInstance:lZ,unhideTextInstance:cZ,waitForCommitToBeReady:NZ,warnsIfNotActing:X$},Symbol.toStringTag,{value:"Module"}));function TR(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=TR(r,e,n);if(i)return i;r=r.sibling}}function _R(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const X3=_R(N.createContext(null));class MR extends N.Component{render(){return N.createElement(X3.Provider,{value:this._reactInternals},this.props.children)}}function jZ(){const t=N.useContext(X3);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const r=TR(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[t,e])}const LZ=Symbol.for("react.context"),PZ=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===LZ;function BZ(){const t=jZ(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const r=n.type;PZ(r)&&r!==X3&&!e.has(r)&&e.set(r,N.use(_R(r))),n=n.return}return e}function IZ(){const t=BZ();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>N.createElement(e,null,N.createElement(n.Provider,{...r,value:t.get(n)})),e=>N.createElement(MR,{...e})),[t])}if(Ye.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function HZ(t){const e=Ye.useRef({});return Ye.useLayoutEffect(()=>{e.current=t}),Ye.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const UZ=()=>{const t=Ye.useRef(0);return Ye.useMemo(()=>{t.current++},[]),t.current>1},FZ=t=>{const e=Ye.useRef(null),n=Ye.useRef(null),r=Ye.useRef(null),i=HZ(t),s=IZ(),a=Ye.useRef(null),l=m=>{const{forwardedRef:g}=t;g&&(typeof g=="function"?g(m):g.current=m)},u=UZ(),d=()=>{l(null),Hb.updateContainer(null,r.current,null),n.current?.destroy(),n.current=null};return Ye.useLayoutEffect(()=>(a.current&&(clearTimeout(a.current),a.current=null),n.current?l(n.current):(n.current=new zp.Stage({width:t.width,height:t.height,container:e.current}),l(n.current),r.current=Hb.createContainer(n.current,f2.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Hb.updateContainer(Ye.createElement(s,{},t.children),r.current,null,()=>{})),()=>{u?a.current=setTimeout(d,0):d()}),[]),Ye.useLayoutEffect(()=>{l(n.current),d2(n.current,t,i),Hb.updateContainer(Ye.createElement(s,{},t.children),r.current,null)}),Ye.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},GZ="Layer",qZ="Rect",VZ="Circle",YZ="Line",Hb=S$(zZ),KZ=Ye.forwardRef((t,e)=>Ye.createElement(MR,{},Ye.createElement(FZ,{...t,forwardedRef:e}))),AR=()=>{const[t,e]=N.useState("pen"),[n,r]=N.useState("#000000"),[i,s]=N.useState([]),a=N.useRef(!1),l=g=>{a.current=!0;const b=g.target.getStage().getPointerPosition();t==="pen"||t==="eraser"?s([...i,{id:Date.now().toString(),tool:t,points:[b.x,b.y],color:t==="eraser"?"#ffffff":n}]):t==="rect"?s([...i,{id:Date.now().toString(),tool:"rect",x:b.x,y:b.y,width:0,height:0,color:n}]):t==="circle"&&s([...i,{id:Date.now().toString(),tool:"circle",x:b.x,y:b.y,radius:0,color:n}])},u=g=>{if(!a.current)return;const x=g.target.getStage().getPointerPosition();let S=i[i.length-1];if(t==="pen"||t==="eraser")S.points=S.points.concat([x.x,x.y]);else if(t==="rect")S.width=x.x-S.x,S.height=x.y-S.y;else if(t==="circle"){const k=x.x-S.x,_=x.y-S.y;S.radius=Math.sqrt(k*k+_*_)}i.splice(i.length-1,1,S),s(i.concat())},d=()=>{a.current=!1},m=()=>{confirm("Clear whiteboard?")&&s([])};return E.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 relative",children:[E.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 shadow-lg rounded-full px-4 py-2 flex items-center gap-4 z-10 border border-gray-200 dark:border-gray-700",children:[E.jsx("button",{onClick:()=>e("pen"),className:`p-2 rounded-full transition-colors ${t==="pen"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(oV,{size:20})}),E.jsx("button",{onClick:()=>e("eraser"),className:`p-2 rounded-full transition-colors ${t==="eraser"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(Vq,{size:20})}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),E.jsx("button",{onClick:()=>e("rect"),className:`p-2 rounded-full transition-colors ${t==="rect"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(hV,{size:20})}),E.jsx("button",{onClick:()=>e("circle"),className:`p-2 rounded-full transition-colors ${t==="circle"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(Uq,{size:20})}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),E.jsx("input",{type:"color",value:n,onChange:g=>r(g.target.value),className:"w-8 h-8 rounded-full border-none cursor-pointer bg-transparent"}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),E.jsx("button",{onClick:m,className:"p-2 rounded-full text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:E.jsx(zC,{size:20})})]}),E.jsx(KZ,{width:window.innerWidth,height:window.innerHeight,onMouseDown:l,onMousemove:u,onMouseup:d,className:"bg-dot-pattern",style:{cursor:t==="pen"?"crosshair":"default"},children:E.jsx(GZ,{children:i.map((g,b)=>g.tool==="pen"||g.tool==="eraser"?E.jsx(YZ,{points:g.points,stroke:g.color,strokeWidth:g.tool==="eraser"?20:5,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:g.tool==="eraser"?"destination-out":"source-over"},b):g.tool==="rect"?E.jsx(qZ,{x:g.x,y:g.y,width:g.width,height:g.height,stroke:g.color,strokeWidth:4},b):g.tool==="circle"?E.jsx(VZ,{x:g.x,y:g.y,radius:g.radius,stroke:g.color,strokeWidth:4},b):null)})})]})};function XZ(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const QZ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WZ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JZ={};function F_(t,e){return(JZ.jsx?WZ:QZ).test(t)}const $Z=/[ \t\n\f\r]/g;function ZZ(t){return typeof t=="object"?t.type==="text"?G_(t.value):!1:G_(t)}function G_(t){return t.replace($Z,"")===""}class uy{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}uy.prototype.normal={};uy.prototype.property={};uy.prototype.space=void 0;function NR(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new uy(n,r,e)}function JC(t){return t.toLowerCase()}class qs{constructor(e,n){this.attribute=n,this.property=e}}qs.prototype.attribute="";qs.prototype.booleanish=!1;qs.prototype.boolean=!1;qs.prototype.commaOrSpaceSeparated=!1;qs.prototype.commaSeparated=!1;qs.prototype.defined=!1;qs.prototype.mustUseProperty=!1;qs.prototype.number=!1;qs.prototype.overloadedBoolean=!1;qs.prototype.property="";qs.prototype.spaceSeparated=!1;qs.prototype.space=void 0;let eee=0;const vt=zd(),_r=zd(),$C=zd(),Ne=zd(),yn=zd(),wp=zd(),Js=zd();function zd(){return 2**++eee}const ZC=Object.freeze(Object.defineProperty({__proto__:null,boolean:vt,booleanish:_r,commaOrSpaceSeparated:Js,commaSeparated:wp,number:Ne,overloadedBoolean:$C,spaceSeparated:yn},Symbol.toStringTag,{value:"Module"})),xw=Object.keys(ZC);class Q3 extends qs{constructor(e,n,r,i){let s=-1;if(super(e,n),q_(this,"space",i),typeof r=="number")for(;++s<xw.length;){const a=xw[s];q_(this,xw[s],(r&ZC[a])===ZC[a])}}}Q3.prototype.defined=!0;function q_(t,e,n){n&&(t[e]=n)}function Xp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Q3(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[JC(r)]=r,n[JC(s.attribute)]=r}return new uy(e,n,t.space)}const RR=Xp({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:yn,ariaCurrent:null,ariaDescribedBy:yn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:yn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:yn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yn,ariaLevel:Ne,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:yn,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:yn,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:_r,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function OR(t,e){return e in t?t[e]:e}function DR(t,e){return OR(t,e.toLowerCase())}const tee=Xp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wp,acceptCharset:yn,accessKey:yn,action:null,allow:null,allowFullScreen:vt,allowPaymentRequest:vt,allowUserMedia:vt,alt:null,as:null,async:vt,autoCapitalize:null,autoComplete:yn,autoFocus:vt,autoPlay:vt,blocking:yn,capture:null,charSet:null,checked:vt,cite:null,className:yn,cols:Ne,colSpan:null,content:null,contentEditable:_r,controls:vt,controlsList:yn,coords:Ne|wp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vt,defer:vt,dir:null,dirName:null,disabled:vt,download:$C,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vt,formTarget:null,headers:yn,height:Ne,hidden:$C,high:Ne,href:null,hrefLang:null,htmlFor:yn,httpEquiv:yn,id:null,imageSizes:null,imageSrcSet:null,inert:vt,inputMode:null,integrity:null,is:null,isMap:vt,itemId:null,itemProp:yn,itemRef:yn,itemScope:vt,itemType:yn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vt,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:vt,muted:vt,name:null,nonce:null,noModule:vt,noValidate:vt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vt,optimum:Ne,pattern:null,ping:yn,placeholder:null,playsInline:vt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vt,referrerPolicy:null,rel:yn,required:vt,reversed:vt,rows:Ne,rowSpan:Ne,sandbox:yn,scope:null,scoped:vt,seamless:vt,selected:vt,shadowRootClonable:vt,shadowRootDelegatesFocus:vt,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:vt,useMap:null,value:_r,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yn,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vt,declare:vt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:vt,noHref:vt,noShade:vt,noWrap:vt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vt,disableRemotePlayback:vt,prefix:null,property:null,results:Ne,security:null,unselectable:null},space:"html",transform:DR}),nee=Xp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Js,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:yn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:vt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wp,g2:wp,glyphName:wp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Js,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Js,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Js,rev:Js,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Js,requiredFeatures:Js,requiredFonts:Js,requiredFormats:Js,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Js,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Js,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Js,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:OR}),zR=Xp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),jR=Xp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:DR}),LR=Xp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ree={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iee=/[A-Z]/g,V_=/-[a-z]/g,see=/^data[-\w.:]+$/i;function aee(t,e){const n=JC(e);let r=e,i=qs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&see.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(V_,lee);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!V_.test(s)){let a=s.replace(iee,oee);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=Q3}return new i(r,e)}function oee(t){return"-"+t.toLowerCase()}function lee(t){return t.charAt(1).toUpperCase()}const cee=NR([RR,tee,zR,jR,LR],"html"),W3=NR([RR,nee,zR,jR,LR],"svg");function uee(t){return t.join(" ").trim()}var op={},Sw,Y_;function fee(){if(Y_)return Sw;Y_=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",m="*",g="",b="comment",x="declaration";function S(_,A){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];A=A||{};var O=1,z=1;function L(Z){var te=Z.match(e);te&&(O+=te.length);var V=Z.lastIndexOf(u);z=~V?Z.length-V:z+Z.length}function I(){var Z={line:O,column:z};return function(te){return te.position=new j(Z),Q(),te}}function j(Z){this.start=Z,this.end={line:O,column:z},this.source=A.source}j.prototype.content=_;function P(Z){var te=new Error(A.source+":"+O+":"+z+": "+Z);if(te.reason=Z,te.filename=A.source,te.line=O,te.column=z,te.source=_,!A.silent)throw te}function H(Z){var te=Z.exec(_);if(te){var V=te[0];return L(V),_=_.slice(V.length),te}}function Q(){H(n)}function q(Z){var te;for(Z=Z||[];te=X();)te!==!1&&Z.push(te);return Z}function X(){var Z=I();if(!(d!=_.charAt(0)||m!=_.charAt(1))){for(var te=2;g!=_.charAt(te)&&(m!=_.charAt(te)||d!=_.charAt(te+1));)++te;if(te+=2,g===_.charAt(te-1))return P("End of comment missing");var V=_.slice(2,te-2);return z+=2,L(V),_=_.slice(te),z+=2,Z({type:b,comment:V})}}function W(){var Z=I(),te=H(r);if(te){if(X(),!H(i))return P("property missing ':'");var V=H(s),re=Z({type:x,property:k(te[0].replace(t,g)),value:V?k(V[0].replace(t,g)):g});return H(a),re}}function le(){var Z=[];q(Z);for(var te;te=W();)te!==!1&&(Z.push(te),q(Z));return Z}return Q(),le()}function k(_){return _?_.replace(l,g):g}return Sw=S,Sw}var K_;function dee(){if(K_)return op;K_=1;var t=op&&op.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(op,"__esModule",{value:!0}),op.default=n;const e=t(fee());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,e.default)(r),l=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:m}=u;l?i(d,m,u):m&&(s=s||{},s[d]=m)}),s}return op}var Fg={},X_;function hee(){if(X_)return Fg;X_=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||n.test(d)||t.test(d)},a=function(d,m){return m.toUpperCase()},l=function(d,m){return"".concat(m,"-")},u=function(d,m){return m===void 0&&(m={}),s(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,a))};return Fg.camelCase=u,Fg}var Gg,Q_;function pee(){if(Q_)return Gg;Q_=1;var t=Gg&&Gg.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(dee()),n=hee();function r(i,s){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(a[(0,n.camelCase)(l,s)]=u)}),a}return r.default=r,Gg=r,Gg}var mee=pee();const gee=Pp(mee),PR=BR("end"),J3=BR("start");function BR(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function yee(t){const e=J3(t),n=PR(t);if(e&&n)return{start:e,end:n}}function x0(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?W_(t.position):"start"in t||"end"in t?W_(t):"line"in t||"column"in t?eE(t):""}function eE(t){return J_(t&&t.line)+":"+J_(t&&t.column)}function W_(t){return eE(t&&t.start)+"-"+eE(t&&t.end)}function J_(t){return t&&typeof t=="number"?t:1}class Fi extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=x0(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fi.prototype.file="";Fi.prototype.name="";Fi.prototype.reason="";Fi.prototype.message="";Fi.prototype.stack="";Fi.prototype.column=void 0;Fi.prototype.line=void 0;Fi.prototype.ancestors=void 0;Fi.prototype.cause=void 0;Fi.prototype.fatal=void 0;Fi.prototype.place=void 0;Fi.prototype.ruleId=void 0;Fi.prototype.source=void 0;const $3={}.hasOwnProperty,bee=new Map,vee=/[A-Z]/g,xee=new Set(["table","tbody","thead","tfoot","tr"]),See=new Set(["td","th"]),IR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wee(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Nee(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Aee(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?W3:cee,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=HR(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function HR(t,e,n){if(e.type==="element")return Cee(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Eee(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Tee(t,e,n);if(e.type==="mdxjsEsm")return kee(t,e);if(e.type==="root")return _ee(t,e,n);if(e.type==="text")return Mee(t,e)}function Cee(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=W3,t.schema=i),t.ancestors.push(e);const s=FR(t,e.tagName,!1),a=Ree(t,e);let l=e4(t,e);return xee.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!ZZ(u):!0})),UR(t,a,s,e),Z3(a,l),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function Eee(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}V0(t,e.position)}function kee(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);V0(t,e.position)}function Tee(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=W3,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:FR(t,e.name,!0),a=Oee(t,e),l=e4(t,e);return UR(t,a,s,e),Z3(a,l),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function _ee(t,e,n){const r={};return Z3(r,e4(t,e)),t.create(e,t.Fragment,r,n)}function Mee(t,e){return e.value}function UR(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Z3(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Aee(t,e,n){return r;function r(i,s,a,l){const d=Array.isArray(a.children)?n:e;return l?d(s,a,l):d(s,a)}}function Nee(t,e){return n;function n(r,i,s,a){const l=Array.isArray(s.children),u=J3(r);return e(i,s,a,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function Ree(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&$3.call(e.properties,i)){const s=Dee(t,i,e.properties[i]);if(s){const[a,l]=s;t.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&See.has(e.tagName)?r=l:n[a]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Oee(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else V0(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else V0(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function e4(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:bee;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const l=HR(t,s,a);l!==void 0&&n.push(l)}return n}function Dee(t,e,n){const r=aee(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?XZ(n):uee(n)),r.property==="style"){let i=typeof n=="object"?n:zee(t,String(n));return t.stylePropertyNameCase==="css"&&(i=jee(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?ree[r.property]||r.property:r.attribute,n]}}function zee(t,e){try{return gee(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Fi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=IR+"#cannot-parse-style-attribute",i}}function FR(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const l=F_(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=a}else r=F_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return $3.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);V0(t)}function V0(t,e){const n=new Fi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=IR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jee(t){const e={};let n;for(n in t)$3.call(t,n)&&(e[Lee(n)]=t[n]);return e}function Lee(t){let e=t.replace(vee,Pee);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Pee(t){return"-"+t.toLowerCase()}const ww={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Bee={};function t4(t,e){const n=Bee,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return GR(t,r,i)}function GR(t,e,n){if(Iee(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return $_(t.children,e,n)}return Array.isArray(t)?$_(t,e,n):""}function $_(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=GR(t[i],e,n);return r.join("")}function Iee(t){return!!(t&&typeof t=="object")}const Z_=document.createElement("i");function n4(t){const e="&"+t+";";Z_.innerHTML=e;const n=Z_.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ia(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Ia(t,e){return t.length>0?(ia(t,t.length,0,e),t):e}const e6={}.hasOwnProperty;function qR(t){const e={};let n=-1;for(;++n<t.length;)Hee(e,t[n]);return e}function Hee(t,e){let n;for(n in e){const i=(e6.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){e6.call(i,a)||(i[a]=[]);const l=s[a];Uee(i[a],Array.isArray(l)?l:l?[l]:[])}}}function Uee(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ia(t,0,0,r)}function VR(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function yo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const us=rf(/[A-Za-z]/),Hi=rf(/[\dA-Za-z]/),Fee=rf(/[#-'*+\--9=?A-Z^-~]/);function gx(t){return t!==null&&(t<32||t===127)}const tE=rf(/\d/),Gee=rf(/[\dA-Fa-f]/),qee=rf(/[!-/:-@[-`{-~]/);function tt(t){return t!==null&&t<-2}function on(t){return t!==null&&(t<0||t===32)}function Dt(t){return t===-2||t===-1||t===32}const h2=rf(new RegExp("\\p{P}|\\p{S}","u")),Cd=rf(/\s/);function rf(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Qp(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Hi(t.charCodeAt(n+1))&&Hi(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ht(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return Dt(u)?(t.enter(n),l(u)):e(u)}function l(u){return Dt(u)&&s++<i?(t.consume(u),l):(t.exit(n),e(u))}}const Vee={tokenize:Yee};function Yee(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Ht(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return tt(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),a)}}const Kee={tokenize:Xee},t6={tokenize:Qee};function Xee(t){const e=this,n=[];let r=0,i,s,a;return l;function l(z){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,u,d)(z)}return d(z)}function u(z){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&O();const L=e.events.length;let I=L,j;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){j=e.events[I][1].end;break}A(r);let P=L;for(;P<e.events.length;)e.events[P][1].end={...j},P++;return ia(e.events,I+1,0,e.events.slice(L)),e.events.length=P,d(z)}return l(z)}function d(z){if(r===n.length){if(!i)return b(z);if(i.currentConstruct&&i.currentConstruct.concrete)return S(z);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(t6,m,g)(z)}function m(z){return i&&O(),A(r),b(z)}function g(z){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,S(z)}function b(z){return e.containerState={},t.attempt(t6,x,S)(z)}function x(z){return r++,n.push([e.currentConstruct,e.containerState]),b(z)}function S(z){if(z===null){i&&O(),A(0),t.consume(z);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(z)}function k(z){if(z===null){_(t.exit("chunkFlow"),!0),A(0),t.consume(z);return}return tt(z)?(t.consume(z),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(z),k)}function _(z,L){const I=e.sliceStream(z);if(L&&I.push(null),z.previous=s,s&&(s.next=z),s=z,i.defineSkip(z.start),i.write(I),e.parser.lazy[z.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<a&&(!i.events[j][1].end||i.events[j][1].end.offset>a))return;const P=e.events.length;let H=P,Q,q;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){if(Q){q=e.events[H][1].end;break}Q=!0}for(A(r),j=P;j<e.events.length;)e.events[j][1].end={...q},j++;ia(e.events,H+1,0,e.events.slice(P)),e.events.length=j}}function A(z){let L=n.length;for(;L-- >z;){const I=n[L];e.containerState=I[1],I[0].exit.call(e,t)}n.length=z}function O(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Qee(t,e,n){return Ht(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jp(t){if(t===null||on(t)||Cd(t))return 1;if(h2(t))return 2}function p2(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const nE={name:"attention",resolveAll:Wee,tokenize:Jee};function Wee(t,e){let n=-1,r,i,s,a,l,u,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},b={...t[n][1].start};n6(g,-u),n6(b,u),a={type:u>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ia(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ia(d,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),d=Ia(d,p2(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ia(d,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=Ia(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,ia(t,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Jee(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=jp(r);let s;return a;function a(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;const d=t.exit("attentionSequence"),m=jp(u),g=!m||m===2&&i||n.includes(u),b=!i||i===2&&m||n.includes(r);return d._open=!!(s===42?g:g&&(i||!b)),d._close=!!(s===42?b:b&&(m||!g)),e(u)}}function n6(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const $ee={name:"autolink",tokenize:Zee};function Zee(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(x){return us(x)?(t.consume(x),a):x===64?n(x):d(x)}function a(x){return x===43||x===45||x===46||Hi(x)?(r=1,l(x)):d(x)}function l(x){return x===58?(t.consume(x),r=0,u):(x===43||x===45||x===46||Hi(x))&&r++<32?(t.consume(x),l):(r=0,d(x))}function u(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||gx(x)?n(x):(t.consume(x),u)}function d(x){return x===64?(t.consume(x),m):Fee(x)?(t.consume(x),d):n(x)}function m(x){return Hi(x)?g(x):n(x)}function g(x){return x===46?(t.consume(x),r=0,m):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):b(x)}function b(x){if((x===45||Hi(x))&&r++<63){const S=x===45?b:g;return t.consume(x),S}return n(x)}}const fy={partial:!0,tokenize:ete};function ete(t,e,n){return r;function r(s){return Dt(s)?Ht(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||tt(s)?e(s):n(s)}}const YR={continuation:{tokenize:nte},exit:rte,name:"blockQuote",tokenize:tte};function tte(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Dt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function nte(t,e,n){const r=this;return i;function i(a){return Dt(a)?Ht(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(YR,e,n)(a)}}function rte(t){t.exit("blockQuote")}const KR={name:"characterEscape",tokenize:ite};function ite(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return qee(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const XR={name:"characterReference",tokenize:ste};function ste(t,e,n){const r=this;let i=0,s,a;return l;function l(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),u}function u(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,a=Hi,m(g))}function d(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=Gee,m):(t.enter("characterReferenceValue"),s=7,a=tE,m(g))}function m(g){if(g===59&&i){const b=t.exit("characterReferenceValue");return a===Hi&&!n4(r.sliceSerialize(b))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(g)&&i++<s?(t.consume(g),m):n(g)}}const r6={partial:!0,tokenize:ote},i6={concrete:!0,name:"codeFenced",tokenize:ate};function ate(t,e,n){const r=this,i={partial:!0,tokenize:I};let s=0,a=0,l;return u;function u(j){return d(j)}function d(j){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(j)}function m(j){return j===l?(a++,t.consume(j),m):a<3?n(j):(t.exit("codeFencedFenceSequence"),Dt(j)?Ht(t,g,"whitespace")(j):g(j))}function g(j){return j===null||tt(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(r6,k,L)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(j))}function b(j){return j===null||tt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(j)):Dt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ht(t,x,"whitespace")(j)):j===96&&j===l?n(j):(t.consume(j),b)}function x(j){return j===null||tt(j)?g(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(j))}function S(j){return j===null||tt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(j)):j===96&&j===l?n(j):(t.consume(j),S)}function k(j){return t.attempt(i,L,_)(j)}function _(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),A}function A(j){return s>0&&Dt(j)?Ht(t,O,"linePrefix",s+1)(j):O(j)}function O(j){return j===null||tt(j)?t.check(r6,k,L)(j):(t.enter("codeFlowValue"),z(j))}function z(j){return j===null||tt(j)?(t.exit("codeFlowValue"),O(j)):(t.consume(j),z)}function L(j){return t.exit("codeFenced"),e(j)}function I(j,P,H){let Q=0;return q;function q(te){return j.enter("lineEnding"),j.consume(te),j.exit("lineEnding"),X}function X(te){return j.enter("codeFencedFence"),Dt(te)?Ht(j,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):W(te)}function W(te){return te===l?(j.enter("codeFencedFenceSequence"),le(te)):H(te)}function le(te){return te===l?(Q++,j.consume(te),le):Q>=a?(j.exit("codeFencedFenceSequence"),Dt(te)?Ht(j,Z,"whitespace")(te):Z(te)):H(te)}function Z(te){return te===null||tt(te)?(j.exit("codeFencedFence"),P(te)):H(te)}}}function ote(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const Cw={name:"codeIndented",tokenize:cte},lte={partial:!0,tokenize:ute};function cte(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Ht(t,s,"linePrefix",5)(d)}function s(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):tt(d)?t.attempt(lte,a,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||tt(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function ute(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):tt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Ht(t,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):tt(a)?i(a):n(a)}}const fte={name:"codeText",previous:hte,resolve:dte,tokenize:pte};function dte(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function hte(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pte(t,e,n){let r=0,i,s;return a;function a(g){return t.enter("codeText"),t.enter("codeTextSequence"),l(g)}function l(g){return g===96?(t.consume(g),r++,l):(t.exit("codeTextSequence"),u(g))}function u(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),u):g===96?(s=t.enter("codeTextSequence"),i=0,m(g)):tt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||tt(g)?(t.exit("codeTextData"),u(g)):(t.consume(g),d)}function m(g){return g===96?(t.consume(g),i++,m):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(s.type="codeTextData",d(g))}}class mte{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&qg(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),qg(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),qg(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);qg(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);qg(this.left,n.reverse())}}}function qg(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function QR(t){const e={};let n=-1,r,i,s,a,l,u,d;const m=new mte(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,gte(m,n)),n=e[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=m.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...m.get(i)[1].start},l=m.slice(i,n),l.unshift(r),m.splice(i,n-i+1,l))}}return ia(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function gte(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],d={};let m,g,b=-1,x=n,S=0,k=0;const _=[k];for(;x;){for(;t.get(++i)[1]!==x;);s.push(i),x._tokenizer||(m=r.sliceStream(x),x.next||m.push(null),g&&a.defineSkip(x.start),x._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(m),x._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=n;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(k=b+1,_.push(k),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(a.events=[],x?(x._tokenizer=void 0,x.previous=void 0):_.pop(),b=_.length;b--;){const A=l.slice(_[b],_[b+1]),O=s.pop();u.push([O,O+A.length-1]),t.splice(O,2,A)}for(u.reverse(),b=-1;++b<u.length;)d[S+u[b][0]]=S+u[b][1],S+=u[b][1]-u[b][0]-1;return d}const yte={resolve:vte,tokenize:xte},bte={partial:!0,tokenize:Ste};function vte(t){return QR(t),t}function xte(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):tt(l)?t.check(bte,a,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ste(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ht(t,s,"linePrefix")}function s(a){if(a===null||tt(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function WR(t,e,n,r,i,s,a,l,u){const d=u||Number.POSITIVE_INFINITY;let m=0;return g;function g(A){return A===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(A),t.exit(s),b):A===null||A===32||A===41||gx(A)?n(A):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),k(A))}function b(A){return A===62?(t.enter(s),t.consume(A),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),x(A))}function x(A){return A===62?(t.exit("chunkString"),t.exit(l),b(A)):A===null||A===60||tt(A)?n(A):(t.consume(A),A===92?S:x)}function S(A){return A===60||A===62||A===92?(t.consume(A),x):x(A)}function k(A){return!m&&(A===null||A===41||on(A))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(A)):m<d&&A===40?(t.consume(A),m++,k):A===41?(t.consume(A),m--,k):A===null||A===32||A===40||gx(A)?n(A):(t.consume(A),A===92?_:k)}function _(A){return A===40||A===41||A===92?(t.consume(A),k):k(A)}}function JR(t,e,n,r,i,s){const a=this;let l=0,u;return d;function d(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(s),m}function m(x){return l>999||x===null||x===91||x===93&&!u||x===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(x):x===93?(t.exit(s),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):tt(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||tt(x)||l++>999?(t.exit("chunkString"),m(x)):(t.consume(x),u||(u=!Dt(x)),x===92?b:g)}function b(x){return x===91||x===92||x===93?(t.consume(x),l++,g):g(x)}}function $R(t,e,n,r,i,s){let a;return l;function l(b){return b===34||b===39||b===40?(t.enter(r),t.enter(i),t.consume(b),t.exit(i),a=b===40?41:b,u):n(b)}function u(b){return b===a?(t.enter(i),t.consume(b),t.exit(i),t.exit(r),e):(t.enter(s),d(b))}function d(b){return b===a?(t.exit(s),u(a)):b===null?n(b):tt(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),Ht(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===a||b===null||tt(b)?(t.exit("chunkString"),d(b)):(t.consume(b),b===92?g:m)}function g(b){return b===a||b===92?(t.consume(b),m):m(b)}}function S0(t,e){let n;return r;function r(i){return tt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Dt(i)?Ht(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const wte={name:"definition",tokenize:Ete},Cte={partial:!0,tokenize:kte};function Ete(t,e,n){const r=this;let i;return s;function s(x){return t.enter("definition"),a(x)}function a(x){return JR.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function l(x){return i=yo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),u):n(x)}function u(x){return on(x)?S0(t,d)(x):d(x)}function d(x){return WR(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return t.attempt(Cte,g,g)(x)}function g(x){return Dt(x)?Ht(t,b,"whitespace")(x):b(x)}function b(x){return x===null||tt(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function kte(t,e,n){return r;function r(l){return on(l)?S0(t,i)(l):n(l)}function i(l){return $R(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Dt(l)?Ht(t,a,"whitespace")(l):a(l)}function a(l){return l===null||tt(l)?e(l):n(l)}}const Tte={name:"hardBreakEscape",tokenize:_te};function _te(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return tt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Mte={name:"headingAtx",resolve:Ate,tokenize:Nte};function Ate(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ia(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Nte(t,e,n){let r=0;return i;function i(m){return t.enter("atxHeading"),s(m)}function s(m){return t.enter("atxHeadingSequence"),a(m)}function a(m){return m===35&&r++<6?(t.consume(m),a):m===null||on(m)?(t.exit("atxHeadingSequence"),l(m)):n(m)}function l(m){return m===35?(t.enter("atxHeadingSequence"),u(m)):m===null||tt(m)?(t.exit("atxHeading"),e(m)):Dt(m)?Ht(t,l,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function u(m){return m===35?(t.consume(m),u):(t.exit("atxHeadingSequence"),l(m))}function d(m){return m===null||m===35||on(m)?(t.exit("atxHeadingText"),l(m)):(t.consume(m),d)}}const Rte=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],s6=["pre","script","style","textarea"],Ote={concrete:!0,name:"htmlFlow",resolveTo:jte,tokenize:Lte},Dte={partial:!0,tokenize:Bte},zte={partial:!0,tokenize:Pte};function jte(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Lte(t,e,n){const r=this;let i,s,a,l,u;return d;function d(F){return m(F)}function m(F){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(F),g}function g(F){return F===33?(t.consume(F),b):F===47?(t.consume(F),s=!0,k):F===63?(t.consume(F),i=3,r.interrupt?e:G):us(F)?(t.consume(F),a=String.fromCharCode(F),_):n(F)}function b(F){return F===45?(t.consume(F),i=2,x):F===91?(t.consume(F),i=5,l=0,S):us(F)?(t.consume(F),i=4,r.interrupt?e:G):n(F)}function x(F){return F===45?(t.consume(F),r.interrupt?e:G):n(F)}function S(F){const we="CDATA[";return F===we.charCodeAt(l++)?(t.consume(F),l===we.length?r.interrupt?e:W:S):n(F)}function k(F){return us(F)?(t.consume(F),a=String.fromCharCode(F),_):n(F)}function _(F){if(F===null||F===47||F===62||on(F)){const we=F===47,Be=a.toLowerCase();return!we&&!s&&s6.includes(Be)?(i=1,r.interrupt?e(F):W(F)):Rte.includes(a.toLowerCase())?(i=6,we?(t.consume(F),A):r.interrupt?e(F):W(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):s?O(F):z(F))}return F===45||Hi(F)?(t.consume(F),a+=String.fromCharCode(F),_):n(F)}function A(F){return F===62?(t.consume(F),r.interrupt?e:W):n(F)}function O(F){return Dt(F)?(t.consume(F),O):q(F)}function z(F){return F===47?(t.consume(F),q):F===58||F===95||us(F)?(t.consume(F),L):Dt(F)?(t.consume(F),z):q(F)}function L(F){return F===45||F===46||F===58||F===95||Hi(F)?(t.consume(F),L):I(F)}function I(F){return F===61?(t.consume(F),j):Dt(F)?(t.consume(F),I):z(F)}function j(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),u=F,P):Dt(F)?(t.consume(F),j):H(F)}function P(F){return F===u?(t.consume(F),u=null,Q):F===null||tt(F)?n(F):(t.consume(F),P)}function H(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||on(F)?I(F):(t.consume(F),H)}function Q(F){return F===47||F===62||Dt(F)?z(F):n(F)}function q(F){return F===62?(t.consume(F),X):n(F)}function X(F){return F===null||tt(F)?W(F):Dt(F)?(t.consume(F),X):n(F)}function W(F){return F===45&&i===2?(t.consume(F),V):F===60&&i===1?(t.consume(F),re):F===62&&i===4?(t.consume(F),Y):F===63&&i===3?(t.consume(F),G):F===93&&i===5?(t.consume(F),de):tt(F)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Dte,ie,le)(F)):F===null||tt(F)?(t.exit("htmlFlowData"),le(F)):(t.consume(F),W)}function le(F){return t.check(zte,Z,ie)(F)}function Z(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),te}function te(F){return F===null||tt(F)?le(F):(t.enter("htmlFlowData"),W(F))}function V(F){return F===45?(t.consume(F),G):W(F)}function re(F){return F===47?(t.consume(F),a="",ee):W(F)}function ee(F){if(F===62){const we=a.toLowerCase();return s6.includes(we)?(t.consume(F),Y):W(F)}return us(F)&&a.length<8?(t.consume(F),a+=String.fromCharCode(F),ee):W(F)}function de(F){return F===93?(t.consume(F),G):W(F)}function G(F){return F===62?(t.consume(F),Y):F===45&&i===2?(t.consume(F),G):W(F)}function Y(F){return F===null||tt(F)?(t.exit("htmlFlowData"),ie(F)):(t.consume(F),Y)}function ie(F){return t.exit("htmlFlow"),e(F)}}function Pte(t,e,n){const r=this;return i;function i(a){return tt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function Bte(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(fy,e,n)}}const Ite={name:"htmlText",tokenize:Hte};function Hte(t,e,n){const r=this;let i,s,a;return l;function l(G){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(G),u}function u(G){return G===33?(t.consume(G),d):G===47?(t.consume(G),I):G===63?(t.consume(G),z):us(G)?(t.consume(G),H):n(G)}function d(G){return G===45?(t.consume(G),m):G===91?(t.consume(G),s=0,S):us(G)?(t.consume(G),O):n(G)}function m(G){return G===45?(t.consume(G),x):n(G)}function g(G){return G===null?n(G):G===45?(t.consume(G),b):tt(G)?(a=g,re(G)):(t.consume(G),g)}function b(G){return G===45?(t.consume(G),x):g(G)}function x(G){return G===62?V(G):G===45?b(G):g(G)}function S(G){const Y="CDATA[";return G===Y.charCodeAt(s++)?(t.consume(G),s===Y.length?k:S):n(G)}function k(G){return G===null?n(G):G===93?(t.consume(G),_):tt(G)?(a=k,re(G)):(t.consume(G),k)}function _(G){return G===93?(t.consume(G),A):k(G)}function A(G){return G===62?V(G):G===93?(t.consume(G),A):k(G)}function O(G){return G===null||G===62?V(G):tt(G)?(a=O,re(G)):(t.consume(G),O)}function z(G){return G===null?n(G):G===63?(t.consume(G),L):tt(G)?(a=z,re(G)):(t.consume(G),z)}function L(G){return G===62?V(G):z(G)}function I(G){return us(G)?(t.consume(G),j):n(G)}function j(G){return G===45||Hi(G)?(t.consume(G),j):P(G)}function P(G){return tt(G)?(a=P,re(G)):Dt(G)?(t.consume(G),P):V(G)}function H(G){return G===45||Hi(G)?(t.consume(G),H):G===47||G===62||on(G)?Q(G):n(G)}function Q(G){return G===47?(t.consume(G),V):G===58||G===95||us(G)?(t.consume(G),q):tt(G)?(a=Q,re(G)):Dt(G)?(t.consume(G),Q):V(G)}function q(G){return G===45||G===46||G===58||G===95||Hi(G)?(t.consume(G),q):X(G)}function X(G){return G===61?(t.consume(G),W):tt(G)?(a=X,re(G)):Dt(G)?(t.consume(G),X):Q(G)}function W(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(t.consume(G),i=G,le):tt(G)?(a=W,re(G)):Dt(G)?(t.consume(G),W):(t.consume(G),Z)}function le(G){return G===i?(t.consume(G),i=void 0,te):G===null?n(G):tt(G)?(a=le,re(G)):(t.consume(G),le)}function Z(G){return G===null||G===34||G===39||G===60||G===61||G===96?n(G):G===47||G===62||on(G)?Q(G):(t.consume(G),Z)}function te(G){return G===47||G===62||on(G)?Q(G):n(G)}function V(G){return G===62?(t.consume(G),t.exit("htmlTextData"),t.exit("htmlText"),e):n(G)}function re(G){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),ee}function ee(G){return Dt(G)?Ht(t,de,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):de(G)}function de(G){return t.enter("htmlTextData"),a(G)}}const r4={name:"labelEnd",resolveAll:qte,resolveTo:Vte,tokenize:Yte},Ute={tokenize:Kte},Fte={tokenize:Xte},Gte={tokenize:Qte};function qte(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ia(t,0,t.length,n),t}function Vte(t,e){let n=t.length,r=0,i,s,a,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},m={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=Ia(l,t.slice(s+1,s+r+3)),l=Ia(l,[["enter",m,e]]),l=Ia(l,p2(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),l=Ia(l,[["exit",m,e],t[a-2],t[a-1],["exit",d,e]]),l=Ia(l,t.slice(a+1)),l=Ia(l,[["exit",u,e]]),ia(t,s,t.length,l),t}function Yte(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(b){return s?s._inactive?g(b):(a=r.parser.defined.includes(yo(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),u):n(b)}function u(b){return b===40?t.attempt(Ute,m,a?m:g)(b):b===91?t.attempt(Fte,m,a?d:g)(b):a?m(b):g(b)}function d(b){return t.attempt(Gte,m,g)(b)}function m(b){return e(b)}function g(b){return s._balanced=!0,n(b)}}function Kte(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return on(g)?S0(t,s)(g):s(g)}function s(g){return g===41?m(g):WR(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function a(g){return on(g)?S0(t,u)(g):m(g)}function l(g){return n(g)}function u(g){return g===34||g===39||g===40?$R(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function d(g){return on(g)?S0(t,m)(g):m(g)}function m(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function Xte(t,e,n){const r=this;return i;function i(l){return JR.call(r,t,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(yo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function Qte(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Wte={name:"labelStartImage",resolveAll:r4.resolveAll,tokenize:Jte};function Jte(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const $te={name:"labelStartLink",resolveAll:r4.resolveAll,tokenize:Zte};function Zte(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Ew={name:"lineEnding",tokenize:ene};function ene(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ht(t,e,"linePrefix")}}const av={name:"thematicBreak",tokenize:tne};function tne(t,e,n){let r=0,i;return s;function s(d){return t.enter("thematicBreak"),a(d)}function a(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||tt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),Dt(d)?Ht(t,l,"whitespace")(d):l(d))}}const Hs={continuation:{tokenize:sne},exit:one,name:"list",tokenize:ine},nne={partial:!0,tokenize:lne},rne={partial:!0,tokenize:ane};function ine(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(x){const S=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:tE(x)){if(r.containerState.type||(r.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(av,n,d)(x):d(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(x)}return n(x)}function u(x){return tE(x)&&++a<10?(t.consume(x),u):(!r.interrupt||a<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),d(x)):n(x)}function d(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(fy,r.interrupt?n:m,t.attempt(nne,b,g))}function m(x){return r.containerState.initialBlankLine=!0,s++,b(x)}function g(x){return Dt(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),b):n(x)}function b(x){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function sne(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(fy,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ht(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Dt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(rne,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ht(t,t.attempt(Hs,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function ane(t,e,n){const r=this;return Ht(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function one(t){t.exit(this.containerState.type)}function lne(t,e,n){const r=this;return Ht(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Dt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const a6={name:"setextUnderline",resolveTo:cne,tokenize:une};function cne(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function une(t,e,n){const r=this;let i;return s;function s(d){let m=r.events.length,g;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){g=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Dt(d)?Ht(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||tt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const fne={tokenize:dne};function dne(t){const e=this,n=t.attempt(fy,r,t.attempt(this.parser.constructs.flowInitial,i,Ht(t,t.attempt(this.parser.constructs.flow,i,t.attempt(yte,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const hne={resolveAll:e7()},pne=ZR("string"),mne=ZR("text");function ZR(t){return{resolveAll:e7(t==="text"?gne:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,l);return a;function a(m){return d(m)?s(m):l(m)}function l(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),u}function u(m){return d(m)?(n.exit("data"),s(m)):(n.consume(m),u)}function d(m){if(m===null)return!0;const g=i[m];let b=-1;if(g)for(;++b<g.length;){const x=g[b];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function e7(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function gne(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,l=0,u;for(;s--;){const d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)u=!0,l++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const yne={42:Hs,43:Hs,45:Hs,48:Hs,49:Hs,50:Hs,51:Hs,52:Hs,53:Hs,54:Hs,55:Hs,56:Hs,57:Hs,62:YR},bne={91:wte},vne={[-2]:Cw,[-1]:Cw,32:Cw},xne={35:Mte,42:av,45:[a6,av],60:Ote,61:a6,95:av,96:i6,126:i6},Sne={38:XR,92:KR},wne={[-5]:Ew,[-4]:Ew,[-3]:Ew,33:Wte,38:XR,42:nE,60:[$ee,Ite],91:$te,92:[Tte,KR],93:r4,95:nE,96:fte},Cne={null:[nE,hne]},Ene={null:[42,95]},kne={null:[]},Tne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ene,contentInitial:bne,disable:kne,document:yne,flow:xne,flowInitial:vne,insideSpan:Cne,string:Sne,text:wne},Symbol.toStringTag,{value:"Module"}));function _ne(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],l=[];const u={attempt:P(I),check:P(j),consume:O,enter:z,exit:L,interrupt:P(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:S,parser:t,previous:null,sliceSerialize:b,sliceStream:x,write:g};let m=e.tokenize.call(d,u);return e.resolveAll&&s.push(e),d;function g(X){return a=Ia(a,X),_(),a[a.length-1]!==null?[]:(H(e,0),d.events=p2(s,d.events,d),d.events)}function b(X,W){return Ane(x(X),W)}function x(X){return Mne(a,X)}function S(){const{_bufferIndex:X,_index:W,line:le,column:Z,offset:te}=r;return{_bufferIndex:X,_index:W,line:le,column:Z,offset:te}}function k(X){i[X.line]=X.column,q()}function _(){let X;for(;r._index<a.length;){const W=a[r._index];if(typeof W=="string")for(X=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===X&&r._bufferIndex<W.length;)A(W.charCodeAt(r._bufferIndex));else A(W)}}function A(X){m=m(X)}function O(X){tt(X)?(r.line++,r.column=1,r.offset+=X===-3?2:1,q()):X!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=X}function z(X,W){const le=W||{};return le.type=X,le.start=S(),d.events.push(["enter",le,d]),l.push(le),le}function L(X){const W=l.pop();return W.end=S(),d.events.push(["exit",W,d]),W}function I(X,W){H(X,W.from)}function j(X,W){W.restore()}function P(X,W){return le;function le(Z,te,V){let re,ee,de,G;return Array.isArray(Z)?ie(Z):"tokenize"in Z?ie([Z]):Y(Z);function Y(De){return je;function je(ot){const Ke=ot!==null&&De[ot],nt=ot!==null&&De.null,Nn=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(nt)?nt:nt?[nt]:[]];return ie(Nn)(ot)}}function ie(De){return re=De,ee=0,De.length===0?V:F(De[ee])}function F(De){return je;function je(ot){return G=Q(),de=De,De.partial||(d.currentConstruct=De),De.name&&d.parser.constructs.disable.null.includes(De.name)?Be():De.tokenize.call(W?Object.assign(Object.create(d),W):d,u,we,Be)(ot)}}function we(De){return X(de,G),te}function Be(De){return G.restore(),++ee<re.length?F(re[ee]):V}}}function H(X,W){X.resolveAll&&!s.includes(X)&&s.push(X),X.resolve&&ia(d.events,W,d.events.length-W,X.resolve(d.events.slice(W),d)),X.resolveTo&&(d.events=X.resolveTo(d.events,d))}function Q(){const X=S(),W=d.previous,le=d.currentConstruct,Z=d.events.length,te=Array.from(l);return{from:Z,restore:V};function V(){r=X,d.previous=W,d.currentConstruct=le,d.events.length=Z,l=te,q()}}function q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Mne(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function Ane(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function Nne(t){const r={constructs:qR([Tne,...(t||{}).extensions||[]]),content:i(Vee),defined:[],document:i(Kee),flow:i(fne),lazy:{},string:i(pne),text:i(mne)};return r;function i(s){return a;function a(l){return _ne(r,s,l)}}}function Rne(t){for(;!QR(t););return t}const o6=/[\0\t\n\r]/g;function One(){let t=1,e="",n=!0,r;return i;function i(s,a,l){const u=[];let d,m,g,b,x;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),g=0,e="",n&&(s.charCodeAt(0)===65279&&g++,n=void 0);g<s.length;){if(o6.lastIndex=g,d=o6.exec(s),b=d&&d.index!==void 0?d.index:s.length,x=s.charCodeAt(b),!d){e=s.slice(g);break}if(x===10&&g===b&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<b&&(u.push(s.slice(g,b)),t+=b-g),x){case 0:{u.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,u.push(-2);t++<m;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}g=b+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Dne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zne(t){return t.replace(Dne,jne)}function jne(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return VR(n.slice(s?2:1),s?16:10)}return n4(n)||t}const t7={}.hasOwnProperty;function Lne(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Pne(n)(Rne(Nne(n).document().write(One()(t,e,!0))))}function Pne(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ys),autolinkProtocol:Q,autolinkEmail:Q,atxHeading:s(Dr),blockQuote:s(nt),characterEscape:Q,characterReference:Q,codeFenced:s(Nn),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Nn,a),codeText:s(Xt,a),codeTextData:Q,data:Q,codeFlowValue:Q,definition:s(Rn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Gn),hardBreakEscape:s(tr),hardBreakTrailing:s(tr),htmlFlow:s(si,a),htmlFlowData:Q,htmlText:s(si,a),htmlTextData:Q,image:s(Va),label:a,link:s(ys),listItem:s(Gi),listItemValue:b,listOrdered:s(nr,g),listUnordered:s(nr),paragraph:s(Ei),reference:F,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Dr),strong:s(On),thematicBreak:s(Ec)},exit:{atxHeading:u(),atxHeadingSequence:I,autolink:u(),autolinkEmail:Ke,autolinkProtocol:ot,blockQuote:u(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:Be,characterReferenceMarkerNumeric:Be,characterReferenceValue:De,characterReference:je,codeFenced:u(_),codeFencedFence:k,codeFencedFenceInfo:x,codeFencedFenceMeta:S,codeFlowValue:q,codeIndented:u(A),codeText:u(te),codeTextData:q,data:q,definition:u(),definitionDestinationString:L,definitionLabelString:O,definitionTitleString:z,emphasis:u(),hardBreakEscape:u(W),hardBreakTrailing:u(W),htmlFlow:u(le),htmlFlowData:q,htmlText:u(Z),htmlTextData:q,image:u(re),label:de,labelText:ee,lineEnding:X,link:u(V),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:we,resourceDestinationString:G,resourceTitleString:Y,resource:ie,setextHeading:u(H),setextHeadingLineSequence:P,setextHeadingText:j,strong:u(),thematicBreak:u()}};n7(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ye){let _e={type:"root",children:[]};const qe={stack:[_e],tokenStack:[],config:e,enter:l,exit:d,buffer:a,resume:m,data:n},Je=[];let xt=-1;for(;++xt<ye.length;)if(ye[xt][1].type==="listOrdered"||ye[xt][1].type==="listUnordered")if(ye[xt][0]==="enter")Je.push(xt);else{const vn=Je.pop();xt=i(ye,vn,xt)}for(xt=-1;++xt<ye.length;){const vn=e[ye[xt][0]];t7.call(vn,ye[xt][1].type)&&vn[ye[xt][1].type].call(Object.assign({sliceSerialize:ye[xt][2].sliceSerialize},qe),ye[xt][1])}if(qe.tokenStack.length>0){const vn=qe.tokenStack[qe.tokenStack.length-1];(vn[1]||l6).call(qe,void 0,vn[0])}for(_e.position={start:wu(ye.length>0?ye[0][1].start:{line:1,column:1,offset:0}),end:wu(ye.length>0?ye[ye.length-2][1].end:{line:1,column:1,offset:0})},xt=-1;++xt<e.transforms.length;)_e=e.transforms[xt](_e)||_e;return _e}function i(ye,_e,qe){let Je=_e-1,xt=-1,vn=!1,qi,vr,Dn,dr;for(;++Je<=qe;){const Ut=ye[Je];switch(Ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ut[0]==="enter"?xt++:xt--,dr=void 0;break}case"lineEndingBlank":{Ut[0]==="enter"&&(qi&&!dr&&!xt&&!Dn&&(Dn=Je),dr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dr=void 0}if(!xt&&Ut[0]==="enter"&&Ut[1].type==="listItemPrefix"||xt===-1&&Ut[0]==="exit"&&(Ut[1].type==="listUnordered"||Ut[1].type==="listOrdered")){if(qi){let bs=Je;for(vr=void 0;bs--;){const ki=ye[bs];if(ki[1].type==="lineEnding"||ki[1].type==="lineEndingBlank"){if(ki[0]==="exit")continue;vr&&(ye[vr][1].type="lineEndingBlank",vn=!0),ki[1].type="lineEnding",vr=bs}else if(!(ki[1].type==="linePrefix"||ki[1].type==="blockQuotePrefix"||ki[1].type==="blockQuotePrefixWhitespace"||ki[1].type==="blockQuoteMarker"||ki[1].type==="listItemIndent"))break}Dn&&(!vr||Dn<vr)&&(qi._spread=!0),qi.end=Object.assign({},vr?ye[vr][1].start:Ut[1].end),ye.splice(vr||Je,0,["exit",qi,Ut[2]]),Je++,qe++}if(Ut[1].type==="listItemPrefix"){const bs={type:"listItem",_spread:!1,start:Object.assign({},Ut[1].start),end:void 0};qi=bs,ye.splice(Je,0,["enter",bs,Ut[2]]),Je++,qe++,Dn=void 0,dr=!0}}}return ye[_e][1]._spread=vn,qe}function s(ye,_e){return qe;function qe(Je){l.call(this,ye(Je),Je),_e&&_e.call(this,Je)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ye,_e,qe){this.stack[this.stack.length-1].children.push(ye),this.stack.push(ye),this.tokenStack.push([_e,qe||void 0]),ye.position={start:wu(_e.start),end:void 0}}function u(ye){return _e;function _e(qe){ye&&ye.call(this,qe),d.call(this,qe)}}function d(ye,_e){const qe=this.stack.pop(),Je=this.tokenStack.pop();if(Je)Je[0].type!==ye.type&&(_e?_e.call(this,ye,Je[0]):(Je[1]||l6).call(this,ye,Je[0]));else throw new Error("Cannot close `"+ye.type+"` ("+x0({start:ye.start,end:ye.end})+"): its not open");qe.position.end=wu(ye.end)}function m(){return t4(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function b(ye){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(ye),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=ye}function S(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=ye}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye.replace(/(\r?\n|\r)$/g,"")}function O(ye){const _e=this.resume(),qe=this.stack[this.stack.length-1];qe.label=_e,qe.identifier=yo(this.sliceSerialize(ye)).toLowerCase()}function z(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ye}function L(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ye}function I(ye){const _e=this.stack[this.stack.length-1];if(!_e.depth){const qe=this.sliceSerialize(ye).length;_e.depth=qe}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(ye){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(ye).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function Q(ye){const qe=this.stack[this.stack.length-1].children;let Je=qe[qe.length-1];(!Je||Je.type!=="text")&&(Je=qn(),Je.position={start:wu(ye.start),end:void 0},qe.push(Je)),this.stack.push(Je)}function q(ye){const _e=this.stack.pop();_e.value+=this.sliceSerialize(ye),_e.position.end=wu(ye.end)}function X(ye){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const qe=_e.children[_e.children.length-1];qe.position.end=wu(ye.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(_e.type)&&(Q.call(this,ye),q.call(this,ye))}function W(){this.data.atHardBreak=!0}function le(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function Z(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function te(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function V(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=_e,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function re(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=_e,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function ee(ye){const _e=this.sliceSerialize(ye),qe=this.stack[this.stack.length-2];qe.label=zne(_e),qe.identifier=yo(_e).toLowerCase()}function de(){const ye=this.stack[this.stack.length-1],_e=this.resume(),qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,qe.type==="link"){const Je=ye.children;qe.children=Je}else qe.alt=_e}function G(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ye}function Y(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ye}function ie(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function we(ye){const _e=this.resume(),qe=this.stack[this.stack.length-1];qe.label=_e,qe.identifier=yo(this.sliceSerialize(ye)).toLowerCase(),this.data.referenceType="full"}function Be(ye){this.data.characterReferenceType=ye.type}function De(ye){const _e=this.sliceSerialize(ye),qe=this.data.characterReferenceType;let Je;qe?(Je=VR(_e,qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Je=n4(_e);const xt=this.stack[this.stack.length-1];xt.value+=Je}function je(ye){const _e=this.stack.pop();_e.position.end=wu(ye.end)}function ot(ye){q.call(this,ye);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(ye)}function Ke(ye){q.call(this,ye);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(ye)}function nt(){return{type:"blockquote",children:[]}}function Nn(){return{type:"code",lang:null,meta:null,value:""}}function Xt(){return{type:"inlineCode",value:""}}function Rn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Gn(){return{type:"emphasis",children:[]}}function Dr(){return{type:"heading",depth:0,children:[]}}function tr(){return{type:"break"}}function si(){return{type:"html",value:""}}function Va(){return{type:"image",title:null,url:"",alt:null}}function ys(){return{type:"link",title:null,url:"",children:[]}}function nr(ye){return{type:"list",ordered:ye.type==="listOrdered",start:null,spread:ye._spread,children:[]}}function Gi(ye){return{type:"listItem",spread:ye._spread,checked:null,children:[]}}function Ei(){return{type:"paragraph",children:[]}}function On(){return{type:"strong",children:[]}}function qn(){return{type:"text",value:""}}function Ec(){return{type:"thematicBreak"}}}function wu(t){return{line:t.line,column:t.column,offset:t.offset}}function n7(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?n7(t,r):Bne(t,r)}}function Bne(t,e){let n;for(n in e)if(t7.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function l6(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+x0({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+x0({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+x0({start:e.start,end:e.end})+") is still open")}function Ine(t){const e=this;e.parser=n;function n(r){return Lne(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Hne(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Une(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Fne(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Gne(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qne(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vne(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Qp(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function Yne(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Kne(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function r7(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Xne(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return r7(t,e);const i={src:Qp(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Qne(t,e){const n={src:Qp(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Wne(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Jne(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return r7(t,e);const i={href:Qp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function $ne(t,e){const n={href:Qp(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Zne(t,e,n){const r=t.all(e),i=n?ere(n):i7(e),s={},a=[];if(typeof e.checked=="boolean"){const m=r[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const m=r[l];(i||l!==0||m.type!=="element"||m.tagName!=="p")&&a.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?a.push(...m.children):a.push(m)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,d),t.applyData(e,d)}function ere(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=i7(n[r])}return e}function i7(t){const e=t.spread;return e??t.children.length>1}function tre(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function nre(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rre(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function ire(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function sre(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=J3(e.children[1]),u=PR(e.children[e.children.length-1]);l&&u&&(a.position={start:l,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function are(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const g=e.children[u],b={},x=a?a[u]:void 0;x&&(b.align=x);let S={type:"element",tagName:s,properties:b,children:[]};g&&(S.children=t.all(g),t.patch(g,S),S=t.applyData(g,S)),d.push(S)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function ore(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const c6=9,u6=32;function lre(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(f6(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(f6(e.slice(i),i>0,!1)),s.join("")}function f6(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===c6||s===u6;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===c6||s===u6;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function cre(t,e){const n={type:"text",value:lre(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ure(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const fre={blockquote:Hne,break:Une,code:Fne,delete:Gne,emphasis:qne,footnoteReference:Vne,heading:Yne,html:Kne,imageReference:Xne,image:Qne,inlineCode:Wne,linkReference:Jne,link:$ne,listItem:Zne,list:tre,paragraph:nre,root:rre,strong:ire,table:sre,tableCell:ore,tableRow:are,text:cre,thematicBreak:ure,toml:Ub,yaml:Ub,definition:Ub,footnoteDefinition:Ub};function Ub(){}const s7=-1,m2=0,w0=1,yx=2,i4=3,s4=4,a4=5,o4=6,a7=7,o7=8,d6=typeof self=="object"?self:globalThis,dre=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case m2:case s7:return n(a,i);case w0:{const l=n([],i);for(const u of a)l.push(r(u));return l}case yx:{const l=n({},i);for(const[u,d]of a)l[r(u)]=r(d);return l}case i4:return n(new Date(a),i);case s4:{const{source:l,flags:u}=a;return n(new RegExp(l,u),i)}case a4:{const l=n(new Map,i);for(const[u,d]of a)l.set(r(u),r(d));return l}case o4:{const l=n(new Set,i);for(const u of a)l.add(r(u));return l}case a7:{const{name:l,message:u}=a;return n(new d6[l](u),i)}case o7:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new d6[s](a),i)};return r},h6=t=>dre(new Map,t)(0),lp="",{toString:hre}={},{keys:pre}=Object,Vg=t=>{const e=typeof t;if(e!=="object"||!t)return[m2,e];const n=hre.call(t).slice(8,-1);switch(n){case"Array":return[w0,lp];case"Object":return[yx,lp];case"Date":return[i4,lp];case"RegExp":return[s4,lp];case"Map":return[a4,lp];case"Set":return[o4,lp];case"DataView":return[w0,n]}return n.includes("Array")?[w0,n]:n.includes("Error")?[a7,n]:[yx,n]},Fb=([t,e])=>t===m2&&(e==="function"||e==="symbol"),mre=(t,e,n,r)=>{const i=(a,l)=>{const u=r.push(a)-1;return n.set(l,u),u},s=a=>{if(n.has(a))return n.get(a);let[l,u]=Vg(a);switch(l){case m2:{let m=a;switch(u){case"bigint":l=o7,m=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);m=null;break;case"undefined":return i([s7],a)}return i([l,m],a)}case w0:{if(u){let b=a;return u==="DataView"?b=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(b=new Uint8Array(a)),i([u,[...b]],a)}const m=[],g=i([l,m],a);for(const b of a)m.push(s(b));return g}case yx:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const m=[],g=i([l,m],a);for(const b of pre(a))(t||!Fb(Vg(a[b])))&&m.push([s(b),s(a[b])]);return g}case i4:return i([l,a.toISOString()],a);case s4:{const{source:m,flags:g}=a;return i([l,{source:m,flags:g}],a)}case a4:{const m=[],g=i([l,m],a);for(const[b,x]of a)(t||!(Fb(Vg(b))||Fb(Vg(x))))&&m.push([s(b),s(x)]);return g}case o4:{const m=[],g=i([l,m],a);for(const b of a)(t||!Fb(Vg(b)))&&m.push(s(b));return g}}const{message:d}=a;return i([l,{name:u,message:d}],a)};return s},p6=(t,{json:e,lossy:n}={})=>{const r=[];return mre(!(e||n),!!e,new Map,r)(t),r},bx=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?h6(p6(t,e)):structuredClone(t):(t,e)=>h6(p6(t,e));function gre(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function yre(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function bre(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||gre,r=t.options.footnoteBackLabel||yre,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const m=t.all(d),g=String(d.identifier).toUpperCase(),b=Qp(g.toLowerCase());let x=0;const S=[],k=t.footnoteCounts.get(g);for(;k!==void 0&&++x<=k;){S.length>0&&S.push({type:"text",value:" "});let O=typeof n=="string"?n:n(u,x);typeof O=="string"&&(O={type:"text",value:O}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,x),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const _=m[m.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const O=_.children[_.children.length-1];O&&O.type==="text"?O.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...S)}else m.push(...S);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(m,!0)};t.patch(d,A),l.push(A)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...bx(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const g2=(function(t){if(t==null)return wre;if(typeof t=="function")return y2(t);if(typeof t=="object")return Array.isArray(t)?vre(t):xre(t);if(typeof t=="string")return Sre(t);throw new Error("Expected function, string, or object as test")});function vre(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=g2(t[n]);return y2(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function xre(t){const e=t;return y2(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Sre(t){return y2(e);function e(n){return n&&n.type===t}}function y2(t){return e;function e(n,r,i){return!!(Cre(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function wre(){return!0}function Cre(t){return t!==null&&typeof t=="object"&&"type"in t}const l7=[],Ere=!0,rE=!1,kre="skip";function c7(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=g2(i),a=r?-1:1;l(t,void 0,[])();function l(u,d,m){const g=u&&typeof u=="object"?u:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(u.type+(x?"<"+x+">":""))+")"})}return b;function b(){let x=l7,S,k,_;if((!e||s(u,d,m[m.length-1]||void 0))&&(x=Tre(n(u,m)),x[0]===rE))return x;if("children"in u&&u.children){const A=u;if(A.children&&x[0]!==kre)for(k=(r?A.children.length:-1)+a,_=m.concat(A);k>-1&&k<A.children.length;){const O=A.children[k];if(S=l(O,k,_)(),S[0]===rE)return S;k=typeof S[1]=="number"?S[1]:k+a}}return x}}}function Tre(t){return Array.isArray(t)?t:typeof t=="number"?[Ere,t]:t==null?l7:[t]}function l4(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),c7(t,s,l,i);function l(u,d){const m=d[d.length-1],g=m?m.children.indexOf(u):void 0;return a(u,g,m)}}const iE={}.hasOwnProperty,_re={};function Mre(t,e){const n=e||_re,r=new Map,i=new Map,s=new Map,a={...fre,...n.handlers},l={all:d,applyData:Nre,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:Are,wrap:Ore};return l4(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?r:i,b=String(m.identifier).toUpperCase();g.has(b)||g.set(b,m)}}),l;function u(m,g){const b=m.type,x=l.handlers[b];if(iE.call(l.handlers,b)&&x)return x(l,m,g);if(l.options.passThrough&&l.options.passThrough.includes(b)){if("children"in m){const{children:k,..._}=m,A=bx(_);return A.children=l.all(m),A}return bx(m)}return(l.options.unknownHandler||Rre)(l,m,g)}function d(m){const g=[];if("children"in m){const b=m.children;let x=-1;for(;++x<b.length;){const S=l.one(b[x],m);if(S){if(x&&b[x-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=m6(S.value)),!Array.isArray(S)&&S.type==="element")){const k=S.children[0];k&&k.type==="text"&&(k.value=m6(k.value))}Array.isArray(S)?g.push(...S):g.push(S)}}}return g}}function Are(t,e){t.position&&(e.position=yee(t))}function Nre(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,bx(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Rre(t,e){const n=e.data||{},r="value"in e&&!(iE.call(n,"hProperties")||iE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ore(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function m6(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function g6(t,e){const n=Mre(t,e),r=n.one(t,void 0),i=bre(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Dre(t,e){return t&&"run"in t?async function(n,r){const i=g6(n,{file:r,...e});await t.run(i,r)}:function(n,r){return g6(n,{file:r,...t||e})}}function y6(t){if(t)throw t}var kw,b6;function zre(){if(b6)return kw;b6=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!g)return!1;var b;for(b in d);return typeof b>"u"||t.call(d,b)},a=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},l=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return kw=function u(){var d,m,g,b,x,S,k=arguments[0],_=1,A=arguments.length,O=!1;for(typeof k=="boolean"&&(O=k,k=arguments[1]||{},_=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});_<A;++_)if(d=arguments[_],d!=null)for(m in d)g=l(k,m),b=l(d,m),k!==b&&(O&&b&&(s(b)||(x=i(b)))?(x?(x=!1,S=g&&i(g)?g:[]):S=g&&s(g)?g:{},a(k,{name:m,newValue:u(O,S,b)})):typeof b<"u"&&a(k,{name:m,newValue:b}));return k},kw}var jre=zre();const Tw=Pp(jre);function sE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Lre(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...d){const m=t[++s];let g=-1;if(u){a(u);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,m?Pre(m,l)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Pre(t,e){let n;return r;function r(...a){const l=t.length>a.length;let u;l&&a.push(i);try{u=t.apply(this,a)}catch(d){const m=d;if(l&&n)throw m;return i(m)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...l){n||(n=!0,e(a,...l))}function s(a){i(null,a)}}const cl={basename:Bre,dirname:Ire,extname:Hre,join:Ure,sep:"/"};function Bre(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');dy(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function Ire(t){if(dy(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Hre(t){dy(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Ure(...t){let e=-1,n;for(;++e<t.length;)dy(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Fre(n)}function Fre(t){dy(t);const e=t.codePointAt(0)===47;let n=Gre(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Gre(t,e){let n="",r=0,i=-1,s=0,a=-1,l,u;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return n}function dy(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const qre={cwd:Vre};function Vre(){return"/"}function aE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Yre(t){if(typeof t=="string")t=new URL(t);else if(!aE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Kre(t)}function Kre(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const _w=["history","path","basename","stem","extname","dirname"];class u7{constructor(e){let n;e?aE(e)?n={path:e}:typeof e=="string"||Xre(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":qre.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_w.length;){const s=_w[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)_w.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?cl.basename(this.path):void 0}set basename(e){Aw(e,"basename"),Mw(e,"basename"),this.path=cl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?cl.dirname(this.path):void 0}set dirname(e){v6(this.basename,"dirname"),this.path=cl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?cl.extname(this.path):void 0}set extname(e){if(Mw(e,"extname"),v6(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=cl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){aE(e)&&(e=Yre(e)),Aw(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?cl.basename(this.path,this.extname):void 0}set stem(e){Aw(e,"stem"),Mw(e,"stem"),this.path=cl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Fi(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Mw(t,e){if(t&&t.includes(cl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+cl.sep+"`")}function Aw(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function v6(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Xre(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Qre=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),Wre={}.hasOwnProperty;class c4 extends Qre{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Lre()}copy(){const e=new c4;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Tw(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ow("data",this.frozen),this.namespace[e]=n,this):Wre.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ow("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Gb(e),r=this.parser||this.Parser;return Nw("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Nw("process",this.parser||this.Parser),Rw("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const l=Gb(e),u=r.parse(l);r.run(u,l,function(m,g,b){if(m||!g||!b)return d(m);const x=g,S=r.stringify(x,b);Zre(S)?b.value=S:b.result=S,d(m,b)});function d(m,g){m||!g?a(m):s?s(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),Nw("processSync",this.parser||this.Parser),Rw("processSync",this.compiler||this.Compiler),this.process(e,i),S6("processSync","process",n),r;function i(s,a){n=!0,y6(s),r=a}}run(e,n,r){x6(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){const u=Gb(n);i.run(e,u,d);function d(m,g,b){const x=g||e;m?l(m):a?a(x):r(void 0,x,b)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),S6("runSync","run",r),i;function s(a,l){y6(a),i=l,r=!0}}stringify(e,n){this.freeze();const r=Gb(n),i=this.compiler||this.Compiler;return Rw("stringify",i),x6(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Ow("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...g]=d;u(m,g)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=Tw(!0,i.settings,d.settings))}function l(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const g=d[m];s(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,m){let g=-1,b=-1;for(;++g<r.length;)if(r[g][0]===d){b=g;break}if(b===-1)r.push([d,...m]);else if(m.length>0){let[x,...S]=m;const k=r[b][1];sE(k)&&sE(x)&&(x=Tw(!0,k,x)),r[b]=[d,x,...S]}}}}const Jre=new c4().freeze();function Nw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Rw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ow(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function x6(t){if(!sE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function S6(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Gb(t){return $re(t)?t:new u7(t)}function $re(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Zre(t){return typeof t=="string"||eie(t)}function eie(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",w6=[],C6={allowDangerousHtml:!0},nie=/^(https?|ircs?|mailto|xmpp)$/i,rie=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function iie(t){const e=sie(t),n=aie(t);return oie(e.runSync(e.parse(n),n),t)}function sie(t){const e=t.rehypePlugins||w6,n=t.remarkPlugins||w6,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...C6}:C6;return Jre().use(Ine).use(n).use(Dre,r).use(e)}function aie(t){const e=t.children||"",n=new u7;return typeof e=="string"&&(n.value=e),n}function oie(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||lie;for(const m of rie)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+tie+m.id,void 0);return l4(t,d),wee(t,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function d(m,g,b){if(m.type==="raw"&&b&&typeof g=="number")return a?b.children.splice(g,1):b.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let x;for(x in ww)if(Object.hasOwn(ww,x)&&Object.hasOwn(m.properties,x)){const S=m.properties[x],k=ww[x];(k===null||k.includes(m.tagName))&&(m.properties[x]=u(String(S||""),x,m))}}if(m.type==="element"){let x=n?!n.includes(m.tagName):s?s.includes(m.tagName):!1;if(!x&&r&&typeof g=="number"&&(x=!r(m,g,b)),x&&b&&typeof g=="number")return l&&m.children?b.children.splice(g,1,...m.children):b.children.splice(g,1),g}}}function lie(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||nie.test(t.slice(0,e))?t:""}function E6(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function cie(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uie(t,e,n){const i=g2((n||{}).ignore||[]),s=fie(e);let a=-1;for(;++a<s.length;)c7(t,"text",l);function l(d,m){let g=-1,b;for(;++g<m.length;){const x=m[g],S=b?b.children:void 0;if(i(x,S?S.indexOf(x):void 0,b))return;b=x}if(b)return u(d,m)}function u(d,m){const g=m[m.length-1],b=s[a][0],x=s[a][1];let S=0;const _=g.children.indexOf(d);let A=!1,O=[];b.lastIndex=0;let z=b.exec(d.value);for(;z;){const L=z.index,I={index:z.index,input:z.input,stack:[...m,d]};let j=x(...z,I);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?b.lastIndex=L+1:(S!==L&&O.push({type:"text",value:d.value.slice(S,L)}),Array.isArray(j)?O.push(...j):j&&O.push(j),S=L+z[0].length,A=!0),!b.global)break;z=b.exec(d.value)}return A?(S<d.value.length&&O.push({type:"text",value:d.value.slice(S)}),g.children.splice(_,1,...O)):O=[d],_+O.length}}function fie(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([die(i[0]),hie(i[1])])}return e}function die(t){return typeof t=="string"?new RegExp(cie(t),"g"):t}function hie(t){return typeof t=="function"?t:function(){return t}}const Dw="phrasing",zw=["autolink","link","image","label"];function pie(){return{transforms:[Sie],enter:{literalAutolink:gie,literalAutolinkEmail:jw,literalAutolinkHttp:jw,literalAutolinkWww:jw},exit:{literalAutolink:xie,literalAutolinkEmail:vie,literalAutolinkHttp:yie,literalAutolinkWww:bie}}}function mie(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Dw,notInConstruct:zw},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Dw,notInConstruct:zw},{character:":",before:"[ps]",after:"\\/",inConstruct:Dw,notInConstruct:zw}]}}function gie(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function jw(t){this.config.enter.autolinkProtocol.call(this,t)}function yie(t){this.config.exit.autolinkProtocol.call(this,t)}function bie(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function vie(t){this.config.exit.autolinkEmail.call(this,t)}function xie(t){this.exit(t)}function Sie(t){uie(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wie],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Cie]],{ignore:["link","linkReference"]})}function wie(t,e,n,r,i){let s="";if(!f7(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Eie(n)))return!1;const a=kie(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function Cie(t,e,n,r){return!f7(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Eie(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function kie(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=E6(t,"(");let s=E6(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function f7(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Cd(n)||h2(n))&&(!e||n!==47)}d7.peek=zie;function Tie(){this.buffer()}function _ie(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Mie(){this.buffer()}function Aie(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Nie(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Rie(t){this.exit(t)}function Oie(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Die(t){this.exit(t)}function zie(){return"["}function d7(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),l(),a(),s+=i.move("]"),s}function jie(){return{enter:{gfmFootnoteCallString:Tie,gfmFootnoteCall:_ie,gfmFootnoteDefinitionLabelString:Mie,gfmFootnoteDefinition:Aie},exit:{gfmFootnoteCallString:Nie,gfmFootnoteCall:Rie,gfmFootnoteDefinitionLabelString:Oie,gfmFootnoteDefinition:Die}}}function Lie(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:d7},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const l=s.createTracker(a);let u=l.move("[^");const d=s.enter("footnoteDefinition"),m=s.enter("label");return u+=l.move(s.safe(s.associationId(r),{before:u,after:"]"})),m(),u+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),u+=l.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),e?h7:Pie))),d(),u}}function Pie(t,e,n){return e===0?t:h7(t,e,n)}function h7(t,e,n){return(n?"":"    ")+t}const Bie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];p7.peek=Gie;function Iie(){return{canContainEols:["delete"],enter:{strikethrough:Uie},exit:{strikethrough:Fie}}}function Hie(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Bie}],handlers:{delete:p7}}}function Uie(t){this.enter({type:"delete",children:[]},t)}function Fie(t){this.exit(t)}function p7(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function Gie(){return"~"}function qie(t){return t.length}function Vie(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||qie,s=[],a=[],l=[],u=[];let d=0,m=-1;for(;++m<t.length;){const k=[],_=[];let A=-1;for(t[m].length>d&&(d=t[m].length);++A<t[m].length;){const O=Yie(t[m][A]);if(n.alignDelimiters!==!1){const z=i(O);_[A]=z,(u[A]===void 0||z>u[A])&&(u[A]=z)}k.push(O)}a[m]=k,l[m]=_}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<d;)s[g]=k6(r[g]);else{const k=k6(r);for(;++g<d;)s[g]=k}g=-1;const b=[],x=[];for(;++g<d;){const k=s[g];let _="",A="";k===99?(_=":",A=":"):k===108?_=":":k===114&&(A=":");let O=n.alignDelimiters===!1?1:Math.max(1,u[g]-_.length-A.length);const z=_+"-".repeat(O)+A;n.alignDelimiters!==!1&&(O=_.length+O+A.length,O>u[g]&&(u[g]=O),x[g]=O),b[g]=z}a.splice(1,0,b),l.splice(1,0,x),m=-1;const S=[];for(;++m<a.length;){const k=a[m],_=l[m];g=-1;const A=[];for(;++g<d;){const O=k[g]||"";let z="",L="";if(n.alignDelimiters!==!1){const I=u[g]-(_[g]||0),j=s[g];j===114?z=" ".repeat(I):j===99?I%2?(z=" ".repeat(I/2+.5),L=" ".repeat(I/2-.5)):(z=" ".repeat(I/2),L=z):L=" ".repeat(I)}n.delimiterStart!==!1&&!g&&A.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&O==="")&&(n.delimiterStart!==!1||g)&&A.push(" "),n.alignDelimiters!==!1&&A.push(z),A.push(O),n.alignDelimiters!==!1&&A.push(L),n.padding!==!1&&A.push(" "),(n.delimiterEnd!==!1||g!==d-1)&&A.push("|")}S.push(n.delimiterEnd===!1?A.join("").replace(/ +$/,""):A.join(""))}return S.join(`
`)}function Yie(t){return t==null?"":String(t)}function k6(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Kie(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),Xie);return i(),a}function Xie(t,e,n){return">"+(n?"":" ")+t}function Qie(t,e){return T6(t,e.inConstruct,!0)&&!T6(t,e.notInConstruct,!1)}function T6(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function _6(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Qie(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Wie(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function Jie(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function $ie(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Zie(t,e,n,r){const i=$ie(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Jie(t,n)){const g=n.enter("codeIndented"),b=n.indentLines(s,ese);return g(),b}const l=n.createTracker(r),u=i.repeat(Math.max(Wie(s,i)+1,3)),d=n.enter("codeFenced");let m=l.move(u);if(t.lang){const g=n.enter(`codeFencedLang${a}`);m+=l.move(n.safe(t.lang,{before:m,after:" ",encode:["`"],...l.current()})),g()}if(t.lang&&t.meta){const g=n.enter(`codeFencedMeta${a}`);m+=l.move(" "),m+=l.move(n.safe(t.meta,{before:m,after:`
`,encode:["`"],...l.current()})),g()}return m+=l.move(`
`),s&&(m+=l.move(s+`
`)),m+=l.move(u),d(),m}function ese(t,e,n){return(n?"":"    ")+t}function u4(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function tse(t,e,n,r){const i=u4(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("[");return d+=u.move(n.safe(n.associationId(t),{before:d,after:"]",...u.current()})),d+=u.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(n.safe(t.title,{before:d,after:i,...u.current()})),d+=u.move(i),l()),a(),d}function nse(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Y0(t){return"&#x"+t.toString(16).toUpperCase()+";"}function vx(t,e,n){const r=jp(t),i=jp(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}m7.peek=rse;function m7(t,e,n,r){const i=nse(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let u=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()}));const d=u.charCodeAt(0),m=vx(r.before.charCodeAt(r.before.length-1),d,i);m.inside&&(u=Y0(d)+u.slice(1));const g=u.charCodeAt(u.length-1),b=vx(r.after.charCodeAt(0),g,i);b.inside&&(u=u.slice(0,-1)+Y0(g));const x=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:b.outside,before:m.outside},l+u+x}function rse(t,e,n){return n.options.emphasis||"*"}function ise(t,e){let n=!1;return l4(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,rE}),!!((!t.depth||t.depth<3)&&t4(t)&&(e.options.setext||n))}function sse(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(ise(t,n)){const m=n.enter("headingSetext"),g=n.enter("phrasing"),b=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return g(),m(),b+`
`+(i===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=Y0(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,n.options.closeAtx&&(d+=" "+a),u(),l(),d}g7.peek=ase;function g7(t){return t.value||""}function ase(){return"<"}y7.peek=ose;function y7(t,e,n,r){const i=u4(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("![");return d+=u.move(n.safe(t.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":")",...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(n.safe(t.title,{before:d,after:i,...u.current()})),d+=u.move(i),l()),d+=u.move(")"),a(),d}function ose(){return"!"}b7.peek=lse;function b7(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");const d=n.safe(t.alt,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const g=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=m,s(),i==="full"||!d||d!==g?u+=l.move(g+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function lse(){return"!"}v7.peek=cse;function v7(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],l=n.compilePattern(a);let u;if(a.atBreak)for(;u=l.exec(r);){let d=u.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(u.index+1)}}return i+r+i}function cse(){return"`"}function x7(t,e){const n=t4(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}S7.peek=use;function S7(t,e,n,r){const i=u4(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,u;if(x7(t,n)){const m=n.stack;n.stack=[],l=n.enter("autolink");let g=a.move("<");return g+=a.move(n.containerPhrasing(t,{before:g,after:">",...a.current()})),g+=a.move(">"),l(),n.stack=m,g}l=n.enter("link"),u=n.enter("label");let d=a.move("[");return d+=a.move(n.containerPhrasing(t,{before:d,after:"](",...a.current()})),d+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(n.safe(t.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(u=n.enter("destinationRaw"),d+=a.move(n.safe(t.url,{before:d,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${s}`),d+=a.move(" "+i),d+=a.move(n.safe(t.title,{before:d,after:i,...a.current()})),d+=a.move(i),u()),d+=a.move(")"),l(),d}function use(t,e,n){return x7(t,n)?"<":"["}w7.peek=fse;function w7(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");const d=n.containerPhrasing(t,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),a();const m=n.stack;n.stack=[],a=n.enter("reference");const g=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=m,s(),i==="full"||!d||d!==g?u+=l.move(g+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function fse(){return"["}function f4(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function dse(t){const e=f4(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function hse(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function C7(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function pse(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?hse(n):f4(n);const l=t.ordered?a==="."?")":".":dse(n);let u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const m=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&m&&(!m.children||!m.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),C7(n)===a&&m){let g=-1;for(;++g<t.children.length;){const b=t.children[g];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),n.bulletCurrent=a;const d=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),d}function mse(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function gse(t,e,n,r){const i=mse(n);let s=n.bulletCurrent||f4(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);const u=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,l.current()),m);return u(),d;function m(g,b,x){return b?(x?"":" ".repeat(a))+g:(x?s:s+" ".repeat(a-s.length))+g}}function yse(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const bse=g2(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vse(t,e,n,r){return(t.children.some(function(a){return bse(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function xse(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}E7.peek=Sse;function E7(t,e,n,r){const i=xse(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let u=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()}));const d=u.charCodeAt(0),m=vx(r.before.charCodeAt(r.before.length-1),d,i);m.inside&&(u=Y0(d)+u.slice(1));const g=u.charCodeAt(u.length-1),b=vx(r.after.charCodeAt(0),g,i);b.inside&&(u=u.slice(0,-1)+Y0(g));const x=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:b.outside,before:m.outside},l+u+x}function Sse(t,e,n){return n.options.strong||"*"}function wse(t,e,n,r){return n.safe(t.value,r)}function Cse(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Ese(t,e,n){const r=(C7(n)+(n.options.ruleSpaces?" ":"")).repeat(Cse(n));return n.options.ruleSpaces?r.slice(0,-1):r}const k7={blockquote:Kie,break:_6,code:Zie,definition:tse,emphasis:m7,hardBreak:_6,heading:sse,html:g7,image:y7,imageReference:b7,inlineCode:v7,link:S7,linkReference:w7,list:pse,listItem:gse,paragraph:yse,root:vse,strong:E7,text:wse,thematicBreak:Ese};function kse(){return{enter:{table:Tse,tableData:M6,tableHeader:M6,tableRow:Mse},exit:{codeText:Ase,table:_se,tableData:Lw,tableHeader:Lw,tableRow:Lw}}}function Tse(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function _se(t){this.exit(t),this.data.inTable=void 0}function Mse(t){this.enter({type:"tableRow",children:[]},t)}function Lw(t){this.exit(t)}function M6(t){this.enter({type:"tableCell",children:[]},t)}function Ase(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Nse));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Nse(t,e){return e==="|"?e:t}function Rse(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:a,tableCell:u,tableRow:l}};function a(x,S,k,_){return d(m(x,k,_),x.align)}function l(x,S,k,_){const A=g(x,k,_),O=d([A]);return O.slice(0,O.indexOf(`
`))}function u(x,S,k,_){const A=k.enter("tableCell"),O=k.enter("phrasing"),z=k.containerPhrasing(x,{..._,before:s,after:s});return O(),A(),z}function d(x,S){return Vie(x,{align:S,alignDelimiters:r,padding:n,stringLength:i})}function m(x,S,k){const _=x.children;let A=-1;const O=[],z=S.enter("table");for(;++A<_.length;)O[A]=g(_[A],S,k);return z(),O}function g(x,S,k){const _=x.children;let A=-1;const O=[],z=S.enter("tableRow");for(;++A<_.length;)O[A]=u(_[A],x,S,k);return z(),O}function b(x,S,k){let _=k7.inlineCode(x,S,k);return k.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function Ose(){return{exit:{taskListCheckValueChecked:A6,taskListCheckValueUnchecked:A6,paragraph:zse}}}function Dse(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:jse}}}function A6(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function zse(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function jse(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(a);let u=k7.listItem(t,e,n,{...r,...l.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(m){return m+a}}function Lse(){return[pie(),jie(),Iie(),kse(),Ose()]}function Pse(t){return{extensions:[mie(),Lie(t),Hie(),Rse(t),Dse()]}}const Bse={tokenize:qse,partial:!0},T7={tokenize:Vse,partial:!0},_7={tokenize:Yse,partial:!0},M7={tokenize:Kse,partial:!0},Ise={tokenize:Xse,partial:!0},A7={name:"wwwAutolink",tokenize:Fse,previous:R7},N7={name:"protocolAutolink",tokenize:Gse,previous:O7},Cc={name:"emailAutolink",tokenize:Use,previous:D7},yl={};function Hse(){return{text:yl}}let Jf=48;for(;Jf<123;)yl[Jf]=Cc,Jf++,Jf===58?Jf=65:Jf===91&&(Jf=97);yl[43]=Cc;yl[45]=Cc;yl[46]=Cc;yl[95]=Cc;yl[72]=[Cc,N7];yl[104]=[Cc,N7];yl[87]=[Cc,A7];yl[119]=[Cc,A7];function Use(t,e,n){const r=this;let i,s;return a;function a(g){return!oE(g)||!D7.call(r,r.previous)||d4(r.events)?n(g):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(g))}function l(g){return oE(g)?(t.consume(g),l):g===64?(t.consume(g),u):n(g)}function u(g){return g===46?t.check(Ise,m,d)(g):g===45||g===95||Hi(g)?(s=!0,t.consume(g),u):m(g)}function d(g){return t.consume(g),i=!0,u}function m(g){return s&&i&&us(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(g)):n(g)}}function Fse(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!R7.call(r,r.previous)||d4(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Bse,t.attempt(T7,t.attempt(_7,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Gse(t,e,n){const r=this;let i="",s=!1;return a;function a(g){return(g===72||g===104)&&O7.call(r,r.previous)&&!d4(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(g),t.consume(g),l):n(g)}function l(g){if(us(g)&&i.length<5)return i+=String.fromCodePoint(g),t.consume(g),l;if(g===58){const b=i.toLowerCase();if(b==="http"||b==="https")return t.consume(g),u}return n(g)}function u(g){return g===47?(t.consume(g),s?d:(s=!0,u)):n(g)}function d(g){return g===null||gx(g)||on(g)||Cd(g)||h2(g)?n(g):t.attempt(T7,t.attempt(_7,m),n)(g)}function m(g){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(g)}}function qse(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function Vse(t,e,n){let r,i,s;return a;function a(d){return d===46||d===95?t.check(M7,u,l)(d):d===null||on(d)||Cd(d)||d!==45&&h2(d)?u(d):(s=!0,t.consume(d),a)}function l(d){return d===95?r=!0:(i=r,r=void 0),t.consume(d),a}function u(d){return i||r||!s?n(d):e(d)}}function Yse(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(M7,e,s)(a):a===null||on(a)||Cd(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function Kse(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),s):l===93?(t.consume(l),i):l===60||l===null||on(l)||Cd(l)?e(l):n(l)}function i(l){return l===null||l===40||l===91||on(l)||Cd(l)?e(l):r(l)}function s(l){return us(l)?a(l):n(l)}function a(l){return l===59?(t.consume(l),r):us(l)?(t.consume(l),a):n(l)}}function Xse(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Hi(s)?n(s):e(s)}}function R7(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||on(t)}function O7(t){return!us(t)}function D7(t){return!(t===47||oE(t))}function oE(t){return t===43||t===45||t===46||t===95||Hi(t)}function d4(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Qse={tokenize:rae,partial:!0};function Wse(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:eae,continuation:{tokenize:tae},exit:nae}},text:{91:{name:"gfmFootnoteCall",tokenize:Zse},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Jse,resolveTo:$se}}}}function Jse(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!a||!a._balanced)return n(u);const d=yo(r.sliceSerialize({start:a.end,end:r.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function $se(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function Zse(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return l;function l(g){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),u}function u(g){return g!==94?n(g):(t.enter("gfmFootnoteCallMarker"),t.consume(g),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(g){if(s>999||g===93&&!a||g===null||g===91||on(g))return n(g);if(g===93){t.exit("chunkString");const b=t.exit("gfmFootnoteCallString");return i.includes(yo(r.sliceSerialize(b)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(g)}return on(g)||(a=!0),s++,t.consume(g),g===92?m:d}function m(g){return g===91||g===92||g===93?(t.consume(g),s++,d):d(g)}}function eae(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,l;return u;function u(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",m):n(S)}function m(S){if(a>999||S===93&&!l||S===null||S===91||on(S))return n(S);if(S===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return s=yo(r.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),b}return on(S)||(l=!0),a++,t.consume(S),S===92?g:m}function g(S){return S===91||S===92||S===93?(t.consume(S),a++,m):m(S)}function b(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ht(t,x,"gfmFootnoteDefinitionWhitespace")):n(S)}function x(S){return e(S)}}function tae(t,e,n){return t.check(fy,e,t.attempt(Qse,e,n))}function nae(t){t.exit("gfmFootnoteDefinition")}function rae(t,e,n){const r=this;return Ht(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function iae(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,l){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let d=u;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[u][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[u][1].end)},g={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[u][1].start)},b=[["enter",m,l],["enter",a[d][1],l],["exit",a[d][1],l],["enter",g,l]],x=l.parser.constructs.insideSpan.null;x&&ia(b,b.length,0,p2(x,a.slice(d+1,u),l)),ia(b,b.length,0,[["exit",g,l],["enter",a[u][1],l],["exit",a[u][1],l],["exit",m,l]]),ia(a,d-1,u-d+3,b),u=d+b.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,l,u){const d=this.previous,m=this.events;let g=0;return b;function b(S){return d===126&&m[m.length-1][1].type!=="characterEscape"?u(S):(a.enter("strikethroughSequenceTemporary"),x(S))}function x(S){const k=jp(d);if(S===126)return g>1?u(S):(a.consume(S),g++,x);if(g<2&&!n)return u(S);const _=a.exit("strikethroughSequenceTemporary"),A=jp(S);return _._open=!A||A===2&&!!k,_._close=!k||k===2&&!!A,l(S)}}}class sae{constructor(){this.map=[]}add(e,n,r){aae(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function aae(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function oae(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function lae(){return{flow:{null:{name:"table",tokenize:cae,resolveAll:uae}}}}function cae(t,e,n){const r=this;let i=0,s=0,a;return l;function l(q){let X=r.events.length-1;for(;X>-1;){const Z=r.events[X][1].type;if(Z==="lineEnding"||Z==="linePrefix")X--;else break}const W=X>-1?r.events[X][1].type:null,le=W==="tableHead"||W==="tableRow"?j:u;return le===j&&r.parser.lazy[r.now().line]?n(q):le(q)}function u(q){return t.enter("tableHead"),t.enter("tableRow"),d(q)}function d(q){return q===124||(a=!0,s+=1),m(q)}function m(q){return q===null?n(q):tt(q)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),x):n(q):Dt(q)?Ht(t,m,"whitespace")(q):(s+=1,a&&(a=!1,i+=1),q===124?(t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),a=!0,m):(t.enter("data"),g(q)))}function g(q){return q===null||q===124||on(q)?(t.exit("data"),m(q)):(t.consume(q),q===92?b:g)}function b(q){return q===92||q===124?(t.consume(q),g):g(q)}function x(q){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(q):(t.enter("tableDelimiterRow"),a=!1,Dt(q)?Ht(t,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):S(q))}function S(q){return q===45||q===58?_(q):q===124?(a=!0,t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),k):I(q)}function k(q){return Dt(q)?Ht(t,_,"whitespace")(q):_(q)}function _(q){return q===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(q),t.exit("tableDelimiterMarker"),A):q===45?(s+=1,A(q)):q===null||tt(q)?L(q):I(q)}function A(q){return q===45?(t.enter("tableDelimiterFiller"),O(q)):I(q)}function O(q){return q===45?(t.consume(q),O):q===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(q),t.exit("tableDelimiterMarker"),z):(t.exit("tableDelimiterFiller"),z(q))}function z(q){return Dt(q)?Ht(t,L,"whitespace")(q):L(q)}function L(q){return q===124?S(q):q===null||tt(q)?!a||i!==s?I(q):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(q)):I(q)}function I(q){return n(q)}function j(q){return t.enter("tableRow"),P(q)}function P(q){return q===124?(t.enter("tableCellDivider"),t.consume(q),t.exit("tableCellDivider"),P):q===null||tt(q)?(t.exit("tableRow"),e(q)):Dt(q)?Ht(t,P,"whitespace")(q):(t.enter("data"),H(q))}function H(q){return q===null||q===124||on(q)?(t.exit("data"),P(q)):(t.consume(q),q===92?Q:H)}function Q(q){return q===92||q===124?(t.consume(q),H):H(q)}}function uae(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],l=!1,u=0,d,m,g;const b=new sae;for(;++n<t.length;){const x=t[n],S=x[1];x[0]==="enter"?S.type==="tableHead"?(l=!1,u!==0&&(N6(b,e,u,d,m),m=void 0,u=0),d={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},b.add(n,0,[["enter",d,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,g=void 0,s=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,m={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},b.add(n,0,[["enter",m,e]])),i=S.type==="tableDelimiterRow"?2:m?3:1):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],g=qb(b,e,s,i,void 0,g),s=[0,0,0,0]),a[2]=n)):S.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],g=qb(b,e,s,i,void 0,g)),s=a,a=[s[1],n,0,0])):S.type==="tableHead"?(l=!0,u=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],g=qb(b,e,s,i,n,g)):a[1]!==0&&(g=qb(b,e,a,i,n,g)),i=0):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&N6(b,e,u,d,m),b.consume(e.events),n=-1;++n<e.events.length;){const x=e.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=oae(e.events,n))}return t}function qb(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},pp(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const u=pp(e.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const d=pp(e.events,n[2]),m=pp(e.events,n[3]),g={type:l,start:Object.assign({},d),end:Object.assign({},m)};if(t.add(n[2],0,[["enter",g,e]]),r!==2){const b=e.events[n[2]],x=e.events[n[3]];if(b[1].end=Object.assign({},x[1].end),b[1].type="chunkText",b[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,k=n[3]-n[2]-1;t.add(S,k,[])}}t.add(n[3]+1,0,[["exit",g,e]])}return i!==void 0&&(s.end=Object.assign({},pp(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function N6(t,e,n,r,i){const s=[],a=pp(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function pp(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const fae={name:"tasklistCheck",tokenize:hae};function dae(){return{text:{91:fae}}}function hae(t,e,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),s)}function s(u){return on(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(u)}function l(u){return tt(u)?e(u):Dt(u)?t.check({tokenize:pae},e,n)(u):n(u)}}function pae(t,e,n){return Ht(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function mae(t){return qR([Hse(),Wse(),iae(t),lae(),dae()])}const gae={};function yae(t){const e=this,n=t||gae,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(mae(n)),s.push(Lse()),a.push(Pse(n))}const z7=({message:t})=>{const e=t.role==="user";return E.jsx("div",{className:Nr("flex w-full mb-4",e?"justify-end":"justify-start"),children:E.jsxs("div",{className:Nr("max-w-[80%] rounded-2xl px-4 py-3 shadow-sm text-sm",e?"bg-accent-blue text-white rounded-br-none":"bg-surface-100 text-ink border border-border rounded-bl-none dark:bg-gray-800 dark:text-gray-100"),children:[E.jsx("div",{className:"markdown-body",children:E.jsx(iie,{remarkPlugins:[yae],children:t.content})}),E.jsx("div",{className:Nr("text-[10px] mt-1 opacity-70",e?"text-blue-100 text-right":"text-gray-400 text-left"),children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},cp={general:{label:"General Chat",icon:"fa-comments",description:"Helpful assistant for any task"},coding:{label:"Code Companion",icon:"fa-code",description:"Optimized for programming queries"},email:{label:"Email Drafter",icon:"fa-envelope-open-text",description:"Assistance with writing emails"},brainstorming:{label:"Brainstorming",icon:"fa-lightbulb",description:"Generate creative ideas"}},bae=()=>{const[t,e]=N.useState([{id:"1",role:"system",content:"Hello! I am Jarvis. How can I help you today?",timestamp:new Date}]),[n,r]=N.useState(""),[i,s]=N.useState("general"),[a,l]=N.useState(!0),u=N.useRef(null),d=()=>{u.current?.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{d()},[t]);const m=()=>{if(!n.trim())return;const b={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};e(x=>[...x,b]),r(""),setTimeout(()=>{const x={id:(Date.now()+1).toString(),role:"system",content:`**[${cp[i].label}]** I received: "${b.content}". 

Here is a *markdown* example:
\`\`\`javascript
console.log("Hello World");
\`\`\``,timestamp:new Date};e(S=>[...S,x])},1e3)},g=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),m())};return E.jsxs("div",{className:"flex h-full bg-paper dark:bg-gray-900 text-ink dark:text-white",children:[E.jsxs("div",{className:Nr("w-64 bg-surface-50 dark:bg-gray-800 border-r border-border dark:border-gray-700 flex flex-col transition-all duration-300",!a&&"w-0 overflow-hidden border-0"),children:[E.jsx("div",{className:"p-4 border-b border-border dark:border-gray-700 bg-subtle dark:bg-gray-800",children:E.jsx("h3",{className:"font-bold text-sm uppercase text-gray-500 tracking-wider",children:"Context Mode"})}),E.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:Object.keys(cp).map(b=>E.jsxs("button",{onClick:()=>s(b),className:Nr("w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors",i===b?"bg-accent-blue/10 text-accent-blue border border-accent-blue/20":"hover:bg-surface-100 dark:hover:bg-gray-700 text-ink dark:text-gray-300"),children:[E.jsx("div",{className:Nr("w-8 h-8 rounded-full flex items-center justify-center shrink-0",i===b?"bg-accent-blue text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"),children:E.jsx("i",{className:`fa-solid ${cp[b].icon} text-xs`})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm leading-none mb-1",children:cp[b].label}),E.jsx("div",{className:"text-[10px] opacity-70 leading-tight",children:cp[b].description})]})]},b))})]}),E.jsxs("div",{className:"flex-1 flex flex-col relative",children:[E.jsx("button",{onClick:()=>l(!a),className:"absolute top-4 left-4 z-10 p-2 bg-white/50 dark:bg-black/50 backdrop-blur rounded-md hover:bg-white dark:hover:bg-gray-700 shadow-sm border border-border transition-all",title:"Toggle Context Menu",children:E.jsx("i",{className:`fa-solid ${a?"fa-chevron-left":"fa-list"}`})}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:E.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.map(b=>E.jsx(z7,{message:b},b.id)),E.jsx("div",{ref:u})]})}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface-50 dark:bg-gray-800",children:[E.jsxs("div",{className:"max-w-3xl mx-auto flex gap-2",children:[E.jsxs("div",{className:"flex-1 relative",children:[E.jsx("textarea",{value:n,onChange:b=>r(b.target.value),onKeyDown:g,placeholder:`Message Jarvis in ${cp[i].label}...`,className:"w-full pl-4 pr-12 py-3 rounded-xl border border-border bg-white dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-accent-blue/50 resize-none h-[52px] max-h-32",style:{minHeight:"52px"}}),E.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-ink",children:E.jsx("i",{className:"fa-solid fa-paperclip"})})]}),E.jsx("button",{onClick:m,disabled:!n.trim(),className:"w-[52px] h-[52px] rounded-xl bg-accent-blue text-white flex items-center justify-center hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:E.jsx("i",{className:"fa-solid fa-paper-plane"})})]}),E.jsx("div",{className:"text-center mt-2 text-xs text-gray-400",children:"Jarvis can make mistakes. Please verify important information."})]})]})]})},vae=[{id:"d1",title:"Computer Science 101",cards:[{id:"c1",front:"What is a bit?",back:"The basic unit of information in computing (0 or 1).",nextReview:new Date},{id:"c2",front:"What is RAM?",back:"Random Access Memory - volatile memory used for currently running programs.",nextReview:new Date}]},{id:"d2",title:"Spanish Vocabulary",cards:[{id:"c3",front:"Hola",back:"Hello",nextReview:new Date},{id:"c4",front:"Gracias",back:"Thank you",nextReview:new Date}]}],j7=()=>{const[t,e]=N.useState(vae),[n,r]=N.useState(null),[i,s]=N.useState(!1),[a,l]=N.useState(0),[u,d]=N.useState(!1),m=x=>{r(x),s(!0),l(0),d(!1)},g=()=>{d(!1),n&&a<n.cards.length-1?l(a+1):(alert("Session Complete!"),s(!1),r(null))},b=()=>{const x={id:Date.now().toString(),title:"New Deck",cards:[]};e([...t,x])};if(i&&n){const x=n.cards[a];return E.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-900 p-8",children:[E.jsxs("div",{className:"w-full max-w-2xl flex justify-between items-center mb-8",children:[E.jsxs("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400",children:[E.jsx("i",{className:"fa-solid fa-arrow-left"})," Back to Decks"]}),E.jsxs("span",{className:"font-mono text-sm text-gray-400",children:[a+1," / ",n.cards.length]})]}),E.jsx("div",{className:"w-full max-w-2xl aspect-[3/2] perspective-1000 cursor-pointer group",onClick:()=>d(!u),children:E.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${u?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d"},children:[E.jsxs("div",{className:"absolute w-full h-full bg-surface border-2 border-border rounded-2xl shadow-xl flex items-center justify-center p-12 text-center",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[E.jsx("h2",{className:"text-3xl font-bold text-ink",children:x.front}),E.jsx("div",{className:"absolute bottom-6 text-xs text-gray-400 uppercase tracking-widest",children:"Click to Flip"})]}),E.jsx("div",{className:"absolute w-full h-full bg-subtle border-2 border-accent-blue rounded-2xl shadow-xl flex items-center justify-center p-12 text-center rotate-y-180",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:E.jsx("h2",{className:"text-2xl font-medium text-ink",children:x.back})})]})}),u&&E.jsxs("div",{className:"flex gap-4 mt-8",children:[E.jsx("button",{onClick:()=>g(),className:"px-8 py-3 bg-red-100 text-red-700 rounded-lg font-bold hover:bg-red-200 transition-colors",children:"Hard"}),E.jsx("button",{onClick:()=>g(),className:"px-8 py-3 bg-green-100 text-green-700 rounded-lg font-bold hover:bg-green-200 transition-colors",children:"Easy"})]})]})}return E.jsxs("div",{className:"h-full bg-white dark:bg-gray-900 p-8 overflow-y-auto",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("h1",{className:"text-2xl font-bold text-ink",children:"Flashcards"}),E.jsxs("button",{onClick:b,className:"px-4 py-2 bg-accent-blue text-white rounded-lg hover:bg-blue-600 transition-colors font-medium",children:[E.jsx("i",{className:"fa-solid fa-plus mr-2"})," New Deck"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(x=>E.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-border hover:shadow-lg transition-all group",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 text-xl",children:E.jsx("i",{className:"fa-solid fa-layer-group"})}),E.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:E.jsx("i",{className:"fa-solid fa-ellipsis"})})]}),E.jsx("h3",{className:"text-lg font-bold text-ink mb-2",children:x.title}),E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:[x.cards.length," cards  Due today"]}),E.jsx("button",{onClick:()=>m(x),className:"w-full py-2 bg-subtle border border-border rounded-lg text-ink font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Study Now"})]},x.id))})]})};var xae=N.createContext(void 0);function L7(t){const e=N.useContext(xae);return t||e||"ltr"}const Sae=["top","right","bottom","left"],Xu=Math.min,$s=Math.max,xx=Math.round,Vb=Math.floor,dl=t=>({x:t,y:t}),wae={left:"right",right:"left",bottom:"top",top:"bottom"},Cae={start:"end",end:"start"};function lE(t,e,n){return $s(t,Xu(e,n))}function mc(t,e){return typeof t=="function"?t(e):t}function gc(t){return t.split("-")[0]}function Wp(t){return t.split("-")[1]}function h4(t){return t==="x"?"y":"x"}function p4(t){return t==="y"?"height":"width"}const Eae=new Set(["top","bottom"]);function fl(t){return Eae.has(gc(t))?"y":"x"}function m4(t){return h4(fl(t))}function kae(t,e,n){n===void 0&&(n=!1);const r=Wp(t),i=m4(t),s=p4(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Sx(a)),[a,Sx(a)]}function Tae(t){const e=Sx(t);return[cE(t),e,cE(e)]}function cE(t){return t.replace(/start|end/g,e=>Cae[e])}const R6=["left","right"],O6=["right","left"],_ae=["top","bottom"],Mae=["bottom","top"];function Aae(t,e,n){switch(t){case"top":case"bottom":return n?e?O6:R6:e?R6:O6;case"left":case"right":return e?_ae:Mae;default:return[]}}function Nae(t,e,n,r){const i=Wp(t);let s=Aae(gc(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(cE)))),s}function Sx(t){return t.replace(/left|right|bottom|top/g,e=>wae[e])}function Rae(t){return{top:0,right:0,bottom:0,left:0,...t}}function P7(t){return typeof t!="number"?Rae(t):{top:t,right:t,bottom:t,left:t}}function wx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function D6(t,e,n){let{reference:r,floating:i}=t;const s=fl(e),a=m4(e),l=p4(a),u=gc(e),d=s==="y",m=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(u){case"top":x={x:m,y:r.y-i.height};break;case"bottom":x={x:m,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-i.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Wp(e)){case"start":x[a]-=b*(n&&d?-1:1);break;case"end":x[a]+=b*(n&&d?-1:1);break}return x}const Oae=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:g}=D6(d,r,u),b=r,x={},S=0;for(let k=0;k<l.length;k++){const{name:_,fn:A}=l[k],{x:O,y:z,data:L,reset:I}=await A({x:m,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:a,elements:{reference:t,floating:e}});m=O??m,g=z??g,x={...x,[_]:{...x[_],...L}},I&&S<=50&&(S++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(d=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:m,y:g}=D6(d,b,u)),k=-1)}return{x:m,y:g,placement:b,strategy:i,middlewareData:x}};async function K0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:b=!1,padding:x=0}=mc(e,t),S=P7(x),_=l[b?g==="floating"?"reference":"floating":g],A=wx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:u})),O=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,z=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),L=await(s.isElement==null?void 0:s.isElement(z))?await(s.getScale==null?void 0:s.getScale(z))||{x:1,y:1}:{x:1,y:1},I=wx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:O,offsetParent:z,strategy:u}):O);return{top:(A.top-I.top+S.top)/L.y,bottom:(I.bottom-A.bottom+S.bottom)/L.y,left:(A.left-I.left+S.left)/L.x,right:(I.right-A.right+S.right)/L.x}}const Dae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:m=0}=mc(t,e)||{};if(d==null)return{};const g=P7(m),b={x:n,y:r},x=m4(i),S=p4(x),k=await a.getDimensions(d),_=x==="y",A=_?"top":"left",O=_?"bottom":"right",z=_?"clientHeight":"clientWidth",L=s.reference[S]+s.reference[x]-b[x]-s.floating[S],I=b[x]-s.reference[x],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let P=j?j[z]:0;(!P||!await(a.isElement==null?void 0:a.isElement(j)))&&(P=l.floating[z]||s.floating[S]);const H=L/2-I/2,Q=P/2-k[S]/2-1,q=Xu(g[A],Q),X=Xu(g[O],Q),W=q,le=P-k[S]-X,Z=P/2-k[S]/2+H,te=lE(W,Z,le),V=!u.arrow&&Wp(i)!=null&&Z!==te&&s.reference[S]/2-(Z<W?q:X)-k[S]/2<0,re=V?Z<W?Z-W:Z-le:0;return{[x]:b[x]+re,data:{[x]:te,centerOffset:Z-te-re,...V&&{alignmentOffset:re}},reset:V}}}),zae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:k=!0,..._}=mc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const A=gc(i),O=fl(l),z=gc(l)===l,L=await(u.isRTL==null?void 0:u.isRTL(d.floating)),I=b||(z||!k?[Sx(l)]:Tae(l)),j=S!=="none";!b&&j&&I.push(...Nae(l,k,S,L));const P=[l,...I],H=await K0(e,_),Q=[];let q=((r=s.flip)==null?void 0:r.overflows)||[];if(m&&Q.push(H[A]),g){const Z=kae(i,a,L);Q.push(H[Z[0]],H[Z[1]])}if(q=[...q,{placement:i,overflows:Q}],!Q.every(Z=>Z<=0)){var X,W;const Z=(((X=s.flip)==null?void 0:X.index)||0)+1,te=P[Z];if(te&&(!(g==="alignment"?O!==fl(te):!1)||q.every(ee=>fl(ee.placement)===O?ee.overflows[0]>0:!0)))return{data:{index:Z,overflows:q},reset:{placement:te}};let V=(W=q.filter(re=>re.overflows[0]<=0).sort((re,ee)=>re.overflows[1]-ee.overflows[1])[0])==null?void 0:W.placement;if(!V)switch(x){case"bestFit":{var le;const re=(le=q.filter(ee=>{if(j){const de=fl(ee.placement);return de===O||de==="y"}return!0}).map(ee=>[ee.placement,ee.overflows.filter(de=>de>0).reduce((de,G)=>de+G,0)]).sort((ee,de)=>ee[1]-de[1])[0])==null?void 0:le[0];re&&(V=re);break}case"initialPlacement":V=l;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function z6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j6(t){return Sae.some(e=>t[e]>=0)}const jae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=mc(t,e);switch(r){case"referenceHidden":{const s=await K0(e,{...i,elementContext:"reference"}),a=z6(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:j6(a)}}}case"escaped":{const s=await K0(e,{...i,altBoundary:!0}),a=z6(s,n.floating);return{data:{escapedOffsets:a,escaped:j6(a)}}}default:return{}}}}},B7=new Set(["left","top"]);async function Lae(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=gc(n),l=Wp(n),u=fl(n)==="y",d=B7.has(a)?-1:1,m=s&&u?-1:1,g=mc(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof S=="number"&&(x=l==="end"?S*-1:S),u?{x:x*m,y:b*d}:{x:b*d,y:x*m}}const Pae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,u=await Lae(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},Bae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:A,y:O}=_;return{x:A,y:O}}},...u}=mc(t,e),d={x:n,y:r},m=await K0(e,u),g=fl(gc(i)),b=h4(g);let x=d[b],S=d[g];if(s){const _=b==="y"?"top":"left",A=b==="y"?"bottom":"right",O=x+m[_],z=x-m[A];x=lE(O,x,z)}if(a){const _=g==="y"?"top":"left",A=g==="y"?"bottom":"right",O=S+m[_],z=S-m[A];S=lE(O,S,z)}const k=l.fn({...e,[b]:x,[g]:S});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[b]:s,[g]:a}}}}}},Iae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=mc(t,e),m={x:n,y:r},g=fl(i),b=h4(g);let x=m[b],S=m[g];const k=mc(l,e),_=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(u){const z=b==="y"?"height":"width",L=s.reference[b]-s.floating[z]+_.mainAxis,I=s.reference[b]+s.reference[z]-_.mainAxis;x<L?x=L:x>I&&(x=I)}if(d){var A,O;const z=b==="y"?"width":"height",L=B7.has(gc(i)),I=s.reference[g]-s.floating[z]+(L&&((A=a.offset)==null?void 0:A[g])||0)+(L?0:_.crossAxis),j=s.reference[g]+s.reference[z]+(L?0:((O=a.offset)==null?void 0:O[g])||0)-(L?_.crossAxis:0);S<I?S=I:S>j&&(S=j)}return{[b]:x,[g]:S}}}},Hae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...d}=mc(t,e),m=await K0(e,d),g=gc(i),b=Wp(i),x=fl(i)==="y",{width:S,height:k}=s.floating;let _,A;g==="top"||g==="bottom"?(_=g,A=b===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(A=g,_=b==="end"?"top":"bottom");const O=k-m.top-m.bottom,z=S-m.left-m.right,L=Xu(k-m[_],O),I=Xu(S-m[A],z),j=!e.middlewareData.shift;let P=L,H=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(H=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=O),j&&!b){const q=$s(m.left,0),X=$s(m.right,0),W=$s(m.top,0),le=$s(m.bottom,0);x?H=S-2*(q!==0||X!==0?q+X:$s(m.left,m.right)):P=k-2*(W!==0||le!==0?W+le:$s(m.top,m.bottom))}await u({...e,availableWidth:H,availableHeight:P});const Q=await a.getDimensions(l.floating);return S!==Q.width||k!==Q.height?{reset:{rects:!0}}:{}}}};function b2(){return typeof window<"u"}function Jp(t){return I7(t)?(t.nodeName||"").toLowerCase():"#document"}function sa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bl(t){var e;return(e=(I7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function I7(t){return b2()?t instanceof Node||t instanceof sa(t).Node:!1}function xo(t){return b2()?t instanceof Element||t instanceof sa(t).Element:!1}function ml(t){return b2()?t instanceof HTMLElement||t instanceof sa(t).HTMLElement:!1}function L6(t){return!b2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof sa(t).ShadowRoot}const Uae=new Set(["inline","contents"]);function hy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=So(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Uae.has(i)}const Fae=new Set(["table","td","th"]);function Gae(t){return Fae.has(Jp(t))}const qae=[":popover-open",":modal"];function v2(t){return qae.some(e=>{try{return t.matches(e)}catch{return!1}})}const Vae=["transform","translate","scale","rotate","perspective"],Yae=["transform","translate","scale","rotate","perspective","filter"],Kae=["paint","layout","strict","content"];function g4(t){const e=y4(),n=xo(t)?So(t):t;return Vae.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Yae.some(r=>(n.willChange||"").includes(r))||Kae.some(r=>(n.contain||"").includes(r))}function Xae(t){let e=Qu(t);for(;ml(e)&&!Lp(e);){if(g4(e))return e;if(v2(e))return null;e=Qu(e)}return null}function y4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Qae=new Set(["html","body","#document"]);function Lp(t){return Qae.has(Jp(t))}function So(t){return sa(t).getComputedStyle(t)}function x2(t){return xo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qu(t){if(Jp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||L6(t)&&t.host||bl(t);return L6(e)?e.host:e}function H7(t){const e=Qu(t);return Lp(e)?t.ownerDocument?t.ownerDocument.body:t.body:ml(e)&&hy(e)?e:H7(e)}function X0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=H7(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=sa(i);if(s){const l=uE(a);return e.concat(a,a.visualViewport||[],hy(i)?i:[],l&&n?X0(l):[])}return e.concat(i,X0(i,[],n))}function uE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U7(t){const e=So(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ml(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=xx(n)!==s||xx(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function b4(t){return xo(t)?t:t.contextElement}function Cp(t){const e=b4(t);if(!ml(e))return dl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=U7(e);let a=(s?xx(n.width):n.width)/r,l=(s?xx(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Wae=dl(0);function F7(t){const e=sa(t);return!y4()||!e.visualViewport?Wae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==sa(t)?!1:e}function Ed(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=b4(t);let a=dl(1);e&&(r?xo(r)&&(a=Cp(r)):a=Cp(t));const l=Jae(s,n,r)?F7(s):dl(0);let u=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,m=i.width/a.x,g=i.height/a.y;if(s){const b=sa(s),x=r&&xo(r)?sa(r):r;let S=b,k=uE(S);for(;k&&r&&x!==S;){const _=Cp(k),A=k.getBoundingClientRect(),O=So(k),z=A.left+(k.clientLeft+parseFloat(O.paddingLeft))*_.x,L=A.top+(k.clientTop+parseFloat(O.paddingTop))*_.y;u*=_.x,d*=_.y,m*=_.x,g*=_.y,u+=z,d+=L,S=sa(k),k=uE(S)}}return wx({width:m,height:g,x:u,y:d})}function S2(t,e){const n=x2(t).scrollLeft;return e?e.left+n:Ed(bl(t)).left+n}function G7(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-S2(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function $ae(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=bl(r),l=e?v2(e.floating):!1;if(r===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=dl(1);const m=dl(0),g=ml(r);if((g||!g&&!s)&&((Jp(r)!=="body"||hy(a))&&(u=x2(r)),ml(r))){const x=Ed(r);d=Cp(r),m.x=x.x+r.clientLeft,m.y=x.y+r.clientTop}const b=a&&!g&&!s?G7(a,u):dl(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+m.x+b.x,y:n.y*d.y-u.scrollTop*d.y+m.y+b.y}}function Zae(t){return Array.from(t.getClientRects())}function eoe(t){const e=bl(t),n=x2(t),r=t.ownerDocument.body,i=$s(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$s(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+S2(t);const l=-n.scrollTop;return So(r).direction==="rtl"&&(a+=$s(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const P6=25;function toe(t,e){const n=sa(t),r=bl(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;const m=y4();(!m||m&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}const d=S2(r);if(d<=0){const m=r.ownerDocument,g=m.body,b=getComputedStyle(g),x=m.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,S=Math.abs(r.clientWidth-g.clientWidth-x);S<=P6&&(s-=S)}else d<=P6&&(s+=d);return{width:s,height:a,x:l,y:u}}const noe=new Set(["absolute","fixed"]);function roe(t,e){const n=Ed(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ml(t)?Cp(t):dl(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:a,height:l,x:u,y:d}}function B6(t,e,n){let r;if(e==="viewport")r=toe(t,n);else if(e==="document")r=eoe(bl(t));else if(xo(e))r=roe(e,n);else{const i=F7(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wx(r)}function q7(t,e){const n=Qu(t);return n===e||!xo(n)||Lp(n)?!1:So(n).position==="fixed"||q7(n,e)}function ioe(t,e){const n=e.get(t);if(n)return n;let r=X0(t,[],!1).filter(l=>xo(l)&&Jp(l)!=="body"),i=null;const s=So(t).position==="fixed";let a=s?Qu(t):t;for(;xo(a)&&!Lp(a);){const l=So(a),u=g4(a);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&noe.has(i.position)||hy(a)&&!u&&q7(t,a))?r=r.filter(m=>m!==a):i=l,a=Qu(a)}return e.set(t,r),r}function soe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?v2(e)?[]:ioe(e,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,m)=>{const g=B6(e,m,i);return d.top=$s(g.top,d.top),d.right=Xu(g.right,d.right),d.bottom=Xu(g.bottom,d.bottom),d.left=$s(g.left,d.left),d},B6(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function aoe(t){const{width:e,height:n}=U7(t);return{width:e,height:n}}function ooe(t,e,n){const r=ml(e),i=bl(e),s=n==="fixed",a=Ed(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=dl(0);function d(){u.x=S2(i)}if(r||!r&&!s)if((Jp(e)!=="body"||hy(i))&&(l=x2(e)),r){const x=Ed(e,!0,s,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else i&&d();s&&!r&&i&&d();const m=i&&!r&&!s?G7(i,l):dl(0),g=a.left+l.scrollLeft-u.x-m.x,b=a.top+l.scrollTop-u.y-m.y;return{x:g,y:b,width:a.width,height:a.height}}function Pw(t){return So(t).position==="static"}function I6(t,e){if(!ml(t)||So(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bl(t)===n&&(n=n.ownerDocument.body),n}function V7(t,e){const n=sa(t);if(v2(t))return n;if(!ml(t)){let i=Qu(t);for(;i&&!Lp(i);){if(xo(i)&&!Pw(i))return i;i=Qu(i)}return n}let r=I6(t,e);for(;r&&Gae(r)&&Pw(r);)r=I6(r,e);return r&&Lp(r)&&Pw(r)&&!g4(r)?n:r||Xae(t)||n}const loe=async function(t){const e=this.getOffsetParent||V7,n=this.getDimensions,r=await n(t.floating);return{reference:ooe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function coe(t){return So(t).direction==="rtl"}const uoe={convertOffsetParentRelativeRectToViewportRelativeRect:$ae,getDocumentElement:bl,getClippingRect:soe,getOffsetParent:V7,getElementRects:loe,getClientRects:Zae,getDimensions:aoe,getScale:Cp,isElement:xo,isRTL:coe};function Y7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function foe(t,e){let n=null,r;const i=bl(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:m,top:g,width:b,height:x}=d;if(l||e(),!b||!x)return;const S=Vb(g),k=Vb(i.clientWidth-(m+b)),_=Vb(i.clientHeight-(g+x)),A=Vb(m),z={rootMargin:-S+"px "+-k+"px "+-_+"px "+-A+"px",threshold:$s(0,Xu(1,u))||1};let L=!0;function I(j){const P=j[0].intersectionRatio;if(P!==u){if(!L)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!Y7(d,t.getBoundingClientRect())&&a(),L=!1}try{n=new IntersectionObserver(I,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(I,z)}n.observe(t)}return a(!0),s}function doe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=b4(t),m=i||s?[...d?X0(d):[],...X0(e)]:[];m.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),s&&A.addEventListener("resize",n)});const g=d&&l?foe(d,n):null;let b=-1,x=null;a&&(x=new ResizeObserver(A=>{let[O]=A;O&&O.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var z;(z=x)==null||z.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let S,k=u?Ed(t):null;u&&_();function _(){const A=Ed(t);k&&!Y7(k,A)&&n(),k=A,S=requestAnimationFrame(_)}return n(),()=>{var A;m.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),g?.(),(A=x)==null||A.disconnect(),x=null,u&&cancelAnimationFrame(S)}}const hoe=Pae,poe=Bae,moe=zae,goe=Hae,yoe=jae,H6=Dae,boe=Iae,voe=(t,e,n)=>{const r=new Map,i={platform:uoe,...n},s={...i.platform,_c:r};return Oae(t,e,{...i,platform:s})};var xoe=typeof document<"u",Soe=function(){},ov=xoe?N.useLayoutEffect:Soe;function Cx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Cx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Cx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function K7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function U6(t,e){const n=K7(t);return Math.round(e*n)/n}function Bw(t){const e=N.useRef(t);return ov(()=>{e.current=t}),e}function woe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[m,g]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=N.useState(r);Cx(b,r)||x(r);const[S,k]=N.useState(null),[_,A]=N.useState(null),O=N.useCallback(ee=>{ee!==j.current&&(j.current=ee,k(ee))},[]),z=N.useCallback(ee=>{ee!==P.current&&(P.current=ee,A(ee))},[]),L=s||S,I=a||_,j=N.useRef(null),P=N.useRef(null),H=N.useRef(m),Q=u!=null,q=Bw(u),X=Bw(i),W=Bw(d),le=N.useCallback(()=>{if(!j.current||!P.current)return;const ee={placement:e,strategy:n,middleware:b};X.current&&(ee.platform=X.current),voe(j.current,P.current,ee).then(de=>{const G={...de,isPositioned:W.current!==!1};Z.current&&!Cx(H.current,G)&&(H.current=G,lc.flushSync(()=>{g(G)}))})},[b,e,n,X,W]);ov(()=>{d===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,g(ee=>({...ee,isPositioned:!1})))},[d]);const Z=N.useRef(!1);ov(()=>(Z.current=!0,()=>{Z.current=!1}),[]),ov(()=>{if(L&&(j.current=L),I&&(P.current=I),L&&I){if(q.current)return q.current(L,I,le);le()}},[L,I,le,q,Q]);const te=N.useMemo(()=>({reference:j,floating:P,setReference:O,setFloating:z}),[O,z]),V=N.useMemo(()=>({reference:L,floating:I}),[L,I]),re=N.useMemo(()=>{const ee={position:n,left:0,top:0};if(!V.floating)return ee;const de=U6(V.floating,m.x),G=U6(V.floating,m.y);return l?{...ee,transform:"translate("+de+"px, "+G+"px)",...K7(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:de,top:G}},[n,l,V.floating,m.x,m.y]);return N.useMemo(()=>({...m,update:le,refs:te,elements:V,floatingStyles:re}),[m,le,te,V,re])}const Coe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?H6({element:r.current,padding:i}).fn(n):{}:r?H6({element:r,padding:i}).fn(n):{}}}},Eoe=(t,e)=>({...hoe(t),options:[t,e]}),koe=(t,e)=>({...poe(t),options:[t,e]}),Toe=(t,e)=>({...boe(t),options:[t,e]}),_oe=(t,e)=>({...moe(t),options:[t,e]}),Moe=(t,e)=>({...goe(t),options:[t,e]}),Aoe=(t,e)=>({...yoe(t),options:[t,e]}),Noe=(t,e)=>({...Coe(t),options:[t,e]});var Roe="Arrow",X7=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return E.jsx(ln.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});X7.displayName=Roe;var Ooe=X7;function Doe(t){const[e,n]=N.useState(void 0);return hc(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var v4="Popper",[Q7,W7]=kd(v4),[zoe,J7]=Q7(v4),$7=t=>{const{__scopePopper:e,children:n}=t,[r,i]=N.useState(null);return E.jsx(zoe,{scope:e,anchor:r,onAnchorChange:i,children:n})};$7.displayName=v4;var Z7="PopperAnchor",eO=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=J7(Z7,n),a=N.useRef(null),l=Gr(e,a),u=N.useRef(null);return N.useEffect(()=>{const d=u.current;u.current=r?.current||a.current,d!==u.current&&s.onAnchorChange(u.current)}),r?null:E.jsx(ln.div,{...i,ref:l})});eO.displayName=Z7;var x4="PopperContent",[joe,Loe]=Q7(x4),tO=N.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:S,...k}=t,_=J7(x4,n),[A,O]=N.useState(null),z=Gr(e,je=>O(je)),[L,I]=N.useState(null),j=Doe(L),P=j?.width??0,H=j?.height??0,Q=r+(s!=="center"?"-"+s:""),q=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},X=Array.isArray(d)?d:[d],W=X.length>0,le={padding:q,boundary:X.filter(Boe),altBoundary:W},{refs:Z,floatingStyles:te,placement:V,isPositioned:re,middlewareData:ee}=woe({strategy:"fixed",placement:Q,whileElementsMounted:(...je)=>doe(...je,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[Eoe({mainAxis:i+H,alignmentAxis:a}),u&&koe({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Toe():void 0,...le}),u&&_oe({...le}),Moe({...le,apply:({elements:je,rects:ot,availableWidth:Ke,availableHeight:nt})=>{const{width:Nn,height:Xt}=ot.reference,Rn=je.floating.style;Rn.setProperty("--radix-popper-available-width",`${Ke}px`),Rn.setProperty("--radix-popper-available-height",`${nt}px`),Rn.setProperty("--radix-popper-anchor-width",`${Nn}px`),Rn.setProperty("--radix-popper-anchor-height",`${Xt}px`)}}),L&&Noe({element:L,padding:l}),Ioe({arrowWidth:P,arrowHeight:H}),b&&Aoe({strategy:"referenceHidden",...le})]}),[de,G]=iO(V),Y=Gs(S);hc(()=>{re&&Y?.()},[re,Y]);const ie=ee.arrow?.x,F=ee.arrow?.y,we=ee.arrow?.centerOffset!==0,[Be,De]=N.useState();return hc(()=>{A&&De(window.getComputedStyle(A).zIndex)},[A]),E.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:re?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(joe,{scope:n,placedSide:de,onArrowChange:I,arrowX:ie,arrowY:F,shouldHideArrow:we,children:E.jsx(ln.div,{"data-side":de,"data-align":G,...k,ref:z,style:{...k.style,animation:re?void 0:"none"}})})})});tO.displayName=x4;var nO="PopperArrow",Poe={top:"bottom",right:"left",bottom:"top",left:"right"},rO=N.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Loe(nO,r),a=Poe[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(Ooe,{...i,ref:n,style:{...i.style,display:"block"}})})});rO.displayName=nO;function Boe(t){return t!==null}var Ioe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,m]=iO(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(i.arrow?.x??0)+l/2,x=(i.arrow?.y??0)+u/2;let S="",k="";return d==="bottom"?(S=a?g:`${b}px`,k=`${-u}px`):d==="top"?(S=a?g:`${b}px`,k=`${r.floating.height+u}px`):d==="right"?(S=`${-u}px`,k=a?g:`${x}px`):d==="left"&&(S=`${r.floating.width+u}px`,k=a?g:`${x}px`),{data:{x:S,y:k}}}});function iO(t){const[e,n="center"]=t.split("-");return[e,n]}var Hoe=$7,Uoe=eO,Foe=tO,Goe=rO,Iw="rovingFocusGroup.onEntryFocus",qoe={bubbles:!1,cancelable:!0},py="RovingFocusGroup",[fE,sO,Voe]=xE(py),[Yoe,aO]=kd(py,[Voe]),[Koe,Xoe]=Yoe(py),oO=N.forwardRef((t,e)=>E.jsx(fE.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(fE.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(Qoe,{...t,ref:e})})}));oO.displayName=py;var Qoe=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...g}=t,b=N.useRef(null),x=Gr(e,b),S=L7(s),[k,_]=wE({prop:a,defaultProp:l??null,onChange:u,caller:py}),[A,O]=N.useState(!1),z=Gs(d),L=sO(n),I=N.useRef(!1),[j,P]=N.useState(0);return N.useEffect(()=>{const H=b.current;if(H)return H.addEventListener(Iw,z),()=>H.removeEventListener(Iw,z)},[z]),E.jsx(Koe,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:k,onItemFocus:N.useCallback(H=>_(H),[_]),onItemShiftTab:N.useCallback(()=>O(!0),[]),onFocusableItemAdd:N.useCallback(()=>P(H=>H+1),[]),onFocusableItemRemove:N.useCallback(()=>P(H=>H-1),[]),children:E.jsx(ln.div,{tabIndex:A||j===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...t.style},onMouseDown:st(t.onMouseDown,()=>{I.current=!0}),onFocus:st(t.onFocus,H=>{const Q=!I.current;if(H.target===H.currentTarget&&Q&&!A){const q=new CustomEvent(Iw,qoe);if(H.currentTarget.dispatchEvent(q),!q.defaultPrevented){const X=L().filter(V=>V.focusable),W=X.find(V=>V.active),le=X.find(V=>V.id===k),te=[W,le,...X].filter(Boolean).map(V=>V.ref.current);uO(te,m)}}I.current=!1}),onBlur:st(t.onBlur,()=>O(!1))})})}),lO="RovingFocusGroupItem",cO=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,u=tv(),d=s||u,m=Xoe(lO,n),g=m.currentTabStopId===d,b=sO(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:k}=m;return N.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),E.jsx(fE.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:E.jsx(ln.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...l,ref:e,onMouseDown:st(t.onMouseDown,_=>{r?m.onItemFocus(d):_.preventDefault()}),onFocus:st(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:st(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const A=$oe(_,m.orientation,m.dir);if(A!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let z=b().filter(L=>L.focusable).map(L=>L.ref.current);if(A==="last")z.reverse();else if(A==="prev"||A==="next"){A==="prev"&&z.reverse();const L=z.indexOf(_.currentTarget);z=m.loop?Zoe(z,L+1):z.slice(L+1)}setTimeout(()=>uO(z))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:k!=null}):a})})});cO.displayName=lO;var Woe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Joe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $oe(t,e,n){const r=Joe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Woe[r]}function uO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Zoe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ele=oO,tle=cO,dE=["Enter"," "],nle=["ArrowDown","PageUp","Home"],fO=["ArrowUp","PageDown","End"],rle=[...nle,...fO],ile={ltr:[...dE,"ArrowRight"],rtl:[...dE,"ArrowLeft"]},sle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},my="Menu",[Q0,ale,ole]=xE(my),[jd,dO]=kd(my,[ole,W7,aO]),w2=W7(),hO=aO(),[lle,Ld]=jd(my),[cle,gy]=jd(my),pO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=w2(e),[u,d]=N.useState(null),m=N.useRef(!1),g=Gs(s),b=L7(i);return N.useEffect(()=>{const x=()=>{m.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>m.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),E.jsx(Hoe,{...l,children:E.jsx(lle,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:d,children:E.jsx(cle,{scope:e,onClose:N.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:b,modal:a,children:r})})})};pO.displayName=my;var ule="MenuAnchor",S4=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=w2(n);return E.jsx(Uoe,{...i,...r,ref:e})});S4.displayName=ule;var w4="MenuPortal",[fle,mO]=jd(w4,{forceMount:void 0}),gO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Ld(w4,e);return E.jsx(fle,{scope:e,forceMount:n,children:E.jsx(bc,{present:n||s.open,children:E.jsx(Ox,{asChild:!0,container:i,children:r})})})};gO.displayName=w4;var qa="MenuContent",[dle,C4]=jd(qa),yO=N.forwardRef((t,e)=>{const n=mO(qa,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ld(qa,t.__scopeMenu),a=gy(qa,t.__scopeMenu);return E.jsx(Q0.Provider,{scope:t.__scopeMenu,children:E.jsx(bc,{present:r||s.open,children:E.jsx(Q0.Slot,{scope:t.__scopeMenu,children:a.modal?E.jsx(hle,{...i,ref:e}):E.jsx(ple,{...i,ref:e})})})})}),hle=N.forwardRef((t,e)=>{const n=Ld(qa,t.__scopeMenu),r=N.useRef(null),i=Gr(e,r);return N.useEffect(()=>{const s=r.current;if(s)return C9(s)},[]),E.jsx(E4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ple=N.forwardRef((t,e)=>{const n=Ld(qa,t.__scopeMenu);return E.jsx(E4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mle=E0("MenuContent.ScrollLock"),E4=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:x,disableOutsideScroll:S,...k}=t,_=Ld(qa,n),A=gy(qa,n),O=w2(n),z=hO(n),L=ale(n),[I,j]=N.useState(null),P=N.useRef(null),H=Gr(e,P,_.onContentChange),Q=N.useRef(0),q=N.useRef(""),X=N.useRef(0),W=N.useRef(null),le=N.useRef("right"),Z=N.useRef(0),te=S?z3:N.Fragment,V=S?{as:mle,allowPinchZoom:!0}:void 0,re=de=>{const G=q.current+de,Y=L().filter(je=>!je.disabled),ie=document.activeElement,F=Y.find(je=>je.ref.current===ie)?.textValue,we=Y.map(je=>je.textValue),Be=_le(we,G,F),De=Y.find(je=>je.textValue===Be)?.ref.current;(function je(ot){q.current=ot,window.clearTimeout(Q.current),ot!==""&&(Q.current=window.setTimeout(()=>je(""),1e3))})(G),De&&setTimeout(()=>De.focus())};N.useEffect(()=>()=>window.clearTimeout(Q.current),[]),p9();const ee=N.useCallback(de=>le.current===W.current?.side&&Ale(de,W.current?.area),[]);return E.jsx(dle,{scope:n,searchRef:q,onItemEnter:N.useCallback(de=>{ee(de)&&de.preventDefault()},[ee]),onItemLeave:N.useCallback(de=>{ee(de)||(P.current?.focus(),j(null))},[ee]),onTriggerLeave:N.useCallback(de=>{ee(de)&&de.preventDefault()},[ee]),pointerGraceTimerRef:X,onPointerGraceIntentChange:N.useCallback(de=>{W.current=de},[]),children:E.jsx(te,{...V,children:E.jsx(D3,{asChild:!0,trapped:i,onMountAutoFocus:st(s,de=>{de.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:E.jsx(Rx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:b,onDismiss:x,children:E.jsx(ele,{asChild:!0,...z,dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:j,onEntryFocus:st(u,de=>{A.isUsingKeyboardRef.current||de.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(Foe,{role:"menu","aria-orientation":"vertical","data-state":DO(_.open),"data-radix-menu-content":"",dir:A.dir,...O,...k,ref:H,style:{outline:"none",...k.style},onKeyDown:st(k.onKeyDown,de=>{const Y=de.target.closest("[data-radix-menu-content]")===de.currentTarget,ie=de.ctrlKey||de.altKey||de.metaKey,F=de.key.length===1;Y&&(de.key==="Tab"&&de.preventDefault(),!ie&&F&&re(de.key));const we=P.current;if(de.target!==we||!rle.includes(de.key))return;de.preventDefault();const De=L().filter(je=>!je.disabled).map(je=>je.ref.current);fO.includes(de.key)&&De.reverse(),kle(De)}),onBlur:st(t.onBlur,de=>{de.currentTarget.contains(de.target)||(window.clearTimeout(Q.current),q.current="")}),onPointerMove:st(t.onPointerMove,W0(de=>{const G=de.target,Y=Z.current!==de.clientX;if(de.currentTarget.contains(G)&&Y){const ie=de.clientX>Z.current?"right":"left";le.current=ie,Z.current=de.clientX}}))})})})})})})});yO.displayName=qa;var gle="MenuGroup",k4=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(ln.div,{role:"group",...r,ref:e})});k4.displayName=gle;var yle="MenuLabel",bO=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(ln.div,{...r,ref:e})});bO.displayName=yle;var Ex="MenuItem",F6="menu.itemSelect",C2=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=N.useRef(null),a=gy(Ex,t.__scopeMenu),l=C4(Ex,t.__scopeMenu),u=Gr(e,s),d=N.useRef(!1),m=()=>{const g=s.current;if(!n&&g){const b=new CustomEvent(F6,{bubbles:!0,cancelable:!0});g.addEventListener(F6,x=>r?.(x),{once:!0}),SE(g,b),b.defaultPrevented?d.current=!1:a.onClose()}};return E.jsx(vO,{...i,ref:u,disabled:n,onClick:st(t.onClick,m),onPointerDown:g=>{t.onPointerDown?.(g),d.current=!0},onPointerUp:st(t.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:st(t.onKeyDown,g=>{const b=l.searchRef.current!=="";n||b&&g.key===" "||dE.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});C2.displayName=Ex;var vO=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=C4(Ex,n),l=hO(n),u=N.useRef(null),d=Gr(e,u),[m,g]=N.useState(!1),[b,x]=N.useState("");return N.useEffect(()=>{const S=u.current;S&&x((S.textContent??"").trim())},[s.children]),E.jsx(Q0.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:E.jsx(tle,{asChild:!0,...l,focusable:!r,children:E.jsx(ln.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:st(t.onPointerMove,W0(S=>{r?a.onItemLeave(S):(a.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(t.onPointerLeave,W0(S=>a.onItemLeave(S))),onFocus:st(t.onFocus,()=>g(!0)),onBlur:st(t.onBlur,()=>g(!1))})})})}),ble="MenuCheckboxItem",xO=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return E.jsx(kO,{scope:t.__scopeMenu,checked:n,children:E.jsx(C2,{role:"menuitemcheckbox","aria-checked":kx(n)?"mixed":n,...i,ref:e,"data-state":_4(n),onSelect:st(i.onSelect,()=>r?.(kx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});xO.displayName=ble;var SO="MenuRadioGroup",[vle,xle]=jd(SO,{value:void 0,onValueChange:()=>{}}),wO=N.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Gs(r);return E.jsx(vle,{scope:t.__scopeMenu,value:n,onValueChange:s,children:E.jsx(k4,{...i,ref:e})})});wO.displayName=SO;var CO="MenuRadioItem",EO=N.forwardRef((t,e)=>{const{value:n,...r}=t,i=xle(CO,t.__scopeMenu),s=n===i.value;return E.jsx(kO,{scope:t.__scopeMenu,checked:s,children:E.jsx(C2,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":_4(s),onSelect:st(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});EO.displayName=CO;var T4="MenuItemIndicator",[kO,Sle]=jd(T4,{checked:!1}),TO=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Sle(T4,n);return E.jsx(bc,{present:r||kx(s.checked)||s.checked===!0,children:E.jsx(ln.span,{...i,ref:e,"data-state":_4(s.checked)})})});TO.displayName=T4;var wle="MenuSeparator",_O=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(ln.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});_O.displayName=wle;var Cle="MenuArrow",MO=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=w2(n);return E.jsx(Goe,{...i,...r,ref:e})});MO.displayName=Cle;var Ele="MenuSub",[Ife,AO]=jd(Ele),n0="MenuSubTrigger",NO=N.forwardRef((t,e)=>{const n=Ld(n0,t.__scopeMenu),r=gy(n0,t.__scopeMenu),i=AO(n0,t.__scopeMenu),s=C4(n0,t.__scopeMenu),a=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},m=N.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return N.useEffect(()=>m,[m]),N.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),u(null)}},[l,u]),E.jsx(S4,{asChild:!0,...d,children:E.jsx(vO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":DO(n.open),...t,ref:vE(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:st(t.onPointerMove,W0(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:st(t.onPointerLeave,W0(g=>{m();const b=n.content?.getBoundingClientRect();if(b){const x=n.content?.dataset.side,S=x==="right",k=S?-5:5,_=b[S?"left":"right"],A=b[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+k,y:g.clientY},{x:_,y:b.top},{x:A,y:b.top},{x:A,y:b.bottom},{x:_,y:b.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:st(t.onKeyDown,g=>{const b=s.searchRef.current!=="";t.disabled||b&&g.key===" "||ile[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});NO.displayName=n0;var RO="MenuSubContent",OO=N.forwardRef((t,e)=>{const n=mO(qa,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Ld(qa,t.__scopeMenu),a=gy(qa,t.__scopeMenu),l=AO(RO,t.__scopeMenu),u=N.useRef(null),d=Gr(e,u);return E.jsx(Q0.Provider,{scope:t.__scopeMenu,children:E.jsx(bc,{present:r||s.open,children:E.jsx(Q0.Slot,{scope:t.__scopeMenu,children:E.jsx(E4,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{a.isUsingKeyboardRef.current&&u.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:st(t.onFocusOutside,m=>{m.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:st(t.onEscapeKeyDown,m=>{a.onClose(),m.preventDefault()}),onKeyDown:st(t.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),b=sle[a.dir].includes(m.key);g&&b&&(s.onOpenChange(!1),l.trigger?.focus(),m.preventDefault())})})})})})});OO.displayName=RO;function DO(t){return t?"open":"closed"}function kx(t){return t==="indeterminate"}function _4(t){return kx(t)?"indeterminate":t?"checked":"unchecked"}function kle(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Tle(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _le(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Tle(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function Mle(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],d=l.x,m=l.y,g=u.x,b=u.y;m>r!=b>r&&n<(g-d)*(r-m)/(b-m)+d&&(i=!i)}return i}function Ale(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Mle(n,e)}function W0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Nle=pO,Rle=S4,Ole=gO,Dle=yO,zle=k4,jle=bO,Lle=C2,Ple=xO,Ble=wO,Ile=EO,Hle=TO,Ule=_O,Fle=MO,Gle=NO,qle=OO,M4="ContextMenu",[Vle]=kd(M4,[dO]),gs=dO(),[Yle,zO]=Vle(M4),jO=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:i,modal:s=!0}=t,[a,l]=N.useState(!1),u=gs(e),d=Gs(r),m=N.useCallback(g=>{l(g),d(g)},[d]);return E.jsx(Yle,{scope:e,open:a,onOpenChange:m,modal:s,children:E.jsx(Nle,{...u,dir:i,open:a,onOpenChange:m,modal:s,children:n})})};jO.displayName=M4;var LO="ContextMenuTrigger",PO=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,s=zO(LO,n),a=gs(n),l=N.useRef({x:0,y:0}),u=N.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),d=N.useRef(0),m=N.useCallback(()=>window.clearTimeout(d.current),[]),g=b=>{l.current={x:b.clientX,y:b.clientY},s.onOpenChange(!0)};return N.useEffect(()=>m,[m]),N.useEffect(()=>void(r&&m()),[r,m]),E.jsxs(E.Fragment,{children:[E.jsx(Rle,{...a,virtualRef:u}),E.jsx(ln.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:st(t.onContextMenu,b=>{m(),g(b),b.preventDefault()}),onPointerDown:r?t.onPointerDown:st(t.onPointerDown,Yb(b=>{m(),d.current=window.setTimeout(()=>g(b),700)})),onPointerMove:r?t.onPointerMove:st(t.onPointerMove,Yb(m)),onPointerCancel:r?t.onPointerCancel:st(t.onPointerCancel,Yb(m)),onPointerUp:r?t.onPointerUp:st(t.onPointerUp,Yb(m))})]})});PO.displayName=LO;var Kle="ContextMenuPortal",BO=t=>{const{__scopeContextMenu:e,...n}=t,r=gs(e);return E.jsx(Ole,{...r,...n})};BO.displayName=Kle;var IO="ContextMenuContent",HO=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=zO(IO,n),s=gs(n),a=N.useRef(!1);return E.jsx(Dle,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),!l.defaultPrevented&&a.current&&l.preventDefault(),a.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),!l.defaultPrevented&&!i.modal&&(a.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HO.displayName=IO;var Xle="ContextMenuGroup",Qle=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(zle,{...i,...r,ref:e})});Qle.displayName=Xle;var Wle="ContextMenuLabel",Jle=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(jle,{...i,...r,ref:e})});Jle.displayName=Wle;var $le="ContextMenuItem",UO=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Lle,{...i,...r,ref:e})});UO.displayName=$le;var Zle="ContextMenuCheckboxItem",ece=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ple,{...i,...r,ref:e})});ece.displayName=Zle;var tce="ContextMenuRadioGroup",nce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ble,{...i,...r,ref:e})});nce.displayName=tce;var rce="ContextMenuRadioItem",ice=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ile,{...i,...r,ref:e})});ice.displayName=rce;var sce="ContextMenuItemIndicator",ace=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Hle,{...i,...r,ref:e})});ace.displayName=sce;var oce="ContextMenuSeparator",lce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ule,{...i,...r,ref:e})});lce.displayName=oce;var cce="ContextMenuArrow",uce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Fle,{...i,...r,ref:e})});uce.displayName=cce;var fce="ContextMenuSubTrigger",dce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Gle,{...i,...r,ref:e})});dce.displayName=fce;var hce="ContextMenuSubContent",pce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(qle,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pce.displayName=hce;function Yb(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var mce=jO,gce=PO,yce=BO,bce=HO,G6=UO;const vce=t=>({note:"fa-note-sticky",board:"fa-list-check",canvas:"fa-pen-nib",flashcard:"fa-layer-group"})[t]||"fa-file",xce=({files:t,currentWorkspace:e,onOpenFile:n,onBack:r,activeFile:i,onCreateNew:s})=>{const[a,l]=N.useState("grid"),u=m=>{const g=prompt("Rename file:",m.name);g&&(m.name=g)},d=m=>{confirm(`Are you sure you want to delete ${m.name}?`)&&console.log("Delete",m)};return E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"bg-subtle px-4 py-2 border-b border-border text-sm flex gap-2 text-gray-500 dark:text-gray-400 shrink-0 items-center justify-between",children:[E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("span",{children:"Computer"})," ",E.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] mt-1"})," ",E.jsx("span",{className:"text-ink font-medium",children:e==="work"?"Work":"School"}),i&&E.jsxs(E.Fragment,{children:[E.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] mt-1"}),E.jsx("span",{className:"text-ink font-medium",children:i.name})]})]}),!i&&E.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 rounded-lg p-0.5",children:[E.jsx("button",{onClick:()=>l("grid"),className:`p-1.5 rounded-md text-xs transition-colors ${a==="grid"?"bg-white dark:bg-gray-700 shadow-sm text-ink":"text-gray-500 hover:text-ink"}`,title:"Grid View",children:E.jsx("i",{className:"fa-solid fa-border-all"})}),E.jsx("button",{onClick:()=>l("list"),className:`p-1.5 rounded-md text-xs transition-colors ${a==="list"?"bg-white dark:bg-gray-700 shadow-sm text-ink":"text-gray-500 hover:text-ink"}`,title:"List View",children:E.jsx("i",{className:"fa-solid fa-list"})})]})]}),E.jsx("div",{className:"flex-1 bg-paper relative overflow-hidden",children:i?E.jsxs("div",{className:"h-full w-full absolute top-0 left-0 bg-paper z-10 flex flex-col",children:[E.jsxs("div",{className:"flex items-center gap-2 p-2 border-b border-border bg-subtle",children:[E.jsxs("button",{onClick:r,className:"px-3 py-1 bg-surface border border-border rounded text-xs font-bold hover:bg-subtle text-ink",children:[E.jsx("i",{className:"fa-solid fa-chevron-left mr-1"})," Back"]}),E.jsx("span",{className:"text-xs font-bold text-ink",children:i.name})]}),E.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[i.targetContent==="win-notes"&&E.jsx(B8,{}),i.targetContent==="win-kanban"&&E.jsx(V9,{}),i.targetContent==="win-whiteboard"&&E.jsx(AR,{}),i.targetContent==="win-flashcards"&&E.jsx(j7,{})]})]}):E.jsx("div",{className:"p-4 overflow-y-auto h-full",children:E.jsxs("div",{className:a==="grid"?"grid grid-cols-2 md:grid-cols-4 gap-4":"flex flex-col gap-2",children:[E.jsxs("div",{onClick:s,className:`flex ${a==="grid"?"flex-col items-center justify-center h-32":"flex-row items-center h-16"} p-4 bg-surface border-2 border-dashed border-border hover:border-accent-blue hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl cursor-pointer transition-all group`,children:[E.jsx("div",{className:`w-10 h-10 rounded-full bg-subtle flex items-center justify-center ${a==="grid"?"mb-2":"mr-4"} group-hover:bg-blue-200 dark:group-hover:bg-blue-800 group-hover:text-blue-700 dark:group-hover:text-blue-200`,children:E.jsx("i",{className:"fa-solid fa-plus text-xl text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-300"})}),E.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-300",children:"Create New"})]}),t[e].map((m,g)=>E.jsxs(mce,{children:[E.jsx(gce,{children:E.jsxs("div",{onClick:()=>n(m),className:`flex ${a==="grid"?"flex-col items-center justify-center h-32":"flex-row items-center h-16 px-4"} p-4 bg-surface border border-transparent hover:border-border hover:shadow-md rounded-xl cursor-pointer transition-all group relative`,children:[E.jsx("i",{className:`fa-solid ${vce(m.type)} ${a==="grid"?"text-4xl mb-2":"text-2xl mr-4"} group-hover:scale-110 transition-transform text-ink`}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("span",{className:"text-xs font-bold text-ink break-all line-clamp-2",children:m.name}),a==="list"&&E.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5 capitalize",children:[m.type,"  Modified just now"]})]})]})}),E.jsx(yce,{children:E.jsxs(bce,{className:"min-w-[160px] bg-white dark:bg-gray-800 rounded-md overflow-hidden p-[5px] shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] border border-gray-200 dark:border-gray-700 z-50",children:[E.jsxs(G6,{className:"group text-[13px] leading-none text-violet11 rounded-[3px] flex items-center h-[25px] px-[5px] relative pl-[25px] select-none outline-none data-[highlighted]:bg-violet9 data-[highlighted]:text-violet1 cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600",onSelect:()=>u(m),children:[E.jsx("i",{className:"fa-solid fa-pen-to-square absolute left-[5px] w-4 text-center"}),"Rename"]}),E.jsxs(G6,{className:"group text-[13px] leading-none text-red-500 rounded-[3px] flex items-center h-[25px] px-[5px] relative pl-[25px] select-none outline-none data-[highlighted]:bg-red-100 data-[highlighted]:text-red-700 cursor-pointer hover:bg-red-50 dark:hover:bg-red-900/20",onSelect:()=>d(m),children:[E.jsx("i",{className:"fa-solid fa-trash absolute left-[5px] w-4 text-center"}),"Delete"]})]})})]},g))]})})})]})},Sce=()=>{const[t,e]=N.useState({}),[n,r]=N.useState(!0),[i,s]=N.useState(!1),[a,l]=N.useState(null),[u,d]=N.useState(!1);async function m(){r(!0),l(null);try{const x=await cs("/v1/user/settings");if(!x.ok)throw new Error("Failed to load settings");const S=await x.json();e(S||{})}catch(x){l(x.message||"Load failed")}finally{r(!1)}}async function g(x){x.preventDefault(),s(!0),l(null),d(!1);try{const S=await cs("/v1/user/settings",{method:"POST",body:JSON.stringify(t)});if(!S.ok)throw new Error("Save failed");const k=await S.json();e(k),d(!0),setTimeout(()=>d(!1),2e3)}catch(S){l(S.message||"Save failed")}finally{s(!1)}}N.useEffect(()=>{m()},[]);const b=x=>({value:t[x]||"",onChange:S=>e(k=>({...k,[x]:S.target.value}))});return E.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 text-ink dark:text-gray-100",children:[E.jsxs("div",{className:"px-4 py-3 border-b-2 border-ink dark:border-gray-700 bg-subtle dark:bg-gray-800 flex items-center justify-between",children:[E.jsxs("h2",{className:"font-display text-lg font-bold flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-gears"})," Account Settings"]}),n&&E.jsxs("span",{className:"text-xs flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"})," Loading..."]}),u&&!i&&E.jsxs("span",{className:"text-xs text-green-600 font-semibold flex items-center gap-1",children:[E.jsx("i",{className:"fa-solid fa-circle-check"})," Saved"]})]}),E.jsxs("form",{onSubmit:g,className:"flex-1 overflow-y-auto p-4 space-y-6 bg-paper dark:bg-gray-900",children:[a&&E.jsxs("div",{className:"border-2 border-red-600 bg-red-100 text-red-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation mt-0.5"}),E.jsx("div",{className:"flex-1",children:a}),E.jsx("button",{type:"button",onClick:()=>l(null),className:"text-red-700 hover:text-red-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-sm font-bold tracking-wide uppercase",children:"AI Providers"}),E.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"OpenAI API Key"}),E.jsx("input",{type:"text",placeholder:"sk-...",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("openAiKey")})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Anthropic API Key"}),E.jsx("input",{type:"text",placeholder:"anth-...",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("anthropicKey")})]})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-sm font-bold tracking-wide uppercase",children:"Learning Platforms"}),E.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Canvas API Token"}),E.jsx("input",{type:"text",placeholder:"canvas token",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("canvasApiToken")})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Google API Key"}),E.jsx("input",{type:"text",placeholder:"AIza...",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("googleApiKey")})]})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-sm font-bold tracking-wide uppercase",children:"Home Automation"}),E.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col gap-2 md:col-span-1",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Home Assistant URL"}),E.jsx("input",{type:"text",placeholder:"https://homeassistant.local",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("homeAssistantUrl")})]}),E.jsxs("div",{className:"flex flex-col gap-2 md:col-span-1",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Home Assistant Token"}),E.jsx("input",{type:"text",placeholder:"long-lived token",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("homeAssistantToken")})]})]})]}),E.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[E.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",t.updatedAt?new Date(t.updatedAt).toLocaleString():"Never"]}),E.jsxs("button",{disabled:i,type:"submit",className:"px-6 py-2 rounded-lg bg-ink text-white font-bold text-sm tracking-wide flex items-center gap-2 disabled:opacity-50",children:[i&&E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),i?"Saving":"Save Settings"]})]})]})]})},wce={work:[{name:"Q4_Strategy.note",type:"note",targetContent:"win-notes"},{name:"Launch_Plan.board",type:"board",targetContent:"win-kanban"},{name:"UI_Concepts.canvas",type:"canvas",targetContent:"win-whiteboard"}],school:[{name:"History_Essay.note",type:"note",targetContent:"win-notes"},{name:"Math_HW.canvas",type:"canvas",targetContent:"win-whiteboard"}]},Cce=()=>{const{currentWorkspace:t}=kp(),[e,n]=N.useState(!1),[r,i]=N.useState(!1),[s,a]=N.useState(null);Ye.useEffect(()=>{const S=localStorage.getItem("focusdeck-wallpaper");S&&a(S);const k=()=>{const _=localStorage.getItem("focusdeck-wallpaper");_&&a(_)};return window.addEventListener("storage",k),window.addEventListener("focusdeck-wallpaper-changed",k),()=>{window.removeEventListener("storage",k),window.removeEventListener("focusdeck-wallpaper-changed",k)}},[]);const[l,u]=N.useState(wce),[d,m]=N.useState(null),g=S=>{i(!1);const k={note:{name:"Untitled",targetContent:"win-notes"},board:{name:"New Board",targetContent:"win-kanban"},canvas:{name:"New Canvas",targetContent:"win-whiteboard"},flashcard:{name:"Study Set",targetContent:"win-flashcards"}},_={name:`${k[S].name} ${l[t].length+1}`,type:S,targetContent:k[S].targetContent};u(A=>({...A,[t]:[...A[t],_]})),m(_)},b=S=>{m(S)},x=()=>{m(null)};return E.jsxs("div",{className:"flex flex-col h-screen w-full font-sans overflow-hidden bg-paper dark:bg-gray-900 text-ink dark:text-white transition-colors duration-300",children:[E.jsxs("main",{className:"flex-1 relative bg-paper dark:bg-gray-900 bg-dot-pattern overflow-hidden p-0 md:p-4",id:"desktop-area",style:s?{backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:[E.jsx(TL,{}),r&&E.jsx("div",{className:"absolute inset-0 z-[60] flex flex-col items-center justify-center p-8 backdrop-blur-sm bg-paper/80",children:E.jsxs("div",{className:"bg-white border-2 border-ink rounded-xl p-6 shadow-hard max-w-lg w-full",children:[E.jsx("h2",{className:"text-xl font-display font-bold mb-4",children:"Create New"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>g("note"),className:"p-4 border border-border rounded-lg hover:bg-yellow-50 hover:border-yellow-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-note-sticky text-2xl text-accent-yellow"}),E.jsx("span",{className:"font-bold text-sm",children:"Note"})]}),E.jsxs("button",{onClick:()=>g("board"),className:"p-4 border border-border rounded-lg hover:bg-teal-50 hover:border-teal-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-list-check text-2xl text-accent-teal"}),E.jsx("span",{className:"font-bold text-sm",children:"Kanban"})]}),E.jsxs("button",{onClick:()=>g("canvas"),className:"p-4 border border-border rounded-lg hover:bg-purple-50 hover:border-purple-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-pen-nib text-2xl text-accent-purple"}),E.jsx("span",{className:"font-bold text-sm",children:"Canvas"})]}),E.jsxs("button",{onClick:()=>g("flashcard"),className:"p-4 border border-border rounded-lg hover:bg-blue-50 hover:border-blue-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-layer-group text-2xl text-accent-blue"}),E.jsx("span",{className:"font-bold text-sm",children:"Cards"})]})]}),E.jsx("button",{onClick:()=>i(!1),className:"w-full mt-4 py-3 text-sm text-gray-500 font-bold hover:text-black",children:"Cancel"})]})}),E.jsxs("div",{id:"windows-container",className:"w-full h-full relative",children:[E.jsx(Zl,{id:"win-dashboard",headerChips:E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold cursor-pointer border border-red-200",children:[E.jsx("i",{className:"fa-solid fa-stopwatch animate-pulse"})," 24:59"]}),E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold cursor-pointer border border-green-200",children:[E.jsx("i",{className:"fa-brands fa-spotify"})," Lo-Fi Beats"]})]}),children:E.jsx(BL,{})}),E.jsx(Zl,{id:"win-email",headerChips:E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-xs font-bold cursor-pointer border border-gray-300",children:[E.jsx("i",{className:"fa-solid fa-filter"})," Unread: 4"]}),children:E.jsx(QQ,{})}),E.jsx(Zl,{id:"win-notes",headerChips:E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold cursor-pointer border border-yellow-200",children:[E.jsx("i",{className:"fa-solid fa-check"})," Saved"]}),children:E.jsx(B8,{})}),E.jsx(Zl,{id:"win-kanban",children:E.jsx(V9,{})}),E.jsx(Zl,{id:"win-whiteboard",children:E.jsx(AR,{})}),E.jsx(Zl,{id:"win-jarvis",children:E.jsx(bae,{})}),E.jsx(Zl,{id:"win-files",children:E.jsx(xce,{files:l,currentWorkspace:t,onOpenFile:b,onBack:x,activeFile:d,onCreateNew:()=>i(!0)})}),E.jsx(Zl,{id:"win-flashcards",children:E.jsx(j7,{})}),E.jsx(Zl,{id:"win-account-settings",children:E.jsx(Sce,{})})]})]}),E.jsx(kL,{isOpen:e,onClose:()=>n(!1)}),E.jsx(EL,{onToggleStart:()=>n(!e)})]})};/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q6="popstate";function Ece(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return hE("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J0(i)}return Tce(e,n,null,t)}function Fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kce(){return Math.random().toString(36).substring(2,10)}function V6(t,e){return{usr:t.state,key:t.key,idx:e}}function hE(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$p(e):e,state:n,key:e&&e.key||r||kce()}}function J0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $p(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Tce(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,d=m();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function m(){return(a.state||{idx:null}).idx}function g(){l="POP";let _=m(),A=_==null?null:_-d;d=_,u&&u({action:l,location:k.location,delta:A})}function b(_,A){l="PUSH";let O=hE(k.location,_,A);d=m()+1;let z=V6(O,d),L=k.createHref(O);try{a.pushState(z,"",L)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(L)}s&&u&&u({action:l,location:k.location,delta:1})}function x(_,A){l="REPLACE";let O=hE(k.location,_,A);d=m();let z=V6(O,d),L=k.createHref(O);a.replaceState(z,"",L),s&&u&&u({action:l,location:k.location,delta:0})}function S(_){return _ce(_)}let k={get action(){return l},get location(){return t(i,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(q6,g),u=_,()=>{i.removeEventListener(q6,g),u=null}},createHref(_){return e(i,_)},createURL:S,encodeLocation(_){let A=S(_);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:x,go(_){return a.go(_)}};return k}function _ce(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:J0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FO(t,e,n="/"){return Mce(t,e,n,!1)}function Mce(t,e,n,r){let i=typeof e=="string"?$p(e):e,s=yc(i.pathname||"/",n);if(s==null)return null;let a=GO(t);Ace(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=Hce(s);l=Bce(a[u],d,r)}return l}function GO(t,e=[],n=[],r="",i=!1){let s=(a,l,u=i,d)=>{let m={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;Fn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=dc([r,m.relativePath]),b=n.concat(m);a.children&&a.children.length>0&&(Fn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),GO(a.children,e,b,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:Lce(g,a.index),routesMeta:b})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of qO(a.path))s(a,l,!0,u)}),e}function qO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=qO(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ace(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pce(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Nce=/^:[\w-]+$/,Rce=3,Oce=2,Dce=1,zce=10,jce=-2,Y6=t=>t==="*";function Lce(t,e){let n=t.split("/"),r=n.length;return n.some(Y6)&&(r+=jce),e&&(r+=Oce),n.filter(i=>!Y6(i)).reduce((i,s)=>i+(Nce.test(s)?Rce:s===""?Dce:zce),r)}function Pce(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Bce(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=Tx({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),b=u.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Tx({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:dc([s,g.pathname]),pathnameBase:qce(dc([s,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(s=dc([s,g.pathnameBase]))}return a}function Tx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ice(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:g},b)=>{if(m==="*"){let S=l[b]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=l[b];return g&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function Ice(t,e=!1,n=!0){wo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hce(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Uce(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$p(t):t;return{pathname:n?n.startsWith("/")?n:Fce(n,e):e,search:Vce(r),hash:Yce(i)}}function Fce(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gce(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function A4(t){let e=Gce(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function N4(t,e,n,r=!1){let i;typeof t=="string"?i=$p(t):(i={...t},Fn(!i.pathname||!i.pathname.includes("?"),Hw("?","pathname","search",i)),Fn(!i.pathname||!i.pathname.includes("#"),Hw("#","pathname","hash",i)),Fn(!i.search||!i.search.includes("#"),Hw("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?e[g]:"/"}let u=Uce(i,l),d=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}var dc=t=>t.join("/").replace(/\/\/+/g,"/"),qce=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vce=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yce=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kce(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VO=["POST","PUT","PATCH","DELETE"];new Set(VO);var Xce=["GET",...VO];new Set(Xce);var Zp=N.createContext(null);Zp.displayName="DataRouter";var E2=N.createContext(null);E2.displayName="DataRouterState";N.createContext(!1);var YO=N.createContext({isTransitioning:!1});YO.displayName="ViewTransition";var Qce=N.createContext(new Map);Qce.displayName="Fetchers";var Wce=N.createContext(null);Wce.displayName="Await";var ko=N.createContext(null);ko.displayName="Navigation";var yy=N.createContext(null);yy.displayName="Location";var To=N.createContext({outlet:null,matches:[],isDataRoute:!1});To.displayName="Route";var R4=N.createContext(null);R4.displayName="RouteError";function Jce(t,{relative:e}={}){Fn(em(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(ko),{hash:i,pathname:s,search:a}=vy(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:dc([n,s])),r.createHref({pathname:l,search:a,hash:i})}function em(){return N.useContext(yy)!=null}function _o(){return Fn(em(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(yy).location}var KO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XO(t){N.useContext(ko).static||N.useLayoutEffect(t)}function by(){let{isDataRoute:t}=N.useContext(To);return t?due():$ce()}function $ce(){Fn(em(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Zp),{basename:e,navigator:n}=N.useContext(ko),{matches:r}=N.useContext(To),{pathname:i}=_o(),s=JSON.stringify(A4(r)),a=N.useRef(!1);return XO(()=>{a.current=!0}),N.useCallback((u,d={})=>{if(wo(a.current,KO),!a.current)return;if(typeof u=="number"){n.go(u);return}let m=N4(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:dc([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,s,i,t])}var Zce=N.createContext(null);function eue(t){let e=N.useContext(To).outlet;return N.useMemo(()=>e&&N.createElement(Zce.Provider,{value:t},e),[e,t])}function vy(t,{relative:e}={}){let{matches:n}=N.useContext(To),{pathname:r}=_o(),i=JSON.stringify(A4(n));return N.useMemo(()=>N4(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tue(t,e){return QO(t,e)}function QO(t,e,n,r,i){Fn(em(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(ko),{matches:a}=N.useContext(To),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",g=l&&l.route;{let O=g&&g.path||"";WO(d,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=_o(),x;if(e){let O=typeof e=="string"?$p(e):e;Fn(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),x=O}else x=b;let S=x.pathname||"/",k=S;if(m!=="/"){let O=m.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let _=FO(t,{pathname:k});wo(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),wo(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=aue(_&&_.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:dc([m,s.encodeLocation?s.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:dc([m,s.encodeLocation?s.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),a,n,r,i);return e&&A?N.createElement(yy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function nue(){let t=fue(),e=Kce(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,a)}var rue=N.createElement(nue,null),iue=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(To.Provider,{value:this.props.routeContext},N.createElement(R4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sue({routeContext:t,match:e,children:n}){let r=N.useContext(Zp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(To.Provider,{value:t},n)}function aue(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(m=>m.route.id&&a?.[m.route.id]!==void 0);Fn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:b}=n,x=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,m,g)=>{let b,x=!1,S=null,k=null;n&&(b=a&&m.route.id?a[m.route.id]:void 0,S=m.route.errorElement||rue,l&&(u<0&&g===0?(WO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,k=null):u===g&&(x=!0,k=m.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,g+1)),A=()=>{let O;return b?O=S:x?O=k:m.route.Component?O=N.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=d,N.createElement(sue,{match:m,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?N.createElement(iue,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):A()},null)}function O4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oue(t){let e=N.useContext(Zp);return Fn(e,O4(t)),e}function lue(t){let e=N.useContext(E2);return Fn(e,O4(t)),e}function cue(t){let e=N.useContext(To);return Fn(e,O4(t)),e}function D4(t){let e=cue(t),n=e.matches[e.matches.length-1];return Fn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uue(){return D4("useRouteId")}function fue(){let t=N.useContext(R4),e=lue("useRouteError"),n=D4("useRouteError");return t!==void 0?t:e.errors?.[n]}function due(){let{router:t}=oue("useNavigate"),e=D4("useNavigate"),n=N.useRef(!1);return XO(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{wo(n.current,KO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var K6={};function WO(t,e,n){!e&&!K6[t]&&(K6[t]=!0,wo(!1,n))}N.memo(hue);function hue({routes:t,future:e,state:n,unstable_onError:r}){return QO(t,void 0,n,r,e)}function pue({to:t,replace:e,state:n,relative:r}){Fn(em(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(ko);wo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(To),{pathname:a}=_o(),l=by(),u=N4(t,A4(s),a,r==="path"),d=JSON.stringify(u);return N.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function mue(t){return eue(t.context)}function lv(t){Fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gue({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Fn(!em(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=$p(n));let{pathname:u="/",search:d="",hash:m="",state:g=null,key:b="default"}=n,x=N.useMemo(()=>{let S=yc(u,a);return S==null?null:{location:{pathname:S,search:d,hash:m,state:g,key:b},navigationType:r}},[a,u,d,m,g,b,r]);return wo(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(ko.Provider,{value:l},N.createElement(yy.Provider,{children:e,value:x}))}function yue({children:t,location:e}){return tue(pE(t),e)}function pE(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,pE(r.props.children,s));return}Fn(r.type===lv,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=pE(r.props.children,s)),n.push(a)}),n}var cv="get",uv="application/x-www-form-urlencoded";function k2(t){return t!=null&&typeof t.tagName=="string"}function bue(t){return k2(t)&&t.tagName.toLowerCase()==="button"}function vue(t){return k2(t)&&t.tagName.toLowerCase()==="form"}function xue(t){return k2(t)&&t.tagName.toLowerCase()==="input"}function Sue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wue(t,e){return t.button===0&&(!e||e==="_self")&&!Sue(t)}var Kb=null;function Cue(){if(Kb===null)try{new FormData(document.createElement("form"),0),Kb=!1}catch{Kb=!0}return Kb}var Eue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uw(t){return t!=null&&!Eue.has(t)?(wo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uv}"`),null):t}function kue(t,e){let n,r,i,s,a;if(vue(t)){let l=t.getAttribute("action");r=l?yc(l,e):null,n=t.getAttribute("method")||cv,i=Uw(t.getAttribute("enctype"))||uv,s=new FormData(t)}else if(bue(t)||xue(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?yc(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||cv,i=Uw(t.getAttribute("formenctype"))||Uw(l.getAttribute("enctype"))||uv,s=new FormData(l,t),!Cue()){let{name:d,type:m,value:g}=t;if(m==="image"){let b=d?`${d}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else d&&s.append(d,g)}}else{if(k2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=cv,r=null,i=uv,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tue(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&yc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function _ue(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mue(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Aue(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await _ue(s,n);return a.links?a.links():[]}return[]}));return Due(r.flat(1).filter(Mue).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function X6(t,e,n,r,i,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Nue(t,e,{includeHydrateFallback:n}={}){return Rue(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Rue(t){return[...new Set(t)]}function Oue(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Due(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Oue(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function JO(){let t=N.useContext(Zp);return z4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zue(){let t=N.useContext(E2);return z4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var j4=N.createContext(void 0);j4.displayName="FrameworkContext";function $O(){let t=N.useContext(j4);return z4(t,"You must render this element inside a <HydratedRouter> element"),t}function jue(t,e){let n=N.useContext(j4),[r,i]=N.useState(!1),[s,a]=N.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,b=N.useRef(null);N.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let k=A=>{A.forEach(O=>{a(O.isIntersecting)})},_=new IntersectionObserver(k,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[t]),N.useEffect(()=>{if(r){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[r]);let x=()=>{i(!0)},S=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:Yg(l,x),onBlur:Yg(u,S),onMouseEnter:Yg(d,x),onMouseLeave:Yg(m,S),onTouchStart:Yg(g,x)}]:[!1,b,{}]}function Yg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Lue({page:t,...e}){let{router:n}=JO(),r=N.useMemo(()=>FO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(Bue,{page:t,matches:r,...e}):null}function Pue(t){let{manifest:e,routeModules:n}=$O(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return Aue(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Bue({page:t,matches:e,...n}){let r=_o(),{manifest:i,routeModules:s}=$O(),{basename:a}=JO(),{loaderData:l,matches:u}=zue(),d=N.useMemo(()=>X6(t,e,u,i,r,"data"),[t,e,u,i,r]),m=N.useMemo(()=>X6(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(A=>{let O=i.routes[A.route.id];!O||!O.hasLoader||(!d.some(z=>z.route.id===A.route.id)&&A.route.id in l&&s[A.route.id]?.shouldRevalidate||O.hasClientLoader?k=!0:S.add(A.route.id))}),S.size===0)return[];let _=Tue(t,a,"data");return k&&S.size>0&&_.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[a,l,r,i,d,e,t,s]),b=N.useMemo(()=>Nue(m,i),[m,i]),x=Pue(m);return N.createElement(N.Fragment,null,g.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:k})=>N.createElement("link",{key:S,nonce:n.nonce,...k})))}function Iue(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZO&&(window.__reactRouterVersion="7.9.5")}catch{}function Hue({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=Ece({window:n,v5Compat:!0}));let i=r.current,[s,a]=N.useState({action:i.action,location:i.location}),l=N.useCallback(u=>{N.startTransition(()=>a(u))},[a]);return N.useLayoutEffect(()=>i.listen(l),[i,l]),N.createElement(gue,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L4=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:m,viewTransition:g,...b},x){let{basename:S}=N.useContext(ko),k=typeof d=="string"&&eD.test(d),_,A=!1;if(typeof d=="string"&&k&&(_=d,ZO))try{let Q=new URL(window.location.href),q=d.startsWith("//")?new URL(Q.protocol+d):new URL(d),X=yc(q.pathname,S);q.origin===Q.origin&&X!=null?d=X+q.search+q.hash:A=!0}catch{wo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Jce(d,{relative:i}),[z,L,I]=jue(r,b),j=Gue(d,{replace:a,state:l,target:u,preventScrollReset:m,relative:i,viewTransition:g});function P(Q){e&&e(Q),Q.defaultPrevented||j(Q)}let H=N.createElement("a",{...b,...I,href:_||O,onClick:A||s?e:P,ref:Iue(x,L),target:u,"data-discover":!k&&n==="render"?"true":void 0});return z&&!k?N.createElement(N.Fragment,null,H,N.createElement(Lue,{page:O})):H});L4.displayName="Link";var mE=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},m){let g=vy(a,{relative:d.relative}),b=_o(),x=N.useContext(E2),{navigator:S,basename:k}=N.useContext(ko),_=x!=null&&Xue(g)&&l===!0,A=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,O=b.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(O=O.toLowerCase(),z=z?z.toLowerCase():null,A=A.toLowerCase()),z&&k&&(z=yc(z,k)||z);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let I=O===A||!i&&O.startsWith(A)&&O.charAt(L)==="/",j=z!=null&&(z===A||!i&&z.startsWith(A)&&z.charAt(A.length)==="/"),P={isActive:I,isPending:j,isTransitioning:_},H=I?e:void 0,Q;typeof r=="function"?Q=r(P):Q=[r,I?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(P):s;return N.createElement(L4,{...d,"aria-current":H,className:Q,ref:m,style:q,to:a,viewTransition:l},typeof u=="function"?u(P):u)});mE.displayName="NavLink";var Uue=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=cv,action:l,onSubmit:u,relative:d,preventScrollReset:m,viewTransition:g,...b},x)=>{let S=Yue(),k=Kue(l,{relative:d}),_=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&eD.test(l),O=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let L=z.nativeEvent.submitter,I=L?.getAttribute("formmethod")||a;S(L||z.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:s,relative:d,preventScrollReset:m,viewTransition:g})};return N.createElement("form",{ref:x,method:_,action:k,onSubmit:r?u:O,...b,"data-discover":!A&&t==="render"?"true":void 0})});Uue.displayName="Form";function Fue(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tD(t){let e=N.useContext(Zp);return Fn(e,Fue(t)),e}function Gue(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=by(),u=_o(),d=vy(t,{relative:s});return N.useCallback(m=>{if(wue(m,e)){m.preventDefault();let g=n!==void 0?n:J0(u)===J0(d);l(t,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,n,r,e,t,i,s,a])}var que=0,Vue=()=>`__${String(++que)}__`;function Yue(){let{router:t}=tD("useSubmit"),{basename:e}=N.useContext(ko),n=uue();return N.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=kue(r,e);if(i.navigate===!1){let m=i.fetcherKey||Vue();await t.fetch(m,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Kue(t,{relative:e}={}){let{basename:n}=N.useContext(ko),r=N.useContext(To);Fn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...vy(t||".",{relative:e})},a=_o();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(m=>m==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let m=l.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:dc([n,s.pathname])),J0(s)}function Xue(t,{relative:e}={}){let n=N.useContext(YO);Fn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tD("useViewTransitionState"),i=vy(t,{relative:e});if(!n.isTransitioning)return!1;let s=yc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=yc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tx(i.pathname,a)!=null||Tx(i.pathname,s)!=null}const Que=t=>{console.log(`Jarvis context: ${t}`)};function Wue(){const[t,e]=N.useState(!1),[n,r]=N.useState(!1),i=_o(),[s,a]=N.useState([{id:"1",role:"system",content:"Hi! I see you are working on something. How can I assist?",timestamp:new Date}]),[l,u]=N.useState(""),d=N.useRef(null);N.useEffect(()=>{Que(`I am looking at the ${i.pathname} page.`)},[i]);const m=()=>{d.current?.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{m()},[s,t,n]);const g=()=>{if(!l.trim())return;const S={id:Date.now().toString(),role:"user",content:l,timestamp:new Date};a(k=>[...k,S]),u(""),setTimeout(()=>{const k={id:(Date.now()+1).toString(),role:"system",content:`I am aware you are at **${i.pathname}**. Here is some help...`,timestamp:new Date};a(_=>[..._,k])},1e3)},b=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),g())},x=t||n;return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-4 h-full fixed right-0 top-0 z-40",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)}),E.jsxs("aside",{className:Nr("fixed top-0 right-0 h-full w-96 bg-surface/95 backdrop-blur-lg border-l border-border shadow-2xl transition-transform duration-300 ease-in-out z-50 transform flex flex-col",x?"translate-x-0":"translate-x-full"),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface-100/50",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),E.jsx("h2",{className:"text-lg font-semibold",children:"Jarvis"})]}),E.jsx("button",{onClick:()=>e(!t),className:Nr("p-2 rounded-md hover:bg-surface-200 transition-colors",t?"text-accent-blue bg-blue-50":"text-gray-500"),title:t?"Unpin":"Pin",children:E.jsx("i",{className:"fa-solid fa-thumbtack transform rotate-45"})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-surface-50/50",children:[s.map(S=>E.jsx(z7,{message:S},S.id)),E.jsx("div",{ref:d})]}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface-100/50",children:[E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{value:l,onChange:S=>u(S.target.value),onKeyDown:b,placeholder:"Ask about this page...",className:"w-full pl-4 pr-10 py-3 rounded-xl border border-border bg-white focus:outline-none focus:ring-2 focus:ring-accent-blue/50 resize-none h-12 min-h-[48px] text-sm"}),E.jsx("button",{onClick:g,disabled:!l.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 text-accent-blue hover:text-blue-700 disabled:opacity-50",children:E.jsx("i",{className:"fa-solid fa-paper-plane"})})]}),E.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-center",children:["Context: ",i.pathname]})]})]})]})}function Jue(){const[t,e]=N.useState(null),[n,r]=N.useState(!0),[i,s]=N.useState(null),a=N.useCallback(async()=>{r(!0),s(null);try{const l=await cs("/v1/tenants/current"),u=await l.json().catch(()=>null);if(!l.ok||!u)throw new Error(u?.message||"Unable to load current tenant");e(u)}catch(l){e(null),s(l?.message||"Unable to resolve tenant")}finally{r(!1)}},[]);return N.useEffect(()=>{a()},[a]),{tenant:t,loading:n,error:i,refresh:a}}const Fw=[{id:"1",name:"Personal"},{id:"2",name:"Work"}],$ue={1:[{id:"1",name:"Project A"},{id:"2",name:"Project B"}],2:[{id:"3",name:"Project C"},{id:"4",name:"Project D"}]};function Zue(){const t=by(),{tenant:e,loading:n,error:r}=Jue(),[i,s]=N.useState(Fw[0]);return E.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[E.jsxs("aside",{className:"w-72 flex-shrink-0 border-r border-border bg-surface/50",children:[E.jsxs("div",{className:"p-4",children:[E.jsx("h2",{className:"text-lg font-semibold",children:"Workspaces"}),E.jsx("select",{value:i.id,onChange:a=>{const l=Fw.find(u=>u.id===a.target.value);l&&s(l)},className:"w-full mt-2 p-2 rounded-md bg-surface-100 border border-border",children:Fw.map(a=>E.jsx("option",{value:a.id,children:a.name},a.id))})]}),E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold",children:"Projects"}),E.jsx("nav",{className:"mt-2 space-y-1",children:$ue[i.id]?.map(a=>E.jsx(mE,{to:`/projects/${a.id}/board`,className:({isActive:l})=>Nr("block px-4 py-2 rounded-md",l?"bg-primary/10 text-primary":"hover:bg-surface-100"),children:a.name},a.id))})]}),E.jsx("div",{className:"p-4 mt-auto",children:E.jsx(mE,{to:"/customize",className:({isActive:a})=>Nr("block px-4 py-2 rounded-md",a?"bg-primary/10 text-primary":"hover:bg-surface-100"),children:"Customize"})})]}),E.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsxs("header",{className:"h-16 border-b border-border flex items-center justify-between px-6",role:"banner",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("h1",{className:"text-lg font-semibold sr-only",children:"FocusDeck"})}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{className:"p-2 hover:bg-surface-100 rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Search",children:E.jsx("span",{className:"text-xl",children:""})}),E.jsx("button",{onClick:()=>t("/tenants"),className:"flex items-center gap-2 rounded-full border border-border bg-surface/70 px-3 py-1.5 text-sm text-foreground hover:bg-surface-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",title:e?.name??"Select tenant",children:e?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"font-medium",children:e.name}),E.jsxs("span",{className:"text-xs text-gray-400",children:["/",e.slug]})]}):n?E.jsx("span",{className:"text-xs text-gray-400",children:"Resolving tenant"}):r?E.jsx("span",{className:"text-xs text-red-300",children:"Tenant error"}):E.jsx("span",{className:"text-xs text-gray-400",children:"Select tenant"})}),E.jsx("button",{onClick:()=>Dj(),className:"px-3 py-2 hover:bg-surface-100 rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Logout",title:"Logout",children:"Logout"})]})]}),E.jsx("div",{id:"main-content",className:"flex-1 overflow-auto p-6",role:"main",tabIndex:-1,children:E.jsx("div",{className:"max-w-7xl mx-auto",children:E.jsx(mue,{})})})]}),E.jsx(Wue,{})]})}function efe(t=768){const[e,n]=N.useState(!1);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${t}px)`),i=()=>{n(r.matches)};return i(),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[t]),e}const tfe="modulepreload",nfe=function(t){return"/"+t},Q6={},rfe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=nfe(d),d in Q6)return;Q6[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":tfe,m||(b.as="script"),b.crossOrigin="",b.href=d,l&&b.setAttribute("nonce",l),document.head.appendChild(b),m)return new Promise((x,S)=>{b.addEventListener("load",x),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},nD="/assets/argon2-BUCifEKR.wasm",_x=globalThis;_x.argon2WasmPath=_x.argon2WasmPath??nD;let Gw=null;function ife(){return fetch(nD).then(t=>{if(!t.ok)throw new Error("Failed to load Argon2 WASM");return t.arrayBuffer()})}_x.loadArgon2WasmBinary=()=>(Gw||(Gw=ife()),Gw);_x.loadArgon2WasmModule=void 0;let qw=null;async function sfe(){return qw||(qw=rfe(()=>import("./argon2-vCPIyeU6.js").then(t=>t.a),[])),qw}const T2="AC6BDB41324A9A9BF166DE5E1389582FAF72B6651987EE07FC3192943DB56050A37329CBB4A099ED8193E0757767A13DD52312AB4B03310DCD7F48A9DA04FD50E8083969EDB767B0CF6096A4FA3B58F90F6A54B42A59D53B3A2A7C5F4F5F4E462E9F6A4E128E71B9F0C67C8E18CBF4C3BAFE8A31C5CFFFB4E90D54BD45BF37DF365C1A65E68CFDA76D4DA708DF1FB2BC2E4A4371",oc=BigInt("0x"+T2),Mx=2n,mp=Math.ceil(T2.length/2);function rD(){if(typeof crypto>"u"||!crypto.subtle)throw new Error("WebCrypto is required for PAKE flows")}function gE(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function Ax(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function xy(t){let e="";for(const n of t)e+=n.toString(16).padStart(2,"0");return e.length===0?0n:BigInt("0x"+e)}function P4(t){if(t===0n)return new Uint8Array([0]);let e=t.toString(16);e.length%2!==0&&(e="0"+e);const n=new Uint8Array(e.length/2);for(let r=0;r<n.length;r++)n[r]=parseInt(e.substr(r*2,2),16);return n}function zu(t){const e=P4(t);if(e.length===mp)return e;if(e.length>mp)return e.slice(e.length-mp);const n=new Uint8Array(mp);return n.set(e,mp-e.length),n}async function yE(t){rD();const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),n=await crypto.subtle.digest("SHA-256",e);return new Uint8Array(n)}async function Nx(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return yE(n)}async function iD(...t){const e=await Nx(...t);return xy(e)}function C0(t,e){const n=t%e;return n>=0n?n:n+e}function fv(t,e,n){if(n===1n)return 0n;let r=1n,i=C0(t,n),s=e;for(;s>0n;)(s&1n)===1n&&(r=C0(r*i,n)),s>>=1n,i=C0(i*i,n);return r}let Vw=null;async function afe(){return Vw||(Vw=iD(zu(oc),zu(Mx))),Vw}function ofe(){for(rD();;){const t=new Uint8Array(mp);crypto.getRandomValues(t);const e=xy(t);if(e>0n&&e<oc)return e}}async function lfe(t,e,n){const r=new TextEncoder,i=Ax(t),s=r.encode(`${e}:${n}`),a=await yE(s),l=new Uint8Array(i.length+a.length);l.set(i,0),l.set(a,i.length);const u=await yE(l);return xy(u)}async function cfe(t,e,n){if(!t?.salt)throw new Error("Missing Argon2id salt");console.log("[PAKE] computeArgon2idPrivateKey - userId:",e),console.log("[PAKE] computeArgon2idPrivateKey - KDF params:",{t:t.t,m:t.m,p:t.p,salt:t.salt,aad:t.aad});const r=new TextEncoder,i=r.encode(n),s=t.aad===!1?null:r.encode(e),a=Ax(t.salt),l=t.t??3,u=t.m??65536,d=t.p??2;console.log("[PAKE] AssociatedData will be used:",s!==null),console.log("[PAKE] AssociatedData bytes:",s?Array.from(s).map(x=>x.toString(16).padStart(2,"0")).join(""):"null"),console.log("[PAKE] Loading Argon2 WASM module...");const{ArgonType:m,hash:g}=await sfe();console.log("[PAKE] Argon2 WASM module loaded successfully"),console.log("[PAKE] Computing Argon2id hash with params:",{time:l,mem:u,parallelism:d,hashLen:32,hasAD:s!==null});const b=await g({pass:i,salt:a,time:l,mem:u,parallelism:d,hashLen:32,type:m.id,...s?{associatedData:s}:{}});return console.log("[PAKE] Argon2id hash computed successfully"),console.log("[PAKE] Derived key (hex):",Array.from(new Uint8Array(b.hash)).map(x=>x.toString(16).padStart(2,"0")).join("")),xy(new Uint8Array(b.hash))}function sD(t){if(!t)return null;try{return JSON.parse(t)}catch{return null}}async function aD(t,e,n,r){if(console.log("[PAKE] derivePrivateKey called with KDF:",t),t?.alg?.toLowerCase()==="argon2id"){console.log("[PAKE] Using Argon2id derivation");try{const s=await cfe(t,n,r);return console.log("[PAKE] Argon2id derivation successful"),s}catch(s){throw console.error("[PAKE] Argon2id derivation failed:",s),s}}console.log("[PAKE] Using legacy SHA256 derivation");const i=t?.salt??e;if(!i)throw new Error("Missing KDF salt");return lfe(i,n,r)}function ufe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}async function ffe(t){return Nx(zu(t))}async function dfe(t,e){const n=await fetch("/v1/auth/pake/register/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,devicePlatform:"web"})});if(!n.ok)throw new Error("PAKE register start failed");const r=await n.json();if(r.algorithm!=="SRP-6a-2048-SHA256"||r.modulusHex!==T2||r.generator!==2)throw new Error("Unsupported SRP parameters from server");const i=sD(r.kdfParametersJson),s=i?.salt;if(!s)throw new Error("Server did not provide registration salt");const a=await aD(i,s,t,e),l=fv(Mx,a,oc),u=gE(P4(l)),d=await fetch("/v1/auth/pake/register/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,verifierBase64:u,kdfParametersJson:r.kdfParametersJson,vaultDataBase64:null,vaultKdfMetadataJson:null,vaultCipherSuite:null})});if(!d.ok){const m=await d.json().catch(()=>({}));throw new Error(m?.error||"PAKE register finish failed")}return d.json()}async function hfe(t,e,n){const r=ofe(),i=fv(Mx,r,oc),s=gE(P4(i)),a=await fetch("/v1/auth/pake/login/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,clientPublicEphemeralBase64:s,clientId:navigator.userAgent,deviceName:navigator.userAgent,devicePlatform:"web"})});if(!a.ok){const H=await a.json().catch(()=>({}));throw new Error(H?.error||"PAKE login start failed")}const l=await a.json();if(l.algorithm!=="SRP-6a-2048-SHA256"||l.modulusHex!==T2||l.generator!==2)throw new Error("Unsupported SRP parameters from server");const u=xy(Ax(l.serverPublicEphemeralBase64));if(u<=0n||u%oc===0n)throw new Error("Invalid server public ephemeral value");const d=sD(l.kdfParametersJson),m=await aD(d,l.saltBase64,t,e),g=await iD(zu(i),zu(u));if(g===0n)throw new Error("SRP scramble parameter was zero");const b=await afe(),x=fv(Mx,m,oc),S=C0(u-b*x,oc),k=C0(r+g*m,oc),_=fv(S,k,oc),A=await ffe(_),O=await Nx(zu(i),zu(u),A),z=gE(O),L=await fetch("/v1/auth/pake/login/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,sessionId:l.sessionId,clientProofBase64:z,clientId:navigator.userAgent,deviceName:navigator.userAgent,devicePlatform:"web"})});if(!L.ok){const H=await L.json().catch(()=>({}));throw new Error(H?.error||"PAKE login finish failed")}const I=await L.json();if(!I.success)throw new Error("Login failed");const j=await Nx(zu(i),O,A),P=Ax(I.serverProofBase64);if(!ufe(j,P))throw new Error("Server proof validation failed");return I}const pfe=()=>{const t=by(),e=_o(),[n,r]=N.useState(""),[i,s]=N.useState(""),[a,l]=N.useState(!1),[u,d]=N.useState(!1),[m,g]=N.useState(null),b=e.state?.from?.pathname||"/";function x(k){switch(k){case"Missing KDF salt":return"Account upgrade required  reset password or contact support.";case"Invalid KDF salt":return"Credential metadata mismatch  please retry or contact support.";case"User not found":return"No account found. Check your user ID or register.";case"Login failed":return"Authentication failed  verify credentials.";default:return k||"Authentication failed"}}async function S(k){k.preventDefault(),g(null),d(!0);try{console.log("[SignIn] Starting login for user:",n.trim());const _=await hfe(n.trim(),i);console.log("[SignIn] Login successful, storing tokens"),jM(_.accessToken,_.refreshToken,n.trim()),console.log("[SignIn] Tokens stored, navigating to:",b),t(b,{replace:!0}),console.log("[SignIn] Navigation called")}catch(_){const A=x(_?.message);g(A),console.error("[SignIn] Login error:",_)}finally{d(!1)}}return E.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-paper dark:bg-gray-900 relative px-4 py-10",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--ink) 1px, transparent 0)",backgroundSize:"28px 28px"}}),E.jsx("div",{className:"max-w-md w-full relative z-10",children:E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard overflow-hidden flex flex-col",children:[E.jsxs("div",{className:"px-6 py-5 border-b-2 border-ink bg-subtle flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-ink text-white rounded-lg flex items-center justify-center shadow-inner",children:E.jsx("i",{className:"fa-solid fa-layer-group"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-display text-xl font-bold leading-none",children:"FocusDeck Login"}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 tracking-wide",children:"Secure SRP / PAKE Authentication"})]})]}),E.jsxs("div",{className:"hidden md:flex gap-1",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]}),E.jsxs("form",{onSubmit:S,className:"p-6 space-y-5",children:[m&&E.jsxs("div",{className:"border-2 border-red-600 bg-red-100 text-red-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation mt-0.5"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold mb-0.5",children:"Sign in failed"}),E.jsx("div",{children:m})]}),E.jsx("button",{type:"button",onClick:()=>g(null),className:"text-red-700 hover:text-red-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"User ID or Email"}),E.jsx("input",{autoComplete:"username",required:!0,value:n,onChange:k=>r(k.target.value),placeholder:"you@example.com",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"Password"}),E.jsx("button",{type:"button",onClick:()=>l(!a),className:"text-xs font-semibold text-primary hover:underline",children:a?"Hide":"Show"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:a?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:k=>s(k.target.value),placeholder:"",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm pr-10"}),E.jsx("i",{className:"fa-solid fa-key absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),E.jsxs("button",{type:"submit",disabled:u,className:"w-full py-3 rounded-lg bg-ink text-white font-bold text-sm tracking-wide flex items-center justify-center gap-2 hover:opacity-90 transition disabled:opacity-50",children:[u&&E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),u?"Authenticating":"Sign In Securely"]}),E.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1 pt-2",children:[E.jsx("p",{children:"Encrypted SRP handshake protects your password."}),E.jsxs("p",{className:"italic",children:["Need an account? ",E.jsx("a",{href:"/register",className:"text-primary font-semibold hover:underline",children:"Register"})]})]})]}),E.jsxs("div",{className:"px-6 py-4 border-t-2 border-ink bg-subtle flex items-center justify-between text-xs text-gray-500",children:[E.jsxs("span",{className:"font-mono",children:["v","0.1.0"]}),E.jsx("span",{children:" FocusDeck"})]})]})})]})},mfe=()=>{const t=by(),[e,n]=N.useState(""),[r,i]=N.useState(""),[s,a]=N.useState(""),[l,u]=N.useState(!1),[d,m]=N.useState(!1),[g,b]=N.useState(null),[x,S]=N.useState(null);function k(A){switch(A){case"User already exists":return"An account with this ID already exists.";case"Invalid verifier":return"Verifier generation failed  retry.";case"Password too weak":return"Choose a stronger password.";case"PAKE register start failed":return"Registration handshake could not start.";case"PAKE register finish failed":return"Registration handshake failed to finalize.";default:return A||"Registration failed"}}async function _(A){if(A.preventDefault(),b(null),S(null),r!==s){b("Passwords do not match");return}if(r.length<8){b("Password must be at least 8 characters");return}m(!0);try{const O=await dfe(e.trim(),r);if(O?.accessToken&&O?.refreshToken){jM(O.accessToken,O.refreshToken,e.trim()),t("/",{replace:!0});return}S("Account created. Redirecting to login"),setTimeout(()=>t("/login",{replace:!0,state:{registeredUserId:e.trim()}}),1200)}catch(O){const z=k(O?.message);b(z),console.error("Register error:",O)}finally{m(!1)}}return E.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-paper dark:bg-gray-900 relative px-4 py-10",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--ink) 1px, transparent 0)",backgroundSize:"28px 28px"}}),E.jsx("div",{className:"max-w-md w-full relative z-10",children:E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard overflow-hidden flex flex-col",children:[E.jsxs("div",{className:"px-6 py-5 border-b-2 border-ink bg-subtle flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-ink text-white rounded-lg flex items-center justify-center shadow-inner",children:E.jsx("i",{className:"fa-solid fa-user-plus"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-display text-xl font-bold leading-none",children:"Create Account"}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 tracking-wide",children:"Secure SRP / PAKE Provisioning"})]})]}),E.jsxs("div",{className:"hidden md:flex gap-1",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]}),E.jsxs("form",{onSubmit:_,className:"p-6 space-y-5",children:[g&&E.jsxs("div",{className:"border-2 border-red-600 bg-red-100 text-red-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation mt-0.5"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold mb-0.5",children:"Registration failed"}),E.jsx("div",{children:g})]}),E.jsx("button",{type:"button",onClick:()=>b(null),className:"text-red-700 hover:text-red-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),x&&E.jsxs("div",{className:"border-2 border-green-600 bg-green-100 text-green-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-circle-check mt-0.5"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold mb-0.5",children:"Success"}),E.jsx("div",{children:x})]}),E.jsx("button",{type:"button",onClick:()=>S(null),className:"text-green-700 hover:text-green-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"User ID or Email"}),E.jsx("input",{autoComplete:"username",required:!0,value:e,onChange:A=>n(A.target.value),placeholder:"you@example.com",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"Password"}),E.jsx("button",{type:"button",onClick:()=>u(!l),className:"text-xs font-semibold text-primary hover:underline",children:l?"Hide":"Show"})]}),E.jsx("input",{type:l?"text":"password",autoComplete:"new-password",required:!0,value:r,onChange:A=>i(A.target.value),placeholder:"",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"Confirm Password"}),E.jsx("input",{type:l?"text":"password",autoComplete:"new-password",required:!0,value:s,onChange:A=>a(A.target.value),placeholder:"",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("button",{type:"submit",disabled:d,className:"w-full py-3 rounded-lg bg-ink text-white font-bold text-sm tracking-wide flex items-center justify-center gap-2 hover:opacity-90 transition disabled:opacity-50",children:[d&&E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),d?"Provisioning":"Create Account Securely"]}),E.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1 pt-2",children:[E.jsx("p",{children:"Your password is never sent  SRP verifier stored."}),E.jsxs("p",{children:["Already have an account?"," ",E.jsx(L4,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Login"})]})]})]}),E.jsxs("div",{className:"px-6 py-4 border-t-2 border-ink bg-subtle flex items-center justify-between text-xs text-gray-500",children:[E.jsxs("span",{className:"font-mono",children:["v","0.1.0"]}),E.jsx("span",{children:" FocusDeck"})]})]})})]})},gfe=()=>{try{return!!localStorage.getItem("focusdeck_access_token")}catch{return!1}},yfe=({children:t})=>{const e=_o(),[n,r]=N.useState(null);return N.useEffect(()=>{const i=gfe();console.log("[ProtectedRoute] Checking auth for path:",e.pathname,"hasToken:",i),r(i)},[e.pathname]),n===null?(console.log("[ProtectedRoute] Auth state is null, showing loader"),E.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin text-4xl text-blue-600"})})):n?(console.log("[ProtectedRoute] Authenticated, rendering protected content"),t):(console.log("[ProtectedRoute] Not authenticated, redirecting to /login from:",e.pathname),E.jsx(pue,{to:"/login",state:{from:e},replace:!0}))};function bfe(){const t=efe();return E.jsx(Pj,{children:E.jsx(xL,{children:E.jsx(wL,{children:E.jsx(Hue,{children:E.jsxs(CL,{children:[E.jsxs(yue,{children:[E.jsx(lv,{path:"/login",element:E.jsx(pfe,{})}),E.jsx(lv,{path:"/register",element:E.jsx(mfe,{})}),E.jsx(lv,{path:"/*",element:E.jsx(yfe,{children:t?E.jsx(Zue,{}):E.jsx(Cce,{})})})]}),E.jsx(_E,{})]})})})})})}const vfe=N.createContext(void 0),xfe=({children:t})=>{const[e,n]=N.useState(null);return E.jsx(vfe.Provider,{value:{currentWorkspace:e,setCurrentWorkspace:n},children:t})},Sfe=N.createContext(null);function wfe({children:t}){const[e,n]=N.useState([]),[r,i]=N.useState(!0),s=N.useCallback(async()=>{i(!0);try{const d=await cs("/v1/privacy/consent");if(!d.ok)throw new Error("Failed to load privacy consent dashboard");const m=await d.json();n(m)}catch(d){if(d instanceof Error&&d.message==="Not authenticated")return;console.error("Unable to refresh privacy settings",d)}finally{i(!1)}},[]),a=N.useCallback(async(d,m)=>{const g=await cs("/v1/privacy/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contextType:d,isEnabled:m})});if(!g.ok){const x=await g.text();throw new Error(x||"Unable to update privacy setting")}const b=await g.json();return n(x=>x.map(S=>S.contextType===b.contextType?b:S)),b},[]),l=N.useCallback(d=>e.some(m=>m.contextType===d&&m.isEnabled),[e]);N.useEffect(()=>{s()},[s]);const u=N.useMemo(()=>({settings:e,loading:r,refresh:s,updateSetting:a,isEnabled:l}),[e,r,s,a,l]);return E.jsx(Sfe.Provider,{value:u,children:t})}const Cfe=new oP;QD.createRoot(document.getElementById("root")).render(E.jsx(N.StrictMode,{children:E.jsx(lP,{client:Cfe,children:E.jsx(wfe,{children:E.jsx(xfe,{children:E.jsx(bfe,{})})})})}));export{rfe as _,Pp as a,Efe as g};
