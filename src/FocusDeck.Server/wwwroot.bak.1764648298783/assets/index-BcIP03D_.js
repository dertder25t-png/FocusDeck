function UD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Lp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kfe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var eS={exports:{}},_g={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5;function FD(){if(S5)return _g;S5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return _g.Fragment=e,_g.jsx=n,_g.jsxs=n,_g}var w5;function GD(){return w5||(w5=1,eS.exports=FD()),eS.exports}var E=GD(),tS={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5;function qD(){if(C5)return dt;C5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function x(K){return K===null||typeof K!="object"?null:(K=b&&K[b]||K["@@iterator"],typeof K=="function"?K:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function A(K,ie,F){this.props=K,this.context=ie,this.refs=_,this.updater=F||S}A.prototype.isReactComponent={},A.prototype.setState=function(K,ie){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ie,"setState")},A.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function O(){}O.prototype=A.prototype;function z(K,ie,F){this.props=K,this.context=ie,this.refs=_,this.updater=F||S}var L=z.prototype=new O;L.constructor=z,k(L,A.prototype),L.isPureReactComponent=!0;var H=Array.isArray;function j(){}var P={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Y(K,ie,F){var we=F.ref;return{$$typeof:t,type:K,key:ie,ref:we!==void 0?we:null,props:F}}function G(K,ie){return Y(K.type,ie,K.props)}function X(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function W(K){var ie={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(F){return ie[F]})}var le=/\/+/g;function ee(K,ie){return typeof K=="object"&&K!==null&&K.key!=null?W(""+K.key):ie.toString(36)}function te(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(j,j):(K.status="pending",K.then(function(ie){K.status==="pending"&&(K.status="fulfilled",K.value=ie)},function(ie){K.status==="pending"&&(K.status="rejected",K.reason=ie)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function V(K,ie,F,we,Be){var De=typeof K;(De==="undefined"||De==="boolean")&&(K=null);var je=!1;if(K===null)je=!0;else switch(De){case"bigint":case"string":case"number":je=!0;break;case"object":switch(K.$$typeof){case t:case e:je=!0;break;case p:return je=K._init,V(je(K._payload),ie,F,we,Be)}}if(je)return Be=Be(K),je=we===""?"."+ee(K,0):we,H(Be)?(F="",je!=null&&(F=je.replace(le,"$&/")+"/"),V(Be,ie,F,"",function(nt){return nt})):Be!=null&&(X(Be)&&(Be=G(Be,F+(Be.key==null||K&&K.key===Be.key?"":(""+Be.key).replace(le,"$&/")+"/")+je)),ie.push(Be)),1;je=0;var ot=we===""?".":we+":";if(H(K))for(var Ke=0;Ke<K.length;Ke++)we=K[Ke],De=ot+ee(we,Ke),je+=V(we,ie,F,De,Be);else if(Ke=x(K),typeof Ke=="function")for(K=Ke.call(K),Ke=0;!(we=K.next()).done;)we=we.value,De=ot+ee(we,Ke++),je+=V(we,ie,F,De,Be);else if(De==="object"){if(typeof K.then=="function")return V(te(K),ie,F,we,Be);throw ie=String(K),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return je}function re(K,ie,F){if(K==null)return K;var we=[],Be=0;return V(K,we,"","",function(De){return ie.call(F,De,Be++)}),we}function J(K){if(K._status===-1){var ie=K._result;ie=ie(),ie.then(function(F){(K._status===0||K._status===-1)&&(K._status=1,K._result=F)},function(F){(K._status===0||K._status===-1)&&(K._status=2,K._result=F)}),K._status===-1&&(K._status=0,K._result=ie)}if(K._status===1)return K._result.default;throw K._result}var fe=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},q={map:re,forEach:function(K,ie,F){re(K,function(){ie.apply(this,arguments)},F)},count:function(K){var ie=0;return re(K,function(){ie++}),ie},toArray:function(K){return re(K,function(ie){return ie})||[]},only:function(K){if(!X(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return dt.Activity=g,dt.Children=q,dt.Component=A,dt.Fragment=n,dt.Profiler=i,dt.PureComponent=z,dt.StrictMode=r,dt.Suspense=u,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,dt.__COMPILER_RUNTIME={__proto__:null,c:function(K){return P.H.useMemoCache(K)}},dt.cache=function(K){return function(){return K.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(K,ie,F){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var we=k({},K.props),Be=K.key;if(ie!=null)for(De in ie.key!==void 0&&(Be=""+ie.key),ie)!I.call(ie,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ie.ref===void 0||(we[De]=ie[De]);var De=arguments.length-2;if(De===1)we.children=F;else if(1<De){for(var je=Array(De),ot=0;ot<De;ot++)je[ot]=arguments[ot+2];we.children=je}return Y(K.type,Be,we)},dt.createContext=function(K){return K={$$typeof:a,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},dt.createElement=function(K,ie,F){var we,Be={},De=null;if(ie!=null)for(we in ie.key!==void 0&&(De=""+ie.key),ie)I.call(ie,we)&&we!=="key"&&we!=="__self"&&we!=="__source"&&(Be[we]=ie[we]);var je=arguments.length-2;if(je===1)Be.children=F;else if(1<je){for(var ot=Array(je),Ke=0;Ke<je;Ke++)ot[Ke]=arguments[Ke+2];Be.children=ot}if(K&&K.defaultProps)for(we in je=K.defaultProps,je)Be[we]===void 0&&(Be[we]=je[we]);return Y(K,De,Be)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(K){return{$$typeof:l,render:K}},dt.isValidElement=X,dt.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:J}},dt.memo=function(K,ie){return{$$typeof:d,type:K,compare:ie===void 0?null:ie}},dt.startTransition=function(K){var ie=P.T,F={};P.T=F;try{var we=K(),Be=P.S;Be!==null&&Be(F,we),typeof we=="object"&&we!==null&&typeof we.then=="function"&&we.then(j,fe)}catch(De){fe(De)}finally{ie!==null&&F.types!==null&&(ie.types=F.types),P.T=ie}},dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},dt.use=function(K){return P.H.use(K)},dt.useActionState=function(K,ie,F){return P.H.useActionState(K,ie,F)},dt.useCallback=function(K,ie){return P.H.useCallback(K,ie)},dt.useContext=function(K){return P.H.useContext(K)},dt.useDebugValue=function(){},dt.useDeferredValue=function(K,ie){return P.H.useDeferredValue(K,ie)},dt.useEffect=function(K,ie){return P.H.useEffect(K,ie)},dt.useEffectEvent=function(K){return P.H.useEffectEvent(K)},dt.useId=function(){return P.H.useId()},dt.useImperativeHandle=function(K,ie,F){return P.H.useImperativeHandle(K,ie,F)},dt.useInsertionEffect=function(K,ie){return P.H.useInsertionEffect(K,ie)},dt.useLayoutEffect=function(K,ie){return P.H.useLayoutEffect(K,ie)},dt.useMemo=function(K,ie){return P.H.useMemo(K,ie)},dt.useOptimistic=function(K,ie){return P.H.useOptimistic(K,ie)},dt.useReducer=function(K,ie,F){return P.H.useReducer(K,ie,F)},dt.useRef=function(K){return P.H.useRef(K)},dt.useState=function(K){return P.H.useState(K)},dt.useSyncExternalStore=function(K,ie,F){return P.H.useSyncExternalStore(K,ie,F)},dt.useTransition=function(){return P.H.useTransition()},dt.version="19.2.0",dt}var E5;function Pp(){return E5||(E5=1,tS.exports=qD()),tS.exports}var N=Pp();const Ye=Lp(N),J6=UD({__proto__:null,default:Ye},[N]);var nS={exports:{}},Mg={},rS={exports:{}},iS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k5;function VD(){return k5||(k5=1,(function(t){function e(V,re){var J=V.length;V.push(re);e:for(;0<J;){var fe=J-1>>>1,q=V[fe];if(0<i(q,re))V[fe]=re,V[J]=q,J=fe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var re=V[0],J=V.pop();if(J!==re){V[0]=J;e:for(var fe=0,q=V.length,K=q>>>1;fe<K;){var ie=2*(fe+1)-1,F=V[ie],we=ie+1,Be=V[we];if(0>i(F,J))we<q&&0>i(Be,F)?(V[fe]=Be,V[we]=J,fe=we):(V[fe]=F,V[ie]=J,fe=ie);else if(we<q&&0>i(Be,J))V[fe]=Be,V[we]=J,fe=we;else break e}}return re}function i(V,re){var J=V.sortIndex-re.sortIndex;return J!==0?J:V.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],p=1,g=null,b=3,x=!1,S=!1,k=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function L(V){for(var re=n(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=V)r(d),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(d)}}function H(V){if(k=!1,L(V),!S)if(n(u)!==null)S=!0,j||(j=!0,W());else{var re=n(d);re!==null&&te(H,re.startTime-V)}}var j=!1,P=-1,I=5,Y=-1;function G(){return _?!0:!(t.unstable_now()-Y<I)}function X(){if(_=!1,j){var V=t.unstable_now();Y=V;var re=!0;try{e:{S=!1,k&&(k=!1,O(P),P=-1),x=!0;var J=b;try{t:{for(L(V),g=n(u);g!==null&&!(g.expirationTime>V&&G());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,b=g.priorityLevel;var q=fe(g.expirationTime<=V);if(V=t.unstable_now(),typeof q=="function"){g.callback=q,L(V),re=!0;break t}g===n(u)&&r(u),L(V)}else r(u);g=n(u)}if(g!==null)re=!0;else{var K=n(d);K!==null&&te(H,K.startTime-V),re=!1}}break e}finally{g=null,b=J,x=!1}re=void 0}}finally{re?W():j=!1}}}var W;if(typeof z=="function")W=function(){z(X)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ee=le.port2;le.port1.onmessage=X,W=function(){ee.postMessage(null)}}else W=function(){A(X,0)};function te(V,re){P=A(function(){V(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(V){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var J=b;b=re;try{return V()}finally{b=J}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(V,re){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=b;b=V;try{return re()}finally{b=J}},t.unstable_scheduleCallback=function(V,re,J){var fe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,V){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,V={id:p++,callback:re,priorityLevel:V,startTime:J,expirationTime:q,sortIndex:-1},J>fe?(V.sortIndex=J,e(d,V),n(u)===null&&V===n(d)&&(k?(O(P),P=-1):k=!0,te(H,J-fe))):(V.sortIndex=q,e(u,V),S||x||(S=!0,j||(j=!0,W()))),V},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(V){var re=b;return function(){var J=b;b=re;try{return V.apply(this,arguments)}finally{b=J}}}})(iS)),iS}var T5;function m3(){return T5||(T5=1,rS.exports=VD()),rS.exports}var sS={exports:{}},Li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function YD(){if(_5)return Li;_5=1;var t=Pp();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Li.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,p)},Li.flushSync=function(u){var d=a.T,p=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=p,r.d.f()}},Li.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Li.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Li.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):p==="script"&&r.d.X(u,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Li.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Li.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin);r.d.L(u,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Li.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Li.requestFormReset=function(u){r.d.r(u)},Li.unstable_batchedUpdates=function(u,d){return u(d)},Li.useFormState=function(u,d,p){return a.H.useFormState(u,d,p)},Li.useFormStatus=function(){return a.H.useHostTransitionStatus()},Li.version="19.2.0",Li}var M5;function $6(){if(M5)return sS.exports;M5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sS.exports=YD(),sS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5;function KD(){if(A5)return Mg;A5=1;var t=m3(),e=Pp(),n=$6();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(r(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(r(188));return c!==o?null:o}for(var m=o,y=c;;){var C=m.return;if(C===null)break;var T=C.alternate;if(T===null){if(y=C.return,y!==null){m=y;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===m)return u(C),o;if(T===y)return u(C),c;T=T.sibling}throw Error(r(188))}if(m.return!==y.return)m=C,y=T;else{for(var D=!1,U=C.child;U;){if(U===m){D=!0,m=C,y=T;break}if(U===y){D=!0,y=C,m=T;break}U=U.sibling}if(!D){for(U=T.child;U;){if(U===m){D=!0,m=T,y=C;break}if(U===y){D=!0,y=T,m=C;break}U=U.sibling}if(!D)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),z=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var le=Symbol.for("react.client.reference");function ee(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===le?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case A:return"Profiler";case _:return"StrictMode";case H:return"Suspense";case j:return"SuspenseList";case Y:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case z:return o.displayName||"Context";case O:return(o._context.displayName||"Context")+".Consumer";case L:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:ee(o.type)||"Memo";case I:c=o._payload,o=o._init;try{return ee(o(c))}catch{}}return null}var te=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},fe=[],q=-1;function K(o){return{current:o}}function ie(o){0>q||(o.current=fe[q],fe[q]=null,q--)}function F(o,c){q++,fe[q]=o.current,o.current=c}var we=K(null),Be=K(null),De=K(null),je=K(null);function ot(o,c){switch(F(De,c),F(Be,o),F(we,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?q4(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=q4(c),o=V4(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ie(we),F(we,o)}function Ke(){ie(we),ie(Be),ie(De)}function nt(o){o.memoizedState!==null&&F(je,o);var c=we.current,m=V4(c,o.type);c!==m&&(F(Be,o),F(we,m))}function Nn(o){Be.current===o&&(ie(we),ie(Be)),je.current===o&&(ie(je),Cg._currentValue=J)}var Xt,Rn;function Gn(o){if(Xt===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Xt=c&&c[1]||"",Rn=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xt+o+Rn}var Dr=!1;function tr(o,c){if(!o||Dr)return"";Dr=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ge){var he=ge}Reflect.construct(o,[],Se)}else{try{Se.call()}catch(ge){he=ge}o.call(Se.prototype)}}else{try{throw Error()}catch(ge){he=ge}(Se=o())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ge){if(ge&&he&&typeof ge.stack=="string")return[ge.stack,he.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),D=T[0],U=T[1];if(D&&U){var $=D.split(`
`),ue=U.split(`
`);for(C=y=0;y<$.length&&!$[y].includes("DetermineComponentFrameRoot");)y++;for(;C<ue.length&&!ue[C].includes("DetermineComponentFrameRoot");)C++;if(y===$.length||C===ue.length)for(y=$.length-1,C=ue.length-1;1<=y&&0<=C&&$[y]!==ue[C];)C--;for(;1<=y&&0<=C;y--,C--)if($[y]!==ue[C]){if(y!==1||C!==1)do if(y--,C--,0>C||$[y]!==ue[C]){var be=`
`+$[y].replace(" at new "," at ");return o.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",o.displayName)),be}while(1<=y&&0<=C);break}}}finally{Dr=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Gn(m):""}function si(o,c){switch(o.tag){case 26:case 27:case 5:return Gn(o.type);case 16:return Gn("Lazy");case 13:return o.child!==c&&c!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return tr(o.type,!1);case 11:return tr(o.type.render,!1);case 1:return tr(o.type,!0);case 31:return Gn("Activity");default:return""}}function Va(o){try{var c="",m=null;do c+=si(o,m),m=o,o=o.return;while(o);return c}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var ys=Object.prototype.hasOwnProperty,nr=t.unstable_scheduleCallback,Gi=t.unstable_cancelCallback,Ei=t.unstable_shouldYield,On=t.unstable_requestPaint,qn=t.unstable_now,Cc=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,_e=t.unstable_UserBlockingPriority,qe=t.unstable_NormalPriority,Je=t.unstable_LowPriority,xt=t.unstable_IdlePriority,vn=t.log,qi=t.unstable_setDisableYieldValue,vr=null,Dn=null;function dr(o){if(typeof vn=="function"&&qi(o),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(vr,o)}catch{}}var Ut=Math.clz32?Math.clz32:Ld,bs=Math.log,ki=Math.LN2;function Ld(o){return o>>>=0,o===0?32:31-(bs(o)/ki|0)|0}var Ec=256,Mo=262144,un=4194304;function zn(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Vn(o,c,m){var y=o.pendingLanes;if(y===0)return 0;var C=0,T=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var U=y&134217727;return U!==0?(y=U&~T,y!==0?C=zn(y):(D&=U,D!==0?C=zn(D):m||(m=U&~o,m!==0&&(C=zn(m))))):(U=y&~T,U!==0?C=zn(U):D!==0?C=zn(D):m||(m=y&~o,m!==0&&(C=zn(m)))),C===0?0:c!==0&&c!==C&&(c&T)===0&&(T=C&-C,m=c&-c,T>=m||T===32&&(m&4194048)!==0)?c:C}function ai(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function oi(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var o=un;return un<<=1,(un&62914560)===0&&(un=4194304),o}function li(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Vi(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ln(o,c,m,y,C,T){var D=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var U=o.entanglements,$=o.expirationTimes,ue=o.hiddenUpdates;for(m=D&~m;0<m;){var be=31-Ut(m),Se=1<<be;U[be]=0,$[be]=-1;var he=ue[be];if(he!==null)for(ue[be]=null,be=0;be<he.length;be++){var ge=he[be];ge!==null&&(ge.lane&=-536870913)}m&=~Se}y!==0&&ci(o,y,0),T!==0&&C===0&&o.tag!==0&&(o.suspendedLanes|=T&~(D&~c))}function ci(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var y=31-Ut(c);o.entangledLanes|=c,o.entanglements[y]=o.entanglements[y]|1073741824|m&261930}function Yr(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var y=31-Ut(m),C=1<<y;C&c|o[y]&c&&(o[y]|=c),m&=~C}}function Yi(o,c){var m=c&-c;return m=(m&42)!==0?1:vs(m),(m&(o.suspendedLanes|c))!==0?0:m}function vs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function xs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ki(){var o=re.p;return o!==0?o:(o=window.event,o===void 0?32:p5(o.type))}function Ti(o,c){var m=re.p;try{return re.p=o,c()}finally{re.p=m}}var Xi=Math.random().toString(36).slice(2),rr="__reactFiber$"+Xi,Kr="__reactProps$"+Xi,Ao="__reactContainer$"+Xi,la="__reactEvents$"+Xi,No="__reactListeners$"+Xi,rf="__reactHandles$"+Xi,Pd="__reactResources$"+Xi,Ya="__reactMarker$"+Xi;function vl(o){delete o[rr],delete o[Kr],delete o[la],delete o[No],delete o[rf]}function xl(o){var c=o[rr];if(c)return c;for(var m=o.parentNode;m;){if(c=m[Ao]||m[rr]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=$4(o);o!==null;){if(m=o[rr])return m;o=$4(o)}return c}o=m,m=o.parentNode}return null}function Sl(o){if(o=o[rr]||o[Ao]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function kc(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Ro(o){var c=o[Pd];return c||(c=o[Pd]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ir(o){o[Ya]=!0}var Ka=new Set,Bd={};function Oo(o,c){Qi(o,c),Qi(o+"Capture",c)}function Qi(o,c){for(Bd[o]=c,o=0;o<c.length;o++)Ka.add(c[o])}var Wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sf={},xn={};function Zp(o){return ys.call(xn,o)?!0:ys.call(sf,o)?!1:Wi.test(o)?xn[o]=!0:(sf[o]=!0,!1)}function Tc(o,c,m){if(Zp(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function af(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function ca(o,c,m,y){if(y===null)o.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+y)}}function Ss(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Id(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function em(o,c,m){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var C=y.get,T=y.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return C.call(this)},set:function(D){m=""+D,T.call(this,D)}}),Object.defineProperty(o,c,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function of(o){if(!o._valueTracker){var c=Id(o)?"checked":"value";o._valueTracker=em(o,c,""+o[c])}}function Xr(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),y="";return o&&(y=Id(o)?o.checked?"true":"false":o.value),o=y,o!==m?(c.setValue(o),!0):!1}function fn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Hd=/[\n"\\]/g;function Qr(o){return o.replace(Hd,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function _c(o,c,m,y,C,T,D,U){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),c!=null?D==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ss(c)):o.value!==""+Ss(c)&&(o.value=""+Ss(c)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),c!=null?Vs(o,D,Ss(c)):m!=null?Vs(o,D,Ss(m)):y!=null&&o.removeAttribute("value"),C==null&&T!=null&&(o.defaultChecked=!!T),C!=null&&(o.checked=C&&typeof C!="function"&&typeof C!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?o.name=""+Ss(U):o.removeAttribute("name")}function Ud(o,c,m,y,C,T,D,U){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),c!=null||m!=null){if(!(T!=="submit"&&T!=="reset"||c!=null)){of(o);return}m=m!=null?""+Ss(m):"",c=c!=null?""+Ss(c):m,U||c===o.value||(o.value=c),o.defaultValue=c}y=y??C,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=U?o.checked:!!y,o.defaultChecked=!!y,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D),of(o)}function Vs(o,c,m){c==="number"&&fn(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Xa(o,c,m,y){if(o=o.options,c){c={};for(var C=0;C<m.length;C++)c["$"+m[C]]=!0;for(m=0;m<o.length;m++)C=c.hasOwnProperty("$"+o[m].value),o[m].selected!==C&&(o[m].selected=C),C&&y&&(o[m].defaultSelected=!0)}else{for(m=""+Ss(m),c=null,C=0;C<o.length;C++){if(o[C].value===m){o[C].selected=!0,y&&(o[C].defaultSelected=!0);return}c!==null||o[C].disabled||(c=o[C])}c!==null&&(c.selected=!0)}}function Fd(o,c,m){if(c!=null&&(c=""+Ss(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+Ss(m):""}function Gd(o,c,m,y){if(c==null){if(y!=null){if(m!=null)throw Error(r(92));if(te(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),c=m}m=Ss(c),o.defaultValue=m,y=o.textContent,y===m&&y!==""&&y!==null&&(o.value=y),of(o)}function wl(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var by=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tm(o,c,m){var y=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":y?o.setProperty(c,m):typeof m!="number"||m===0||by.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function nm(o,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var C in c)y=c[C],c.hasOwnProperty(C)&&m[C]!==y&&tm(o,C,y)}else for(var T in c)c.hasOwnProperty(T)&&tm(o,T,c[T])}function qd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lf(o){return rm.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Qa(){}var Vd=null;function Yd(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Cl=null,Do=null;function im(o){var c=Sl(o);if(c&&(o=c.stateNode)){var m=o[Kr]||null;e:switch(o=c.stateNode,c.type){case"input":if(_c(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Qr(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var y=m[c];if(y!==o&&y.form===o.form){var C=y[Kr]||null;if(!C)throw Error(r(90));_c(y,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(c=0;c<m.length;c++)y=m[c],y.form===o.form&&Xr(y)}break e;case"textarea":Fd(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Xa(o,!!m.multiple,c,!1)}}}var Kd=!1;function sm(o,c,m){if(Kd)return o(c,m);Kd=!0;try{var y=o(c);return y}finally{if(Kd=!1,(Cl!==null||Do!==null)&&(Ws(),Cl&&(c=Cl,o=Do,Do=Cl=null,im(c),o)))for(c=0;c<o.length;c++)im(o[c])}}function Mc(o,c){var m=o.stateNode;if(m===null)return null;var y=m[Kr]||null;if(y===null)return null;m=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),am=!1;if(ua)try{var Ac={};Object.defineProperty(Ac,"passive",{get:function(){am=!0}}),window.addEventListener("test",Ac,Ac),window.removeEventListener("test",Ac,Ac)}catch{am=!1}var Ji=null,Xd=null,El=null;function cf(){if(El)return El;var o,c=Xd,m=c.length,y,C="value"in Ji?Ji.value:Ji.textContent,T=C.length;for(o=0;o<m&&c[o]===C[o];o++);var D=m-o;for(y=1;y<=D&&c[m-y]===C[T-y];y++);return El=C.slice(o,1<y?1-y:void 0)}function uf(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Nc(){return!0}function xy(){return!1}function ui(o){function c(m,y,C,T,D){this._reactName=m,this._targetInst=C,this.type=y,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(m=o[U],this[U]=m?m(T):T[U]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Nc:xy,this.isPropagationStopped=xy,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),c}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ff=ui(zo),Rc=g({},zo,{view:0,detail:0}),Sy=ui(Rc),df,Qd,Oc,Dc=g({},Rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zd,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Oc&&(Oc&&o.type==="mousemove"?(df=o.screenX-Oc.screenX,Qd=o.screenY-Oc.screenY):Qd=df=0,Oc=o),df)},movementY:function(o){return"movementY"in o?o.movementY:Qd}}),om=ui(Dc),wy=g({},Dc,{dataTransfer:0}),Cy=ui(wy),lm=g({},Rc,{relatedTarget:0}),Wd=ui(lm),Ey=g({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),x2=ui(Ey),S2=g({},zo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ky=ui(S2),hf=g({},zo,{data:0}),Jd=ui(hf),$d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=_y[o])?!!c[o]:!1}function Zd(){return cm}var My=g({},Rc,{key:function(o){if(o.key){var c=$d[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=uf(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ty[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zd,charCode:function(o){return o.type==="keypress"?uf(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?uf(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),kl=ui(My),eh=g({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=ui(eh),fm=g({},Rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zd}),Ay=ui(fm),Ny=g({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),w2=ui(Ny),zr=g({},Dc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=ui(zr),Oy=g({},zo,{newState:0,oldState:0}),Dy=ui(Oy),zy=[9,13,27,32],Tl=ua&&"CompositionEvent"in window,zc=null;ua&&"documentMode"in document&&(zc=document.documentMode);var th=ua&&"TextEvent"in window&&!zc,dm=ua&&(!Tl||zc&&8<zc&&11>=zc),jy=" ",pf=!1;function nh(o,c){switch(o){case"keyup":return zy.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hm(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _l=!1;function Ly(o,c){switch(o){case"compositionend":return hm(c);case"keypress":return c.which!==32?null:(pf=!0,jy);case"textInput":return o=c.data,o===jy&&pf?null:o;default:return null}}function pm(o,c){if(_l)return o==="compositionend"||!Tl&&nh(o,c)?(o=cf(),El=Xd=Ji=null,_l=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return dm&&c.locale!=="ko"?null:c.data;default:return null}}var mm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!mm[o.type]:c==="textarea"}function rh(o,c,m,y){Cl?Do?Do.push(y):Do=[y]:Cl=y,c=U1(c,"onChange"),0<c.length&&(m=new ff("onChange","change",null,m,y),o.push({event:m,listeners:c}))}var jo=null,Ml=null;function Py(o){B4(o,0)}function jc(o){var c=kc(o);if(Xr(c))return o}function ym(o,c){if(o==="change")return c}var fa=!1;if(ua){var mf;if(ua){var bm="oninput"in document;if(!bm){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),bm=typeof vm.oninput=="function"}mf=bm}else mf=!1;fa=mf&&(!document.documentMode||9<document.documentMode)}function ws(){jo&&(jo.detachEvent("onpropertychange",gf),Ml=jo=null)}function gf(o){if(o.propertyName==="value"&&jc(Ml)){var c=[];rh(c,Ml,o,Yd(o)),sm(Py,c)}}function By(o,c,m){o==="focusin"?(ws(),jo=c,Ml=m,jo.attachEvent("onpropertychange",gf)):o==="focusout"&&ws()}function xm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return jc(Ml)}function Iy(o,c){if(o==="click")return jc(c)}function Hy(o,c){if(o==="input"||o==="change")return jc(c)}function Sm(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var fi=typeof Object.is=="function"?Object.is:Sm;function Lc(o,c){if(fi(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),y=Object.keys(c);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var C=m[y];if(!ys.call(c,C)||!fi(o[C],c[C]))return!1}return!0}function yf(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Pc(o,c){var m=yf(o);o=0;for(var y;m;){if(m.nodeType===3){if(y=o+m.textContent.length,o<=c&&y>=c)return{node:m,offset:c-o};o=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=yf(m)}}function Zt(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Zt(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Uy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=fn(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=fn(o.document)}return c}function wm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Fy=ua&&"documentMode"in document&&11>=document.documentMode,da=null,ha=null,Bc=null,ih=!1;function Ic(o,c,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ih||da==null||da!==fn(y)||(y=da,"selectionStart"in y&&wm(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Bc&&Lc(Bc,y)||(Bc=y,y=U1(ha,"onSelect"),0<y.length&&(c=new ff("onSelect","select",null,c,m),o.push({event:c,listeners:y}),c.target=da)))}function Wr(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var Al={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},bf={},Cm={};ua&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Wa(o){if(bf[o])return bf[o];if(!Al[o])return o;var c=Al[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in Cm)return bf[o]=c[m];return o}var sh=Wa("animationend"),vf=Wa("animationiteration"),Em=Wa("animationstart"),Gy=Wa("transitionrun"),C2=Wa("transitionstart"),qy=Wa("transitioncancel"),km=Wa("transitionend"),Cs=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Es(o,c){Cs.set(o,c),Oo(c,[o])}var Sf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ks=[],Ja=0,xr=0;function wf(){for(var o=Ja,c=xr=Ja=0;c<o;){var m=ks[c];ks[c++]=null;var y=ks[c];ks[c++]=null;var C=ks[c];ks[c++]=null;var T=ks[c];if(ks[c++]=null,y!==null&&C!==null){var D=y.pending;D===null?C.next=C:(C.next=D.next,D.next=C),y.pending=C}T!==0&&Lo(m,C,T)}}function Sr(o,c,m,y){ks[Ja++]=o,ks[Ja++]=c,ks[Ja++]=m,ks[Ja++]=y,xr|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function ah(o,c,m,y){return Sr(o,c,m,y),Ts(o)}function di(o,c){return Sr(o,null,null,c),Ts(o)}function Lo(o,c,m){o.lanes|=m;var y=o.alternate;y!==null&&(y.lanes|=m);for(var C=!1,T=o.return;T!==null;)T.childLanes|=m,y=T.alternate,y!==null&&(y.childLanes|=m),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(C=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,C&&c!==null&&(C=31-Ut(m),o=T.hiddenUpdates,y=o[C],y===null?o[C]=[c]:y.push(c),c.lane=m|536870912),T):null}function Ts(o){if(50<tl)throw tl=0,Xl=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Po={};function Tm(o,c,m,y){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(o,c,m,y){return new Tm(o,c,m,y)}function oh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function _i(o,c){var m=o.alternate;return m===null?(m=Sn(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Hc(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function pa(o,c,m,y,C,T){var D=0;if(y=o,typeof o=="function")oh(o)&&(D=1);else if(typeof o=="string")D=AD(o,m,we.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case Y:return o=Sn(31,m,c,C),o.elementType=Y,o.lanes=T,o;case k:return Bo(m.children,C,T,c);case _:D=8,C|=24;break;case A:return o=Sn(12,m,c,C|2),o.elementType=A,o.lanes=T,o;case H:return o=Sn(13,m,c,C),o.elementType=H,o.lanes=T,o;case j:return o=Sn(19,m,c,C),o.elementType=j,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case z:D=10;break e;case O:D=9;break e;case L:D=11;break e;case P:D=14;break e;case I:D=16,y=null;break e}D=29,m=Error(r(130,o===null?"null":typeof o,"")),y=null}return c=Sn(D,m,c,C),c.elementType=o,c.type=y,c.lanes=T,c}function Bo(o,c,m,y){return o=Sn(7,o,y,c),o.lanes=m,o}function lh(o,c,m){return o=Sn(6,o,null,c),o.lanes=m,o}function Uc(o){var c=Sn(18,null,null,0);return c.stateNode=o,c}function ch(o,c,m){return c=Sn(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Cf=new WeakMap;function $i(o,c){if(typeof o=="object"&&o!==null){var m=Cf.get(o);return m!==void 0?m:(c={value:o,source:c,stack:Va(c)},Cf.set(o,c),c)}return{value:o,source:c,stack:Va(c)}}var Io=[],Ho=0,Fc=null,Gc=0,Mi=[],dn=0,$a=null,wn=1,Ys="";function ma(o,c){Io[Ho++]=Gc,Io[Ho++]=Fc,Fc=o,Gc=c}function Vy(o,c,m){Mi[dn++]=wn,Mi[dn++]=Ys,Mi[dn++]=$a,$a=o;var y=wn;o=Ys;var C=32-Ut(y)-1;y&=~(1<<C),m+=1;var T=32-Ut(c)+C;if(30<T){var D=C-C%5;T=(y&(1<<D)-1).toString(32),y>>=D,C-=D,wn=1<<32-Ut(c)+C|m<<C|y,Ys=T+o}else wn=1<<T|m<<C|y,Ys=o}function ga(o){o.return!==null&&(ma(o,1),Vy(o,1,0))}function uh(o){for(;o===Fc;)Fc=Io[--Ho],Io[Ho]=null,Gc=Io[--Ho],Io[Ho]=null;for(;o===$a;)$a=Mi[--dn],Mi[dn]=null,Ys=Mi[--dn],Mi[dn]=null,wn=Mi[--dn],Mi[dn]=null}function fh(o,c){Mi[dn++]=wn,Mi[dn++]=Ys,Mi[dn++]=$a,wn=c.id,Ys=c.overflow,$a=o}var Pn=null,en=null,At=!1,Za=null,Zi=!1,qc=Error(r(519));function ya(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ba($i(c,o)),qc}function Yy(o){var c=o.stateNode,m=o.type,y=o.memoizedProps;switch(c[rr]=o,c[Kr]=y,m){case"dialog":Ot("cancel",c),Ot("close",c);break;case"iframe":case"object":case"embed":Ot("load",c);break;case"video":case"audio":for(m=0;m<Is.length;m++)Ot(Is[m],c);break;case"source":Ot("error",c);break;case"img":case"image":case"link":Ot("error",c),Ot("load",c);break;case"details":Ot("toggle",c);break;case"input":Ot("invalid",c),Ud(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Ot("invalid",c);break;case"textarea":Ot("invalid",c),Gd(c,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||y.suppressHydrationWarning===!0||F4(c.textContent,m)?(y.popover!=null&&(Ot("beforetoggle",c),Ot("toggle",c)),y.onScroll!=null&&Ot("scroll",c),y.onScrollEnd!=null&&Ot("scrollend",c),y.onClick!=null&&(c.onclick=Qa),c=!0):c=!1,c||ya(o,!0)}function Ky(o){for(Pn=o.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:Pn=Pn.return}}function Vc(o){if(o!==Pn)return!1;if(!At)return Ky(o),At=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||I2(o.type,o.memoizedProps)),m=!m),m&&en&&ya(o),Ky(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=J4(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));en=J4(o)}else c===27?(c=en,fu(o.type)?(o=q2,q2=null,en=o):en=c):en=Pn?Oa(o.stateNode.nextSibling):null;return!0}function Uo(){en=Pn=null,At=!1}function dh(){var o=Za;return o!==null&&(In===null?In=o:In.push.apply(In,o),Za=null),o}function ba(o){Za===null?Za=[o]:Za.push(o)}var Yc=K(null),Fo=null,va=null;function eo(o,c,m){F(Yc,c._currentValue),c._currentValue=m}function xa(o){o._currentValue=Yc.current,ie(Yc)}function hh(o,c,m){for(;o!==null;){var y=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),o===m)break;o=o.return}}function ph(o,c,m,y){var C=o.child;for(C!==null&&(C.return=o);C!==null;){var T=C.dependencies;if(T!==null){var D=C.child;T=T.firstContext;e:for(;T!==null;){var U=T;T=C;for(var $=0;$<c.length;$++)if(U.context===c[$]){T.lanes|=m,U=T.alternate,U!==null&&(U.lanes|=m),hh(T.return,m,o),y||(D=null);break e}T=U.next}}else if(C.tag===18){if(D=C.return,D===null)throw Error(r(341));D.lanes|=m,T=D.alternate,T!==null&&(T.lanes|=m),hh(D,m,o),D=null}else D=C.child;if(D!==null)D.return=C;else for(D=C;D!==null;){if(D===o){D=null;break}if(C=D.sibling,C!==null){C.return=D.return,D=C;break}D=D.return}C=D}}function Sa(o,c,m,y){o=null;for(var C=c,T=!1;C!==null;){if(!T){if((C.flags&524288)!==0)T=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var D=C.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var U=C.type;fi(C.pendingProps.value,D.value)||(o!==null?o.push(U):o=[U])}}else if(C===je.current){if(D=C.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(o!==null?o.push(Cg):o=[Cg])}C=C.return}o!==null&&ph(c,o,m,y),c.flags|=262144}function Ef(o){for(o=o.firstContext;o!==null;){if(!fi(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Go(o){Fo=o,va=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function it(o){return Xy(Fo,o)}function Kc(o,c){return Fo===null&&Go(o),Xy(o,c)}function Xy(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},va===null){if(o===null)throw Error(r(308));va=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else va=va.next=c;return m}var Qy=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,y){o.push(y)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},E2=t.unstable_scheduleCallback,k2=t.unstable_NormalPriority,sr={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new Qy,data:new Map,refCount:0}}function Nl(o){o.refCount--,o.refCount===0&&E2(k2,function(){o.controller.abort()})}var es=null,mh=0,to=0,_s=null;function Mm(o,c){if(es===null){var m=es=[];mh=0,to=pe(),_s={status:"pending",value:void 0,then:function(y){m.push(y)}}}return mh++,c.then(Am,Am),c}function Am(){if(--mh===0&&es!==null){_s!==null&&(_s.status="fulfilled");var o=es;es=null,to=0,_s=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Nm(o,c){var m=[],y={status:"pending",value:null,reason:null,then:function(C){m.push(C)}};return o.then(function(){y.status="fulfilled",y.value=c;for(var C=0;C<m.length;C++)(0,m[C])(c)},function(C){for(y.status="rejected",y.reason=C,C=0;C<m.length;C++)(0,m[C])(void 0)}),y}var Wy=V.S;V.S=function(o,c){yg=qn(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Mm(o,c),Wy!==null&&Wy(o,c)};var qo=K(null);function gh(){var o=qo.current;return o!==null?o:at.pooledCache}function kf(o,c){c===null?F(qo,qo.current):F(qo,c.pool)}function Rm(){var o=gh();return o===null?null:{parent:sr._currentValue,pool:o}}var Rl=Error(r(460)),Tf=Error(r(474)),mt=Error(r(542)),yh={then:function(){}};function Ai(o){return o=o.status,o==="fulfilled"||o==="rejected"}function bh(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(Qa,Qa),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,zl(o),o;default:if(typeof c.status=="string")c.then(Qa,Qa);else{if(o=at,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(y){if(c.status==="pending"){var C=c;C.status="fulfilled",C.value=y}},function(y){if(c.status==="pending"){var C=c;C.status="rejected",C.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,zl(o),o}throw wa=c,Rl}}function Ol(o){try{var c=o._init;return c(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(wa=m,Rl):m}}var wa=null;function Dl(){if(wa===null)throw Error(r(459));var o=wa;return wa=null,o}function zl(o){if(o===Rl||o===mt)throw Error(r(483))}var jl=null,Ll=0;function _f(o){var c=Ll;return Ll+=1,jl===null&&(jl=[]),bh(jl,o,c)}function Ms(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Xc(o,c){throw c.$$typeof===b?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function vh(o){function c(se,ne){if(o){var ce=se.deletions;ce===null?(se.deletions=[ne],se.flags|=16):ce.push(ne)}}function m(se,ne){if(!o)return null;for(;ne!==null;)c(se,ne),ne=ne.sibling;return null}function y(se){for(var ne=new Map;se!==null;)se.key!==null?ne.set(se.key,se):ne.set(se.index,se),se=se.sibling;return ne}function C(se,ne){return se=_i(se,ne),se.index=0,se.sibling=null,se}function T(se,ne,ce){return se.index=ce,o?(ce=se.alternate,ce!==null?(ce=ce.index,ce<ne?(se.flags|=67108866,ne):ce):(se.flags|=67108866,ne)):(se.flags|=1048576,ne)}function D(se){return o&&se.alternate===null&&(se.flags|=67108866),se}function U(se,ne,ce,xe){return ne===null||ne.tag!==6?(ne=lh(ce,se.mode,xe),ne.return=se,ne):(ne=C(ne,ce),ne.return=se,ne)}function $(se,ne,ce,xe){var Qe=ce.type;return Qe===k?be(se,ne,ce.props.children,xe,ce.key):ne!==null&&(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===I&&Ol(Qe)===ne.type)?(ne=C(ne,ce.props),Ms(ne,ce),ne.return=se,ne):(ne=pa(ce.type,ce.key,ce.props,null,se.mode,xe),Ms(ne,ce),ne.return=se,ne)}function ue(se,ne,ce,xe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=ch(ce,se.mode,xe),ne.return=se,ne):(ne=C(ne,ce.children||[]),ne.return=se,ne)}function be(se,ne,ce,xe,Qe){return ne===null||ne.tag!==7?(ne=Bo(ce,se.mode,xe,Qe),ne.return=se,ne):(ne=C(ne,ce),ne.return=se,ne)}function Se(se,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=lh(""+ne,se.mode,ce),ne.return=se,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return ce=pa(ne.type,ne.key,ne.props,null,se.mode,ce),Ms(ce,ne),ce.return=se,ce;case S:return ne=ch(ne,se.mode,ce),ne.return=se,ne;case I:return ne=Ol(ne),Se(se,ne,ce)}if(te(ne)||W(ne))return ne=Bo(ne,se.mode,ce,null),ne.return=se,ne;if(typeof ne.then=="function")return Se(se,_f(ne),ce);if(ne.$$typeof===z)return Se(se,Kc(se,ne),ce);Xc(se,ne)}return null}function he(se,ne,ce,xe){var Qe=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Qe!==null?null:U(se,ne,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:return ce.key===Qe?$(se,ne,ce,xe):null;case S:return ce.key===Qe?ue(se,ne,ce,xe):null;case I:return ce=Ol(ce),he(se,ne,ce,xe)}if(te(ce)||W(ce))return Qe!==null?null:be(se,ne,ce,xe,null);if(typeof ce.then=="function")return he(se,ne,_f(ce),xe);if(ce.$$typeof===z)return he(se,ne,Kc(se,ce),xe);Xc(se,ce)}return null}function ge(se,ne,ce,xe,Qe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return se=se.get(ce)||null,U(ne,se,""+xe,Qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return se=se.get(xe.key===null?ce:xe.key)||null,$(ne,se,xe,Qe);case S:return se=se.get(xe.key===null?ce:xe.key)||null,ue(ne,se,xe,Qe);case I:return xe=Ol(xe),ge(se,ne,ce,xe,Qe)}if(te(xe)||W(xe))return se=se.get(ce)||null,be(ne,se,xe,Qe,null);if(typeof xe.then=="function")return ge(se,ne,ce,_f(xe),Qe);if(xe.$$typeof===z)return ge(se,ne,ce,Kc(ne,xe),Qe);Xc(ne,xe)}return null}function He(se,ne,ce,xe){for(var Qe=null,Ft=null,Ge=ne,bt=ne=0,jt=null;Ge!==null&&bt<ce.length;bt++){Ge.index>bt?(jt=Ge,Ge=null):jt=Ge.sibling;var Gt=he(se,Ge,ce[bt],xe);if(Gt===null){Ge===null&&(Ge=jt);break}o&&Ge&&Gt.alternate===null&&c(se,Ge),ne=T(Gt,ne,bt),Ft===null?Qe=Gt:Ft.sibling=Gt,Ft=Gt,Ge=jt}if(bt===ce.length)return m(se,Ge),At&&ma(se,bt),Qe;if(Ge===null){for(;bt<ce.length;bt++)Ge=Se(se,ce[bt],xe),Ge!==null&&(ne=T(Ge,ne,bt),Ft===null?Qe=Ge:Ft.sibling=Ge,Ft=Ge);return At&&ma(se,bt),Qe}for(Ge=y(Ge);bt<ce.length;bt++)jt=ge(Ge,se,bt,ce[bt],xe),jt!==null&&(o&&jt.alternate!==null&&Ge.delete(jt.key===null?bt:jt.key),ne=T(jt,ne,bt),Ft===null?Qe=jt:Ft.sibling=jt,Ft=jt);return o&&Ge.forEach(function(gu){return c(se,gu)}),At&&ma(se,bt),Qe}function rt(se,ne,ce,xe){if(ce==null)throw Error(r(151));for(var Qe=null,Ft=null,Ge=ne,bt=ne=0,jt=null,Gt=ce.next();Ge!==null&&!Gt.done;bt++,Gt=ce.next()){Ge.index>bt?(jt=Ge,Ge=null):jt=Ge.sibling;var gu=he(se,Ge,Gt.value,xe);if(gu===null){Ge===null&&(Ge=jt);break}o&&Ge&&gu.alternate===null&&c(se,Ge),ne=T(gu,ne,bt),Ft===null?Qe=gu:Ft.sibling=gu,Ft=gu,Ge=jt}if(Gt.done)return m(se,Ge),At&&ma(se,bt),Qe;if(Ge===null){for(;!Gt.done;bt++,Gt=ce.next())Gt=Se(se,Gt.value,xe),Gt!==null&&(ne=T(Gt,ne,bt),Ft===null?Qe=Gt:Ft.sibling=Gt,Ft=Gt);return At&&ma(se,bt),Qe}for(Ge=y(Ge);!Gt.done;bt++,Gt=ce.next())Gt=ge(Ge,se,bt,Gt.value,xe),Gt!==null&&(o&&Gt.alternate!==null&&Ge.delete(Gt.key===null?bt:Gt.key),ne=T(Gt,ne,bt),Ft===null?Qe=Gt:Ft.sibling=Gt,Ft=Gt);return o&&Ge.forEach(function(HD){return c(se,HD)}),At&&ma(se,bt),Qe}function rn(se,ne,ce,xe){if(typeof ce=="object"&&ce!==null&&ce.type===k&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case x:e:{for(var Qe=ce.key;ne!==null;){if(ne.key===Qe){if(Qe=ce.type,Qe===k){if(ne.tag===7){m(se,ne.sibling),xe=C(ne,ce.props.children),xe.return=se,se=xe;break e}}else if(ne.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===I&&Ol(Qe)===ne.type){m(se,ne.sibling),xe=C(ne,ce.props),Ms(xe,ce),xe.return=se,se=xe;break e}m(se,ne);break}else c(se,ne);ne=ne.sibling}ce.type===k?(xe=Bo(ce.props.children,se.mode,xe,ce.key),xe.return=se,se=xe):(xe=pa(ce.type,ce.key,ce.props,null,se.mode,xe),Ms(xe,ce),xe.return=se,se=xe)}return D(se);case S:e:{for(Qe=ce.key;ne!==null;){if(ne.key===Qe)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){m(se,ne.sibling),xe=C(ne,ce.children||[]),xe.return=se,se=xe;break e}else{m(se,ne);break}else c(se,ne);ne=ne.sibling}xe=ch(ce,se.mode,xe),xe.return=se,se=xe}return D(se);case I:return ce=Ol(ce),rn(se,ne,ce,xe)}if(te(ce))return He(se,ne,ce,xe);if(W(ce)){if(Qe=W(ce),typeof Qe!="function")throw Error(r(150));return ce=Qe.call(ce),rt(se,ne,ce,xe)}if(typeof ce.then=="function")return rn(se,ne,_f(ce),xe);if(ce.$$typeof===z)return rn(se,ne,Kc(se,ce),xe);Xc(se,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(m(se,ne.sibling),xe=C(ne,ce),xe.return=se,se=xe):(m(se,ne),xe=lh(ce,se.mode,xe),xe.return=se,se=xe),D(se)):m(se,ne)}return function(se,ne,ce,xe){try{Ll=0;var Qe=rn(se,ne,ce,xe);return jl=null,Qe}catch(Ge){if(Ge===Rl||Ge===mt)throw Ge;var Ft=Sn(29,Ge,null,se.mode);return Ft.lanes=xe,Ft.return=se,Ft}finally{}}}var no=vh(!0),xh=vh(!1),hi=!1;function Mf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function ro(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Vo(o,c,m){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Ve&2)!==0){var C=y.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),y.pending=c,c=Ts(o),Lo(o,null,m),c}return Sr(o,y,c,m),Ts(o)}function Yo(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Yr(o,m)}}function Xe(o,c){var m=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var C=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var D={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};T===null?C=T=D:T=T.next=D,m=m.next}while(m!==null);T===null?C=T=c:T=T.next=c}else C=T=c;m={baseState:y.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var Dm=!1;function Af(){if(Dm){var o=_s;if(o!==null)throw o}}function Qc(o,c,m,y){Dm=!1;var C=o.updateQueue;hi=!1;var T=C.firstBaseUpdate,D=C.lastBaseUpdate,U=C.shared.pending;if(U!==null){C.shared.pending=null;var $=U,ue=$.next;$.next=null,D===null?T=ue:D.next=ue,D=$;var be=o.alternate;be!==null&&(be=be.updateQueue,U=be.lastBaseUpdate,U!==D&&(U===null?be.firstBaseUpdate=ue:U.next=ue,be.lastBaseUpdate=$))}if(T!==null){var Se=C.baseState;D=0,be=ue=$=null,U=T;do{var he=U.lane&-536870913,ge=he!==U.lane;if(ge?(ht&he)===he:(y&he)===he){he!==0&&he===to&&(Dm=!0),be!==null&&(be=be.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var He=o,rt=U;he=c;var rn=m;switch(rt.tag){case 1:if(He=rt.payload,typeof He=="function"){Se=He.call(rn,Se,he);break e}Se=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=rt.payload,he=typeof He=="function"?He.call(rn,Se,he):He,he==null)break e;Se=g({},Se,he);break e;case 2:hi=!0}}he=U.callback,he!==null&&(o.flags|=64,ge&&(o.flags|=8192),ge=C.callbacks,ge===null?C.callbacks=[he]:ge.push(he))}else ge={lane:he,tag:U.tag,payload:U.payload,callback:U.callback,next:null},be===null?(ue=be=ge,$=Se):be=be.next=ge,D|=he;if(U=U.next,U===null){if(U=C.shared.pending,U===null)break;ge=U,U=ge.next,ge.next=null,C.lastBaseUpdate=ge,C.shared.pending=null}}while(!0);be===null&&($=Se),C.baseState=$,C.firstBaseUpdate=ue,C.lastBaseUpdate=be,T===null&&(C.shared.lanes=0),Aa|=D,o.lanes=D,o.memoizedState=Se}}function Wc(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function Jy(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Wc(m[o],c)}var Jc=K(null),Sh=K(0);function $y(o,c){o=is,F(Sh,o),F(Jc,c),is=o|c.baseLanes}function zm(){F(Sh,is),F(Jc,Jc.current)}function Nf(){is=Sh.current,ie(Jc),ie(Sh)}var Ni=K(null),pi=null;function io(o){var c=o.alternate;F(Nt,Nt.current&1),F(Ni,o),pi===null&&(c===null||Jc.current!==null||c.memoizedState!==null)&&(pi=o)}function jm(o){F(Nt,Nt.current),F(Ni,o),pi===null&&(pi=o)}function Zy(o){o.tag===22?(F(Nt,Nt.current),F(Ni,o),pi===null&&(pi=o)):Ri()}function Ri(){F(Nt,Nt.current),F(Ni,Ni.current)}function Yn(o){ie(Ni),pi===o&&(pi=null),ie(Nt)}var Nt=K(0);function ts(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||F2(m)||G2(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var hn=0,ut=null,Qt=null,kt=null,As=!1,$c=!1,Pl=!1,wh=0,Rf=0,Zc=null,Lm=0;function Cn(){throw Error(r(321))}function Pm(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!fi(o[m],c[m]))return!1;return!0}function Ch(o,c,m,y,C,T){return hn=T,ut=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=o===null||o.memoizedState===null?R1:rg,Pl=!1,T=m(y,C),Pl=!1,$c&&(T=Bl(c,m,y,C)),e1(o),T}function e1(o){V.H=eu;var c=Qt!==null&&Qt.next!==null;if(hn=0,kt=Qt=ut=null,As=!1,Rf=0,Zc=null,c)throw Error(r(300));o===null||ar||(o=o.dependencies,o!==null&&Ef(o)&&(ar=!0))}function Bl(o,c,m,y){ut=o;var C=0;do{if($c&&(Zc=null),Rf=0,$c=!1,25<=C)throw Error(r(301));if(C+=1,kt=Qt=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}V.H=Ns,T=c(m,y)}while($c);return T}function Il(){var o=V.H,c=o.useState()[0];return c=typeof c.then=="function"?Of(c):c,o=o.useState()[0],(Qt!==null?Qt.memoizedState:null)!==o&&(ut.flags|=1024),c}function Bm(){var o=wh!==0;return wh=0,o}function Im(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function Hm(o){if(As){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}As=!1}hn=0,kt=Qt=ut=null,$c=!1,Rf=wh=0,Zc=null}function hr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ut.memoizedState=kt=o:kt=kt.next=o,kt}function Kn(){if(Qt===null){var o=ut.alternate;o=o!==null?o.memoizedState:null}else o=Qt.next;var c=kt===null?ut.memoizedState:kt.next;if(c!==null)kt=c,Qt=o;else{if(o===null)throw ut.alternate===null?Error(r(467)):Error(r(310));Qt=o,o={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},kt===null?ut.memoizedState=kt=o:kt=kt.next=o}return kt}function Eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Of(o){var c=Rf;return Rf+=1,Zc===null&&(Zc=[]),o=bh(Zc,o,c),c=ut,(kt===null?c.memoizedState:kt.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?R1:rg),o}function Ko(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Of(o);if(o.$$typeof===z)return it(o)}throw Error(r(438,String(o)))}function Um(o){var c=null,m=ut.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var y=ut.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(C){return C.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Eh(),ut.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),y=0;y<o;y++)m[y]=G;return c.index++,m}function so(o,c){return typeof c=="function"?c(o):c}function kh(o){var c=Kn();return Fm(c,Qt,o)}function Fm(o,c,m){var y=o.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=m;var C=o.baseQueue,T=y.pending;if(T!==null){if(C!==null){var D=C.next;C.next=T.next,T.next=D}c.baseQueue=C=T,y.pending=null}if(T=o.baseState,C===null)o.memoizedState=T;else{c=C.next;var U=D=null,$=null,ue=c,be=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(ht&Se)===Se:(hn&Se)===Se){var he=ue.revertLane;if(he===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===to&&(be=!0);else if((hn&he)===he){ue=ue.next,he===to&&(be=!0);continue}else Se={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},$===null?(U=$=Se,D=T):$=$.next=Se,ut.lanes|=he,Aa|=he;Se=ue.action,Pl&&m(T,Se),T=ue.hasEagerState?ue.eagerState:m(T,Se)}else he={lane:Se,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},$===null?(U=$=he,D=T):$=$.next=he,ut.lanes|=Se,Aa|=Se;ue=ue.next}while(ue!==null&&ue!==c);if($===null?D=T:$.next=U,!fi(T,o.memoizedState)&&(ar=!0,be&&(m=_s,m!==null)))throw m;o.memoizedState=T,o.baseState=D,o.baseQueue=$,y.lastRenderedState=T}return C===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function Gm(o){var c=Kn(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var y=m.dispatch,C=m.pending,T=c.memoizedState;if(C!==null){m.pending=null;var D=C=C.next;do T=o(T,D.action),D=D.next;while(D!==C);fi(T,c.memoizedState)||(ar=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),m.lastRenderedState=T}return[T,y]}function t1(o,c,m){var y=ut,C=Kn(),T=At;if(T){if(m===void 0)throw Error(r(407));m=m()}else m=c();var D=!fi((Qt||C).memoizedState,m);if(D&&(C.memoizedState=m,ar=!0),C=C.queue,Jm(i1.bind(null,y,C,o),[o]),C.getSnapshot!==c||D||kt!==null&&kt.memoizedState.tag&1){if(y.flags|=2048,Xo(9,{destroy:void 0},r1.bind(null,y,C,m,c),null),at===null)throw Error(r(349));T||(hn&127)!==0||n1(y,c,m)}return m}function n1(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=ut.updateQueue,c===null?(c=Eh(),ut.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function r1(o,c,m,y){c.value=m,c.getSnapshot=y,s1(c)&&a1(o)}function i1(o,c,m){return m(function(){s1(c)&&a1(o)})}function s1(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!fi(o,m)}catch{return!0}}function a1(o){var c=di(o,2);c!==null&&yt(c,o,2)}function qm(o){var c=hr();if(typeof o=="function"){var m=o;if(o=m(),Pl){dr(!0);try{m()}finally{dr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:o},c}function Vm(o,c,m,y){return o.baseState=m,Fm(o,Qt,typeof y=="function"?y:so)}function T2(o,c,m,y,C){if(Ah(o))throw Error(r(485));if(o=c.action,o!==null){var T={payload:C,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){T.listeners.push(D)}};V.T!==null?m(!0):T.isTransition=!1,y(T),m=c.pending,m===null?(T.next=c.pending=T,o1(c,T)):(T.next=m.next,c.pending=m.next=T)}}function o1(o,c){var m=c.action,y=c.payload,C=o.state;if(c.isTransition){var T=V.T,D={};V.T=D;try{var U=m(C,y),$=V.S;$!==null&&$(D,U),l1(o,c,U)}catch(ue){Ym(o,c,ue)}finally{T!==null&&D.types!==null&&(T.types=D.types),V.T=T}}else try{T=m(C,y),l1(o,c,T)}catch(ue){Ym(o,c,ue)}}function l1(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){c1(o,c,y)},function(y){return Ym(o,c,y)}):c1(o,c,m)}function c1(o,c,m){c.status="fulfilled",c.value=m,u1(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,o1(o,m)))}function Ym(o,c,m){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=m,u1(c),c=c.next;while(c!==y)}o.action=null}function u1(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function Km(o,c){return c}function Xm(o,c){if(At){var m=at.formState;if(m!==null){e:{var y=ut;if(At){if(en){t:{for(var C=en,T=Zi;C.nodeType!==8;){if(!T){C=null;break t}if(C=Oa(C.nextSibling),C===null){C=null;break t}}T=C.data,C=T==="F!"||T==="F"?C:null}if(C){en=Oa(C.nextSibling),y=C.data==="F!";break e}}ya(y)}y=!1}y&&(c=m[0])}}return m=hr(),m.memoizedState=m.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:c},m.queue=y,m=M1.bind(null,ut,y),y.dispatch=m,y=qm(!1),T=ng.bind(null,ut,!1,y.queue),y=hr(),C={state:c,dispatch:null,action:o,pending:null},y.queue=C,m=T2.bind(null,ut,C,T,m),C.dispatch=m,y.memoizedState=o,[c,m,!1]}function f1(o){var c=Kn();return Qm(c,Qt,o)}function Qm(o,c,m){if(c=Fm(o,c,Km)[0],o=kh(so)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=Of(c)}catch(D){throw D===Rl?mt:D}else y=c;c=Kn();var C=c.queue,T=C.dispatch;return m!==c.memoizedState&&(ut.flags|=2048,Xo(9,{destroy:void 0},d1.bind(null,C,m),null)),[y,T,o]}function d1(o,c){o.action=c}function Wm(o){var c=Kn(),m=Qt;if(m!==null)return Qm(c,m,o);Kn(),c=c.memoizedState,m=Kn();var y=m.queue.dispatch;return m.memoizedState=o,[c,y,!1]}function Xo(o,c,m,y){return o={tag:o,create:m,deps:y,inst:c,next:null},c=ut.updateQueue,c===null&&(c=Eh(),ut.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(y=m.next,m.next=o,o.next=y,c.lastEffect=o),o}function Th(){return Kn().memoizedState}function _h(o,c,m,y){var C=hr();ut.flags|=o,C.memoizedState=Xo(1|c,{destroy:void 0},m,y===void 0?null:y)}function Mh(o,c,m,y){var C=Kn();y=y===void 0?null:y;var T=C.memoizedState.inst;Qt!==null&&y!==null&&Pm(y,Qt.memoizedState.deps)?C.memoizedState=Xo(c,T,m,y):(ut.flags|=o,C.memoizedState=Xo(1|c,T,m,y))}function h1(o,c){_h(8390656,8,o,c)}function Jm(o,c){Mh(2048,8,o,c)}function p1(o){ut.flags|=4;var c=ut.updateQueue;if(c===null)c=Eh(),ut.updateQueue=c,c.events=[o];else{var m=c.events;m===null?c.events=[o]:m.push(o)}}function m1(o){var c=Kn().memoizedState;return p1({ref:c,nextImpl:o}),function(){if((Ve&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function g1(o,c){return Mh(4,2,o,c)}function y1(o,c){return Mh(4,4,o,c)}function b1(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function v1(o,c,m){m=m!=null?m.concat([o]):null,Mh(4,4,b1.bind(null,c,o),m)}function $m(){}function x1(o,c){var m=Kn();c=c===void 0?null:c;var y=m.memoizedState;return c!==null&&Pm(c,y[1])?y[0]:(m.memoizedState=[o,c],o)}function S1(o,c){var m=Kn();c=c===void 0?null:c;var y=m.memoizedState;if(c!==null&&Pm(c,y[1]))return y[0];if(y=o(),Pl){dr(!0);try{o()}finally{dr(!1)}}return m.memoizedState=[y,c],y}function Zm(o,c,m){return m===void 0||(hn&1073741824)!==0&&(ht&261930)===0?o.memoizedState=c:(o.memoizedState=m,o=St(),ut.lanes|=o,Aa|=o,m)}function w1(o,c,m,y){return fi(m,c)?m:Jc.current!==null?(o=Zm(o,m,y),fi(o,c)||(ar=!0),o):(hn&42)===0||(hn&1073741824)!==0&&(ht&261930)===0?(ar=!0,o.memoizedState=m):(o=St(),ut.lanes|=o,Aa|=o,c)}function C1(o,c,m,y,C){var T=re.p;re.p=T!==0&&8>T?T:8;var D=V.T,U={};V.T=U,ng(o,!1,c,m);try{var $=C(),ue=V.S;if(ue!==null&&ue(U,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var be=Nm($,y);Df(o,c,be,as(o))}else Df(o,c,y,as(o))}catch(Se){Df(o,c,{then:function(){},status:"rejected",reason:Se},as())}finally{re.p=T,D!==null&&U.types!==null&&(D.types=U.types),V.T=D}}function _2(){}function eg(o,c,m,y){if(o.tag!==5)throw Error(r(476));var C=E1(o).queue;C1(o,C,c,J,m===null?_2:function(){return k1(o),m(y)})}function E1(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:J},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function k1(o){var c=E1(o);c.next===null&&(c=o.alternate.memoizedState),Df(o,c.next.queue,{},as())}function tg(){return it(Cg)}function T1(){return Kn().memoizedState}function _1(){return Kn().memoizedState}function M2(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=as();o=ro(m);var y=Vo(c,o,m);y!==null&&(yt(y,c,m),Yo(y,c,m)),c={cache:_m()},o.payload=c;return}c=c.return}}function A2(o,c,m){var y=as();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ah(o)?A1(c,m):(m=ah(o,c,m,y),m!==null&&(yt(m,o,y),N1(m,c,y)))}function M1(o,c,m){var y=as();Df(o,c,m,y)}function Df(o,c,m,y){var C={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ah(o))A1(c,C);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var D=c.lastRenderedState,U=T(D,m);if(C.hasEagerState=!0,C.eagerState=U,fi(U,D))return Sr(o,c,C,0),at===null&&wf(),!1}catch{}finally{}if(m=ah(o,c,C,y),m!==null)return yt(m,o,y),N1(m,c,y),!0}return!1}function ng(o,c,m,y){if(y={lane:2,revertLane:pe(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Ah(o)){if(c)throw Error(r(479))}else c=ah(o,m,y,2),c!==null&&yt(c,o,2)}function Ah(o){var c=o.alternate;return o===ut||c!==null&&c===ut}function A1(o,c){$c=As=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function N1(o,c,m){if((m&4194048)!==0){var y=c.lanes;y&=o.pendingLanes,m|=y,c.lanes=m,Yr(o,m)}}var eu={readContext:it,use:Ko,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};eu.useEffectEvent=Cn;var R1={readContext:it,use:Ko,useCallback:function(o,c){return hr().memoizedState=[o,c===void 0?null:c],o},useContext:it,useEffect:h1,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,_h(4194308,4,b1.bind(null,c,o),m)},useLayoutEffect:function(o,c){return _h(4194308,4,o,c)},useInsertionEffect:function(o,c){_h(4,2,o,c)},useMemo:function(o,c){var m=hr();c=c===void 0?null:c;var y=o();if(Pl){dr(!0);try{o()}finally{dr(!1)}}return m.memoizedState=[y,c],y},useReducer:function(o,c,m){var y=hr();if(m!==void 0){var C=m(c);if(Pl){dr(!0);try{m(c)}finally{dr(!1)}}}else C=c;return y.memoizedState=y.baseState=C,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:C},y.queue=o,o=o.dispatch=A2.bind(null,ut,o),[y.memoizedState,o]},useRef:function(o){var c=hr();return o={current:o},c.memoizedState=o},useState:function(o){o=qm(o);var c=o.queue,m=M1.bind(null,ut,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:$m,useDeferredValue:function(o,c){var m=hr();return Zm(m,o,c)},useTransition:function(){var o=qm(!1);return o=C1.bind(null,ut,o.queue,!0,!1),hr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var y=ut,C=hr();if(At){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),at===null)throw Error(r(349));(ht&127)!==0||n1(y,c,m)}C.memoizedState=m;var T={value:m,getSnapshot:c};return C.queue=T,h1(i1.bind(null,y,T,o),[o]),y.flags|=2048,Xo(9,{destroy:void 0},r1.bind(null,y,T,m,c),null),m},useId:function(){var o=hr(),c=at.identifierPrefix;if(At){var m=Ys,y=wn;m=(y&~(1<<32-Ut(y)-1)).toString(32)+m,c="_"+c+"R_"+m,m=wh++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=Lm++,c="_"+c+"r_"+m.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:tg,useFormState:Xm,useActionState:Xm,useOptimistic:function(o){var c=hr();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=ng.bind(null,ut,!0,m),m.dispatch=c,[o,c]},useMemoCache:Um,useCacheRefresh:function(){return hr().memoizedState=M2.bind(null,ut)},useEffectEvent:function(o){var c=hr(),m={impl:o};return c.memoizedState=m,function(){if((Ve&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},rg={readContext:it,use:Ko,useCallback:x1,useContext:it,useEffect:Jm,useImperativeHandle:v1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:S1,useReducer:kh,useRef:Th,useState:function(){return kh(so)},useDebugValue:$m,useDeferredValue:function(o,c){var m=Kn();return w1(m,Qt.memoizedState,o,c)},useTransition:function(){var o=kh(so)[0],c=Kn().memoizedState;return[typeof o=="boolean"?o:Of(o),c]},useSyncExternalStore:t1,useId:T1,useHostTransitionStatus:tg,useFormState:f1,useActionState:f1,useOptimistic:function(o,c){var m=Kn();return Vm(m,Qt,o,c)},useMemoCache:Um,useCacheRefresh:_1};rg.useEffectEvent=m1;var Ns={readContext:it,use:Ko,useCallback:x1,useContext:it,useEffect:Jm,useImperativeHandle:v1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:S1,useReducer:Gm,useRef:Th,useState:function(){return Gm(so)},useDebugValue:$m,useDeferredValue:function(o,c){var m=Kn();return Qt===null?Zm(m,o,c):w1(m,Qt.memoizedState,o,c)},useTransition:function(){var o=Gm(so)[0],c=Kn().memoizedState;return[typeof o=="boolean"?o:Of(o),c]},useSyncExternalStore:t1,useId:T1,useHostTransitionStatus:tg,useFormState:Wm,useActionState:Wm,useOptimistic:function(o,c){var m=Kn();return Qt!==null?Vm(m,Qt,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Um,useCacheRefresh:_1};Ns.useEffectEvent=m1;function Nh(o,c,m,y){c=o.memoizedState,m=m(y,c),m=m==null?c:g({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var zf={enqueueSetState:function(o,c,m){o=o._reactInternals;var y=as(),C=ro(y);C.payload=c,m!=null&&(C.callback=m),c=Vo(o,C,y),c!==null&&(yt(c,o,y),Yo(c,o,y))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var y=as(),C=ro(y);C.tag=1,C.payload=c,m!=null&&(C.callback=m),c=Vo(o,C,y),c!==null&&(yt(c,o,y),Yo(c,o,y))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=as(),y=ro(m);y.tag=2,c!=null&&(y.callback=c),c=Vo(o,y,m),c!==null&&(yt(c,o,m),Yo(c,o,m))}};function ig(o,c,m,y,C,T,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,T,D):c.prototype&&c.prototype.isPureReactComponent?!Lc(m,y)||!Lc(C,T):!0}function sg(o,c,m,y){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,y),c.state!==o&&zf.enqueueReplaceState(c,c.state,null)}function Qo(o,c){var m=c;if("ref"in c){m={};for(var y in c)y!=="ref"&&(m[y]=c[y])}if(o=o.defaultProps){m===c&&(m=g({},m));for(var C in o)m[C]===void 0&&(m[C]=o[C])}return m}function O1(o){Sf(o)}function ag(o){console.error(o)}function og(o){Sf(o)}function Rh(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function D1(o,c,m){try{var y=o.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function lg(o,c,m){return m=ro(m),m.tag=3,m.payload={element:null},m.callback=function(){Rh(o,c)},m}function cg(o){return o=ro(o),o.tag=3,o}function z1(o,c,m,y){var C=m.type.getDerivedStateFromError;if(typeof C=="function"){var T=y.value;o.payload=function(){return C(T)},o.callback=function(){D1(c,m,y)}}var D=m.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){D1(c,m,y),typeof C!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var U=y.stack;this.componentDidCatch(y.value,{componentStack:U!==null?U:""})})}function pr(o,c,m,y,C){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=m.alternate,c!==null&&Sa(c,m,C,!0),m=Ni.current,m!==null){switch(m.tag){case 31:case 13:return pi===null?ou():m.alternate===null&&En===0&&(En=3),m.flags&=-257,m.flags|=65536,m.lanes=C,y===yh?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([y]):c.add(y),Yf(o,y,C)),!1;case 22:return m.flags|=65536,y===yh?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([y]):m.add(y)),Yf(o,y,C)),!1}throw Error(r(435,m.tag))}return Yf(o,y,C),ou(),!1}if(At)return c=Ni.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=C,y!==qc&&(o=Error(r(422),{cause:y}),ba($i(o,m)))):(y!==qc&&(c=Error(r(423),{cause:y}),ba($i(c,m))),o=o.current.alternate,o.flags|=65536,C&=-C,o.lanes|=C,y=$i(y,m),C=lg(o.stateNode,y,C),Xe(o,C),En!==4&&(En=2)),!1;var T=Error(r(520),{cause:y});if(T=$i(T,m),Kl===null?Kl=[T]:Kl.push(T),En!==4&&(En=2),c===null)return!0;y=$i(y,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=C&-C,m.lanes|=o,o=lg(m.stateNode,y,o),Xe(m,o),!1;case 1:if(c=m.type,T=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Wn===null||!Wn.has(T))))return m.flags|=65536,C&=-C,m.lanes|=C,C=cg(C),z1(C,o,m,y),Xe(m,C),!1}m=m.return}while(m!==null);return!1}var Oh=Error(r(461)),ar=!1;function wr(o,c,m,y){c.child=o===null?xh(c,null,m,y):no(c,o.child,m,y)}function ug(o,c,m,y,C){m=m.render;var T=c.ref;if("ref"in y){var D={};for(var U in y)U!=="ref"&&(D[U]=y[U])}else D=y;return Go(c),y=Ch(o,c,m,D,T,C),U=Bm(),o!==null&&!ar?(Im(o,c,C),Xn(o,c,C)):(At&&U&&ga(c),c.flags|=1,wr(o,c,y,C),c.child)}function Hl(o,c,m,y,C){if(o===null){var T=m.type;return typeof T=="function"&&!oh(T)&&T.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=T,Dh(o,c,T,y,C)):(o=pa(m.type,null,y,c,c.mode,C),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,!Ih(o,C)){var D=T.memoizedProps;if(m=m.compare,m=m!==null?m:Lc,m(D,y)&&o.ref===c.ref)return Xn(o,c,C)}return c.flags|=1,o=_i(T,y),o.ref=c.ref,o.return=c,c.child=o}function Dh(o,c,m,y,C){if(o!==null){var T=o.memoizedProps;if(Lc(T,y)&&o.ref===c.ref)if(ar=!1,c.pendingProps=y=T,Ih(o,C))(o.flags&131072)!==0&&(ar=!0);else return c.lanes=o.lanes,Xn(o,c,C)}return tu(o,c,m,y,C)}function Ul(o,c,m,y){var C=y.children,T=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((c.flags&128)!==0){if(T=T!==null?T.baseLanes|m:m,o!==null){for(y=c.child=o.child,C=0;y!==null;)C=C|y.lanes|y.childLanes,y=y.sibling;y=C&~T}else y=0,c.child=null;return Oi(o,c,T,m,y)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&kf(c,T!==null?T.cachePool:null),T!==null?$y(c,T):zm(),Zy(c);else return y=c.lanes=536870912,Oi(o,c,T!==null?T.baseLanes|m:m,m,y)}else T!==null?(kf(c,T.cachePool),$y(c,T),Ri(),c.memoizedState=null):(o!==null&&kf(c,null),zm(),Ri());return wr(o,c,C,m),c.child}function Ca(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Oi(o,c,m,y,C){var T=gh();return T=T===null?null:{parent:sr._currentValue,pool:T},c.memoizedState={baseLanes:m,cachePool:T},o!==null&&kf(c,null),zm(),Zy(c),o!==null&&Sa(o,c,y,!0),c.childLanes=C,null}function zh(o,c){return c=Bh({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function j1(o,c,m){return no(c,o.child,null,m),o=zh(c,c.pendingProps),o.flags|=2,Yn(c),c.memoizedState=null,o}function jh(o,c,m){var y=c.pendingProps,C=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(At){if(y.mode==="hidden")return o=zh(c,y),c.lanes=536870912,Ca(null,o);if(jm(c),(o=en)?(o=W4(o,Zi),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:$a!==null?{id:wn,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},m=Uc(o),m.return=c,c.child=m,Pn=c,en=null)):o=null,o===null)throw ya(c);return c.lanes=536870912,null}return zh(c,y)}var T=o.memoizedState;if(T!==null){var D=T.dehydrated;if(jm(c),C)if(c.flags&256)c.flags&=-257,c=j1(o,c,m);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(ar||Sa(o,c,m,!1),C=(m&o.childLanes)!==0,ar||C){if(y=at,y!==null&&(D=Yi(y,m),D!==0&&D!==T.retryLane))throw T.retryLane=D,di(o,D),yt(y,o,D),Oh;ou(),c=j1(o,c,m)}else o=T.treeContext,en=Oa(D.nextSibling),Pn=c,At=!0,Za=null,Zi=!1,o!==null&&fh(c,o),c=zh(c,y),c.flags|=4096;return c}return o=_i(o.child,{mode:y.mode,children:y.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Fl(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function tu(o,c,m,y,C){return Go(c),m=Ch(o,c,m,y,void 0,C),y=Bm(),o!==null&&!ar?(Im(o,c,C),Xn(o,c,C)):(At&&y&&ga(c),c.flags|=1,wr(o,c,m,C),c.child)}function jf(o,c,m,y,C,T){return Go(c),c.updateQueue=null,m=Bl(c,y,m,C),e1(o),y=Bm(),o!==null&&!ar?(Im(o,c,T),Xn(o,c,T)):(At&&y&&ga(c),c.flags|=1,wr(o,c,m,T),c.child)}function Lh(o,c,m,y,C){if(Go(c),c.stateNode===null){var T=Po,D=m.contextType;typeof D=="object"&&D!==null&&(T=it(D)),T=new m(y,T),c.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=zf,c.stateNode=T,T._reactInternals=c,T=c.stateNode,T.props=y,T.state=c.memoizedState,T.refs={},Mf(c),D=m.contextType,T.context=typeof D=="object"&&D!==null?it(D):Po,T.state=c.memoizedState,D=m.getDerivedStateFromProps,typeof D=="function"&&(Nh(c,m,D,y),T.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(D=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),D!==T.state&&zf.enqueueReplaceState(T,T.state,null),Qc(c,y,T,C),Af(),T.state=c.memoizedState),typeof T.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(o===null){T=c.stateNode;var U=c.memoizedProps,$=Qo(m,U);T.props=$;var ue=T.context,be=m.contextType;D=Po,typeof be=="object"&&be!==null&&(D=it(be));var Se=m.getDerivedStateFromProps;be=typeof Se=="function"||typeof T.getSnapshotBeforeUpdate=="function",U=c.pendingProps!==U,be||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(U||ue!==D)&&sg(c,T,y,D),hi=!1;var he=c.memoizedState;T.state=he,Qc(c,y,T,C),Af(),ue=c.memoizedState,U||he!==ue||hi?(typeof Se=="function"&&(Nh(c,m,Se,y),ue=c.memoizedState),($=hi||ig(c,m,$,y,he,ue,D))?(be||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(c.flags|=4194308)):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=ue),T.props=y,T.state=ue,T.context=D,y=$):(typeof T.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{T=c.stateNode,Om(o,c),D=c.memoizedProps,be=Qo(m,D),T.props=be,Se=c.pendingProps,he=T.context,ue=m.contextType,$=Po,typeof ue=="object"&&ue!==null&&($=it(ue)),U=m.getDerivedStateFromProps,(ue=typeof U=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==Se||he!==$)&&sg(c,T,y,$),hi=!1,he=c.memoizedState,T.state=he,Qc(c,y,T,C),Af();var ge=c.memoizedState;D!==Se||he!==ge||hi||o!==null&&o.dependencies!==null&&Ef(o.dependencies)?(typeof U=="function"&&(Nh(c,m,U,y),ge=c.memoizedState),(be=hi||ig(c,m,be,y,he,ge,$)||o!==null&&o.dependencies!==null&&Ef(o.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,ge,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,ge,$)),typeof T.componentDidUpdate=="function"&&(c.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=ge),T.props=y,T.state=ge,T.context=$,y=be):(typeof T.componentDidUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&he===o.memoizedState||(c.flags|=1024),y=!1)}return T=y,Fl(o,c),y=(c.flags&128)!==0,T||y?(T=c.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:T.render(),c.flags|=1,o!==null&&y?(c.child=no(c,o.child,null,C),c.child=no(c,null,m,C)):wr(o,c,m,C),c.memoizedState=T.state,o=c.child):o=Xn(o,c,C),o}function L1(o,c,m,y){return Uo(),c.flags|=256,wr(o,c,m,y),c.child}var fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jr(o){return{baseLanes:o,cachePool:Rm()}}function Ph(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=bi),o}function P1(o,c,m){var y=c.pendingProps,C=!1,T=(c.flags&128)!==0,D;if((D=T)||(D=o!==null&&o.memoizedState===null?!1:(Nt.current&2)!==0),D&&(C=!0,c.flags&=-129),D=(c.flags&32)!==0,c.flags&=-33,o===null){if(At){if(C?io(c):Ri(),(o=en)?(o=W4(o,Zi),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:$a!==null?{id:wn,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},m=Uc(o),m.return=c,c.child=m,Pn=c,en=null)):o=null,o===null)throw ya(c);return G2(o)?c.lanes=32:c.lanes=536870912,null}var U=y.children;return y=y.fallback,C?(Ri(),C=c.mode,U=Bh({mode:"hidden",children:U},C),y=Bo(y,C,m,null),U.return=c,y.return=c,U.sibling=y,c.child=U,y=c.child,y.memoizedState=Jr(m),y.childLanes=Ph(o,D,m),c.memoizedState=fg,Ca(null,y)):(io(c),Lf(c,U))}var $=o.memoizedState;if($!==null&&(U=$.dehydrated,U!==null)){if(T)c.flags&256?(io(c),c.flags&=-257,c=dg(o,c,m)):c.memoizedState!==null?(Ri(),c.child=o.child,c.flags|=128,c=null):(Ri(),U=y.fallback,C=c.mode,y=Bh({mode:"visible",children:y.children},C),U=Bo(U,C,m,null),U.flags|=2,y.return=c,U.return=c,y.sibling=U,c.child=y,no(c,o.child,null,m),y=c.child,y.memoizedState=Jr(m),y.childLanes=Ph(o,D,m),c.memoizedState=fg,c=Ca(null,y));else if(io(c),G2(U)){if(D=U.nextSibling&&U.nextSibling.dataset,D)var ue=D.dgst;D=ue,y=Error(r(419)),y.stack="",y.digest=D,ba({value:y,source:null,stack:null}),c=dg(o,c,m)}else if(ar||Sa(o,c,m,!1),D=(m&o.childLanes)!==0,ar||D){if(D=at,D!==null&&(y=Yi(D,m),y!==0&&y!==$.retryLane))throw $.retryLane=y,di(o,y),yt(D,o,y),Oh;F2(U)||ou(),c=dg(o,c,m)}else F2(U)?(c.flags|=192,c.child=o.child,c=null):(o=$.treeContext,en=Oa(U.nextSibling),Pn=c,At=!0,Za=null,Zi=!1,o!==null&&fh(c,o),c=Lf(c,y.children),c.flags|=4096);return c}return C?(Ri(),U=y.fallback,C=c.mode,$=o.child,ue=$.sibling,y=_i($,{mode:"hidden",children:y.children}),y.subtreeFlags=$.subtreeFlags&65011712,ue!==null?U=_i(ue,U):(U=Bo(U,C,m,null),U.flags|=2),U.return=c,y.return=c,y.sibling=U,c.child=y,Ca(null,y),y=c.child,U=o.child.memoizedState,U===null?U=Jr(m):(C=U.cachePool,C!==null?($=sr._currentValue,C=C.parent!==$?{parent:$,pool:$}:C):C=Rm(),U={baseLanes:U.baseLanes|m,cachePool:C}),y.memoizedState=U,y.childLanes=Ph(o,D,m),c.memoizedState=fg,Ca(o.child,y)):(io(c),m=o.child,o=m.sibling,m=_i(m,{mode:"visible",children:y.children}),m.return=c,m.sibling=null,o!==null&&(D=c.deletions,D===null?(c.deletions=[o],c.flags|=16):D.push(o)),c.child=m,c.memoizedState=null,m)}function Lf(o,c){return c=Bh({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Bh(o,c){return o=Sn(22,o,null,c),o.lanes=0,o}function dg(o,c,m){return no(c,o.child,null,m),o=Lf(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function B1(o,c,m){o.lanes|=c;var y=o.alternate;y!==null&&(y.lanes|=c),hh(o.return,c,m)}function Gl(o,c,m,y,C,T){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:C,treeForkCount:T}:(D.isBackwards=c,D.rendering=null,D.renderingStartTime=0,D.last=y,D.tail=m,D.tailMode=C,D.treeForkCount=T)}function Di(o,c,m){var y=c.pendingProps,C=y.revealOrder,T=y.tail;y=y.children;var D=Nt.current,U=(D&2)!==0;if(U?(D=D&1|2,c.flags|=128):D&=1,F(Nt,D),wr(o,c,y,m),y=At?Gc:0,!U&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&B1(o,m,c);else if(o.tag===19)B1(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(C){case"forwards":for(m=c.child,C=null;m!==null;)o=m.alternate,o!==null&&ts(o)===null&&(C=m),m=m.sibling;m=C,m===null?(C=c.child,c.child=null):(C=m.sibling,m.sibling=null),Gl(c,!1,C,m,T,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,C=c.child,c.child=null;C!==null;){if(o=C.alternate,o!==null&&ts(o)===null){c.child=C;break}o=C.sibling,C.sibling=m,m=C,C=o}Gl(c,!0,m,null,T,y);break;case"together":Gl(c,!1,null,null,void 0,y);break;default:c.memoizedState=null}return c.child}function Xn(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),Aa|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(Sa(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,m=_i(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=_i(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function Ih(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Ef(o)))}function N2(o,c,m){switch(c.tag){case 3:ot(c,c.stateNode.containerInfo),eo(c,sr,o.memoizedState.cache),Uo();break;case 27:case 5:nt(c);break;case 4:ot(c,c.stateNode.containerInfo);break;case 10:eo(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,jm(c),null;break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(io(c),c.flags|=128,null):(m&c.child.childLanes)!==0?P1(o,c,m):(io(c),o=Xn(o,c,m),o!==null?o.sibling:null);io(c);break;case 19:var C=(o.flags&128)!==0;if(y=(m&c.childLanes)!==0,y||(Sa(o,c,m,!1),y=(m&c.childLanes)!==0),C){if(y)return Di(o,c,m);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),F(Nt,Nt.current),y)break;return null;case 22:return c.lanes=0,Ul(o,c,m,c.pendingProps);case 24:eo(c,sr,o.memoizedState.cache)}return Xn(o,c,m)}function Hh(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)ar=!0;else{if(!Ih(o,m)&&(c.flags&128)===0)return ar=!1,N2(o,c,m);ar=(o.flags&131072)!==0}else ar=!1,At&&(c.flags&1048576)!==0&&Vy(c,Gc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var y=c.pendingProps;if(o=Ol(c.elementType),c.type=o,typeof o=="function")oh(o)?(y=Qo(o,y),c.tag=1,c=Lh(null,c,o,y,m)):(c.tag=0,c=tu(null,c,o,y,m));else{if(o!=null){var C=o.$$typeof;if(C===L){c.tag=11,c=ug(null,c,o,y,m);break e}else if(C===P){c.tag=14,c=Hl(null,c,o,y,m);break e}}throw c=ee(o)||o,Error(r(306,c,""))}}return c;case 0:return tu(o,c,c.type,c.pendingProps,m);case 1:return y=c.type,C=Qo(y,c.pendingProps),Lh(o,c,y,C,m);case 3:e:{if(ot(c,c.stateNode.containerInfo),o===null)throw Error(r(387));y=c.pendingProps;var T=c.memoizedState;C=T.element,Om(o,c),Qc(c,y,null,m);var D=c.memoizedState;if(y=D.cache,eo(c,sr,y),y!==T.cache&&ph(c,[sr],m,!0),Af(),y=D.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:D.cache},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){c=L1(o,c,y,m);break e}else if(y!==C){C=$i(Error(r(424)),c),ba(C),c=L1(o,c,y,m);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(en=Oa(o.firstChild),Pn=c,At=!0,Za=null,Zi=!0,m=xh(c,null,y,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Uo(),y===C){c=Xn(o,c,m);break e}wr(o,c,y,m)}c=c.child}return c;case 26:return Fl(o,c),o===null?(m=n5(c.type,null,c.pendingProps,null))?c.memoizedState=m:At||(m=c.type,o=c.pendingProps,y=F1(De.current).createElement(m),y[rr]=c,y[Kr]=o,xi(y,m,o),ir(y),c.stateNode=y):c.memoizedState=n5(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return nt(c),o===null&&At&&(y=c.stateNode=Z4(c.type,c.pendingProps,De.current),Pn=c,Zi=!0,C=en,fu(c.type)?(q2=C,en=Oa(y.firstChild)):en=C),wr(o,c,c.pendingProps.children,m),Fl(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&At&&((C=y=en)&&(y=gD(y,c.type,c.pendingProps,Zi),y!==null?(c.stateNode=y,Pn=c,en=Oa(y.firstChild),Zi=!1,C=!0):C=!1),C||ya(c)),nt(c),C=c.type,T=c.pendingProps,D=o!==null?o.memoizedProps:null,y=T.children,I2(C,T)?y=null:D!==null&&I2(C,D)&&(c.flags|=32),c.memoizedState!==null&&(C=Ch(o,c,Il,null,null,m),Cg._currentValue=C),Fl(o,c),wr(o,c,y,m),c.child;case 6:return o===null&&At&&((o=m=en)&&(m=yD(m,c.pendingProps,Zi),m!==null?(c.stateNode=m,Pn=c,en=null,o=!0):o=!1),o||ya(c)),null;case 13:return P1(o,c,m);case 4:return ot(c,c.stateNode.containerInfo),y=c.pendingProps,o===null?c.child=no(c,null,y,m):wr(o,c,y,m),c.child;case 11:return ug(o,c,c.type,c.pendingProps,m);case 7:return wr(o,c,c.pendingProps,m),c.child;case 8:return wr(o,c,c.pendingProps.children,m),c.child;case 12:return wr(o,c,c.pendingProps.children,m),c.child;case 10:return y=c.pendingProps,eo(c,c.type,y.value),wr(o,c,y.children,m),c.child;case 9:return C=c.type._context,y=c.pendingProps.children,Go(c),C=it(C),y=y(C),c.flags|=1,wr(o,c,y,m),c.child;case 14:return Hl(o,c,c.type,c.pendingProps,m);case 15:return Dh(o,c,c.type,c.pendingProps,m);case 19:return Di(o,c,m);case 31:return jh(o,c,m);case 22:return Ul(o,c,m,c.pendingProps);case 24:return Go(c),y=it(sr),o===null?(C=gh(),C===null&&(C=at,T=_m(),C.pooledCache=T,T.refCount++,T!==null&&(C.pooledCacheLanes|=m),C=T),c.memoizedState={parent:y,cache:C},Mf(c),eo(c,sr,C)):((o.lanes&m)!==0&&(Om(o,c),Qc(c,null,null,m),Af()),C=o.memoizedState,T=c.memoizedState,C.parent!==y?(C={parent:y,cache:y},c.memoizedState=C,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=C),eo(c,sr,y)):(y=T.cache,eo(c,sr,y),y!==C.cache&&ph(c,[sr],m,!0))),wr(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Ea(o){o.flags|=4}function Pf(o,c,m,y,C){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(C&335544128)===C)if(o.stateNode.complete)o.flags|=8192;else if(Tn())o.flags|=8192;else throw wa=yh,Tf}else o.flags&=-16777217}function hg(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!o5(c))if(Tn())o.flags|=8192;else throw wa=yh,Tf}function ao(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?jn():536870912,o.lanes|=c,sn|=c)}function ka(o,c){if(!At)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Wt(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,y=0;if(c)for(var C=o.child;C!==null;)m|=C.lanes|C.childLanes,y|=C.subtreeFlags&65011712,y|=C.flags&65011712,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)m|=C.lanes|C.childLanes,y|=C.subtreeFlags,y|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=y,o.childLanes=m,c}function Bf(o,c,m){var y=c.pendingProps;switch(uh(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(c),null;case 1:return Wt(c),null;case 3:return m=c.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),xa(sr),Ke(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Vc(c)?Ea(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,dh())),Wt(c),null;case 26:var C=c.type,T=c.memoizedState;return o===null?(Ea(c),T!==null?(Wt(c),hg(c,T)):(Wt(c),Pf(c,C,null,y,m))):T?T!==o.memoizedState?(Ea(c),Wt(c),hg(c,T)):(Wt(c),c.flags&=-16777217):(o=o.memoizedProps,o!==y&&Ea(c),Wt(c),Pf(c,C,o,y,m)),null;case 27:if(Nn(c),m=De.current,C=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Ea(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}o=we.current,Vc(c)?Yy(c):(o=Z4(C,y,m),c.stateNode=o,Ea(c))}return Wt(c),null;case 5:if(Nn(c),C=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==y&&Ea(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return Wt(c),null}if(T=we.current,Vc(c))Yy(c);else{var D=F1(De.current);switch(T){case 1:T=D.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:T=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":T=D.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":T=D.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":T=D.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof y.is=="string"?D.createElement("select",{is:y.is}):D.createElement("select"),y.multiple?T.multiple=!0:y.size&&(T.size=y.size);break;default:T=typeof y.is=="string"?D.createElement(C,{is:y.is}):D.createElement(C)}}T[rr]=c,T[Kr]=y;e:for(D=c.child;D!==null;){if(D.tag===5||D.tag===6)T.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===c)break e;for(;D.sibling===null;){if(D.return===null||D.return===c)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}c.stateNode=T;e:switch(xi(T,C,y),C){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Ea(c)}}return Wt(c),Pf(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,m),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==y&&Ea(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(o=De.current,Vc(c)){if(o=c.stateNode,m=c.memoizedProps,y=null,C=Pn,C!==null)switch(C.tag){case 27:case 5:y=C.memoizedProps}o[rr]=c,o=!!(o.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||F4(o.nodeValue,m)),o||ya(c,!0)}else o=F1(o).createTextNode(y),o[rr]=c,c.stateNode=o}return Wt(c),null;case 31:if(m=c.memoizedState,o===null||o.memoizedState!==null){if(y=Vc(c),m!==null){if(o===null){if(!y)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[rr]=c}else Uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),o=!1}else m=dh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return c.flags&256?(Yn(c),c):(Yn(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Wt(c),null;case 13:if(y=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(C=Vc(c),y!==null&&y.dehydrated!==null){if(o===null){if(!C)throw Error(r(318));if(C=c.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[rr]=c}else Uo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Wt(c),C=!1}else C=dh(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=C),C=!0;if(!C)return c.flags&256?(Yn(c),c):(Yn(c),null)}return Yn(c),(c.flags&128)!==0?(c.lanes=m,c):(m=y!==null,o=o!==null&&o.memoizedState!==null,m&&(y=c.child,C=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(C=y.alternate.memoizedState.cachePool.pool),T=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==C&&(y.flags|=2048)),m!==o&&m&&(c.child.flags|=8192),ao(c,c.updateQueue),Wt(c),null);case 4:return Ke(),o===null&&z2(c.stateNode.containerInfo),Wt(c),null;case 10:return xa(c.type),Wt(c),null;case 19:if(ie(Nt),y=c.memoizedState,y===null)return Wt(c),null;if(C=(c.flags&128)!==0,T=y.rendering,T===null)if(C)ka(y,!1);else{if(En!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(T=ts(o),T!==null){for(c.flags|=128,ka(y,!1),o=T.updateQueue,c.updateQueue=o,ao(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)Hc(m,o),m=m.sibling;return F(Nt,Nt.current&1|2),At&&ma(c,y.treeForkCount),c.child}o=o.sibling}y.tail!==null&&qn()>Qn&&(c.flags|=128,C=!0,ka(y,!1),c.lanes=4194304)}else{if(!C)if(o=ts(T),o!==null){if(c.flags|=128,C=!0,o=o.updateQueue,c.updateQueue=o,ao(c,o),ka(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!At)return Wt(c),null}else 2*qn()-y.renderingStartTime>Qn&&m!==536870912&&(c.flags|=128,C=!0,ka(y,!1),c.lanes=4194304);y.isBackwards?(T.sibling=c.child,c.child=T):(o=y.last,o!==null?o.sibling=T:c.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=qn(),o.sibling=null,m=Nt.current,F(Nt,C?m&1|2:m&1),At&&ma(c,y.treeForkCount),o):(Wt(c),null);case 22:case 23:return Yn(c),Nf(),y=c.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(m&536870912)!==0&&(c.flags&128)===0&&(Wt(c),c.subtreeFlags&6&&(c.flags|=8192)):Wt(c),m=c.updateQueue,m!==null&&ao(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048),o!==null&&ie(qo),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),xa(sr),Wt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function Rs(o,c){switch(uh(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return xa(sr),Ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Nn(c),null;case 31:if(c.memoizedState!==null){if(Yn(c),c.alternate===null)throw Error(r(340));Uo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Yn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Uo()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ie(Nt),null;case 4:return Ke(),null;case 10:return xa(c.type),null;case 22:case 23:return Yn(c),Nf(),o!==null&&ie(qo),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return xa(sr),null;case 25:return null;default:return null}}function ns(o,c){switch(uh(c),c.tag){case 3:xa(sr),Ke();break;case 26:case 27:case 5:Nn(c);break;case 4:Ke();break;case 31:c.memoizedState!==null&&Yn(c);break;case 13:Yn(c);break;case 19:ie(Nt);break;case 10:xa(c.type);break;case 22:case 23:Yn(c),Nf(),o!==null&&ie(qo);break;case 24:xa(sr)}}function Os(o,c){try{var m=c.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var C=y.next;m=C;do{if((m.tag&o)===o){y=void 0;var T=m.create,D=m.inst;y=T(),D.destroy=y}m=m.next}while(m!==C)}}catch(U){Lt(c,c.return,U)}}function jr(o,c,m){try{var y=c.updateQueue,C=y!==null?y.lastEffect:null;if(C!==null){var T=C.next;y=T;do{if((y.tag&o)===o){var D=y.inst,U=D.destroy;if(U!==void 0){D.destroy=void 0,C=c;var $=m,ue=U;try{ue()}catch(be){Lt(C,$,be)}}}y=y.next}while(y!==T)}}catch(be){Lt(c,c.return,be)}}function Ks(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{Jy(c,m)}catch(y){Lt(o,o.return,y)}}}function Cr(o,c,m){m.props=Qo(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(y){Lt(o,c,y)}}function oo(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof m=="function"?o.refCleanup=m(y):m.current=y}}catch(C){Lt(o,c,C)}}function Lr(o,c){var m=o.ref,y=o.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(C){Lt(o,c,C)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(C){Lt(o,c,C)}else m.current=null}function If(o){var c=o.type,m=o.memoizedProps,y=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(C){Lt(o,o.return,C)}}function mr(o,c,m){try{var y=o.stateNode;uD(y,o.type,m,c),y[Kr]=c}catch(C){Lt(o,o.return,C)}}function pn(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&fu(o.type)||o.tag===4}function Tt(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pn(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&fu(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ta(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Qa));else if(y!==4&&(y===27&&fu(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(Ta(o,c,m),o=o.sibling;o!==null;)Ta(o,c,m),o=o.sibling}function mi(o,c,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(y!==4&&(y===27&&fu(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(mi(o,c,m),o=o.sibling;o!==null;)mi(o,c,m),o=o.sibling}function Uh(o){var c=o.stateNode,m=o.memoizedProps;try{for(var y=o.type,C=c.attributes;C.length;)c.removeAttributeNode(C[0]);xi(c,y,m),c[rr]=o,c[Kr]=m}catch(T){Lt(o,o.return,T)}}var Ds=!1,tn=!1,Xs=!1,I1=typeof WeakSet=="function"?WeakSet:Set,Er=null;function R2(o,c){if(o=o.containerInfo,P2=Q1,o=Uy(o),wm(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var C=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var D=0,U=-1,$=-1,ue=0,be=0,Se=o,he=null;t:for(;;){for(var ge;Se!==m||C!==0&&Se.nodeType!==3||(U=D+C),Se!==T||y!==0&&Se.nodeType!==3||($=D+y),Se.nodeType===3&&(D+=Se.nodeValue.length),(ge=Se.firstChild)!==null;)he=Se,Se=ge;for(;;){if(Se===o)break t;if(he===m&&++ue===C&&(U=D),he===T&&++be===y&&($=D),(ge=Se.nextSibling)!==null)break;Se=he,he=Se.parentNode}Se=ge}m=U===-1||$===-1?null:{start:U,end:$}}else m=null}m=m||{start:0,end:0}}else m=null;for(B2={focusedElem:o,selectionRange:m},Q1=!1,Er=c;Er!==null;)if(c=Er,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Er=o;else for(;Er!==null;){switch(c=Er,T=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)C=o[m],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,m=c,C=T.memoizedProps,T=T.memoizedState,y=m.stateNode;try{var He=Qo(m.type,C);o=y.getSnapshotBeforeUpdate(He,T),y.__reactInternalSnapshotBeforeUpdate=o}catch(rt){Lt(m,m.return,rt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)U2(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":U2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,Er=o;break}Er=c.return}}function mn(o,c,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Ls(o,m),y&4&&Os(5,m);break;case 1:if(Ls(o,m),y&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(D){Lt(m,m.return,D)}else{var C=Qo(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(C,c,o.__reactInternalSnapshotBeforeUpdate)}catch(D){Lt(m,m.return,D)}}y&64&&Ks(m),y&512&&oo(m,m.return);break;case 3:if(Ls(o,m),y&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{Jy(o,c)}catch(D){Lt(m,m.return,D)}}break;case 27:c===null&&y&4&&Uh(m);case 26:case 5:Ls(o,m),c===null&&y&4&&If(m),y&512&&oo(m,m.return);break;case 12:Ls(o,m);break;case 31:Ls(o,m),y&4&&Wo(o,m);break;case 13:Ls(o,m),y&4&&nu(o,m),y&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=v.bind(null,m),bD(o,m))));break;case 22:if(y=m.memoizedState!==null||Ds,!y){c=c!==null&&c.memoizedState!==null||tn,C=Ds;var T=tn;Ds=y,(tn=c)&&!T?gi(o,m,(m.subtreeFlags&8772)!==0):Ls(o,m),Ds=C,tn=T}break;case 30:break;default:Ls(o,m)}}function Hf(o){var c=o.alternate;c!==null&&(o.alternate=null,Hf(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&vl(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qt=null,$r=!1;function zs(o,c,m){for(m=m.child;m!==null;)Fh(o,c,m),m=m.sibling}function Fh(o,c,m){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(vr,m)}catch{}switch(m.tag){case 26:tn||Lr(m,c),zs(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:tn||Lr(m,c);var y=qt,C=$r;fu(m.type)&&(qt=m.stateNode,$r=!1),zs(o,c,m),xg(m.stateNode),qt=y,$r=C;break;case 5:tn||Lr(m,c);case 6:if(y=qt,C=$r,qt=null,zs(o,c,m),qt=y,$r=C,qt!==null)if($r)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(m.stateNode)}catch(T){Lt(m,c,T)}else try{qt.removeChild(m.stateNode)}catch(T){Lt(m,c,T)}break;case 18:qt!==null&&($r?(o=qt,X4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),Wh(o)):X4(qt,m.stateNode));break;case 4:y=qt,C=$r,qt=m.stateNode.containerInfo,$r=!0,zs(o,c,m),qt=y,$r=C;break;case 0:case 11:case 14:case 15:jr(2,m,c),tn||jr(4,m,c),zs(o,c,m);break;case 1:tn||(Lr(m,c),y=m.stateNode,typeof y.componentWillUnmount=="function"&&Cr(m,c,y)),zs(o,c,m);break;case 21:zs(o,c,m);break;case 22:tn=(y=tn)||m.memoizedState!==null,zs(o,c,m),tn=y;break;default:zs(o,c,m)}}function Wo(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Wh(o)}catch(m){Lt(c,c.return,m)}}}function nu(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Wh(o)}catch(m){Lt(c,c.return,m)}}function pg(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new I1),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new I1),c;default:throw Error(r(435,o.tag))}}function lo(o,c){var m=pg(o);c.forEach(function(y){if(!m.has(y)){m.add(y);var C=w.bind(null,o,y);y.then(C,C)}})}function gr(o,c){var m=c.deletions;if(m!==null)for(var y=0;y<m.length;y++){var C=m[y],T=o,D=c,U=D;e:for(;U!==null;){switch(U.tag){case 27:if(fu(U.type)){qt=U.stateNode,$r=!1;break e}break;case 5:qt=U.stateNode,$r=!1;break e;case 3:case 4:qt=U.stateNode.containerInfo,$r=!0;break e}U=U.return}if(qt===null)throw Error(r(160));Fh(T,D,C),qt=null,$r=!1,T=C.alternate,T!==null&&(T.return=null),C.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Jo(c,o),c=c.sibling}var js=null;function Jo(o,c){var m=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:gr(c,o),yr(o),y&4&&(jr(3,o,o.return),Os(3,o),jr(5,o,o.return));break;case 1:gr(c,o),yr(o),y&512&&(tn||m===null||Lr(m,m.return)),y&64&&Ds&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var C=js;if(gr(c,o),yr(o),y&512&&(tn||m===null||Lr(m,m.return)),y&4){var T=m!==null?m.memoizedState:null;if(y=o.memoizedState,m===null)if(y===null)if(o.stateNode===null){e:{y=o.type,m=o.memoizedProps,C=C.ownerDocument||C;t:switch(y){case"title":T=C.getElementsByTagName("title")[0],(!T||T[Ya]||T[rr]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=C.createElement(y),C.head.insertBefore(T,C.querySelector("head > title"))),xi(T,y,m),T[rr]=o,ir(T),y=T;break e;case"link":var D=s5("link","href",C).get(y+(m.href||""));if(D){for(var U=0;U<D.length;U++)if(T=D[U],T.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&T.getAttribute("rel")===(m.rel==null?null:m.rel)&&T.getAttribute("title")===(m.title==null?null:m.title)&&T.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){D.splice(U,1);break t}}T=C.createElement(y),xi(T,y,m),C.head.appendChild(T);break;case"meta":if(D=s5("meta","content",C).get(y+(m.content||""))){for(U=0;U<D.length;U++)if(T=D[U],T.getAttribute("content")===(m.content==null?null:""+m.content)&&T.getAttribute("name")===(m.name==null?null:m.name)&&T.getAttribute("property")===(m.property==null?null:m.property)&&T.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&T.getAttribute("charset")===(m.charSet==null?null:m.charSet)){D.splice(U,1);break t}}T=C.createElement(y),xi(T,y,m),C.head.appendChild(T);break;default:throw Error(r(468,y))}T[rr]=o,ir(T),y=T}o.stateNode=y}else a5(C,o.type,o.stateNode);else o.stateNode=i5(C,y,o.memoizedProps);else T!==y?(T===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):T.count--,y===null?a5(C,o.type,o.stateNode):i5(C,y,o.memoizedProps)):y===null&&o.stateNode!==null&&mr(o,o.memoizedProps,m.memoizedProps)}break;case 27:gr(c,o),yr(o),y&512&&(tn||m===null||Lr(m,m.return)),m!==null&&y&4&&mr(o,o.memoizedProps,m.memoizedProps);break;case 5:if(gr(c,o),yr(o),y&512&&(tn||m===null||Lr(m,m.return)),o.flags&32){C=o.stateNode;try{wl(C,"")}catch(He){Lt(o,o.return,He)}}y&4&&o.stateNode!=null&&(C=o.memoizedProps,mr(o,C,m!==null?m.memoizedProps:C)),y&1024&&(Xs=!0);break;case 6:if(gr(c,o),yr(o),y&4){if(o.stateNode===null)throw Error(r(162));y=o.memoizedProps,m=o.stateNode;try{m.nodeValue=y}catch(He){Lt(o,o.return,He)}}break;case 3:if(V1=null,C=js,js=G1(c.containerInfo),gr(c,o),js=C,yr(o),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Wh(c.containerInfo)}catch(He){Lt(o,o.return,He)}Xs&&(Xs=!1,Gh(o));break;case 4:y=js,js=G1(o.stateNode.containerInfo),gr(c,o),yr(o),js=y;break;case 12:gr(c,o),yr(o);break;case 31:gr(c,o),yr(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,lo(o,y)));break;case 13:gr(c,o),yr(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(ru=qn()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,lo(o,y)));break;case 22:C=o.memoizedState!==null;var $=m!==null&&m.memoizedState!==null,ue=Ds,be=tn;if(Ds=ue||C,tn=be||$,gr(c,o),tn=be,Ds=ue,yr(o),y&8192)e:for(c=o.stateNode,c._visibility=C?c._visibility&-2:c._visibility|1,C&&(m===null||$||Ds||tn||_a(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){$=m=c;try{if(T=$.stateNode,C)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{U=$.stateNode;var Se=$.memoizedProps.style,he=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;U.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(He){Lt($,$.return,He)}}}else if(c.tag===6){if(m===null){$=c;try{$.stateNode.nodeValue=C?"":$.memoizedProps}catch(He){Lt($,$.return,He)}}}else if(c.tag===18){if(m===null){$=c;try{var ge=$.stateNode;C?Q4(ge,!0):Q4($.stateNode,!1)}catch(He){Lt($,$.return,He)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=o.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,lo(o,m))));break;case 19:gr(c,o),yr(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,lo(o,y)));break;case 30:break;case 21:break;default:gr(c,o),yr(o)}}function yr(o){var c=o.flags;if(c&2){try{for(var m,y=o.return;y!==null;){if(pn(y)){m=y;break}y=y.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var C=m.stateNode,T=Tt(o);mi(o,T,C);break;case 5:var D=m.stateNode;m.flags&32&&(wl(D,""),m.flags&=-33);var U=Tt(o);mi(o,U,D);break;case 3:case 4:var $=m.stateNode.containerInfo,ue=Tt(o);Ta(o,ue,$);break;default:throw Error(r(161))}}catch(be){Lt(o,o.return,be)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function Gh(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;Gh(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ls(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)mn(o,c.alternate,c),c=c.sibling}function _a(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:jr(4,c,c.return),_a(c);break;case 1:Lr(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&Cr(c,c.return,m),_a(c);break;case 27:xg(c.stateNode);case 26:case 5:Lr(c,c.return),_a(c);break;case 22:c.memoizedState===null&&_a(c);break;case 30:_a(c);break;default:_a(c)}o=o.sibling}}function gi(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,C=o,T=c,D=T.flags;switch(T.tag){case 0:case 11:case 15:gi(C,T,m),Os(4,T);break;case 1:if(gi(C,T,m),y=T,C=y.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(ue){Lt(y,y.return,ue)}if(y=T,C=y.updateQueue,C!==null){var U=y.stateNode;try{var $=C.shared.hiddenCallbacks;if($!==null)for(C.shared.hiddenCallbacks=null,C=0;C<$.length;C++)Wc($[C],U)}catch(ue){Lt(y,y.return,ue)}}m&&D&64&&Ks(T),oo(T,T.return);break;case 27:Uh(T);case 26:case 5:gi(C,T,m),m&&y===null&&D&4&&If(T),oo(T,T.return);break;case 12:gi(C,T,m);break;case 31:gi(C,T,m),m&&D&4&&Wo(C,T);break;case 13:gi(C,T,m),m&&D&4&&nu(C,T);break;case 22:T.memoizedState===null&&gi(C,T,m),oo(T,T.return);break;case 30:break;default:gi(C,T,m)}c=c.sibling}}function $o(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Nl(m))}function ql(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Nl(o))}function Pr(o,c,m,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mg(o,c,m,y),c=c.sibling}function mg(o,c,m,y){var C=c.flags;switch(c.tag){case 0:case 11:case 15:Pr(o,c,m,y),C&2048&&Os(9,c);break;case 1:Pr(o,c,m,y);break;case 3:Pr(o,c,m,y),C&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Nl(o)));break;case 12:if(C&2048){Pr(o,c,m,y),o=c.stateNode;try{var T=c.memoizedProps,D=T.id,U=T.onPostCommit;typeof U=="function"&&U(D,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch($){Lt(c,c.return,$)}}else Pr(o,c,m,y);break;case 31:Pr(o,c,m,y);break;case 13:Pr(o,c,m,y);break;case 23:break;case 22:T=c.stateNode,D=c.alternate,c.memoizedState!==null?T._visibility&2?Pr(o,c,m,y):Ma(o,c):T._visibility&2?Pr(o,c,m,y):(T._visibility|=2,Br(o,c,m,y,(c.subtreeFlags&10256)!==0||!1)),C&2048&&$o(D,c);break;case 24:Pr(o,c,m,y),C&2048&&ql(c.alternate,c);break;default:Pr(o,c,m,y)}}function Br(o,c,m,y,C){for(C=C&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var T=o,D=c,U=m,$=y,ue=D.flags;switch(D.tag){case 0:case 11:case 15:Br(T,D,U,$,C),Os(8,D);break;case 23:break;case 22:var be=D.stateNode;D.memoizedState!==null?be._visibility&2?Br(T,D,U,$,C):Ma(T,D):(be._visibility|=2,Br(T,D,U,$,C)),C&&ue&2048&&$o(D.alternate,D);break;case 24:Br(T,D,U,$,C),C&&ue&2048&&ql(D.alternate,D);break;default:Br(T,D,U,$,C)}c=c.sibling}}function Ma(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,y=c,C=y.flags;switch(y.tag){case 22:Ma(m,y),C&2048&&$o(y.alternate,y);break;case 24:Ma(m,y),C&2048&&ql(y.alternate,y);break;default:Ma(m,y)}c=c.sibling}}var Vl=8192;function rs(o,c,m){if(o.subtreeFlags&Vl)for(o=o.child;o!==null;)qh(o,c,m),o=o.sibling}function qh(o,c,m){switch(o.tag){case 26:rs(o,c,m),o.flags&Vl&&o.memoizedState!==null&&ND(m,js,o.memoizedState,o.memoizedProps);break;case 5:rs(o,c,m);break;case 3:case 4:var y=js;js=G1(o.stateNode.containerInfo),rs(o,c,m),js=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=Vl,Vl=16777216,rs(o,c,m),Vl=y):rs(o,c,m));break;default:rs(o,c,m)}}function Yl(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Zo(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];Er=y,Bn(y,o)}Yl(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)zi(o),o=o.sibling}function zi(o){switch(o.tag){case 0:case 11:case 15:Zo(o),o.flags&2048&&jr(9,o,o.return);break;case 3:Zo(o);break;case 12:Zo(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,yi(o)):Zo(o);break;default:Zo(o)}}function yi(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var y=c[m];Er=y,Bn(y,o)}Yl(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:jr(8,c,c.return),yi(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,yi(c));break;default:yi(c)}o=o.sibling}}function Bn(o,c){for(;Er!==null;){var m=Er;switch(m.tag){case 0:case 11:case 15:jr(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Nl(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Er=y;else e:for(m=o;Er!==null;){y=Er;var C=y.sibling,T=y.return;if(Hf(y),y===m){Er=null;break e}if(C!==null){C.return=T,Er=C;break e}Er=T}}}var co={getCacheForType:function(o){var c=it(sr),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m},cacheSignal:function(){return it(sr).controller.signal}},ft=typeof WeakMap=="function"?WeakMap:Map,Ve=0,at=null,gt=null,ht=0,Rt=0,Zr=null,Ps=!1,Qs=!1,gg=!1,is=0,En=0,Aa=0,el=0,Uf=0,bi=0,sn=0,Kl=null,In=null,Hn=!1,ru=0,yg=0,Qn=1/0,kn=null,Wn=null,Vt=0,ss=null,iu=null,Bs=0,su=0,au=null,Ff=null,tl=0,Xl=null;function as(){return(Ve&2)!==0&&ht!==0?ht&-ht:V.T!==null?pe():Ki()}function St(){if(bi===0)if((ht&536870912)===0||At){var o=Mo;Mo<<=1,(Mo&3932160)===0&&(Mo=262144),bi=o}else bi=536870912;return o=Ni.current,o!==null&&(o.flags|=32),bi}function yt(o,c,m){(o===at&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)&&(rl(o,0),or(o,ht,bi,!1)),Vi(o,m),((Ve&2)===0||o!==at)&&(o===at&&((Ve&2)===0&&(el|=m),En===4&&or(o,ht,bi,!1)),Ee(o))}function wt(o,c,m){if((Ve&6)!==0)throw Error(r(327));var y=!m&&(c&127)===0&&(c&o.expiredLanes)===0||ai(o,c),C=y?Gf(o,c):vi(o,c,!0),T=y;do{if(C===0){Qs&&!y&&or(o,c,0,!1);break}else{if(m=o.current.alternate,T&&!Yt(m)){C=vi(o,c,!1),T=!1;continue}if(C===2){if(T=c,o.errorRecoveryDisabledLanes&T)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){c=D;e:{var U=o;C=Kl;var $=U.current.memoizedState.isDehydrated;if($&&(rl(U,D).flags|=256),D=vi(U,D,!1),D!==2){if(gg&&!$){U.errorRecoveryDisabledLanes|=T,el|=T,C=4;break e}T=In,In=C,T!==null&&(In===null?In=T:In.push.apply(In,T))}C=D}if(T=!1,C!==2)continue}}if(C===1){rl(o,0),or(o,c,0,!0);break}e:{switch(y=o,T=C,T){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:or(y,c,bi,!Ps);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(C=ru+300-qn(),10<C)){if(or(y,c,bi,!Ps),Vn(y,0,!0)!==0)break e;Bs=c,y.timeoutHandle=Y4(_t.bind(null,y,m,In,kn,Hn,c,bi,el,sn,Ps,T,"Throttled",-0,0),C);break e}_t(y,m,In,kn,Hn,c,bi,el,sn,Ps,T,null,-0,0)}}break}while(!0);Ee(o)}function _t(o,c,m,y,C,T,D,U,$,ue,be,Se,he,ge){if(o.timeoutHandle=-1,Se=c.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qa},qh(c,T,Se);var He=(T&62914560)===T?ru-qn():(T&4194048)===T?yg-qn():0;if(He=RD(Se,He),He!==null){Bs=T,o.cancelPendingCommit=He(fo.bind(null,o,c,T,m,y,C,D,U,$,be,Se,null,he,ge)),or(o,T,D,!ue);return}}fo(o,c,T,m,y,C,D,U,$)}function Yt(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var C=m[y],T=C.getSnapshot;C=C.value;try{if(!fi(T(),C))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function or(o,c,m,y){c&=~Uf,c&=~el,o.suspendedLanes|=c,o.pingedLanes&=~c,y&&(o.warmLanes|=c),y=o.expirationTimes;for(var C=c;0<C;){var T=31-Ut(C),D=1<<T;y[T]=-1,C&=~D}m!==0&&ci(o,m,c)}function Ws(){return(Ve&6)===0?(Pe(0),!1):!0}function nl(){if(gt!==null){if(Rt===0)var o=gt.return;else o=gt,va=Fo=null,Hm(o),jl=null,Ll=0,o=gt;for(;o!==null;)ns(o.alternate,o),o=o.return;gt=null}}function rl(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,hD(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Bs=0,nl(),at=o,gt=m=_i(o.current,null),ht=c,Rt=0,Zr=null,Ps=!1,Qs=ai(o,c),gg=!1,sn=bi=Uf=el=Aa=En=0,In=Kl=null,Hn=!1,(c&8)!==0&&(c|=c&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=c;0<y;){var C=31-Ut(y),T=1<<C;c|=o[C],y&=~T}return is=c,wf(),m}function Na(o,c){ut=null,V.H=eu,c===Rl||c===mt?(c=Dl(),Rt=3):c===Tf?(c=Dl(),Rt=4):Rt=c===Oh?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Zr=c,gt===null&&(En=1,Rh(o,$i(c,o.current)))}function Tn(){var o=Ni.current;return o===null?!0:(ht&4194048)===ht?pi===null:(ht&62914560)===ht||(ht&536870912)!==0?o===pi:!1}function uo(){var o=V.H;return V.H=eu,o===null?eu:o}function il(){var o=V.A;return V.A=co,o}function ou(){En=4,Ps||(ht&4194048)!==ht&&Ni.current!==null||(Qs=!0),(Aa&134217727)===0&&(el&134217727)===0||at===null||or(at,ht,bi,!1)}function vi(o,c,m){var y=Ve;Ve|=2;var C=uo(),T=il();(at!==o||ht!==c)&&(kn=null,rl(o,c)),c=!1;var D=En;e:do try{if(Rt!==0&&gt!==null){var U=gt,$=Zr;switch(Rt){case 8:nl(),D=6;break e;case 3:case 2:case 9:case 6:Ni.current===null&&(c=!0);var ue=Rt;if(Rt=0,Zr=null,Ql(o,U,$,ue),m&&Qs){D=0;break e}break;default:ue=Rt,Rt=0,Zr=null,Ql(o,U,$,ue)}}lu(),D=En;break}catch(be){Na(o,be)}while(!0);return c&&o.shellSuspendCounter++,va=Fo=null,Ve=y,V.H=C,V.A=T,gt===null&&(at=null,ht=0,wf()),D}function lu(){for(;gt!==null;)Vh(gt)}function Gf(o,c){var m=Ve;Ve|=2;var y=uo(),C=il();at!==o||ht!==c?(kn=null,Qn=qn()+500,rl(o,c)):Qs=ai(o,c);e:do try{if(Rt!==0&&gt!==null){c=gt;var T=Zr;t:switch(Rt){case 1:Rt=0,Zr=null,Ql(o,c,T,1);break;case 2:case 9:if(Ai(T)){Rt=0,Zr=null,qf(c);break}c=function(){Rt!==2&&Rt!==9||at!==o||(Rt=7),Ee(o)},T.then(c,c);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:Ai(T)?(Rt=0,Zr=null,qf(c)):(Rt=0,Zr=null,Ql(o,c,T,7));break;case 5:var D=null;switch(gt.tag){case 26:D=gt.memoizedState;case 5:case 27:var U=gt;if(D?o5(D):U.stateNode.complete){Rt=0,Zr=null;var $=U.sibling;if($!==null)gt=$;else{var ue=U.return;ue!==null?(gt=ue,sl(ue)):gt=null}break t}}Rt=0,Zr=null,Ql(o,c,T,5);break;case 6:Rt=0,Zr=null,Ql(o,c,T,6);break;case 8:nl(),En=6;break e;default:throw Error(r(462))}}ji();break}catch(be){Na(o,be)}while(!0);return va=Fo=null,V.H=y,V.A=C,Ve=m,gt!==null?0:(at=null,ht=0,wf(),En)}function ji(){for(;gt!==null&&!Ei();)Vh(gt)}function Vh(o){var c=Hh(o.alternate,o,is);o.memoizedProps=o.pendingProps,c===null?sl(o):gt=c}function qf(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=jf(m,c,c.pendingProps,c.type,void 0,ht);break;case 11:c=jf(m,c,c.pendingProps,c.type.render,c.ref,ht);break;case 5:Hm(c);default:ns(m,c),c=gt=Hc(c,is),c=Hh(m,c,is)}o.memoizedProps=o.pendingProps,c===null?sl(o):gt=c}function Ql(o,c,m,y){va=Fo=null,Hm(c),jl=null,Ll=0;var C=c.return;try{if(pr(o,C,c,m,ht)){En=1,Rh(o,$i(m,o.current)),gt=null;return}}catch(T){if(C!==null)throw gt=C,T;En=1,Rh(o,$i(m,o.current)),gt=null;return}c.flags&32768?(At||y===1?o=!0:Qs||(ht&536870912)!==0?o=!1:(Ps=o=!0,(y===2||y===9||y===3||y===6)&&(y=Ni.current,y!==null&&y.tag===13&&(y.flags|=16384))),Vf(c,o)):sl(c)}function sl(o){var c=o;do{if((c.flags&32768)!==0){Vf(c,Ps);return}o=c.return;var m=Bf(c.alternate,c,is);if(m!==null){gt=m;return}if(c=c.sibling,c!==null){gt=c;return}gt=c=o}while(c!==null);En===0&&(En=5)}function Vf(o,c){do{var m=Rs(o.alternate,o);if(m!==null){m.flags&=32767,gt=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){gt=o;return}gt=o=m}while(o!==null);En=6,gt=null}function fo(o,c,m,y,C,T,D,U,$){o.cancelPendingCommit=null;do cu();while(Vt!==0);if((Ve&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(T=c.lanes|c.childLanes,T|=xr,Ln(o,m,T,D,U,$),o===at&&(gt=at=null,ht=0),iu=c,ss=o,Bs=m,su=T,au=C,Ff=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,M(qe,function(){return Yh(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=V.T,V.T=null,C=re.p,re.p=2,D=Ve,Ve|=4;try{R2(o,c,m)}finally{Ve=D,re.p=C,V.T=y}}Vt=1,lr(),ho(),Wl()}}function lr(){if(Vt===1){Vt=0;var o=ss,c=iu,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null;var y=re.p;re.p=2;var C=Ve;Ve|=4;try{Jo(c,o);var T=B2,D=Uy(o.containerInfo),U=T.focusedElem,$=T.selectionRange;if(D!==U&&U&&U.ownerDocument&&Zt(U.ownerDocument.documentElement,U)){if($!==null&&wm(U)){var ue=$.start,be=$.end;if(be===void 0&&(be=ue),"selectionStart"in U)U.selectionStart=ue,U.selectionEnd=Math.min(be,U.value.length);else{var Se=U.ownerDocument||document,he=Se&&Se.defaultView||window;if(he.getSelection){var ge=he.getSelection(),He=U.textContent.length,rt=Math.min($.start,He),rn=$.end===void 0?rt:Math.min($.end,He);!ge.extend&&rt>rn&&(D=rn,rn=rt,rt=D);var se=Pc(U,rt),ne=Pc(U,rn);if(se&&ne&&(ge.rangeCount!==1||ge.anchorNode!==se.node||ge.anchorOffset!==se.offset||ge.focusNode!==ne.node||ge.focusOffset!==ne.offset)){var ce=Se.createRange();ce.setStart(se.node,se.offset),ge.removeAllRanges(),rt>rn?(ge.addRange(ce),ge.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),ge.addRange(ce))}}}}for(Se=[],ge=U;ge=ge.parentNode;)ge.nodeType===1&&Se.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Se.length;U++){var xe=Se[U];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Q1=!!P2,B2=P2=null}finally{Ve=C,re.p=y,V.T=m}}o.current=c,Vt=2}}function ho(){if(Vt===2){Vt=0;var o=ss,c=iu,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=V.T,V.T=null;var y=re.p;re.p=2;var C=Ve;Ve|=4;try{mn(o,c.alternate,c)}finally{Ve=C,re.p=y,V.T=m}}Vt=3}}function Wl(){if(Vt===4||Vt===3){Vt=0,On();var o=ss,c=iu,m=Bs,y=Ff;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Vt=5:(Vt=0,iu=ss=null,Ra(o,o.pendingLanes));var C=o.pendingLanes;if(C===0&&(Wn=null),xs(m),c=c.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(vr,c,void 0,(c.current.flags&128)===128)}catch{}if(y!==null){c=V.T,C=re.p,re.p=2,V.T=null;try{for(var T=o.onRecoverableError,D=0;D<y.length;D++){var U=y[D];T(U.value,{componentStack:U.stack})}}finally{V.T=c,re.p=C}}(Bs&3)!==0&&cu(),Ee(o),C=o.pendingLanes,(m&261930)!==0&&(C&42)!==0?o===Xl?tl++:(tl=0,Xl=o):tl=0,Pe(0)}}function Ra(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Nl(c)))}function cu(){return lr(),ho(),Wl(),Yh()}function Yh(){if(Vt!==5)return!1;var o=ss,c=su;su=0;var m=xs(Bs),y=V.T,C=re.p;try{re.p=32>m?32:m,V.T=null,m=au,au=null;var T=ss,D=Bs;if(Vt=0,iu=ss=null,Bs=0,(Ve&6)!==0)throw Error(r(331));var U=Ve;if(Ve|=4,zi(T.current),mg(T,T.current,D,m),Ve=U,Pe(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(vr,T)}catch{}return!0}finally{re.p=C,V.T=y,Ra(o,c)}}function bg(o,c,m){c=$i(m,c),c=lg(o.stateNode,c,2),o=Vo(o,c,2),o!==null&&(Vi(o,2),Ee(o))}function Lt(o,c,m){if(o.tag===3)bg(o,o,m);else for(;c!==null;){if(c.tag===3){bg(c,o,m);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Wn===null||!Wn.has(y))){o=$i(m,o),m=cg(2),y=Vo(c,m,2),y!==null&&(z1(m,y,c,o),Vi(y,2),Ee(y));break}}c=c.return}}function Yf(o,c,m){var y=o.pingCache;if(y===null){y=o.pingCache=new ft;var C=new Set;y.set(c,C)}else C=y.get(c),C===void 0&&(C=new Set,y.set(c,C));C.has(m)||(gg=!0,C.add(m),o=f.bind(null,o,c,m),c.then(o,o))}function f(o,c,m){var y=o.pingCache;y!==null&&y.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,at===o&&(ht&m)===m&&(En===4||En===3&&(ht&62914560)===ht&&300>qn()-ru?(Ve&2)===0&&rl(o,0):Uf|=m,sn===ht&&(sn=0)),Ee(o)}function h(o,c){c===0&&(c=jn()),o=di(o,c),o!==null&&(Vi(o,c),Ee(o))}function v(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),h(o,m)}function w(o,c){var m=0;switch(o.tag){case 31:case 13:var y=o.stateNode,C=o.memoizedState;C!==null&&(m=C.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),h(o,m)}function M(o,c){return nr(o,c)}var R=null,B=null,Z=!1,me=!1,Ce=!1,Re=0;function Ee(o){o!==B&&o.next===null&&(B===null?R=B=o:B=B.next=o),me=!0,Z||(Z=!0,ae())}function Pe(o,c){if(!Ce&&me){Ce=!0;do for(var m=!1,y=R;y!==null;){if(o!==0){var C=y.pendingLanes;if(C===0)var T=0;else{var D=y.suspendedLanes,U=y.pingedLanes;T=(1<<31-Ut(42|o)+1)-1,T&=C&~(D&~U),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(m=!0,de(y,T))}else T=ht,T=Vn(y,y===at?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||ai(y,T)||(m=!0,de(y,T));y=y.next}while(m);Ce=!1}}function ct(){kr()}function kr(){me=Z=!1;var o=0;Re!==0&&dD()&&(o=Re);for(var c=qn(),m=null,y=R;y!==null;){var C=y.next,T=uu(y,c);T===0?(y.next=null,m===null?R=C:m.next=C,C===null&&(B=m)):(m=y,(o!==0||(T&3)!==0)&&(me=!0)),y=C}Vt!==0&&Vt!==5||Pe(o),Re!==0&&(Re=0)}function uu(o,c){for(var m=o.suspendedLanes,y=o.pingedLanes,C=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var D=31-Ut(T),U=1<<D,$=C[D];$===-1?((U&m)===0||(U&y)!==0)&&(C[D]=oi(U,c)):$<=c&&(o.expiredLanes|=U),T&=~U}if(c=at,m=ht,m=Vn(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,m===0||o===c&&(Rt===2||Rt===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&Gi(y),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||ai(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(y!==null&&Gi(y),xs(m)){case 2:case 8:m=_e;break;case 32:m=qe;break;case 268435456:m=xt;break;default:m=qe}return y=al.bind(null,o),m=nr(m,y),o.callbackPriority=c,o.callbackNode=m,c}return y!==null&&y!==null&&Gi(y),o.callbackPriority=2,o.callbackNode=null,2}function al(o,c){if(Vt!==0&&Vt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(cu()&&o.callbackNode!==m)return null;var y=ht;return y=Vn(o,o===at?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(wt(o,y,c),uu(o,qn()),o.callbackNode!=null&&o.callbackNode===m?al.bind(null,o):null)}function de(o,c){if(cu())return null;wt(o,c,!0)}function ae(){pD(function(){(Ve&6)!==0?nr(ye,ct):kr()})}function pe(){if(Re===0){var o=to;o===0&&(o=Ec,Ec<<=1,(Ec&261888)===0&&(Ec=256)),Re=o}return Re}function Ae(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:lf(""+o)}function $e(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function _n(o,c,m,y,C){if(c==="submit"&&m&&m.stateNode===C){var T=Ae((C[Kr]||null).action),D=y.submitter;D&&(c=(c=D[Kr]||null)?Ae(c.formAction):D.getAttribute("formAction"),c!==null&&(T=c,D=null));var U=new ff("action","action",null,y,C);o.push({event:U,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(Re!==0){var $=D?$e(C,D):new FormData(C);eg(m,{pending:!0,data:$,method:C.method,action:T},null,$)}}else typeof T=="function"&&(U.preventDefault(),$=D?$e(C,D):new FormData(C),eg(m,{pending:!0,data:$,method:C.method,action:T},T,$))},currentTarget:C}]})}}for(var et=0;et<xf.length;et++){var zt=xf[et],Tr=zt.toLowerCase(),It=zt[0].toUpperCase()+zt.slice(1);Es(Tr,"on"+It)}Es(sh,"onAnimationEnd"),Es(vf,"onAnimationIteration"),Es(Em,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(Gy,"onTransitionRun"),Es(C2,"onTransitionStart"),Es(qy,"onTransitionCancel"),Es(km,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Is));function B4(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var y=o[m],C=y.event;y=y.listeners;e:{var T=void 0;if(c)for(var D=y.length-1;0<=D;D--){var U=y[D],$=U.instance,ue=U.currentTarget;if(U=U.listener,$!==T&&C.isPropagationStopped())break e;T=U,C.currentTarget=ue;try{T(C)}catch(be){Sf(be)}C.currentTarget=null,T=$}else for(D=0;D<y.length;D++){if(U=y[D],$=U.instance,ue=U.currentTarget,U=U.listener,$!==T&&C.isPropagationStopped())break e;T=U,C.currentTarget=ue;try{T(C)}catch(be){Sf(be)}C.currentTarget=null,T=$}}}}function Ot(o,c){var m=c[la];m===void 0&&(m=c[la]=new Set);var y=o+"__bubble";m.has(y)||(I4(c,o,2,!1),m.add(y))}function D2(o,c,m){var y=0;c&&(y|=4),I4(m,o,y,c)}var H1="_reactListening"+Math.random().toString(36).slice(2);function z2(o){if(!o[H1]){o[H1]=!0,Ka.forEach(function(m){m!=="selectionchange"&&(O2.has(m)||D2(m,!1,o),D2(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[H1]||(c[H1]=!0,D2("selectionchange",!1,c))}}function I4(o,c,m,y){switch(p5(c)){case 2:var C=zD;break;case 8:C=jD;break;default:C=Q2}m=C.bind(null,c,m,o),C=void 0,!am||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),y?C!==void 0?o.addEventListener(c,m,{capture:!0,passive:C}):o.addEventListener(c,m,!0):C!==void 0?o.addEventListener(c,m,{passive:C}):o.addEventListener(c,m,!1)}function j2(o,c,m,y,C){var T=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var D=y.tag;if(D===3||D===4){var U=y.stateNode.containerInfo;if(U===C)break;if(D===4)for(D=y.return;D!==null;){var $=D.tag;if(($===3||$===4)&&D.stateNode.containerInfo===C)return;D=D.return}for(;U!==null;){if(D=xl(U),D===null)return;if($=D.tag,$===5||$===6||$===26||$===27){y=T=D;continue e}U=U.parentNode}}y=y.return}sm(function(){var ue=T,be=Yd(m),Se=[];e:{var he=Cs.get(o);if(he!==void 0){var ge=ff,He=o;switch(o){case"keypress":if(uf(m)===0)break e;case"keydown":case"keyup":ge=kl;break;case"focusin":He="focus",ge=Wd;break;case"focusout":He="blur",ge=Wd;break;case"beforeblur":case"afterblur":ge=Wd;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Ay;break;case sh:case vf:case Em:ge=x2;break;case km:ge=w2;break;case"scroll":case"scrollend":ge=Sy;break;case"wheel":ge=Ry;break;case"copy":case"cut":case"paste":ge=ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=um;break;case"toggle":case"beforetoggle":ge=Dy}var rt=(c&4)!==0,rn=!rt&&(o==="scroll"||o==="scrollend"),se=rt?he!==null?he+"Capture":null:he;rt=[];for(var ne=ue,ce;ne!==null;){var xe=ne;if(ce=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ce===null||se===null||(xe=Mc(ne,se),xe!=null&&rt.push(vg(ne,xe,ce))),rn)break;ne=ne.return}0<rt.length&&(he=new ge(he,He,null,m,be),Se.push({event:he,listeners:rt}))}}if((c&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",ge=o==="mouseout"||o==="pointerout",he&&m!==Vd&&(He=m.relatedTarget||m.fromElement)&&(xl(He)||He[Ao]))break e;if((ge||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,ge?(He=m.relatedTarget||m.toElement,ge=ue,He=He?xl(He):null,He!==null&&(rn=s(He),rt=He.tag,He!==rn||rt!==5&&rt!==27&&rt!==6)&&(He=null)):(ge=null,He=ue),ge!==He)){if(rt=om,xe="onMouseLeave",se="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(rt=um,xe="onPointerLeave",se="onPointerEnter",ne="pointer"),rn=ge==null?he:kc(ge),ce=He==null?he:kc(He),he=new rt(xe,ne+"leave",ge,m,be),he.target=rn,he.relatedTarget=ce,xe=null,xl(be)===ue&&(rt=new rt(se,ne+"enter",He,m,be),rt.target=ce,rt.relatedTarget=rn,xe=rt),rn=xe,ge&&He)t:{for(rt=oD,se=ge,ne=He,ce=0,xe=se;xe;xe=rt(xe))ce++;xe=0;for(var Qe=ne;Qe;Qe=rt(Qe))xe++;for(;0<ce-xe;)se=rt(se),ce--;for(;0<xe-ce;)ne=rt(ne),xe--;for(;ce--;){if(se===ne||ne!==null&&se===ne.alternate){rt=se;break t}se=rt(se),ne=rt(ne)}rt=null}else rt=null;ge!==null&&H4(Se,he,ge,rt,!1),He!==null&&rn!==null&&H4(Se,rn,He,rt,!0)}}e:{if(he=ue?kc(ue):window,ge=he.nodeName&&he.nodeName.toLowerCase(),ge==="select"||ge==="input"&&he.type==="file")var Ft=ym;else if(gm(he))if(fa)Ft=Hy;else{Ft=xm;var Ge=By}else ge=he.nodeName,!ge||ge.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&qd(ue.elementType)&&(Ft=ym):Ft=Iy;if(Ft&&(Ft=Ft(o,ue))){rh(Se,Ft,m,be);break e}Ge&&Ge(o,he,ue),o==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&Vs(he,"number",he.value)}switch(Ge=ue?kc(ue):window,o){case"focusin":(gm(Ge)||Ge.contentEditable==="true")&&(da=Ge,ha=ue,Bc=null);break;case"focusout":Bc=ha=da=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,Ic(Se,m,be);break;case"selectionchange":if(Fy)break;case"keydown":case"keyup":Ic(Se,m,be)}var bt;if(Tl)e:{switch(o){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else _l?nh(o,m)&&(jt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(jt="onCompositionStart");jt&&(dm&&m.locale!=="ko"&&(_l||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&_l&&(bt=cf()):(Ji=be,Xd="value"in Ji?Ji.value:Ji.textContent,_l=!0)),Ge=U1(ue,jt),0<Ge.length&&(jt=new Jd(jt,o,null,m,be),Se.push({event:jt,listeners:Ge}),bt?jt.data=bt:(bt=hm(m),bt!==null&&(jt.data=bt)))),(bt=th?Ly(o,m):pm(o,m))&&(jt=U1(ue,"onBeforeInput"),0<jt.length&&(Ge=new Jd("onBeforeInput","beforeinput",null,m,be),Se.push({event:Ge,listeners:jt}),Ge.data=bt)),_n(Se,o,ue,m,be)}B4(Se,c)})}function vg(o,c,m){return{instance:o,listener:c,currentTarget:m}}function U1(o,c){for(var m=c+"Capture",y=[];o!==null;){var C=o,T=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||T===null||(C=Mc(o,m),C!=null&&y.unshift(vg(o,C,T)),C=Mc(o,c),C!=null&&y.push(vg(o,C,T))),o.tag===3)return y;o=o.return}return[]}function oD(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function H4(o,c,m,y,C){for(var T=c._reactName,D=[];m!==null&&m!==y;){var U=m,$=U.alternate,ue=U.stateNode;if(U=U.tag,$!==null&&$===y)break;U!==5&&U!==26&&U!==27||ue===null||($=ue,C?(ue=Mc(m,T),ue!=null&&D.unshift(vg(m,ue,$))):C||(ue=Mc(m,T),ue!=null&&D.push(vg(m,ue,$)))),m=m.return}D.length!==0&&o.push({event:c,listeners:D})}var lD=/\r\n?/g,cD=/\u0000|\uFFFD/g;function U4(o){return(typeof o=="string"?o:""+o).replace(lD,`
`).replace(cD,"")}function F4(o,c){return c=U4(c),U4(o)===c}function nn(o,c,m,y,C,T){switch(m){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||wl(o,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&wl(o,""+y);break;case"className":af(o,"class",y);break;case"tabIndex":af(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":af(o,m,y);break;case"style":nm(o,y,T);break;case"data":if(c!=="object"){af(o,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=lf(""+y),o.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(m==="formAction"?(c!=="input"&&nn(o,c,"name",C.name,C,null),nn(o,c,"formEncType",C.formEncType,C,null),nn(o,c,"formMethod",C.formMethod,C,null),nn(o,c,"formTarget",C.formTarget,C,null)):(nn(o,c,"encType",C.encType,C,null),nn(o,c,"method",C.method,C,null),nn(o,c,"target",C.target,C,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=lf(""+y),o.setAttribute(m,y);break;case"onClick":y!=null&&(o.onclick=Qa);break;case"onScroll":y!=null&&Ot("scroll",o);break;case"onScrollEnd":y!=null&&Ot("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=m}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}m=lf(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""+y):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":y===!0?o.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,y):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(m,y):o.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(m):o.setAttribute(m,y);break;case"popover":Ot("beforetoggle",o),Ot("toggle",o),Tc(o,"popover",y);break;case"xlinkActuate":ca(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":ca(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":ca(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":ca(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":ca(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":ca(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":ca(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":ca(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":ca(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Tc(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=vy.get(m)||m,Tc(o,m,y))}}function L2(o,c,m,y,C,T){switch(m){case"style":nm(o,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(C.children!=null)throw Error(r(60));o.innerHTML=m}}break;case"children":typeof y=="string"?wl(o,y):(typeof y=="number"||typeof y=="bigint")&&wl(o,""+y);break;case"onScroll":y!=null&&Ot("scroll",o);break;case"onScrollEnd":y!=null&&Ot("scrollend",o);break;case"onClick":y!=null&&(o.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bd.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(C=m.endsWith("Capture"),c=m.slice(2,C?m.length-7:void 0),T=o[Kr]||null,T=T!=null?T[m]:null,typeof T=="function"&&o.removeEventListener(c,T,C),typeof y=="function")){typeof T!="function"&&T!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,y,C);break e}m in o?o[m]=y:y===!0?o.setAttribute(m,""):Tc(o,m,y)}}}function xi(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",o),Ot("load",o);var y=!1,C=!1,T;for(T in m)if(m.hasOwnProperty(T)){var D=m[T];if(D!=null)switch(T){case"src":y=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:nn(o,c,T,D,m,null)}}C&&nn(o,c,"srcSet",m.srcSet,m,null),y&&nn(o,c,"src",m.src,m,null);return;case"input":Ot("invalid",o);var U=T=D=C=null,$=null,ue=null;for(y in m)if(m.hasOwnProperty(y)){var be=m[y];if(be!=null)switch(y){case"name":C=be;break;case"type":D=be;break;case"checked":$=be;break;case"defaultChecked":ue=be;break;case"value":T=be;break;case"defaultValue":U=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,c));break;default:nn(o,c,y,be,m,null)}}Ud(o,T,U,$,ue,D,C,!1);return;case"select":Ot("invalid",o),y=D=T=null;for(C in m)if(m.hasOwnProperty(C)&&(U=m[C],U!=null))switch(C){case"value":T=U;break;case"defaultValue":D=U;break;case"multiple":y=U;default:nn(o,c,C,U,m,null)}c=T,m=D,o.multiple=!!y,c!=null?Xa(o,!!y,c,!1):m!=null&&Xa(o,!!y,m,!0);return;case"textarea":Ot("invalid",o),T=C=y=null;for(D in m)if(m.hasOwnProperty(D)&&(U=m[D],U!=null))switch(D){case"value":y=U;break;case"defaultValue":C=U;break;case"children":T=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:nn(o,c,D,U,m,null)}Gd(o,y,C,T);return;case"option":for($ in m)if(m.hasOwnProperty($)&&(y=m[$],y!=null))switch($){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:nn(o,c,$,y,m,null)}return;case"dialog":Ot("beforetoggle",o),Ot("toggle",o),Ot("cancel",o),Ot("close",o);break;case"iframe":case"object":Ot("load",o);break;case"video":case"audio":for(y=0;y<Is.length;y++)Ot(Is[y],o);break;case"image":Ot("error",o),Ot("load",o);break;case"details":Ot("toggle",o);break;case"embed":case"source":case"link":Ot("error",o),Ot("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in m)if(m.hasOwnProperty(ue)&&(y=m[ue],y!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:nn(o,c,ue,y,m,null)}return;default:if(qd(c)){for(be in m)m.hasOwnProperty(be)&&(y=m[be],y!==void 0&&L2(o,c,be,y,m,void 0));return}}for(U in m)m.hasOwnProperty(U)&&(y=m[U],y!=null&&nn(o,c,U,y,m,null))}function uD(o,c,m,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,T=null,D=null,U=null,$=null,ue=null,be=null;for(ge in m){var Se=m[ge];if(m.hasOwnProperty(ge)&&Se!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":$=Se;default:y.hasOwnProperty(ge)||nn(o,c,ge,null,y,Se)}}for(var he in y){var ge=y[he];if(Se=m[he],y.hasOwnProperty(he)&&(ge!=null||Se!=null))switch(he){case"type":T=ge;break;case"name":C=ge;break;case"checked":ue=ge;break;case"defaultChecked":be=ge;break;case"value":D=ge;break;case"defaultValue":U=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,c));break;default:ge!==Se&&nn(o,c,he,ge,y,Se)}}_c(o,D,U,$,ue,be,T,C);return;case"select":ge=D=U=he=null;for(T in m)if($=m[T],m.hasOwnProperty(T)&&$!=null)switch(T){case"value":break;case"multiple":ge=$;default:y.hasOwnProperty(T)||nn(o,c,T,null,y,$)}for(C in y)if(T=y[C],$=m[C],y.hasOwnProperty(C)&&(T!=null||$!=null))switch(C){case"value":he=T;break;case"defaultValue":U=T;break;case"multiple":D=T;default:T!==$&&nn(o,c,C,T,y,$)}c=U,m=D,y=ge,he!=null?Xa(o,!!m,he,!1):!!y!=!!m&&(c!=null?Xa(o,!!m,c,!0):Xa(o,!!m,m?[]:"",!1));return;case"textarea":ge=he=null;for(U in m)if(C=m[U],m.hasOwnProperty(U)&&C!=null&&!y.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:nn(o,c,U,null,y,C)}for(D in y)if(C=y[D],T=m[D],y.hasOwnProperty(D)&&(C!=null||T!=null))switch(D){case"value":he=C;break;case"defaultValue":ge=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==T&&nn(o,c,D,C,y,T)}Fd(o,he,ge);return;case"option":for(var He in m)if(he=m[He],m.hasOwnProperty(He)&&he!=null&&!y.hasOwnProperty(He))switch(He){case"selected":o.selected=!1;break;default:nn(o,c,He,null,y,he)}for($ in y)if(he=y[$],ge=m[$],y.hasOwnProperty($)&&he!==ge&&(he!=null||ge!=null))switch($){case"selected":o.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:nn(o,c,$,he,y,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in m)he=m[rt],m.hasOwnProperty(rt)&&he!=null&&!y.hasOwnProperty(rt)&&nn(o,c,rt,null,y,he);for(ue in y)if(he=y[ue],ge=m[ue],y.hasOwnProperty(ue)&&he!==ge&&(he!=null||ge!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,c));break;default:nn(o,c,ue,he,y,ge)}return;default:if(qd(c)){for(var rn in m)he=m[rn],m.hasOwnProperty(rn)&&he!==void 0&&!y.hasOwnProperty(rn)&&L2(o,c,rn,void 0,y,he);for(be in y)he=y[be],ge=m[be],!y.hasOwnProperty(be)||he===ge||he===void 0&&ge===void 0||L2(o,c,be,he,y,ge);return}}for(var se in m)he=m[se],m.hasOwnProperty(se)&&he!=null&&!y.hasOwnProperty(se)&&nn(o,c,se,null,y,he);for(Se in y)he=y[Se],ge=m[Se],!y.hasOwnProperty(Se)||he===ge||he==null&&ge==null||nn(o,c,Se,he,y,ge)}function G4(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fD(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var C=m[y],T=C.transferSize,D=C.initiatorType,U=C.duration;if(T&&U&&G4(D)){for(D=0,U=C.responseEnd,y+=1;y<m.length;y++){var $=m[y],ue=$.startTime;if(ue>U)break;var be=$.transferSize,Se=$.initiatorType;be&&G4(Se)&&($=$.responseEnd,D+=be*($<U?1:(U-ue)/($-ue)))}if(--y,c+=8*(T+D)/(C.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var P2=null,B2=null;function F1(o){return o.nodeType===9?o:o.ownerDocument}function q4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V4(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function I2(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var H2=null;function dD(){var o=window.event;return o&&o.type==="popstate"?o===H2?!1:(H2=o,!0):(H2=null,!1)}var Y4=typeof setTimeout=="function"?setTimeout:void 0,hD=typeof clearTimeout=="function"?clearTimeout:void 0,K4=typeof Promise=="function"?Promise:void 0,pD=typeof queueMicrotask=="function"?queueMicrotask:typeof K4<"u"?function(o){return K4.resolve(null).then(o).catch(mD)}:Y4;function mD(o){setTimeout(function(){throw o})}function fu(o){return o==="head"}function X4(o,c){var m=c,y=0;do{var C=m.nextSibling;if(o.removeChild(m),C&&C.nodeType===8)if(m=C.data,m==="/$"||m==="/&"){if(y===0){o.removeChild(C),Wh(c);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")xg(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,xg(m);for(var T=m.firstChild;T;){var D=T.nextSibling,U=T.nodeName;T[Ya]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||m.removeChild(T),T=D}}else m==="body"&&xg(o.ownerDocument.body);m=C}while(m);Wh(c)}function Q4(o,c){var m=o;o=0;do{var y=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=y}while(m)}function U2(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":U2(m),vl(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function gD(o,c,m,y){for(;o.nodeType===1;){var C=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[Ya])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==C.rel||o.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||o.getAttribute("title")!==(C.title==null?null:C.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(C.src==null?null:C.src)||o.getAttribute("type")!==(C.type==null?null:C.type)||o.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var T=C.name==null?null:""+C.name;if(C.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=Oa(o.nextSibling),o===null)break}return null}function yD(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=Oa(o.nextSibling),o===null))return null;return o}function W4(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=Oa(o.nextSibling),o===null))return null;return o}function F2(o){return o.data==="$?"||o.data==="$~"}function G2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function bD(o,c){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||m.readyState!=="loading")c();else{var y=function(){c(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function Oa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var q2=null;function J4(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(c===0)return Oa(o.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}o=o.nextSibling}return null}function $4(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return o;c--}else m!=="/$"&&m!=="/&"||c++}o=o.previousSibling}return null}function Z4(o,c,m){switch(c=F1(m),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function xg(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);vl(o)}var Da=new Map,e5=new Set;function G1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Jl=re.d;re.d={f:vD,r:xD,D:SD,C:wD,L:CD,m:ED,X:TD,S:kD,M:_D};function vD(){var o=Jl.f(),c=Ws();return o||c}function xD(o){var c=Sl(o);c!==null&&c.tag===5&&c.type==="form"?k1(c):Jl.r(o)}var Kh=typeof document>"u"?null:document;function t5(o,c,m){var y=Kh;if(y&&typeof c=="string"&&c){var C=Qr(c);C='link[rel="'+o+'"][href="'+C+'"]',typeof m=="string"&&(C+='[crossorigin="'+m+'"]'),e5.has(C)||(e5.add(C),o={rel:o,crossOrigin:m,href:c},y.querySelector(C)===null&&(c=y.createElement("link"),xi(c,"link",o),ir(c),y.head.appendChild(c)))}}function SD(o){Jl.D(o),t5("dns-prefetch",o,null)}function wD(o,c){Jl.C(o,c),t5("preconnect",o,c)}function CD(o,c,m){Jl.L(o,c,m);var y=Kh;if(y&&o&&c){var C='link[rel="preload"][as="'+Qr(c)+'"]';c==="image"&&m&&m.imageSrcSet?(C+='[imagesrcset="'+Qr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(C+='[imagesizes="'+Qr(m.imageSizes)+'"]')):C+='[href="'+Qr(o)+'"]';var T=C;switch(c){case"style":T=Xh(o);break;case"script":T=Qh(o)}Da.has(T)||(o=g({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),Da.set(T,o),y.querySelector(C)!==null||c==="style"&&y.querySelector(Sg(T))||c==="script"&&y.querySelector(wg(T))||(c=y.createElement("link"),xi(c,"link",o),ir(c),y.head.appendChild(c)))}}function ED(o,c){Jl.m(o,c);var m=Kh;if(m&&o){var y=c&&typeof c.as=="string"?c.as:"script",C='link[rel="modulepreload"][as="'+Qr(y)+'"][href="'+Qr(o)+'"]',T=C;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Qh(o)}if(!Da.has(T)&&(o=g({rel:"modulepreload",href:o},c),Da.set(T,o),m.querySelector(C)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(wg(T)))return}y=m.createElement("link"),xi(y,"link",o),ir(y),m.head.appendChild(y)}}}function kD(o,c,m){Jl.S(o,c,m);var y=Kh;if(y&&o){var C=Ro(y).hoistableStyles,T=Xh(o);c=c||"default";var D=C.get(T);if(!D){var U={loading:0,preload:null};if(D=y.querySelector(Sg(T)))U.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":c},m),(m=Da.get(T))&&V2(o,m);var $=D=y.createElement("link");ir($),xi($,"link",o),$._p=new Promise(function(ue,be){$.onload=ue,$.onerror=be}),$.addEventListener("load",function(){U.loading|=1}),$.addEventListener("error",function(){U.loading|=2}),U.loading|=4,q1(D,c,y)}D={type:"stylesheet",instance:D,count:1,state:U},C.set(T,D)}}}function TD(o,c){Jl.X(o,c);var m=Kh;if(m&&o){var y=Ro(m).hoistableScripts,C=Qh(o),T=y.get(C);T||(T=m.querySelector(wg(C)),T||(o=g({src:o,async:!0},c),(c=Da.get(C))&&Y2(o,c),T=m.createElement("script"),ir(T),xi(T,"link",o),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(C,T))}}function _D(o,c){Jl.M(o,c);var m=Kh;if(m&&o){var y=Ro(m).hoistableScripts,C=Qh(o),T=y.get(C);T||(T=m.querySelector(wg(C)),T||(o=g({src:o,async:!0,type:"module"},c),(c=Da.get(C))&&Y2(o,c),T=m.createElement("script"),ir(T),xi(T,"link",o),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(C,T))}}function n5(o,c,m,y){var C=(C=De.current)?G1(C):null;if(!C)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Xh(m.href),m=Ro(C).hoistableStyles,y=m.get(c),y||(y={type:"style",instance:null,count:0,state:null},m.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Xh(m.href);var T=Ro(C).hoistableStyles,D=T.get(o);if(D||(C=C.ownerDocument||C,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,D),(T=C.querySelector(Sg(o)))&&!T._p&&(D.instance=T,D.state.loading=5),Da.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Da.set(o,m),T||MD(C,o,m,D.state))),c&&y===null)throw Error(r(528,""));return D}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Qh(m),m=Ro(C).hoistableScripts,y=m.get(c),y||(y={type:"script",instance:null,count:0,state:null},m.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Xh(o){return'href="'+Qr(o)+'"'}function Sg(o){return'link[rel="stylesheet"]['+o+"]"}function r5(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function MD(o,c,m,y){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=o.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),xi(c,"link",m),ir(c),o.head.appendChild(c))}function Qh(o){return'[src="'+Qr(o)+'"]'}function wg(o){return"script[async]"+o}function i5(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var y=o.querySelector('style[data-href~="'+Qr(m.href)+'"]');if(y)return c.instance=y,ir(y),y;var C=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),ir(y),xi(y,"style",C),q1(y,m.precedence,o),c.instance=y;case"stylesheet":C=Xh(m.href);var T=o.querySelector(Sg(C));if(T)return c.state.loading|=4,c.instance=T,ir(T),T;y=r5(m),(C=Da.get(C))&&V2(y,C),T=(o.ownerDocument||o).createElement("link"),ir(T);var D=T;return D._p=new Promise(function(U,$){D.onload=U,D.onerror=$}),xi(T,"link",y),c.state.loading|=4,q1(T,m.precedence,o),c.instance=T;case"script":return T=Qh(m.src),(C=o.querySelector(wg(T)))?(c.instance=C,ir(C),C):(y=m,(C=Da.get(T))&&(y=g({},m),Y2(y,C)),o=o.ownerDocument||o,C=o.createElement("script"),ir(C),xi(C,"link",y),o.head.appendChild(C),c.instance=C);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,q1(y,m.precedence,o));return c.instance}function q1(o,c,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=y.length?y[y.length-1]:null,T=C,D=0;D<y.length;D++){var U=y[D];if(U.dataset.precedence===c)T=U;else if(T!==C)break}T?T.parentNode.insertBefore(o,T.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function V2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Y2(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var V1=null;function s5(o,c,m){if(V1===null){var y=new Map,C=V1=new Map;C.set(m,y)}else C=V1,y=C.get(m),y||(y=new Map,C.set(m,y));if(y.has(o))return y;for(y.set(o,null),m=m.getElementsByTagName(o),C=0;C<m.length;C++){var T=m[C];if(!(T[Ya]||T[rr]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var D=T.getAttribute(c)||"";D=o+D;var U=y.get(D);U?U.push(T):y.set(D,[T])}}return y}function a5(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function AD(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function o5(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function ND(o,c,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var C=Xh(y.href),T=c.querySelector(Sg(C));if(T){c=T._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=Y1.bind(o),c.then(o,o)),m.state.loading|=4,m.instance=T,ir(T);return}T=c.ownerDocument||c,y=r5(y),(C=Da.get(C))&&V2(y,C),T=T.createElement("link"),ir(T);var D=T;D._p=new Promise(function(U,$){D.onload=U,D.onerror=$}),xi(T,"link",y),m.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=Y1.bind(o),c.addEventListener("load",m),c.addEventListener("error",m))}}var K2=0;function RD(o,c){return o.stylesheets&&o.count===0&&X1(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var y=setTimeout(function(){if(o.stylesheets&&X1(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+c);0<o.imgBytes&&K2===0&&(K2=62500*fD());var C=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&X1(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>K2?50:800)+c);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(C)}}:null}function Y1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)X1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var K1=null;function X1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,K1=new Map,c.forEach(OD,o),K1=null,Y1.call(o))}function OD(o,c){if(!(c.state.loading&4)){var m=K1.get(o);if(m)var y=m.get(null);else{m=new Map,K1.set(o,m);for(var C=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<C.length;T++){var D=C[T];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(m.set(D.dataset.precedence,D),y=D)}y&&m.set(null,y)}C=c.instance,D=C.getAttribute("data-precedence"),T=m.get(D)||y,T===y&&m.set(null,C),m.set(D,C),this.count++,y=Y1.bind(this),C.addEventListener("load",y),C.addEventListener("error",y),T?T.parentNode.insertBefore(C,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(C,o.firstChild)),c.state.loading|=4}}var Cg={$$typeof:z,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function DD(o,c,m,y,C,T,D,U,$){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=y,this.onUncaughtError=C,this.onCaughtError=T,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function l5(o,c,m,y,C,T,D,U,$,ue,be,Se){return o=new DD(o,c,m,D,$,ue,be,Se,U),c=1,T===!0&&(c|=24),T=Sn(3,null,null,c),o.current=T,T.stateNode=o,c=_m(),c.refCount++,o.pooledCache=c,c.refCount++,T.memoizedState={element:y,isDehydrated:m,cache:c},Mf(T),o}function c5(o){return o?(o=Po,o):Po}function u5(o,c,m,y,C,T){C=c5(C),y.context===null?y.context=C:y.pendingContext=C,y=ro(c),y.payload={element:m},T=T===void 0?null:T,T!==null&&(y.callback=T),m=Vo(o,y,c),m!==null&&(yt(m,o,c),Yo(m,o,c))}function f5(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function X2(o,c){f5(o,c),(o=o.alternate)&&f5(o,c)}function d5(o){if(o.tag===13||o.tag===31){var c=di(o,67108864);c!==null&&yt(c,o,67108864),X2(o,67108864)}}function h5(o){if(o.tag===13||o.tag===31){var c=as();c=vs(c);var m=di(o,c);m!==null&&yt(m,o,c),X2(o,c)}}var Q1=!0;function zD(o,c,m,y){var C=V.T;V.T=null;var T=re.p;try{re.p=2,Q2(o,c,m,y)}finally{re.p=T,V.T=C}}function jD(o,c,m,y){var C=V.T;V.T=null;var T=re.p;try{re.p=8,Q2(o,c,m,y)}finally{re.p=T,V.T=C}}function Q2(o,c,m,y){if(Q1){var C=W2(y);if(C===null)j2(o,c,y,W1,m),m5(o,y);else if(PD(C,o,c,m,y))y.stopPropagation();else if(m5(o,y),c&4&&-1<LD.indexOf(o)){for(;C!==null;){var T=Sl(C);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var D=zn(T.pendingLanes);if(D!==0){var U=T;for(U.pendingLanes|=2,U.entangledLanes|=2;D;){var $=1<<31-Ut(D);U.entanglements[1]|=$,D&=~$}Ee(T),(Ve&6)===0&&(Qn=qn()+500,Pe(0))}}break;case 31:case 13:U=di(T,2),U!==null&&yt(U,T,2),Ws(),X2(T,2)}if(T=W2(y),T===null&&j2(o,c,y,W1,m),T===C)break;C=T}C!==null&&y.stopPropagation()}else j2(o,c,y,null,m)}}function W2(o){return o=Yd(o),J2(o)}var W1=null;function J2(o){if(W1=null,o=xl(o),o!==null){var c=s(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=a(c),o!==null)return o;o=null}else if(m===31){if(o=l(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return W1=o,null}function p5(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cc()){case ye:return 2;case _e:return 8;case qe:case Je:return 32;case xt:return 268435456;default:return 32}default:return 32}}var $2=!1,du=null,hu=null,pu=null,Eg=new Map,kg=new Map,mu=[],LD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m5(o,c){switch(o){case"focusin":case"focusout":du=null;break;case"dragenter":case"dragleave":hu=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":Eg.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":kg.delete(c.pointerId)}}function Tg(o,c,m,y,C,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:m,eventSystemFlags:y,nativeEvent:T,targetContainers:[C]},c!==null&&(c=Sl(c),c!==null&&d5(c)),o):(o.eventSystemFlags|=y,c=o.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),o)}function PD(o,c,m,y,C){switch(c){case"focusin":return du=Tg(du,o,c,m,y,C),!0;case"dragenter":return hu=Tg(hu,o,c,m,y,C),!0;case"mouseover":return pu=Tg(pu,o,c,m,y,C),!0;case"pointerover":var T=C.pointerId;return Eg.set(T,Tg(Eg.get(T)||null,o,c,m,y,C)),!0;case"gotpointercapture":return T=C.pointerId,kg.set(T,Tg(kg.get(T)||null,o,c,m,y,C)),!0}return!1}function g5(o){var c=xl(o.target);if(c!==null){var m=s(c);if(m!==null){if(c=m.tag,c===13){if(c=a(m),c!==null){o.blockedOn=c,Ti(o.priority,function(){h5(m)});return}}else if(c===31){if(c=l(m),c!==null){o.blockedOn=c,Ti(o.priority,function(){h5(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function J1(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=W2(o.nativeEvent);if(m===null){m=o.nativeEvent;var y=new m.constructor(m.type,m);Vd=y,m.target.dispatchEvent(y),Vd=null}else return c=Sl(m),c!==null&&d5(c),o.blockedOn=m,!1;c.shift()}return!0}function y5(o,c,m){J1(o)&&m.delete(c)}function BD(){$2=!1,du!==null&&J1(du)&&(du=null),hu!==null&&J1(hu)&&(hu=null),pu!==null&&J1(pu)&&(pu=null),Eg.forEach(y5),kg.forEach(y5)}function $1(o,c){o.blockedOn===c&&(o.blockedOn=null,$2||($2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BD)))}var Z1=null;function b5(o){Z1!==o&&(Z1=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Z1===o&&(Z1=null);for(var c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],C=o[c+2];if(typeof y!="function"){if(J2(y||m)===null)continue;break}var T=Sl(m);T!==null&&(o.splice(c,3),c-=3,eg(T,{pending:!0,data:C,method:m.method,action:y},y,C))}}))}function Wh(o){function c($){return $1($,o)}du!==null&&$1(du,o),hu!==null&&$1(hu,o),pu!==null&&$1(pu,o),Eg.forEach(c),kg.forEach(c);for(var m=0;m<mu.length;m++){var y=mu[m];y.blockedOn===o&&(y.blockedOn=null)}for(;0<mu.length&&(m=mu[0],m.blockedOn===null);)g5(m),m.blockedOn===null&&mu.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var C=m[y],T=m[y+1],D=C[Kr]||null;if(typeof T=="function")D||b5(m);else if(D){var U=null;if(T&&T.hasAttribute("formAction")){if(C=T,D=T[Kr]||null)U=D.formAction;else if(J2(C)!==null)continue}else U=D.action;typeof U=="function"?m[y+1]=U:(m.splice(y,3),y-=3),b5(m)}}}function v5(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(D){return C=D})},focusReset:"manual",scroll:"manual"})}function c(){C!==null&&(C(),C=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,C=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),C!==null&&(C(),C=null)}}}function Z2(o){this._internalRoot=o}eb.prototype.render=Z2.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,y=as();u5(m,y,o,c,null,null)},eb.prototype.unmount=Z2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;u5(o.current,2,null,o,null,null),Ws(),c[Ao]=null}};function eb(o){this._internalRoot=o}eb.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ki();o={blockedOn:null,target:o,priority:c};for(var m=0;m<mu.length&&c!==0&&c<mu[m].priority;m++);mu.splice(m,0,o),m===0&&g5(o)}};var x5=e.version;if(x5!=="19.2.0")throw Error(r(527,x5,"19.2.0"));re.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var ID={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tb.isDisabled&&tb.supportsFiber)try{vr=tb.inject(ID),Dn=tb}catch{}}return Mg.createRoot=function(o,c){if(!i(o))throw Error(r(299));var m=!1,y="",C=O1,T=ag,D=og;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(C=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError)),c=l5(o,1,!1,null,null,m,y,null,C,T,D,v5),o[Ao]=c.current,z2(o),new Z2(c)},Mg.hydrateRoot=function(o,c,m){if(!i(o))throw Error(r(299));var y=!1,C="",T=O1,D=ag,U=og,$=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(C=m.identifierPrefix),m.onUncaughtError!==void 0&&(T=m.onUncaughtError),m.onCaughtError!==void 0&&(D=m.onCaughtError),m.onRecoverableError!==void 0&&(U=m.onRecoverableError),m.formState!==void 0&&($=m.formState)),c=l5(o,1,!0,c,m??null,y,C,$,T,D,U,v5),c.context=c5(null),m=c.current,y=as(),y=vs(y),C=ro(y),C.callback=null,Vo(m,C,y),m=y,c.current.lanes=m,Vi(c,m),Ee(c),o[Ao]=c.current,z2(o),new eb(c)},Mg.version="19.2.0",Mg}var N5;function XD(){if(N5)return nS.exports;N5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nS.exports=KD(),nS.exports}var QD=XD(),oc=$6();const Z6=Lp(oc);function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function R5(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function g3(...t){return e=>{let n=!1;const r=t.map(i=>{const s=R5(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():R5(t[i],null)}}}}function Gr(...t){return N.useCallback(g3(...t),t)}function WD(t,e){const n=N.createContext(e),r=s=>{const{children:a,...l}=s,u=N.useMemo(()=>l,Object.values(l));return E.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function i(s){const a=N.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ed(t,e=[]){let n=[];function r(s,a){const l=N.createContext(a),u=n.length;n=[...n,a];const d=g=>{const{scope:b,children:x,...S}=g,k=b?.[t]?.[u]||l,_=N.useMemo(()=>S,Object.values(S));return E.jsx(k.Provider,{value:_,children:x})};d.displayName=s+"Provider";function p(g,b){const x=b?.[t]?.[u]||l,S=N.useContext(x);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${s}\``)}return[d,p]}const i=()=>{const s=n.map(a=>N.createContext(a));return function(l){const u=l?.[t]||s;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[r,JD(i,...e)]}function JD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:u,scopeName:d})=>{const g=u(s)[`__scope${d}`];return{...l,...g}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function C0(t){const e=$D(t),n=N.forwardRef((r,i)=>{const{children:s,...a}=r,l=N.Children.toArray(s),u=l.find(ez);if(u){const d=u.props.children,p=l.map(g=>g===u?N.Children.count(d)>1?N.Children.only(null):N.isValidElement(d)?d.props.children:null:g);return E.jsx(e,{...a,ref:i,children:N.isValidElement(d)?N.cloneElement(d,void 0,p):null})}return E.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function $D(t){const e=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const a=nz(i),l=tz(s,i.props);return i.type!==N.Fragment&&(l.ref=r?g3(r,a):a),N.cloneElement(i,l)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ZD=Symbol("radix.slottable");function ez(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZD}function tz(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const u=s(...l);return i(...l),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function nz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function y3(t){const e=t+"CollectionProvider",[n,r]=Ed(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=k=>{const{scope:_,children:A}=k,O=Ye.useRef(null),z=Ye.useRef(new Map).current;return E.jsx(i,{scope:_,itemMap:z,collectionRef:O,children:A})};a.displayName=e;const l=t+"CollectionSlot",u=C0(l),d=Ye.forwardRef((k,_)=>{const{scope:A,children:O}=k,z=s(l,A),L=Gr(_,z.collectionRef);return E.jsx(u,{ref:L,children:O})});d.displayName=l;const p=t+"CollectionItemSlot",g="data-radix-collection-item",b=C0(p),x=Ye.forwardRef((k,_)=>{const{scope:A,children:O,...z}=k,L=Ye.useRef(null),H=Gr(_,L),j=s(p,A);return Ye.useEffect(()=>(j.itemMap.set(L,{ref:L,...z}),()=>void j.itemMap.delete(L))),E.jsx(b,{[g]:"",ref:H,children:O})});x.displayName=p;function S(k){const _=s(t+"CollectionConsumer",k);return Ye.useCallback(()=>{const O=_.collectionRef.current;if(!O)return[];const z=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((j,P)=>z.indexOf(j.ref.current)-z.indexOf(P.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:d,ItemSlot:x},S,r]}var rz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ln=rz.reduce((t,e)=>{const n=C0(`Primitive.${e}`),r=N.forwardRef((i,s)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(u,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function b3(t,e){t&&oc.flushSync(()=>t.dispatchEvent(e))}function Gs(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>e.current?.(...n),[])}function iz(t,e=globalThis?.document){const n=Gs(t);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sz="DismissableLayer",Iw="dismissableLayer.update",az="dismissableLayer.pointerDownOutside",oz="dismissableLayer.focusOutside",O5,eM=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tx=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...u}=t,d=N.useContext(eM),[p,g]=N.useState(null),b=p?.ownerDocument??globalThis?.document,[,x]=N.useState({}),S=Gr(e,P=>g(P)),k=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=k.indexOf(_),O=p?k.indexOf(p):-1,z=d.layersWithOutsidePointerEventsDisabled.size>0,L=O>=A,H=cz(P=>{const I=P.target,Y=[...d.branches].some(G=>G.contains(I));!L||Y||(i?.(P),a?.(P),P.defaultPrevented||l?.())},b),j=uz(P=>{const I=P.target;[...d.branches].some(G=>G.contains(I))||(s?.(P),a?.(P),P.defaultPrevented||l?.())},b);return iz(P=>{O===d.layers.size-1&&(r?.(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},b),N.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(O5=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),D5(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=O5)}},[p,b,n,d]),N.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),D5())},[p,d]),N.useEffect(()=>{const P=()=>x({});return document.addEventListener(Iw,P),()=>document.removeEventListener(Iw,P)},[]),E.jsx(ln.div,{...u,ref:S,style:{pointerEvents:z?L?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,j.onFocusCapture),onBlurCapture:st(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,H.onPointerDownCapture)})});Tx.displayName=sz;var lz="DismissableLayerBranch",tM=N.forwardRef((t,e)=>{const n=N.useContext(eM),r=N.useRef(null),i=Gr(e,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),E.jsx(ln.div,{...t,ref:i})});tM.displayName=lz;function cz(t,e=globalThis?.document){const n=Gs(t),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let u=function(){nM(az,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uz(t,e=globalThis?.document){const n=Gs(t),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&nM(oz,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function D5(){const t=new CustomEvent(Iw);document.dispatchEvent(t)}function nM(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?b3(i,s):i.dispatchEvent(s)}var fz=Tx,dz=tM,dc=globalThis?.document?N.useLayoutEffect:()=>{},hz="Portal",_x=N.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=N.useState(!1);dc(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?Z6.createPortal(E.jsx(ln.div,{...r,ref:e}),a):null});_x.displayName=hz;function pz(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var yc=t=>{const{present:e,children:n}=t,r=mz(e),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=Gr(r.ref,gz(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};yc.displayName="Presence";function mz(t){const[e,n]=N.useState(),r=N.useRef(null),i=N.useRef(t),s=N.useRef("none"),a=t?"mounted":"unmounted",[l,u]=pz(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=nb(r.current);s.current=l==="mounted"?d:"none"},[l]),dc(()=>{const d=r.current,p=i.current;if(p!==t){const b=s.current,x=nb(d);t?u("MOUNT"):x==="none"||d?.display==="none"?u("UNMOUNT"):u(p&&b!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),dc(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,g=x=>{const k=nb(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&k&&(u("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},b=x=>{x.target===e&&(s.current=nb(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function nb(t){return t?.animationName||"none"}function gz(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yz=J6[" useInsertionEffect ".trim().toString()]||dc;function v3({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=bz({defaultProp:e,onChange:n}),l=t!==void 0,u=l?t:i;{const p=N.useRef(t!==void 0);N.useEffect(()=>{const g=p.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,r])}const d=N.useCallback(p=>{if(l){const g=vz(p)?p(t):p;g!==t&&a.current?.(g)}else s(p)},[l,t,s,a]);return[u,d]}function bz({defaultProp:t,onChange:e}){const[n,r]=N.useState(t),i=N.useRef(n),s=N.useRef(e);return yz(()=>{s.current=e},[e]),N.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function vz(t){return typeof t=="function"}var xz=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sz="VisuallyHidden",x3=N.forwardRef((t,e)=>E.jsx(ln.span,{...t,ref:e,style:{...xz,...t.style}}));x3.displayName=Sz;var S3="ToastProvider",[w3,wz,Cz]=y3("Toast"),[rM]=Ed("Toast",[Cz]),[Ez,Mx]=rM(S3),iM=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,u]=N.useState(null),[d,p]=N.useState(0),g=N.useRef(!1),b=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${S3}\`. Expected non-empty \`string\`.`),E.jsx(w3.Provider,{scope:e,children:E.jsx(Ez,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:N.useCallback(()=>p(x=>x+1),[]),onToastRemove:N.useCallback(()=>p(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:a})})};iM.displayName=S3;var sM="ToastViewport",kz=["F8"],Hw="toast.viewportPause",Uw="toast.viewportResume",aM=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=kz,label:i="Notifications ({hotkey})",...s}=t,a=Mx(sM,n),l=wz(n),u=N.useRef(null),d=N.useRef(null),p=N.useRef(null),g=N.useRef(null),b=Gr(e,g,a.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=a.toastCount>0;N.useEffect(()=>{const _=A=>{r.length!==0&&r.every(z=>A[z]||A.code===z)&&g.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),N.useEffect(()=>{const _=u.current,A=g.current;if(S&&_&&A){const O=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Hw);A.dispatchEvent(j),a.isClosePausedRef.current=!0}},z=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(Uw);A.dispatchEvent(j),a.isClosePausedRef.current=!1}},L=j=>{!_.contains(j.relatedTarget)&&z()},H=()=>{_.contains(document.activeElement)||z()};return _.addEventListener("focusin",O),_.addEventListener("focusout",L),_.addEventListener("pointermove",O),_.addEventListener("pointerleave",H),window.addEventListener("blur",O),window.addEventListener("focus",z),()=>{_.removeEventListener("focusin",O),_.removeEventListener("focusout",L),_.removeEventListener("pointermove",O),_.removeEventListener("pointerleave",H),window.removeEventListener("blur",O),window.removeEventListener("focus",z)}}},[S,a.isClosePausedRef]);const k=N.useCallback(({tabbingDirection:_})=>{const O=l().map(z=>{const L=z.ref.current,H=[L,...Iz(L)];return _==="forwards"?H:H.reverse()});return(_==="forwards"?O.reverse():O).flat()},[l]);return N.useEffect(()=>{const _=g.current;if(_){const A=O=>{const z=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!z){const H=document.activeElement,j=O.shiftKey;if(O.target===_&&j){d.current?.focus();return}const Y=k({tabbingDirection:j?"backwards":"forwards"}),G=Y.findIndex(X=>X===H);aS(Y.slice(G+1))?O.preventDefault():j?d.current?.focus():p.current?.focus()}};return _.addEventListener("keydown",A),()=>_.removeEventListener("keydown",A)}},[l,k]),E.jsxs(dz,{ref:u,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&E.jsx(Fw,{ref:d,onFocusFromOutsideViewport:()=>{const _=k({tabbingDirection:"forwards"});aS(_)}}),E.jsx(w3.Slot,{scope:n,children:E.jsx(ln.ol,{tabIndex:-1,...s,ref:b})}),S&&E.jsx(Fw,{ref:p,onFocusFromOutsideViewport:()=>{const _=k({tabbingDirection:"backwards"});aS(_)}})]})});aM.displayName=sM;var oM="ToastFocusProxy",Fw=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Mx(oM,n);return E.jsx(x3,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{const l=a.relatedTarget;!s.viewport?.contains(l)&&r()}})});Fw.displayName=oM;var Q0="Toast",Tz="toast.swipeStart",_z="toast.swipeMove",Mz="toast.swipeCancel",Az="toast.swipeEnd",lM=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[l,u]=v3({prop:r,defaultProp:i??!0,onChange:s,caller:Q0});return E.jsx(yc,{present:n||l,children:E.jsx(Oz,{open:l,...a,ref:e,onClose:()=>u(!1),onPause:Gs(t.onPause),onResume:Gs(t.onResume),onSwipeStart:st(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,d=>{const{x:p,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:st(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,d=>{const{x:p,y:g}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),u(!1)})})})});lM.displayName=Q0;var[Nz,Rz]=rM(Q0,{onClose(){}}),Oz=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:x,...S}=t,k=Mx(Q0,n),[_,A]=N.useState(null),O=Gr(e,ee=>A(ee)),z=N.useRef(null),L=N.useRef(null),H=i||k.duration,j=N.useRef(0),P=N.useRef(H),I=N.useRef(0),{onToastAdd:Y,onToastRemove:G}=k,X=Gs(()=>{_?.contains(document.activeElement)&&k.viewport?.focus(),a()}),W=N.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(I.current),j.current=new Date().getTime(),I.current=window.setTimeout(X,ee))},[X]);N.useEffect(()=>{const ee=k.viewport;if(ee){const te=()=>{W(P.current),d?.()},V=()=>{const re=new Date().getTime()-j.current;P.current=P.current-re,window.clearTimeout(I.current),u?.()};return ee.addEventListener(Hw,V),ee.addEventListener(Uw,te),()=>{ee.removeEventListener(Hw,V),ee.removeEventListener(Uw,te)}}},[k.viewport,H,u,d,W]),N.useEffect(()=>{s&&!k.isClosePausedRef.current&&W(H)},[s,H,k.isClosePausedRef,W]),N.useEffect(()=>(Y(),()=>G()),[Y,G]);const le=N.useMemo(()=>_?mM(_):null,[_]);return k.viewport?E.jsxs(E.Fragment,{children:[le&&E.jsx(Dz,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:le}),E.jsx(Nz,{scope:n,onClose:X,children:oc.createPortal(E.jsx(w3.ItemSlot,{scope:n,children:E.jsx(fz,{asChild:!0,onEscapeKeyDown:st(l,()=>{k.isFocusedToastEscapeKeyDownRef.current||X(),k.isFocusedToastEscapeKeyDownRef.current=!1}),children:E.jsx(ln.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":k.swipeDirection,...S,ref:O,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,ee=>{ee.key==="Escape"&&(l?.(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(k.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:st(t.onPointerDown,ee=>{ee.button===0&&(z.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:st(t.onPointerMove,ee=>{if(!z.current)return;const te=ee.clientX-z.current.x,V=ee.clientY-z.current.y,re=!!L.current,J=["left","right"].includes(k.swipeDirection),fe=["left","up"].includes(k.swipeDirection)?Math.min:Math.max,q=J?fe(0,te):0,K=J?0:fe(0,V),ie=ee.pointerType==="touch"?10:2,F={x:q,y:K},we={originalEvent:ee,delta:F};re?(L.current=F,rb(_z,g,we,{discrete:!1})):z5(F,k.swipeDirection,ie)?(L.current=F,rb(Tz,p,we,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(te)>ie||Math.abs(V)>ie)&&(z.current=null)}),onPointerUp:st(t.onPointerUp,ee=>{const te=L.current,V=ee.target;if(V.hasPointerCapture(ee.pointerId)&&V.releasePointerCapture(ee.pointerId),L.current=null,z.current=null,te){const re=ee.currentTarget,J={originalEvent:ee,delta:te};z5(te,k.swipeDirection,k.swipeThreshold)?rb(Az,x,J,{discrete:!0}):rb(Mz,b,J,{discrete:!0}),re.addEventListener("click",fe=>fe.preventDefault(),{once:!0})}})})})}),k.viewport)})]}):null}),Dz=t=>{const{__scopeToast:e,children:n,...r}=t,i=Mx(Q0,e),[s,a]=N.useState(!1),[l,u]=N.useState(!1);return Pz(()=>a(!0)),N.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:E.jsx(_x,{asChild:!0,children:E.jsx(x3,{...r,children:s&&E.jsxs(E.Fragment,{children:[i.label," ",n]})})})},zz="ToastTitle",cM=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(ln.div,{...r,ref:e})});cM.displayName=zz;var jz="ToastDescription",uM=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return E.jsx(ln.div,{...r,ref:e})});uM.displayName=jz;var fM="ToastAction",Lz=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?E.jsx(pM,{altText:n,asChild:!0,children:E.jsx(hM,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fM}\`. Expected non-empty \`string\`.`),null)});Lz.displayName=fM;var dM="ToastClose",hM=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Rz(dM,n);return E.jsx(pM,{asChild:!0,children:E.jsx(ln.button,{type:"button",...r,ref:e,onClick:st(t.onClick,i.onClose)})})});hM.displayName=dM;var pM=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return E.jsx(ln.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function mM(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Bz(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...mM(r))}}),e}function rb(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?b3(i,s):i.dispatchEvent(s)}var z5=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Pz(t=()=>{}){const e=Gs(t);dc(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Bz(t){return t.nodeType===t.ELEMENT_NODE}function Iz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aS(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var gM=iM,yM=aM,bM=lM,vM=cM,xM=uM;function SM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hz(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SM(t))&&(r&&(r+=" "),r+=e);return r}const Uz=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},Fz=(t,e)=>({classGroupId:t,validator:e}),wM=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),cv="-",j5=[],Gz="arbitrary..",qz=t=>{const e=Yz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return Vz(a);const l=a.split(cv),u=l[0]===""&&l.length>1?1:0;return CM(l,u,e)},getConflictingClassGroupIds:(a,l)=>{if(l){const u=r[a],d=n[a];return u?d?Uz(d,u):u:d||j5}return n[a]||j5}}},CM=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const d=CM(t,e+1,s);if(d)return d}const a=n.validators;if(a===null)return;const l=e===0?t.join(cv):t.slice(e).join(cv),u=a.length;for(let d=0;d<u;d++){const p=a[d];if(p.validator(l))return p.classGroupId}},Vz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?Gz+r:void 0})(),Yz=t=>{const{theme:e,classGroups:n}=t;return Kz(n,e)},Kz=(t,e)=>{const n=wM();for(const r in t){const i=t[r];C3(i,n,r,e)}return n},C3=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s];Xz(a,e,n,r)}},Xz=(t,e,n,r)=>{if(typeof t=="string"){Qz(t,e,n);return}if(typeof t=="function"){Wz(t,e,n,r);return}Jz(t,e,n,r)},Qz=(t,e,n)=>{const r=t===""?e:EM(e,t);r.classGroupId=n},Wz=(t,e,n,r)=>{if($z(t)){C3(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Fz(n,t))},Jz=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[l,u]=i[a];C3(u,EM(e,l),n,r)}},EM=(t,e)=>{let n=t;const r=e.split(cv),i=r.length;for(let s=0;s<i;s++){const a=r[s];let l=n.nextPart.get(a);l||(l=wM(),n.nextPart.set(a,l)),n=l}return n},$z=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Zz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},Gw="!",L5=":",ej=[],P5=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),tj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,l=0,u=0,d;const p=i.length;for(let k=0;k<p;k++){const _=i[k];if(a===0&&l===0){if(_===L5){s.push(i.slice(u,k)),u=k+1;continue}if(_==="/"){d=k;continue}}_==="["?a++:_==="]"?a--:_==="("?l++:_===")"&&l--}const g=s.length===0?i:i.slice(u);let b=g,x=!1;g.endsWith(Gw)?(b=g.slice(0,-1),x=!0):g.startsWith(Gw)&&(b=g.slice(1),x=!0);const S=d&&d>u?d-u:void 0;return P5(s,x,b,S)};if(e){const i=e+L5,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):P5(ej,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},nj=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],l=a[0]==="[",u=e.has(a);l||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},rj=t=>({cache:Zz(t.cacheSize),parseClassName:tj(t),sortModifiers:nj(t),...qz(t)}),ij=/\s+/,sj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],l=t.trim().split(ij);let u="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{isExternal:g,modifiers:b,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:k}=n(p);if(g){u=p+(u.length>0?" "+u:u);continue}let _=!!k,A=r(_?S.substring(0,k):S);if(!A){if(!_){u=p+(u.length>0?" "+u:u);continue}if(A=r(S),!A){u=p+(u.length>0?" "+u:u);continue}_=!1}const O=b.length===0?"":b.length===1?b[0]:s(b).join(":"),z=x?O+Gw:O,L=z+A;if(a.indexOf(L)>-1)continue;a.push(L);const H=i(A,_);for(let j=0;j<H.length;++j){const P=H[j];a.push(z+P)}u=p+(u.length>0?" "+u:u)}return u},aj=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=kM(n))&&(i&&(i+=" "),i+=r);return i},kM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kM(t[r]))&&(n&&(n+=" "),n+=e);return n},oj=(t,...e)=>{let n,r,i,s;const a=u=>{const d=e.reduce((p,g)=>g(p),t());return n=rj(d),r=n.cache.get,i=n.cache.set,s=l,l(u)},l=u=>{const d=r(u);if(d)return d;const p=sj(u,n);return i(u,p),p};return s=a,(...u)=>s(aj(...u))},lj=[],Ir=t=>{const e=n=>n[t]||lj;return e.isThemeGetter=!0,e},TM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_M=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cj=/^\d+\/\d+$/,uj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,hj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jh=t=>cj.test(t),Mt=t=>!!t&&!Number.isNaN(Number(t)),yu=t=>!!t&&Number.isInteger(Number(t)),oS=t=>t.endsWith("%")&&Mt(t.slice(0,-1)),$l=t=>uj.test(t),mj=()=>!0,gj=t=>fj.test(t)&&!dj.test(t),MM=()=>!1,yj=t=>hj.test(t),bj=t=>pj.test(t),vj=t=>!Ue(t)&&!Fe(t),xj=t=>Bp(t,RM,MM),Ue=t=>TM.test(t),Kf=t=>Bp(t,OM,gj),lS=t=>Bp(t,kj,Mt),B5=t=>Bp(t,AM,MM),Sj=t=>Bp(t,NM,bj),ib=t=>Bp(t,DM,yj),Fe=t=>_M.test(t),Ag=t=>Ip(t,OM),wj=t=>Ip(t,Tj),I5=t=>Ip(t,AM),Cj=t=>Ip(t,RM),Ej=t=>Ip(t,NM),sb=t=>Ip(t,DM,!0),Bp=(t,e,n)=>{const r=TM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ip=(t,e,n=!1)=>{const r=_M.exec(t);return r?r[1]?e(r[1]):n:!1},AM=t=>t==="position"||t==="percentage",NM=t=>t==="image"||t==="url",RM=t=>t==="length"||t==="size"||t==="bg-size",OM=t=>t==="length",kj=t=>t==="number",Tj=t=>t==="family-name",DM=t=>t==="shadow",_j=()=>{const t=Ir("color"),e=Ir("font"),n=Ir("text"),r=Ir("font-weight"),i=Ir("tracking"),s=Ir("leading"),a=Ir("breakpoint"),l=Ir("container"),u=Ir("spacing"),d=Ir("radius"),p=Ir("shadow"),g=Ir("inset-shadow"),b=Ir("text-shadow"),x=Ir("drop-shadow"),S=Ir("blur"),k=Ir("perspective"),_=Ir("aspect"),A=Ir("ease"),O=Ir("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],H=()=>[...L(),Fe,Ue],j=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],I=()=>[Fe,Ue,u],Y=()=>[Jh,"full","auto",...I()],G=()=>[yu,"none","subgrid",Fe,Ue],X=()=>["auto",{span:["full",yu,Fe,Ue]},yu,Fe,Ue],W=()=>[yu,"auto",Fe,Ue],le=()=>["auto","min","max","fr",Fe,Ue],ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...I()],re=()=>[Jh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],J=()=>[t,Fe,Ue],fe=()=>[...L(),I5,B5,{position:[Fe,Ue]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",Cj,xj,{size:[Fe,Ue]}],ie=()=>[oS,Ag,Kf],F=()=>["","none","full",d,Fe,Ue],we=()=>["",Mt,Ag,Kf],Be=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[Mt,oS,I5,B5],ot=()=>["","none",S,Fe,Ue],Ke=()=>["none",Mt,Fe,Ue],nt=()=>["none",Mt,Fe,Ue],Nn=()=>[Mt,Fe,Ue],Xt=()=>[Jh,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[$l],breakpoint:[$l],color:[mj],container:[$l],"drop-shadow":[$l],ease:["in","out","in-out"],font:[vj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[$l],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[$l],shadow:[$l],spacing:["px",Mt],text:[$l],"text-shadow":[$l],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jh,Ue,Fe,_]}],container:["container"],columns:[{columns:[Mt,Ue,Fe,l]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:H()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[yu,"auto",Fe,Ue]}],basis:[{basis:[Jh,"full","auto",l,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Mt,Jh,"auto","initial","none",Ue]}],grow:[{grow:["",Mt,Fe,Ue]}],shrink:[{shrink:["",Mt,Fe,Ue]}],order:[{order:[yu,"first","last","none",Fe,Ue]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ee(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...ee()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":ee()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[l,"screen",...re()]}],"min-w":[{"min-w":[l,"screen","none",...re()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",n,Ag,Kf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,lS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",oS,Ue]}],"font-family":[{font:[wj,Ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Fe,Ue]}],"line-clamp":[{"line-clamp":[Mt,"none",Fe,lS]}],leading:[{leading:[s,...I()]}],"list-image":[{"list-image":["none",Fe,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Mt,"from-font","auto",Fe,Kf]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Mt,"auto",Fe,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},yu,Fe,Ue],radial:["",Fe,Ue],conic:[yu,Fe,Ue]},Ej,Sj]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Be(),"hidden","none"]}],"divide-style":[{divide:[...Be(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...Be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Mt,Fe,Ue]}],"outline-w":[{outline:["",Mt,Ag,Kf]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",p,sb,ib]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",g,sb,ib]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Mt,Kf]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",b,sb,ib]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Mt,Fe,Ue]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Mt]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[Fe,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":L()}],"mask-image-conic-pos":[{"mask-conic":[Mt]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Ue]}],filter:[{filter:["","none",Fe,Ue]}],blur:[{blur:ot()}],brightness:[{brightness:[Mt,Fe,Ue]}],contrast:[{contrast:[Mt,Fe,Ue]}],"drop-shadow":[{"drop-shadow":["","none",x,sb,ib]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Mt,Fe,Ue]}],"hue-rotate":[{"hue-rotate":[Mt,Fe,Ue]}],invert:[{invert:["",Mt,Fe,Ue]}],saturate:[{saturate:[Mt,Fe,Ue]}],sepia:[{sepia:["",Mt,Fe,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Ue]}],"backdrop-blur":[{"backdrop-blur":ot()}],"backdrop-brightness":[{"backdrop-brightness":[Mt,Fe,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[Mt,Fe,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Mt,Fe,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Mt,Fe,Ue]}],"backdrop-invert":[{"backdrop-invert":["",Mt,Fe,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[Mt,Fe,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[Mt,Fe,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Mt,Fe,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Mt,"initial",Fe,Ue]}],ease:[{ease:["linear","initial",A,Fe,Ue]}],delay:[{delay:[Mt,Fe,Ue]}],animate:[{animate:["none",O,Fe,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,Fe,Ue]}],"perspective-origin":[{"perspective-origin":H()}],rotate:[{rotate:Ke()}],"rotate-x":[{"rotate-x":Ke()}],"rotate-y":[{"rotate-y":Ke()}],"rotate-z":[{"rotate-z":Ke()}],scale:[{scale:nt()}],"scale-x":[{"scale-x":nt()}],"scale-y":[{"scale-y":nt()}],"scale-z":[{"scale-z":nt()}],"scale-3d":["scale-3d"],skew:[{skew:Nn()}],"skew-x":[{"skew-x":Nn()}],"skew-y":[{"skew-y":Nn()}],transform:[{transform:[Fe,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:H()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Xt()}],"translate-x":[{"translate-x":Xt()}],"translate-y":[{"translate-y":Xt()}],"translate-z":[{"translate-z":Xt()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Ue]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Mt,Ag,Kf,lS]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Mj=oj(_j);function Nr(...t){return Mj(Hz(t))}let Zf=null;const E3="focusdeck_access_token",qw="focusdeck_refresh_token";typeof window<"u"&&(Zf=null);function W0(){return typeof window<"u"&&typeof document<"u"}function Aj(){return W0()?window.location.protocol==="https:":!1}function zM(t,e,n){if(!W0())return;let r=`${t}=${encodeURIComponent(e)}; Path=/; SameSite=Lax`;n&&(r+=`; Expires=${n.toUTCString()}`),Aj()&&(r+="; Secure"),document.cookie=r}function Vw(t){W0()&&(document.cookie=`${t}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Lax`)}function Nj(t){if(!W0())return null;const e=document.cookie?document.cookie.split("; "):[];for(const n of e)if(n.startsWith(`${t}=`))return decodeURIComponent(n.substring(t.length+1));return null}function jM(t){const n=Dj(t)?.exp;if(typeof n=="number")return new Date(n*1e3);if(typeof n=="string"){const r=Number(n);if(!Number.isNaN(r))return new Date(r*1e3)}return null}function Rj(t){try{localStorage.setItem("focusdeck_access_token",t)}catch(e){console.warn("Unable to persist access token to localStorage",e)}zM(E3,t,jM(t))}function Oj(t){if(!t){try{localStorage.removeItem("focusdeck_refresh_token")}catch(e){console.warn("Unable to remove refresh token from localStorage",e)}Vw(qw);return}try{localStorage.setItem("focusdeck_refresh_token",t)}catch(e){console.warn("Unable to persist refresh token to localStorage",e)}zM(qw,t,jM(t))}async function wp(){if(Zf)return Zf;let t=null;try{t=localStorage.getItem("focusdeck_access_token")}catch{t=null}if(t)return Zf=t,t;const e=Nj(E3);if(e){Zf=e;try{localStorage.setItem("focusdeck_access_token",e)}catch(n){console.warn("Unable to persist cookie token to localStorage",n)}return e}throw new Error("Not authenticated")}async function Yw(){try{await fetch("/v1/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${await wp()}`}})}catch(t){console.warn("Logout request failed",t)}Zf=null;try{localStorage.removeItem("focusdeck_access_token"),localStorage.removeItem("focusdeck_refresh_token"),localStorage.removeItem("focusdeck_user")}catch(t){console.warn("Unable to clear auth localStorage entries",t)}if(Vw(E3),Vw(qw),W0()){const t=window.location.pathname;t!=="/login"&&t!=="/register"&&(window.location.href="/login")}}let ab=!1,Kw=[];const H5=(t,e=null)=>{Kw.forEach(n=>{t?n.reject(t):n.resolve(e)}),Kw=[]};async function cs(t,e={}){const r=/^https?:\/\//i.test(t)?new URL(t).pathname:t,i=r.startsWith("/v1/")&&!r.startsWith("/v1/auth/");let s=await wp().catch(()=>null);const a={"Content-Type":"application/json",...e.headers};s&&i&&(a.Authorization=`Bearer ${s}`);let l=await fetch(t,{...e,headers:a,credentials:"include"});if(l.status===401&&i){if(ab)return new Promise((p,g)=>{Kw.push({resolve:p,reject:g})}).then(p=>(a.Authorization=`Bearer ${p}`,fetch(t,{...e,headers:a,credentials:"include"}))).catch(p=>Promise.reject(p));const u=localStorage.getItem("focusdeck_refresh_token"),d=localStorage.getItem("focusdeck_access_token");if(!u)throw await Yw(),new Error("Session expired");ab=!0;try{const p=await fetch("/v1/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:d||"",refreshToken:u,clientId:navigator.userAgent,deviceName:navigator.userAgent,devicePlatform:"web"}),credentials:"include"});if(!p.ok)throw new Error("Refresh failed");const g=await p.json();return k3(g.accessToken,g.refreshToken),ab=!1,H5(null,g.accessToken),a.Authorization=`Bearer ${g.accessToken}`,fetch(t,{...e,headers:a,credentials:"include"})}catch(p){H5(p,null),ab=!1;const g=window.location.pathname;throw g!=="/login"&&g!=="/register"&&await Yw(),p}}return l}function k3(t,e,n){if(Zf=t,Rj(t),Oj(e),n)try{localStorage.setItem("focusdeck_user",n)}catch(r){console.warn("Unable to persist user info to localStorage",r)}}function Dj(t){try{const e=t.split(".")[1];if(!e)return null;const n=atob(e.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(decodeURIComponent(encodeURIComponent(n)))}catch{return null}}const zj=gM,T3=N.forwardRef(({className:t,...e},n)=>E.jsx(yM,{ref:n,className:Nr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:top-auto sm:bottom-0 sm:flex-col md:max-w-[420px]",t),...e}));T3.displayName=yM.displayName;const _3=N.forwardRef(({className:t,variant:e="default",...n},r)=>E.jsx(bM,{ref:r,className:Nr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-4 transition-all","data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{"border-gray-700 bg-surface-100":e==="default","border-green-500/20 bg-green-500/10":e==="success","border-red-500/20 bg-red-500/10":e==="error"},t),...n}));_3.displayName=bM.displayName;const M3=N.forwardRef(({className:t,...e},n)=>E.jsx(vM,{ref:n,className:Nr("text-sm font-semibold",t),...e}));M3.displayName=vM.displayName;const A3=N.forwardRef(({className:t,...e},n)=>E.jsx(xM,{ref:n,className:Nr("text-sm opacity-90",t),...e}));A3.displayName=xM.displayName;const jj=N.createContext(void 0);let Lj=0;const Pj=({children:t})=>{const[e,n]=N.useState([]),r=N.useCallback(s=>{const a=(Lj++).toString();n(l=>[...l,{...s,id:a,duration:s.duration||5e3}])},[]),i=N.useCallback(s=>{n(a=>a.filter(l=>l.id!==s))},[]);return N.useEffect(()=>{const s=e.map(a=>a.duration?setTimeout(()=>{i(a.id)},a.duration):null);return()=>{s.forEach(a=>{a&&clearTimeout(a)})}},[e,i]),E.jsx(jj.Provider,{value:{addToast:r,removeToast:i},children:E.jsxs(zj,{children:[t,e.map(s=>E.jsxs(_3,{variant:s.variant,children:[E.jsxs("div",{className:"flex-1",children:[E.jsx(M3,{children:s.title}),s.description&&E.jsx(A3,{children:s.description})]}),E.jsx("button",{onClick:()=>i(s.id),className:"text-white",children:"X"})]},s.id))]})})};class ad extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class N3 extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class mo extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Bj extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class Ij extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class Hj extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class U5 extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class Uj extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class LM{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class Ax{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var ve;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None"})(ve||(ve={}));class E0{constructor(){}log(e,n){}}E0.instance=new E0;const Fj="8.0.17";class Mr{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class $n{static get isBrowser(){return!$n.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!$n.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!$n.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function k0(t,e){let n="";return hd(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${Gj(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function Gj(t){const e=new Uint8Array(t);let n="";return e.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function hd(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}async function PM(t,e,n,r,i,s){const a={},[l,u]=Cp();a[l]=u,t.log(ve.Trace,`(${e} transport) sending data. ${k0(i,s.logMessageContent)}.`);const d=hd(i)?"arraybuffer":"text",p=await n.post(r,{content:i,headers:{...a,...s.headers},responseType:d,timeout:s.timeout,withCredentials:s.withCredentials});t.log(ve.Trace,`(${e} transport) request complete. Response status: ${p.statusCode}.`)}function qj(t){return t===void 0?new uv(ve.Information):t===null?E0.instance:t.log!==void 0?t:new uv(t)}class Vj{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class uv{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${ve[e]}: ${n}`;switch(e){case ve.Critical:case ve.Error:this.out.error(r);break;case ve.Warning:this.out.warn(r);break;case ve.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function Cp(){let t="X-SignalR-User-Agent";return $n.isNode&&(t="User-Agent"),[t,Yj(Fj,Kj(),Qj(),Xj())]}function Yj(t,e,n,r){let i="Microsoft SignalR/";const s=t.split(".");return i+=`${s[0]}.${s[1]}`,i+=` (${t}; `,e&&e!==""?i+=`${e}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function Kj(){if($n.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Xj(){if($n.isNode)return process.versions.node}function Qj(){return $n.isNode?"NodeJS":"Browser"}function cS(t){return t.stack?t.stack:t.message?t.message:`${t}`}function Wj(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Jj extends Ax{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||$n.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Wj());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new mo;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new mo});let i=null;if(e.timeout){const u=e.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(ve.Warning,"Timeout from HTTP request."),r=new N3},u)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},hd(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let s;try{s=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(u){throw r||(this._logger.log(ve.Warning,`Error from HTTP request. ${u}.`),u)}finally{i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null)}if(!s.ok){const u=await F5(s,"text");throw new ad(u||s.statusText,s.status)}const l=await F5(s,e.responseType);return new LM(s.status,s.statusText,l)}getCookieString(e){let n="";return $n.isNode&&this._jar&&this._jar.getCookies(e,(r,i)=>n=i.join("; ")),n}}function F5(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}class $j extends Ax{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new mo):e.method?e.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(hd(e.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const s=e.headers;s&&Object.keys(s).forEach(a=>{i.setRequestHeader(a,s[a])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{i.abort(),r(new mo)}),e.timeout&&(i.timeout=e.timeout),i.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new LM(i.status,i.statusText,i.response||i.responseText)):r(new ad(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(ve.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new ad(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(ve.Warning,"Timeout from HTTP request."),r(new N3)},i.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Zj extends Ax{constructor(e){if(super(),typeof fetch<"u"||$n.isNode)this._httpClient=new Jj(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new $j(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new mo):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class ta{static write(e){return`${e}${ta.RecordSeparator}`}static parse(e){if(e[e.length-1]!==ta.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(ta.RecordSeparator);return n.pop(),n}}ta.RecordSeparatorCode=30;ta.RecordSeparator=String.fromCharCode(ta.RecordSeparatorCode);class eL{writeHandshakeRequest(e){return ta.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(hd(e)){const l=new Uint8Array(e),u=l.indexOf(ta.RecordSeparatorCode);if(u===-1)throw new Error("Message is incomplete.");const d=u+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,d))),r=l.byteLength>d?l.slice(d).buffer:null}else{const l=e,u=l.indexOf(ta.RecordSeparator);if(u===-1)throw new Error("Message is incomplete.");const d=u+1;n=l.substring(0,d),r=l.length>d?l.substring(d):null}const i=ta.parse(n),s=JSON.parse(i[0]);if(s.type)throw new Error("Expected a handshake response from the server.");return[r,s]}}var pt;(function(t){t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t[t.Ack=8]="Ack",t[t.Sequence=9]="Sequence"})(pt||(pt={}));class tL{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Vj(this,e)}}class nL{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let i=()=>{},s=()=>{};hd(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((a,l)=>{i=a,s=l})),this._messages.push(new rL(n,this._totalMessageCount,i,s))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=e.sequenceId)n=r,hd(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==pt.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:pt.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case pt.Invocation:case pt.StreamItem:case pt.Completion:case pt.StreamInvocation:case pt.CancelInvocation:return!0;case pt.Close:case pt.Sequence:case pt.Ping:case pt.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:pt.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class rL{constructor(e,n,r,i){this._message=e,this._id=n,this._resolver=r,this._rejector=i}}const iL=30*1e3,sL=15*1e3,aL=1e5;var Un;(function(t){t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting"})(Un||(Un={}));class R3{static create(e,n,r,i,s,a,l){return new R3(e,n,r,i,s,a,l)}constructor(e,n,r,i,s,a,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(ve.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Mr.isRequired(e,"connection"),Mr.isRequired(n,"logger"),Mr.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=s??iL,this.keepAliveIntervalInMilliseconds=a??sL,this._statefulReconnectBufferSize=l??aL,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=i,this._handshakeProtocol=new eL,this.connection.onreceive=u=>this._processIncomingData(u),this.connection.onclose=u=>this._connectionClosed(u),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Un.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:pt.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Un.Disconnected&&this._connectionState!==Un.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Un.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Un.Connecting,this._logger.log(ve.Debug,"Starting HubConnection.");try{await this._startInternal(),$n.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Un.Connected,this._connectionStarted=!0,this._logger.log(ve.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Un.Disconnected,this._logger.log(ve.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(ve.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(ve.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new nL(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(ve.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===Un.Disconnected)return this._logger.log(ve.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Un.Disconnecting)return this._logger.log(ve.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Un.Disconnecting,this._logger.log(ve.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(ve.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Un.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new mo("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,i]=this._replaceStreamingParams(n),s=this._createStreamInvocation(e,n,i);let a;const l=new tL;return l.cancelCallback=()=>{const u=this._createCancelInvocation(s.invocationId);return delete this._callbacks[s.invocationId],a.then(()=>this._sendWithProtocol(u))},this._callbacks[s.invocationId]=(u,d)=>{if(d){l.error(d);return}else u&&(u.type===pt.Completion?u.error?l.error(new Error(u.error)):l.complete():l.next(u.item))},a=this._sendWithProtocol(s).catch(u=>{l.error(u),delete this._callbacks[s.invocationId]}),this._launchStreams(r,a),l}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,i]=this._replaceStreamingParams(n),s=this._sendWithProtocol(this._createInvocation(e,n,!0,i));return this._launchStreams(r,s),s}invoke(e,...n){const[r,i]=this._replaceStreamingParams(n),s=this._createInvocation(e,n,!1,i);return new Promise((l,u)=>{this._callbacks[s.invocationId]=(p,g)=>{if(g){u(g);return}else p&&(p.type===pt.Completion?p.error?u(new Error(p.error)):l(p.result):u(new Error(`Unexpected message type: ${p.type}`)))};const d=this._sendWithProtocol(s).catch(p=>{u(p),delete this._callbacks[s.invocationId]});this._launchStreams(r,d)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case pt.Invocation:this._invokeClientMethod(r).catch(i=>{this._logger.log(ve.Error,`Invoke client method threw error: ${cS(i)}`)});break;case pt.StreamItem:case pt.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===pt.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(s){this._logger.log(ve.Error,`Stream callback threw error: ${cS(s)}`)}}break}case pt.Ping:break;case pt.Close:{this._logger.log(ve.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case pt.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case pt.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(ve.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(i){const s="Error parsing handshake response: "+i;this._logger.log(ve.Error,s);const a=new Error(s);throw this._handshakeRejecter(a),a}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(ve.Error,i);const s=new Error(i);throw this._handshakeRejecter(s),s}else this._logger.log(ve.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Un.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(ve.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(ve.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),s=!!e.invocationId;let a,l,u;for(const d of i)try{const p=a;a=await d.apply(this,e.arguments),s&&a&&p&&(this._logger.log(ve.Error,`Multiple results provided for '${n}'. Sending error to server.`),u=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),l=void 0}catch(p){l=p,this._logger.log(ve.Error,`A callback for the method '${n}' threw error '${p}'.`)}u?await this._sendWithProtocol(u):s?(l?u=this._createCompletionMessage(e.invocationId,`${l}`,null):a!==void 0?u=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(ve.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),u=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(u)):a&&this._logger.log(ve.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(ve.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new mo("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Un.Disconnecting?this._completeClose(e):this._connectionState===Un.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Un.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Un.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),$n.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(ve.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,i=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),s=this._getNextRetryDelay(r++,0,i);if(s===null){this._logger.log(ve.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Un.Reconnecting,e?this._logger.log(ve.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(ve.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(a=>a.apply(this,[e]))}catch(a){this._logger.log(ve.Error,`An onreconnecting callback called with error '${e}' threw error '${a}'.`)}if(this._connectionState!==Un.Reconnecting){this._logger.log(ve.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;s!==null;){if(this._logger.log(ve.Information,`Reconnect attempt number ${r} will start in ${s} ms.`),await new Promise(a=>{this._reconnectDelayHandle=setTimeout(a,s)}),this._reconnectDelayHandle=void 0,this._connectionState!==Un.Reconnecting){this._logger.log(ve.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Un.Connected,this._logger.log(ve.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(a=>a.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(ve.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(ve.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==Un.Reconnecting){this._logger.log(ve.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Un.Disconnecting&&this._completeClose();return}i=a instanceof Error?a:new Error(a.toString()),s=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(ve.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(i){return this._logger.log(ve.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,e)}catch(s){this._logger.log(ve.Error,`Stream 'error' callback called with '${e}' threw error: ${cS(s)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:e,type:pt.Invocation}:{arguments:n,target:e,type:pt.Invocation};{const s=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:s.toString(),streamIds:i,target:e,type:pt.Invocation}:{arguments:n,invocationId:s.toString(),target:e,type:pt.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let s;i instanceof Error?s=i.message:i&&i.toString?s=i.toString():s="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,s)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(this._isObservable(s)){const a=this._invocationId;this._invocationId++,n[a]=s,r.push(a.toString()),e.splice(i,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:e,type:pt.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:e,type:pt.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:pt.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:pt.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:pt.Completion}:{invocationId:e,result:r,type:pt.Completion}}_createCloseMessage(){return{type:pt.Close}}}const oL=[0,2e3,1e4,3e4,null];class G5{constructor(e){this._retryDelays=e!==void 0?[...e,null]:oL}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class od{}od.Authorization="Authorization";od.Cookie="Cookie";class lL extends Ax{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[od.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[od.Authorization]&&delete e.headers[od.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var Hr;(function(t){t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling"})(Hr||(Hr={}));var Bi;(function(t){t[t.Text=1]="Text",t[t.Binary=2]="Binary"})(Bi||(Bi={}));let cL=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class q5{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new cL,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(Mr.isRequired(e,"url"),Mr.isRequired(n,"transferFormat"),Mr.isIn(n,Bi,"transferFormat"),this._url=e,this._logger.log(ve.Trace,"(LongPolling transport) Connecting."),n===Bi.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=Cp(),s={[r]:i,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:s,timeout:1e5,withCredentials:this._options.withCredentials};n===Bi.Binary&&(a.responseType="arraybuffer");const l=`${e}&_=${Date.now()}`;this._logger.log(ve.Trace,`(LongPolling transport) polling: ${l}.`);const u=await this._httpClient.get(l,a);u.statusCode!==200?(this._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${u.statusCode}.`),this._closeError=new ad(u.statusText||"",u.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(ve.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(ve.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(ve.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new ad(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(ve.Trace,`(LongPolling transport) data received. ${k0(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof N3?this._logger.log(ve.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(ve.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(ve.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?PM(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(ve.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(ve.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=Cp();e[n]=r;const i={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let s;try{await this._httpClient.delete(this._url,i)}catch(a){s=a}s?s instanceof ad&&(s.statusCode===404?this._logger.log(ve.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(ve.Trace,`(LongPolling transport) Error sending a DELETE request: ${s}`)):this._logger.log(ve.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(ve.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(ve.Trace,e),this.onclose(this._closeError)}}}class uL{constructor(e,n,r,i){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(e,n){return Mr.isRequired(e,"url"),Mr.isRequired(n,"transferFormat"),Mr.isIn(n,Bi,"transferFormat"),this._logger.log(ve.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let s=!1;if(n!==Bi.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let a;if($n.isBrowser||$n.isWebWorker)a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(e),u={};u.Cookie=l;const[d,p]=Cp();u[d]=p,a=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...u,...this._options.headers}})}try{a.onmessage=l=>{if(this.onreceive)try{this._logger.log(ve.Trace,`(SSE transport) data received. ${k0(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(u){this._close(u);return}},a.onerror=l=>{s?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{this._logger.log(ve.Information,`SSE connected to ${this._url}`),this._eventSource=a,s=!0,r()}}catch(l){i(l);return}})}async send(e){return this._eventSource?PM(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class fL{constructor(e,n,r,i,s,a){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=s,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,n){Mr.isRequired(e,"url"),Mr.isRequired(n,"transferFormat"),Mr.isIn(n,Bi,"transferFormat"),this._logger.log(ve.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,s)=>{e=e.replace(/^http/,"ws");let a;const l=this._httpClient.getCookieString(e);let u=!1;if($n.isNode||$n.isReactNative){const d={},[p,g]=Cp();d[p]=g,r&&(d[od.Authorization]=`Bearer ${r}`),l&&(d[od.Cookie]=l),a=new this._webSocketConstructor(e,void 0,{headers:{...d,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);a||(a=new this._webSocketConstructor(e)),n===Bi.Binary&&(a.binaryType="arraybuffer"),a.onopen=d=>{this._logger.log(ve.Information,`WebSocket connected to ${e}.`),this._webSocket=a,u=!0,i()},a.onerror=d=>{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="There was an error with the transport",this._logger.log(ve.Information,`(WebSockets transport) ${p}.`)},a.onmessage=d=>{if(this._logger.log(ve.Trace,`(WebSockets transport) data received. ${k0(d.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(d.data)}catch(p){this._close(p);return}},a.onclose=d=>{if(u)this._close(d);else{let p=null;typeof ErrorEvent<"u"&&d instanceof ErrorEvent?p=d.error:p="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(p))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(ve.Trace,`(WebSockets transport) sending data. ${k0(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(ve.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const V5=100;class dL{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Mr.isRequired(e,"url"),this._logger=qj(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;if($n.isNode&&typeof require<"u"){const s=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=s("ws"),i=s("eventsource")}!$n.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:$n.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!$n.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:$n.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new lL(n.httpClient||new Zj(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||Bi.Binary,Mr.isIn(e,Bi,"transferFormat"),this._logger.log(ve.Debug,`Starting connection with transfer format '${Bi[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(ve.Error,n),await this._stopPromise,Promise.reject(new mo(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(ve.Error,n),Promise.reject(new mo(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new O3(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(ve.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(ve.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(ve.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(ve.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===Hr.WebSockets)this.transport=this._constructTransport(Hr.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new mo("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const s=r.accessToken;this._accessTokenFactory=()=>s,this._httpClient._accessToken=s,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<V5);if(i===V5&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof q5&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(ve.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(ve.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,i]=Cp();n[r]=i;const s=this._resolveNegotiateUrl(e);this._logger.log(ve.Debug,`Sending negotiation request: ${s}.`);try{const a=await this._httpClient.post(s,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(a.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));const l=JSON.parse(a.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new U5("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(a){let l="Failed to complete negotiation with the server: "+a;return a instanceof ad&&a.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(ve.Error,l),Promise.reject(new U5(l))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,i){let s=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(ve.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(s,i),this.connectionId=r.connectionId;return}const a=[],l=r.availableTransports||[];let u=r;for(const d of l){const p=this._resolveTransportOrError(d,n,i,u?.useStatefulReconnect===!0);if(p instanceof Error)a.push(`${d.transport} failed:`),a.push(p);else if(this._isITransport(p)){if(this.transport=p,!u){try{u=await this._getNegotiationResponse(e)}catch(g){return Promise.reject(g)}s=this._createConnectUrl(e,u.connectionToken)}try{await this._startTransport(s,i),this.connectionId=u.connectionId;return}catch(g){if(this._logger.log(ve.Error,`Failed to start the transport '${d.transport}': ${g}`),u=void 0,a.push(new Hj(`${d.transport} failed: ${g}`,Hr[d.transport])),this._connectionState!=="Connecting"){const b="Failed to select transport before stop() was called.";return this._logger.log(ve.Debug,b),Promise.reject(new mo(b))}}}}return a.length>0?Promise.reject(new Uj(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case Hr.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new fL(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Hr.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new uL(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Hr.LongPolling:return new q5(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,i){const s=Hr[e.transport];if(s==null)return this._logger.log(ve.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(hL(n,s))if(e.transferFormats.map(l=>Bi[l]).indexOf(r)>=0){if(s===Hr.WebSockets&&!this._options.WebSocket||s===Hr.ServerSentEvents&&!this._options.EventSource)return this._logger.log(ve.Debug,`Skipping transport '${Hr[s]}' because it is not supported in your environment.'`),new Bj(`'${Hr[s]}' is not supported in your environment.`,s);this._logger.log(ve.Debug,`Selecting transport '${Hr[s]}'.`);try{return this.features.reconnect=s===Hr.WebSockets?i:void 0,this._constructTransport(s)}catch(l){return l}}else return this._logger.log(ve.Debug,`Skipping transport '${Hr[s]}' because it does not support the requested transfer format '${Bi[r]}'.`),new Error(`'${Hr[s]}' does not support ${Bi[r]}.`);else return this._logger.log(ve.Debug,`Skipping transport '${Hr[s]}' because it was disabled by the client.`),new Ij(`'${Hr[s]}' is disabled by the client.`,s)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(ve.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(ve.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(ve.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(ve.Error,`Connection disconnected with error '${e}'.`):this._logger.log(ve.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(ve.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(ve.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!$n.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(ve.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function hL(t,e){return!t||(e&t)!==0}class O3{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new ob,this._transportResult=new ob,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new ob),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new ob;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):O3._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(s=>s.byteLength).reduce((s,a)=>s+a),r=new Uint8Array(n);let i=0;for(const s of e)r.set(new Uint8Array(s),i),i+=s.byteLength;return r.buffer}}class ob{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const pL="json";class mL{constructor(){this.name=pL,this.version=2,this.transferFormat=Bi.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=E0.instance);const r=ta.parse(e),i=[];for(const s of r){const a=JSON.parse(s);if(typeof a.type!="number")throw new Error("Invalid payload.");switch(a.type){case pt.Invocation:this._isInvocationMessage(a);break;case pt.StreamItem:this._isStreamItemMessage(a);break;case pt.Completion:this._isCompletionMessage(a);break;case pt.Ping:break;case pt.Close:break;case pt.Ack:this._isAckMessage(a);break;case pt.Sequence:this._isSequenceMessage(a);break;default:n.log(ve.Information,"Unknown message type '"+a.type+"' ignored.");continue}i.push(a)}return i}writeMessage(e){return ta.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const gL={trace:ve.Trace,debug:ve.Debug,info:ve.Information,information:ve.Information,warn:ve.Warning,warning:ve.Warning,error:ve.Error,critical:ve.Critical,none:ve.None};function yL(t){const e=gL[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}class BM{configureLogging(e){if(Mr.isRequired(e,"logging"),bL(e))this.logger=e;else if(typeof e=="string"){const n=yL(e);this.logger=new uv(n)}else this.logger=new uv(e);return this}withUrl(e,n){return Mr.isRequired(e,"url"),Mr.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return Mr.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new G5(e):this.reconnectPolicy=e:this.reconnectPolicy=new G5,this}withServerTimeout(e){return Mr.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Mr.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new dL(this.url,e);return R3.create(n,this.logger||E0.instance,this.protocol||new mL,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function bL(t){return t.log!==void 0}const vL=N.createContext(null);function xL({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState([]);N.useEffect(()=>{let a=!1;return(async()=>{try{if(!await wp().catch(()=>null)&&!a){console.warn("SignalR init skipped (no auth token)");return}if(a)return;const u=new BM().withUrl("/hubs/notifications",{accessTokenFactory:async()=>{try{return await wp()}catch{return""}}}).withAutomaticReconnect().configureLogging(ve.Information).build();a||n(u)}catch(l){console.warn("SignalR init skipped (no auth token)",l)}})(),()=>{a=!0}},[]),N.useEffect(()=>{if(e)return e.start().then(()=>{console.log("SignalR Connected"),e.on("ReceiveNotification",(a,l,u)=>{console.log("Notification received:",a,l);const d=Math.random().toString(36).substring(7);i(p=>[...p,{id:d,title:a,message:l,severity:u||"info"}]),setTimeout(()=>{i(p=>p.filter(g=>g.id!==d))},5e3)})}).catch(a=>console.error("SignalR Connection Error: ",a)),()=>{e.stop()}},[e]);const s=a=>{i(l=>l.filter(u=>u.id!==a))};return E.jsxs(vL.Provider,{value:{connection:e,notifications:r,removeNotification:s},children:[t,E.jsxs(gM,{children:[r.map(a=>E.jsx(_3,{open:!0,onOpenChange:()=>s(a.id),variant:a.severity==="info"?"default":a.severity,children:E.jsxs("div",{className:"grid gap-1",children:[E.jsx(M3,{children:a.title}),E.jsx(A3,{children:a.message})]})},a.id)),E.jsx(T3,{})]})]})}const SL=N.createContext(null);function wL({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState({});return N.useEffect(()=>{let s=!1;return(async()=>{try{if(!await wp().catch(()=>null)&&!s){console.warn("PrivacyDataHub init skipped (no auth token)");return}if(s)return;const l=new BM().withUrl("/hubs/privacydata",{accessTokenFactory:async()=>{try{return await wp()}catch{return""}}}).withAutomaticReconnect().configureLogging(ve.Information).build();s||n(l)}catch(a){console.warn("PrivacyDataHub init skipped (no auth token)",a)}})(),()=>{s=!0}},[]),N.useEffect(()=>{if(e)return e.start().then(()=>{console.log("PrivacyDataHub Connected"),e.on("ReceivePrivacyData",(s,a)=>{i(l=>({...l,[s]:a}))})}).catch(s=>console.error("PrivacyDataHub Connection Error: ",s)),()=>{e.stop()}},[e]),E.jsx(SL.Provider,{value:{data:r},children:t})}const zu={"win-dashboard":{id:"win-dashboard",title:"Dashboard",icon:"fa-grid-2"},"win-email":{id:"win-email",title:"Email",icon:"fa-envelope"},"win-notes":{id:"win-notes",title:"Notes",icon:"fa-note-sticky"},"win-kanban":{id:"win-kanban",title:"Kanban",icon:"fa-list-check"},"win-whiteboard":{id:"win-whiteboard",title:"Canvas",icon:"fa-pen-nib"},"win-jarvis":{id:"win-jarvis",title:"Jarvis",icon:"fa-robot"},"win-files":{id:"win-files",title:"Files",icon:"fa-folder-open"},"win-flashcards":{id:"win-flashcards",title:"Flashcards",icon:"fa-layer-group"},"win-account-settings":{id:"win-account-settings",title:"Account",icon:"fa-user-shield"}},IM=N.createContext(void 0),CL=({children:t})=>{const[e,n]=N.useState(["win-dashboard"]),[r,i]=N.useState([]),[s,a]=N.useState("win-dashboard"),[l,u]=N.useState(!1),[d,p]=N.useState([]),[g,b]=N.useState("work"),[x,S]=N.useState(!1),k=()=>{S(X=>{const W=!X;return W?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),W})},[_,A]=N.useState(null),[O,z]=N.useState(!1),L=X=>{if(r.includes(X)){i(W=>W.filter(le=>le!==X)),H(X);return}if(e.includes(X)){H(X);return}if(l&&d.length>0){A(X),z(!0);return}n(W=>[...W,X]),H(X)},H=X=>{r.includes(X)&&i(W=>W.filter(le=>le!==X)),s&&s!==X&&l&&d.length===2&&(d.includes(s)||i(W=>[...W,s])),a(X),d.length>0&&d.includes(X)&&u(!0)},j=X=>{if(n(W=>W.filter(le=>le!==X)),i(W=>W.filter(le=>le!==X)),d.length>0&&d.includes(X)){const W=d.find(le=>le!==X);if(p([]),u(!1),W)a(W);else if(e.length>1){const le=e.filter(ee=>ee!==X);le.length>0?a(le[le.length-1]):a(null)}}else{const W=e.filter(le=>le!==X);s===X&&W.length>0&&a(W[W.length-1])}},P=X=>{if(r.includes(X)||i(W=>[...W,X]),s===X){const le=e.filter(ee=>ee!==X&&!r.includes(ee)).filter(ee=>ee!==X);le.length>0?a(le[le.length-1]):a(null)}},I=(X,W)=>{u(!0),p([X,W]),a(X),n(le=>{const ee=new Set(le);return ee.add(X),ee.add(W),Array.from(ee)}),i(le=>le.filter(ee=>ee!==X&&ee!==W))},Y=X=>{if(z(!1),!!_){if(e.includes(_)||n(W=>[...W,_]),i(W=>W.filter(le=>le!==_)),X==="over")H(_);else if(X==="left"){const W=d[1];W?I(_,W):console.warn("No right app to snap to")}else if(X==="right"){const W=d[0];W?I(W,_):console.warn("No left app to snap to")}A(null)}},G=X=>{b(X),L("win-files")};return E.jsx(IM.Provider,{value:{openApps:e,minimizedApps:r,activeApp:s,splitMode:l,splitApps:d,currentWorkspace:g,launchApp:L,closeApp:j,minimizeApp:P,focusApp:H,snapPair:I,openWorkspace:G,pendingLaunchId:_,setPendingLaunchId:A,showPlacementModal:O,setShowPlacementModal:z,confirmPlacement:Y,isDarkMode:x,toggleDarkMode:k},children:t})},Ep=()=>{const t=N.useContext(IM);if(!t)throw new Error("useWindowManager must be used within a WindowManagerProvider");return t},Zl=({id:t,children:e,headerChips:n})=>{const{openApps:r,minimizedApps:i,activeApp:s,splitMode:a,splitApps:l,closeApp:u,minimizeApp:d,focusApp:p,snapPair:g}=Ep(),[b,x]=N.useState(!1),S=N.useRef(null),k=r.includes(t),_=i.includes(t),A=s===t,O=a&&l[0]===t,z=a&&l[1]===t;let L="window-app flex flex-col bg-paper dark:bg-gray-900 border-2 border-ink shadow-hard rounded-xl overflow-hidden absolute transition-all duration-300 ";if(!k||_)L+=" hidden-app opacity-0 pointer-events-none z-[-1]";else if(O)L+=" split-left z-20 w-[calc(50%-8px)] left-0 top-0 bottom-0 rounded-l-xl rounded-r-none border-r border-border";else if(z)L+=" split-right z-20 w-[calc(50%-8px)] right-0 top-0 bottom-0 rounded-r-xl rounded-l-none border-l border-border";else{const P=a&&(l.length===0||!l.includes(t));L+=" maximized w-full h-full left-0 top-0 ",L+=P?" z-30":" z-10",A&&!P?L+=" z-20":!A&&!P&&(L+=" z-10")}N.useEffect(()=>{function P(I){S.current&&!S.current.contains(I.target)&&x(!1)}return b&&document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[b]);const H=P=>{g(t,P),x(!1)},j=r.filter(P=>l.length===0?P!==t:P!==t&&!l.includes(P)&&!i.includes(P));return E.jsxs("div",{id:t,className:L,onClick:()=>p(t),style:!k||_?{display:"none"}:{},children:[E.jsxs("div",{className:"h-12 border-b-2 border-border bg-subtle flex items-center justify-between px-4 shrink-0 select-none",children:[E.jsxs("div",{className:"flex items-center gap-3 font-bold text-sm text-ink",children:[E.jsx("i",{className:`fa-solid ${zu[t].icon} ${t==="win-dashboard"?"text-accent-blue":t==="win-notes"?"text-accent-yellow":""}`}),zu[t].title]}),E.jsx("div",{className:"flex-1 flex justify-center gap-2 overflow-hidden px-4",children:n}),E.jsxs("div",{className:"flex gap-2 items-center relative",children:[E.jsx("button",{className:"hover:text-accent-blue px-2",onClick:P=>{P.stopPropagation(),d(t)},title:"Minimize",children:E.jsx("i",{className:"fa-solid fa-minus"})}),E.jsx("button",{className:"hover:text-accent-blue px-2 hidden md:inline",onClick:P=>{P.stopPropagation(),x(!b)},children:E.jsx("i",{className:"fa-solid fa-table-columns"})}),E.jsx("button",{className:"hover:text-accent-red px-2",onClick:P=>{P.stopPropagation(),u(t)},children:E.jsx("i",{className:"fa-solid fa-xmark"})}),b&&E.jsx("div",{ref:S,className:"split-dropdown open absolute top-8 right-0 bg-white border-2 border-ink rounded-lg shadow-hard z-50 w-48",children:E.jsx("div",{className:"p-1",children:j.length===0?E.jsx("div",{className:"text-center text-gray-400 italic p-2 text-xs",children:"No other free apps"}):j.map(P=>E.jsxs("button",{onClick:()=>H(P),className:"w-full text-left flex items-center gap-2 p-2 hover:bg-gray-100 rounded text-xs font-medium text-ink",children:[E.jsx("i",{className:`fa-solid ${zu[P].icon} text-gray-500`})," ",zu[P].title]},P))})})]})]}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:e})]})},EL=({onToggleStart:t})=>{const{openApps:e,minimizedApps:n,activeApp:r,splitMode:i,splitApps:s,focusApp:a,isDarkMode:l,toggleDarkMode:u}=Ep(),d=new Set,[p,g]=N.useState(!1),b=typeof window<"u"&&localStorage.getItem("focusdeck_user")||"Guest",{launchApp:x}=Ep();return E.jsxs("div",{className:"h-14 bg-subtle dark:bg-gray-900 border-t-2 border-border dark:border-gray-700 flex items-center px-2 md:px-4 gap-2 md:gap-4 z-50 shrink-0 relative shadow-[0_-4px_10px_rgba(0,0,0,0.02)] transition-colors duration-300",children:[E.jsxs("button",{onClick:t,className:"h-10 px-4 bg-ink dark:bg-white text-white dark:text-black rounded-lg font-bold text-sm flex items-center gap-2 shadow-hard hover:bg-gray-800 dark:hover:bg-gray-200 transition-all active:scale-95",children:[E.jsx("i",{className:"fa-solid fa-layer-group"})," ",E.jsx("span",{className:"hidden md:inline",children:"Start"})]}),E.jsx("button",{onClick:u,className:"h-10 w-10 flex items-center justify-center rounded-lg hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-ink dark:text-white",title:"Toggle Dark Mode",children:E.jsx("i",{className:`fa-solid ${l?"fa-sun":"fa-moon"}`})}),E.jsx("div",{className:"w-px h-8 bg-gray-300 dark:bg-gray-700 hidden md:block"}),E.jsxs("div",{className:"relative mr-2",children:[E.jsxs("button",{onClick:()=>g(S=>!S),className:"h-10 px-3 rounded-lg flex items-center gap-2 bg-white dark:bg-gray-800 border-2 border-ink dark:border-gray-600 text-ink dark:text-gray-200 text-sm font-bold shadow-hard hover:bg-gray-100 dark:hover:bg-gray-700 transition active:scale-[0.97]",children:[E.jsx("i",{className:"fa-solid fa-user-shield"}),E.jsx("span",{className:"hidden sm:inline max-w-[140px] truncate",children:b}),E.jsx("i",{className:`fa-solid fa-chevron-${p?"up":"down"} text-xs opacity-70`})]}),p&&E.jsxs("div",{className:"absolute left-0 mt-2 w-56 bg-surface border-2 border-ink rounded-xl shadow-hard z-50 overflow-hidden",children:[E.jsxs("div",{className:"px-4 py-3 border-b-2 border-ink bg-subtle flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-id-badge text-accent-blue"}),E.jsx("div",{className:"text-xs font-mono truncate",title:b,children:b})]}),E.jsxs("div",{className:"flex flex-col py-2",children:[E.jsxs("button",{onClick:()=>{g(!1),x("win-account-settings")},className:"text-left px-4 py-2 text-xs font-semibold hover:bg-white/70 dark:hover:bg-gray-800 transition flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-gears"})," Account Settings"]}),E.jsxs("button",{onClick:()=>{g(!1),localStorage.removeItem("fd.accessToken"),localStorage.removeItem("fd.refreshToken"),localStorage.removeItem("fd.userId"),window.location.href="/login"},className:"text-left px-4 py-2 text-xs font-semibold hover:bg-white/70 dark:hover:bg-gray-800 transition flex items-center gap-2 text-red-600",children:[E.jsx("i",{className:"fa-solid fa-right-from-bracket"})," Sign Out"]})]})]})]}),E.jsx("div",{className:"flex-1 flex items-end gap-2 overflow-x-auto h-full pb-1 no-scrollbar",id:"task-dock",children:e.map(S=>{if(d.has(S))return null;if(i&&s.length===2&&s.includes(S)){const A=s[0],O=s[1],z=r===A||r===O;return d.add(A),d.add(O),E.jsxs("div",{onClick:()=>a(A),className:`h-10 px-3 flex items-center gap-2 transition-all cursor-pointer border-t-2 border-transparent rounded-t-lg mr-1 relative group ${z?"bg-white border-ink shadow-sm -translate-y-[2px]":"bg-gray-200/50 text-gray-500 hover:bg-gray-200"}`,children:[E.jsxs("div",{className:"flex items-center text-xs gap-0 bg-gray-100 px-2 py-1 rounded-full border border-gray-200 relative",children:[E.jsx("i",{className:`fa-solid ${zu[A].icon} z-10 relative`}),E.jsx("div",{className:"w-4 h-[1px] bg-gray-400 mx-1"}),E.jsx("i",{className:`fa-solid ${zu[O].icon} z-10 relative`})]}),E.jsx("span",{className:"text-xs font-bold hidden md:inline ml-1 text-ink",children:"Context Group"}),z&&E.jsx("div",{className:"absolute bottom-0 left-2 right-2 h-[2px] bg-accent-blue"})]},`${A}-${O}`)}d.add(S);const k=r===S,_=n.includes(S);return E.jsxs("button",{onClick:()=>a(S),className:`task-tab h-10 px-3 md:px-4 rounded-t-lg flex items-center gap-2 text-sm font-medium transition-all flex-shrink-0 relative
                        ${k?"active text-ink font-bold bg-white border-t-2 border-ink shadow-sm -translate-y-[2px]":_?"opacity-50 hover:opacity-100 bg-gray-100 border-t-2 border-transparent hover:bg-white/50":"text-gray-500 hover:bg-white/50 border-t-2 border-transparent"}`,children:[E.jsx("i",{className:`fa-solid ${zu[S].icon} ${k?"text-accent-blue":""}`}),E.jsx("span",{className:"hidden md:inline",children:zu[S].title}),k&&E.jsx("div",{className:"absolute bottom-0 left-2 right-2 h-[2px] bg-accent-blue"}),_&&E.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-gray-400 rounded-full"})]},S)})})]})},kL=({isOpen:t,onClose:e})=>{const{launchApp:n,openWorkspace:r}=Ep(),i=`fixed bottom-14 left-0 w-full md:bottom-16 md:left-4 md:w-[650px] bg-white border-t-2 md:border-2 border-ink shadow-hard rounded-t-xl md:rounded-lg overflow-hidden flex flex-col z-50 h-[70vh] md:h-[550px] transition-all duration-200 origin-bottom-left ${t?"scale-100 opacity-100 pointer-events-auto translate-y-0":"scale-95 opacity-0 pointer-events-none translate-y-5"}`,s=l=>{n(l),e()},a=l=>{r(l),e()};return E.jsxs("div",{id:"start-menu",className:i,children:[E.jsxs("div",{className:"h-16 border-b border-gray-200 p-4 flex items-center gap-3 shrink-0 bg-white",children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass text-gray-400"}),E.jsx("input",{type:"text",placeholder:"Search apps, files...",className:"flex-1 outline-none text-sm font-medium placeholder-gray-400 h-full"}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:e,children:E.jsx("i",{className:"fa-solid fa-chevron-down"})})})]}),E.jsxs("div",{className:"flex flex-1 overflow-hidden flex-col md:flex-row",children:[E.jsxs("div",{className:"w-full md:w-48 bg-ink text-gray-300 flex flex-row md:flex-col py-4 px-4 items-center md:items-start shrink-0 md:border-r md:border-gray-800",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-0 md:mb-6",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-accent-purple to-accent-blue flex items-center justify-center text-white font-bold text-lg",children:"JD"}),E.jsx("div",{className:"text-white font-bold text-sm",children:"John Doe"})]}),E.jsxs("div",{className:"flex md:flex-col gap-1 ml-auto md:ml-0 w-full md:w-auto",children:[E.jsxs("button",{onClick:()=>s("win-dashboard"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-grid-2 w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Dashboard"})]}),E.jsxs("button",{onClick:()=>s("win-jarvis"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-robot w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Jarvis"})]}),E.jsxs("button",{onClick:()=>s("win-email"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-envelope w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Email"})]}),E.jsxs("button",{onClick:()=>s("win-whiteboard"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-pen-nib w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Canvas"})]}),E.jsxs("button",{onClick:()=>s("win-flashcards"),className:"w-full text-left px-3 py-2 rounded hover:bg-gray-800 text-xs font-medium flex items-center gap-3",children:[E.jsx("i",{className:"fa-solid fa-layer-group w-4"})," ",E.jsx("span",{className:"hidden md:inline",children:"Flashcards"})]})]})]}),E.jsxs("div",{className:"flex-1 bg-subtle overflow-y-auto p-2 md:p-4",children:[E.jsx("div",{className:"px-2 py-2 text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Your Workspaces"}),E.jsx("div",{className:"mb-2 bg-white rounded-lg border border-transparent hover:border-gray-200 shadow-sm overflow-hidden transition-all cursor-pointer hover:bg-gray-50",onClick:()=>a("work"),children:E.jsxs("div",{className:"flex items-center px-4 py-3",children:[E.jsx("div",{className:"w-8 h-8 rounded bg-blue-100 flex items-center justify-center text-blue-600 mr-3",children:E.jsx("i",{className:"fa-solid fa-briefcase"})}),E.jsx("div",{className:"flex-1",children:E.jsx("div",{className:"text-sm font-bold text-ink",children:"Work Mode"})})]})}),E.jsx("div",{className:"mb-2 bg-white rounded-lg border border-transparent hover:border-gray-200 shadow-sm overflow-hidden transition-all cursor-pointer hover:bg-gray-50",onClick:()=>a("school"),children:E.jsxs("div",{className:"flex items-center px-4 py-3",children:[E.jsx("div",{className:"w-8 h-8 rounded bg-yellow-100 flex items-center justify-center text-yellow-600 mr-3",children:E.jsx("i",{className:"fa-solid fa-graduation-cap"})}),E.jsx("div",{className:"flex-1",children:E.jsx("div",{className:"text-sm font-bold text-ink",children:"School Mode"})})]})})]})]})]})},TL=()=>{const{showPlacementModal:t,confirmPlacement:e,setShowPlacementModal:n}=Ep();return t?E.jsx("div",{id:"placement-modal",className:"absolute inset-0 z-[60] flex items-center justify-center p-4 backdrop-blur-sm bg-paper/80",children:E.jsxs("div",{className:"bg-white border-2 border-ink rounded-xl shadow-hard p-6 w-full max-w-md",children:[E.jsx("h3",{className:"text-lg font-bold mb-4 text-center text-ink",children:"Where should this open?"}),E.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[E.jsxs("button",{onClick:()=>e("left"),className:"flex flex-col items-center p-3 border rounded hover:bg-gray-50 hover:border-black transition-all",children:[E.jsxs("div",{className:"flex gap-1 w-12 h-8 mb-2 border border-gray-300 rounded p-0.5",children:[E.jsx("div",{className:"w-1/2 h-full bg-blue-500 rounded-sm"}),E.jsx("div",{className:"w-1/2 h-full bg-gray-200 rounded-sm"})]}),E.jsx("span",{className:"text-xs font-bold text-ink",children:"Replace Left"})]}),E.jsxs("button",{onClick:()=>e("right"),className:"flex flex-col items-center p-3 border rounded hover:bg-gray-50 hover:border-black transition-all",children:[E.jsxs("div",{className:"flex gap-1 w-12 h-8 mb-2 border border-gray-300 rounded p-0.5",children:[E.jsx("div",{className:"w-1/2 h-full bg-gray-200 rounded-sm"}),E.jsx("div",{className:"w-1/2 h-full bg-blue-500 rounded-sm"})]}),E.jsx("span",{className:"text-xs font-bold text-ink",children:"Replace Right"})]}),E.jsxs("button",{onClick:()=>e("over"),className:"flex flex-col items-center p-3 border rounded hover:bg-gray-50 hover:border-black transition-all",children:[E.jsx("div",{className:"w-12 h-8 mb-2 border border-gray-300 rounded bg-blue-500 p-0.5 relative",children:E.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-white border border-gray-300 rounded-full flex items-center justify-center text-[8px] text-gray-500",children:"NEW"})}),E.jsx("span",{className:"text-xs font-bold text-ink",children:"Open Over"})]})]}),E.jsx("button",{onClick:()=>n(!1),className:"w-full mt-4 text-xs font-bold text-gray-500 hover:text-black",children:"Cancel"})]})}):null},_L=()=>{const[t,e]=N.useState(1500),[n,r]=N.useState(!1),i=1500;N.useEffect(()=>{let p=null;return n&&t>0?p=setInterval(()=>{e(t-1)},1e3):t===0&&r(!1),()=>clearInterval(p)},[n,t]);const s=p=>{const g=Math.floor(p/60),b=p%60;return`${g.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`},a=(i-t)/i*100,l=60,u=2*Math.PI*l,d=u-a/100*u;return E.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-ink text-white p-4 relative overflow-hidden",children:[E.jsxs("div",{className:"relative flex items-center justify-center",children:[E.jsxs("svg",{className:"w-40 h-40 transform -rotate-90",children:[E.jsx("circle",{cx:"80",cy:"80",r:l,fill:"transparent",stroke:"currentColor",strokeWidth:"6",className:"text-gray-700"}),E.jsx("circle",{cx:"80",cy:"80",r:l,fill:"transparent",stroke:"currentColor",strokeWidth:"6",strokeDasharray:u,strokeDashoffset:d,strokeLinecap:"round",className:"text-white transition-all duration-1000 ease-linear"})]}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:E.jsx("div",{className:"text-3xl font-mono font-bold",children:s(t)})})]}),E.jsxs("div",{className:"flex gap-4 mt-4",children:[E.jsx("button",{onClick:()=>r(!n),className:"w-10 h-10 rounded-full bg-white text-ink flex items-center justify-center hover:bg-gray-200 transition-colors shadow-lg",children:E.jsx("i",{className:`fa-solid ${n?"fa-pause":"fa-play"}`})}),E.jsx("button",{onClick:()=>{r(!1),e(1500)},className:"w-10 h-10 rounded-full bg-white/20 text-white flex items-center justify-center hover:bg-white/30 transition-colors",children:E.jsx("i",{className:"fa-solid fa-rotate-right"})})]}),E.jsx("div",{className:"absolute bottom-2 right-2 text-[10px] opacity-50",children:"3/4 Sessions"})]})},ML=()=>{const[t,e]=N.useState([{id:1,text:"Review PR #102",done:!1},{id:2,text:"Email Client",done:!0},{id:3,text:"Update Docs",done:!1}]);return E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"My Day"}),E.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:t.map(n=>E.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer",onClick:()=>e(t.map(r=>r.id===n.id?{...r,done:!r.done}:r)),children:[E.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${n.done?"bg-accent-green border-accent-green text-white":"border-gray-300 dark:border-gray-600"}`,children:n.done&&E.jsx("i",{className:"fa-solid fa-check text-[10px]"})}),E.jsx("span",{className:`text-sm ${n.done?"line-through text-gray-400":"text-ink"}`,children:n.text})]},n.id))})]})},AL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"Schedule"}),E.jsxs("div",{className:"space-y-4 relative",children:[E.jsx("div",{className:"absolute left-[5px] top-2 bottom-2 w-0.5 bg-gray-200 dark:bg-gray-700"}),[{time:"10:00",title:"Team Standup",color:"bg-blue-500"},{time:"13:00",title:"Design Review",color:"bg-purple-500"},{time:"15:30",title:"Focus Time",color:"bg-green-500"}].map((t,e)=>E.jsxs("div",{className:"relative pl-4",children:[E.jsx("div",{className:`absolute left-0 top-1.5 w-3 h-3 rounded-full border-2 border-surface ${t.color}`}),E.jsx("div",{className:"text-xs font-mono text-gray-400",children:t.time}),E.jsx("div",{className:"text-sm font-medium text-ink",children:t.title})]},e))]})]}),NL=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-gradient-to-br from-blue-400 to-blue-600 text-white p-4",children:[E.jsx("i",{className:"fa-solid fa-cloud-sun text-4xl mb-2 animate-pulse"}),E.jsx("div",{className:"text-2xl font-bold",children:"72F"}),E.jsx("div",{className:"text-xs opacity-80",children:"Partly Cloudy"}),E.jsx("div",{className:"text-xs font-mono mt-2 opacity-60",children:"10:42 AM"})]}),RL=()=>{const[t,e]=N.useState(!1);return E.jsxs("div",{className:"flex items-center h-full bg-gradient-to-br from-gray-900 to-black text-white p-0 overflow-hidden relative group",children:[E.jsxs("div",{className:"relative h-full w-24 shrink-0",children:[E.jsx("img",{src:"https://picsum.photos/200",alt:"Album Art",className:"w-full h-full object-cover opacity-80 group-hover:opacity-60 transition-opacity"}),E.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors"})]}),E.jsxs("div",{className:"flex-1 p-4 z-10 flex flex-col justify-center",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("i",{className:"fa-brands fa-spotify text-green-500 text-lg"}),E.jsx("span",{className:"text-xs text-green-500 font-bold uppercase tracking-wide",children:"Now Playing"})]}),E.jsx("div",{className:"font-bold text-lg truncate leading-tight",children:"Lo-Fi Beats to Study To"}),E.jsx("div",{className:"text-xs text-gray-400 truncate mb-3",children:"Lofi Girl  2024 Mix"}),E.jsx("div",{className:"w-full h-1 bg-gray-700 rounded-full mb-3 overflow-hidden",children:E.jsx("div",{className:"h-full bg-white w-1/3 rounded-full"})}),E.jsxs("div",{className:"flex items-center gap-6 text-xl",children:[E.jsx("button",{className:"text-gray-400 hover:text-white transition-colors",children:E.jsx("i",{className:"fa-solid fa-backward-step"})}),E.jsx("button",{onClick:()=>e(!t),className:"w-8 h-8 rounded-full bg-white text-black flex items-center justify-center hover:scale-110 transition-transform",children:E.jsx("i",{className:`fa-solid ${t?"fa-pause":"fa-play"} text-xs`})}),E.jsx("button",{className:"text-gray-400 hover:text-white transition-colors",children:E.jsx("i",{className:"fa-solid fa-forward-step"})})]})]}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent pointer-events-none"})]})},OL=()=>{const[t,e]=N.useState([{id:1,icon:"fa-glass-water",done:!1},{id:2,icon:"fa-book",done:!0},{id:3,icon:"fa-person-running",done:!1},{id:4,icon:"fa-moon",done:!1}]);return E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4 justify-center",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"Daily Habits"}),E.jsx("div",{className:"flex justify-between px-2",children:t.map(n=>E.jsx("button",{onClick:()=>e(t.map(r=>r.id===n.id?{...r,done:!r.done}:r)),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all ${n.done?"bg-green-500 text-white scale-110 shadow-md":"bg-subtle text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:E.jsx("i",{className:`fa-solid ${n.icon}`})},n.id))})]})},DL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-yellow-100 dark:bg-yellow-900/20 p-4 relative",children:[E.jsx("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[20px] border-r-[20px] border-t-white dark:border-t-gray-900 border-r-transparent shadow-sm"}),E.jsx("textarea",{className:"w-full h-full bg-transparent resize-none outline-none text-sm text-gray-800 dark:text-yellow-100 placeholder-yellow-700/50",placeholder:"Scratchpad..."})]}),zL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4 justify-center space-y-3",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[E.jsx("span",{className:"font-bold text-ink",children:"CS101"}),E.jsx("span",{className:"text-gray-500",children:"45%"})]}),E.jsx("div",{className:"h-1.5 bg-subtle rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-blue-500 w-[45%]"})})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[E.jsx("span",{className:"font-bold text-ink",children:"MATH202"}),E.jsx("span",{className:"text-gray-500",children:"70%"})]}),E.jsx("div",{className:"h-1.5 bg-subtle rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-purple-500 w-[70%]"})})]})]}),jL=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-surface p-6 text-center border-l-4 border-accent-yellow",children:[E.jsx("p",{className:"font-serif italic text-ink text-lg mb-2",children:'"The only way to do great work is to love what you do."'}),E.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:" Steve Jobs"})]}),LL=()=>E.jsxs("div",{className:"flex flex-col h-full bg-surface p-4",children:[E.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-gray-500 mb-3",children:"Recent"}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm text-ink hover:text-blue-500 cursor-pointer transition-colors",children:[E.jsx("i",{className:"fa-solid fa-note-sticky text-yellow-500"})," Q4_Strategy"]}),E.jsxs("div",{className:"flex items-center gap-2 text-sm text-ink hover:text-blue-500 cursor-pointer transition-colors",children:[E.jsx("i",{className:"fa-solid fa-layer-group text-blue-500"})," Study Set 4"]}),E.jsxs("div",{className:"flex items-center gap-2 text-sm text-ink hover:text-blue-500 cursor-pointer transition-colors",children:[E.jsx("i",{className:"fa-solid fa-list-check text-teal-500"})," Launch Plan"]})]})]}),uS={"focus-timer":{title:"Focus Timer",defaultW:2,defaultH:1,component:_L},tasks:{title:"Tasks",defaultW:1,defaultH:2,component:ML},calendar:{title:"Calendar",defaultW:1,defaultH:2,component:AL},weather:{title:"Weather",defaultW:1,defaultH:1,component:NL},spotify:{title:"Spotify",defaultW:2,defaultH:1,component:RL},habits:{title:"Habits",defaultW:2,defaultH:1,component:OL},"quick-note":{title:"Quick Note",defaultW:1,defaultH:1,component:DL},"course-progress":{title:"Course Progress",defaultW:1,defaultH:1,component:zL},quote:{title:"Quote",defaultW:2,defaultH:1,component:jL},"recent-files":{title:"Recent Files",defaultW:1,defaultH:1,component:LL}},PL=[{id:"w1",type:"weather",title:"Weather",w:1,h:1},{id:"w2",type:"focus-timer",title:"Focus Timer",w:2,h:1},{id:"w3",type:"tasks",title:"Tasks",w:1,h:2},{id:"w4",type:"calendar",title:"Calendar",w:1,h:2},{id:"w5",type:"spotify",title:"Spotify",w:2,h:1},{id:"w6",type:"habits",title:"Habits",w:2,h:1}],BL=()=>{const[t,e]=N.useState(PL),[n,r]=N.useState(!1),i=a=>{const l=uS[a],u={id:Date.now().toString(),type:a,title:l.title,w:l.defaultW,h:l.defaultH};e([...t,u]),r(!1)},s=a=>{e(t.filter(l=>l.id!==a))};return E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 bg-paper dark:bg-gray-900 h-full relative",children:[E.jsxs("div",{className:"max-w-6xl mx-auto",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h1",{className:"text-3xl font-display font-bold text-ink",children:"Welcome Back."}),E.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-ink text-white rounded-lg text-sm font-bold hover:opacity-80 transition-opacity",children:[E.jsx("i",{className:"fa-solid fa-plus mr-2"})," Add Widget"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[180px]",children:t.map(a=>{const l=uS[a.type].component;return E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard overflow-hidden relative group transition-all hover:shadow-lg",style:{gridColumn:`span ${a.w}`,gridRow:`span ${a.h}`},children:[E.jsx("div",{className:"absolute top-2 right-2 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx("button",{onClick:()=>s(a.id),className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-sm hover:bg-red-600",children:E.jsx("i",{className:"fa-solid fa-xmark text-xs"})})}),E.jsx(l,{})]},a.id)})})]}),n&&E.jsx("div",{className:"absolute inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-8",children:E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard w-full max-w-3xl max-h-[80vh] flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center",children:[E.jsx("h2",{className:"text-xl font-bold text-ink",children:"Add Widget"}),E.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-ink",children:E.jsx("i",{className:"fa-solid fa-xmark text-xl"})})]}),E.jsx("div",{className:"p-6 overflow-y-auto grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(uS).map(([a,l])=>E.jsxs("button",{onClick:()=>i(a),className:"flex flex-col items-center p-4 border border-border rounded-lg hover:bg-subtle hover:border-accent-blue transition-all group",children:[E.jsx("div",{className:"w-12 h-12 bg-subtle rounded-lg mb-3 flex items-center justify-center group-hover:bg-blue-100 dark:group-hover:bg-blue-900/30",children:E.jsx("i",{className:"fa-solid fa-puzzle-piece text-gray-400 group-hover:text-blue-500 text-xl"})}),E.jsx("span",{className:"font-bold text-sm text-ink",children:l.title}),E.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[l.defaultW,"x",l.defaultH]})]},a))})]})})]})};var Hp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IL={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},HL=class{#e=IL;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ed=new HL;function UL(t){setTimeout(t,0)}var pd=typeof window>"u"||"Deno"in globalThis;function ls(){}function FL(t,e){return typeof t=="function"?t(e):t}function Xw(t){return typeof t=="number"&&t>=0&&t!==1/0}function HM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bu(t,e){return typeof t=="function"?t(e):t}function La(t,e){return typeof t=="function"?t(e):t}function Y5(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==D3(a,e.options))return!1}else if(!T0(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function K5(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(md(e.options.mutationKey)!==md(s))return!1}else if(!T0(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function D3(t,e){return(e?.queryKeyHashFn||md)(t)}function md(t){return JSON.stringify(t,(e,n)=>Qw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function T0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>T0(t[n],e[n])):!1}var GL=Object.prototype.hasOwnProperty;function UM(t,e){if(t===e)return t;const n=X5(t)&&X5(e);if(!n&&!(Qw(t)&&Qw(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,l=n?new Array(a):{};let u=0;for(let d=0;d<a;d++){const p=n?d:s[d],g=t[p],b=e[p];if(g===b){l[p]=g,(n?d<i:GL.call(t,p))&&u++;continue}if(g===null||b===null||typeof g!="object"||typeof b!="object"){l[p]=b;continue}const x=UM(g,b);l[p]=x,x===g&&u++}return i===a&&u===i?t:l}function fv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function X5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Qw(t){if(!Q5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Q5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Q5(t){return Object.prototype.toString.call(t)==="[object Object]"}function qL(t){return new Promise(e=>{ed.setTimeout(e,t)})}function Ww(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?UM(t,e):e}function VL(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function YL(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var z3=Symbol();function FM(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===z3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function GM(t,e){return typeof t=="function"?t(...e):!!t}var KL=class extends Hp{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!pd&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},j3=new KL;function Jw(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var XL=UL;function QL(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=XL;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||a()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Fr=QL(),WL=class extends Hp{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!pd&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},dv=new WL;function JL(t){return Math.min(1e3*2**t,3e4)}function qM(t){return(t??"online")==="online"?dv.isOnline():!0}var $w=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function VM(t){let e=!1,n=0,r;const i=Jw(),s=()=>i.status!=="pending",a=k=>{if(!s()){const _=new $w(k);b(_),t.onCancel?.(_)}},l=()=>{e=!0},u=()=>{e=!1},d=()=>j3.isFocused()&&(t.networkMode==="always"||dv.isOnline())&&t.canRun(),p=()=>qM(t.networkMode)&&t.canRun(),g=k=>{s()||(r?.(),i.resolve(k))},b=k=>{s()||(r?.(),i.reject(k))},x=()=>new Promise(k=>{r=_=>{(s()||d())&&k(_)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),S=()=>{if(s())return;let k;const _=n===0?t.initialPromise:void 0;try{k=_??t.fn()}catch(A){k=Promise.reject(A)}Promise.resolve(k).then(g).catch(A=>{if(s())return;const O=t.retry??(pd?0:3),z=t.retryDelay??JL,L=typeof z=="function"?z(n,A):z,H=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,A);if(e||!H){b(A);return}n++,t.onFail?.(n,A),qL(L).then(()=>d()?void 0:x()).then(()=>{e?b(A):S()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:u,canStart:p,start:()=>(p()?S():x().then(S),i)}}var YM=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xw(this.gcTime)&&(this.#e=ed.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(pd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ed.clearTimeout(this.#e),this.#e=void 0)}},$L=class extends YM{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=J5(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=J5(this.options);e.data!==void 0&&(this.setState(W5(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Ww(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(ls).catch(ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>La(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===z3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!HM(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=FM(this.options,e),d=(()=>{const p={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#o=!1,this.options.persister?this.options.persister(l,d,this):l(d)},a=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=VM({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:l=>{l instanceof $w&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,u)=>{this.#s({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof $w){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#s({type:"error",error:l}),this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...KM(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...W5(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Fr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function KM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function W5(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function J5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ZL=class extends Hp{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=Jw(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#d;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$5(this.#t,this.options)?this.#f():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zw(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zw(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof La(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!fv(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Z5(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||La(this.options.enabled,this.#t)!==La(e.enabled,this.#t)||Bu(this.options.staleTime,this.#t)!==Bu(e.staleTime,this.#t))&&this.#g();const i=this.#y();r&&(this.#t!==n||La(this.options.enabled,this.#t)!==La(e.enabled,this.#t)||i!==this.#l)&&this.#b(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return tP(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ls)),e}#g(){this.#x();const t=Bu(this.options.staleTime,this.#t);if(pd||this.#i.isStale||!Xw(t))return;const n=HM(this.#i.dataUpdatedAt,t)+1;this.#c=ed.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#S(),this.#l=t,!(pd||La(this.options.enabled,this.#t)===!1||!Xw(this.#l)||this.#l===0)&&(this.#u=ed.setInterval(()=>{(this.options.refetchIntervalInBackground||j3.isFocused())&&this.#f()},this.#l))}#v(){this.#g(),this.#b(this.#y())}#x(){this.#c&&(ed.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(ed.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,s=this.#r,a=this.#a,u=t!==n?t.state:this.#n,{state:d}=t;let p={...d},g=!1,b;if(e._optimisticResults){const I=this.hasListeners(),Y=!I&&$5(t,e),G=I&&Z5(t,n,e,r);(Y||G)&&(p={...p,...KM(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:k}=p;b=p.data;let _=!1;if(e.placeholderData!==void 0&&b===void 0&&k==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(I=i.data,_=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,I!==void 0&&(k="success",b=Ww(i?.data,I,e),g=!0)}if(e.select&&b!==void 0&&!_)if(i&&b===s?.data&&e.select===this.#m)b=this.#d;else try{this.#m=e.select,b=e.select(b),b=Ww(i?.data,b,e),this.#d=b,this.#s=null}catch(I){this.#s=I}this.#s&&(x=this.#s,b=this.#d,S=Date.now(),k="error");const A=p.fetchStatus==="fetching",O=k==="pending",z=k==="error",L=O&&A,H=b!==void 0,P={status:k,fetchStatus:p.fetchStatus,isPending:O,isSuccess:k==="success",isError:z,isInitialLoading:L,isLoading:L,data:b,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:A,isRefetching:A&&!O,isLoadingError:z&&!H,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:z&&H,isStale:L3(t,e),refetch:this.refetch,promise:this.#o,isEnabled:La(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=X=>{P.status==="error"?X.reject(P.error):P.data!==void 0&&X.resolve(P.data)},Y=()=>{const X=this.#o=P.promise=Jw();I(X)},G=this.#o;switch(G.status){case"pending":t.queryHash===n.queryHash&&I(G);break;case"fulfilled":(P.status==="error"||P.data!==G.value)&&Y();break;case"rejected":(P.status!=="error"||P.error!==G.reason)&&Y();break}}return P}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),fv(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(a=>{const l=a;return this.#i[l]!==t[l]&&s.has(l)})};this.#C({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(t){Fr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function eP(t,e){return La(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $5(t,e){return eP(t,e)||t.state.data!==void 0&&Zw(t,e,e.refetchOnMount)}function Zw(t,e,n){if(La(e.enabled,t)!==!1&&Bu(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&L3(t,e)}return!1}function Z5(t,e,n,r){return(t!==e||La(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&L3(t,n)}function L3(t,e){return La(e.enabled,t)!==!1&&t.isStaleByTime(Bu(e.staleTime,t))}function tP(t,e){return!fv(t.getCurrentResult(),e)}function ek(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let p=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=FM(e.options,e.fetchOptions),x=async(S,k,_)=>{if(p)return Promise.reject();if(k==null&&S.pages.length)return Promise.resolve(S);const O=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:k,direction:_?"backward":"forward",meta:e.options.meta};return g(j),j})(),z=await b(O),{maxPages:L}=e.options,H=_?YL:VL;return{pages:H(S.pages,z,L),pageParams:H(S.pageParams,k,L)}};if(i&&s.length){const S=i==="backward",k=S?nP:tk,_={pages:s,pageParams:a},A=k(r,_);l=await x(_,A,S)}else{const S=t??s.length;do{const k=u===0?a[0]??r.initialPageParam:tk(r,l);if(u>0&&k==null)break;l=await x(l,k),u++}while(u<S)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function tk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function nP(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var rP=class extends YM{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||XM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=VM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#r({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const a=await this.options.onMutate?.(t,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Fr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function XM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iP=class extends Hp{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new rP({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=lb(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=lb(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=lb(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=lb(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>K5(e,n))}findAll(t={}){return this.getAll().filter(e=>K5(t,e))}notify(t){Fr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Fr.batch(()=>Promise.all(t.map(e=>e.continue().catch(ls))))}};function lb(t){return t.options.scope?.id}var sP=class extends Hp{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),fv(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&md(n.mutationKey)!==md(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??XM();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Fr.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},aP=class extends Hp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??D3(r,e);let s=this.get(i);return s||(s=new $L({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Y5(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Y5(t,n)):e}notify(t){Fr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},oP=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new aP,this.#t=t.mutationCache||new iP,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=j3.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=dv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Bu(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,a=FL(e,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Fr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Fr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Fr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Fr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ls).catch(ls)}invalidateQueries(t,e={}){return Fr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Fr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ls)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Bu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ls).catch(ls)}fetchInfiniteQuery(t){return t.behavior=ek(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ls).catch(ls)}ensureInfiniteQueryData(t){return t.behavior=ek(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(md(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{T0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(md(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{T0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=D3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===z3&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},QM=N.createContext(void 0),kd=t=>{const e=N.useContext(QM);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},lP=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.jsx(QM.Provider,{value:t,children:e})),WM=N.createContext(!1),cP=()=>N.useContext(WM);WM.Provider;function uP(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var fP=N.createContext(uP()),dP=()=>N.useContext(fP),hP=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},pP=t=>{N.useEffect(()=>{t.clearReset()},[t])},mP=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||GM(n,[t.error,r])),gP=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},yP=(t,e)=>t.isLoading&&t.isFetching&&!e,bP=(t,e)=>t?.suspense&&e.isPending,nk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function vP(t,e,n){const r=cP(),i=dP(),s=kd(),a=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",gP(a),hP(a,i),pP(i);const l=!s.getQueryCache().get(a.queryHash),[u]=N.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(g=>{const b=p?u.subscribe(Fr.batchCalls(g)):ls;return u.updateResult(),b},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),N.useEffect(()=>{u.setOptions(a)},[a,u]),bP(a,d))throw nk(a,u,i);if(mP({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!pd&&yP(d,r)&&(l?nk(a,u,i):s.getQueryCache().get(a.queryHash)?.promise)?.catch(ls).finally(()=>{u.updateResult()}),a.notifyOnChangeProps?d:u.trackResult(d)}function P3(t,e){return vP(t,ZL)}function J0(t,e){const n=kd(),[r]=N.useState(()=>new sP(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const i=N.useSyncExternalStore(N.useCallback(a=>r.subscribe(Fr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((a,l)=>{r.mutate(a,l).catch(ls)},[r]);if(i.error&&GM(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Nx={getNotes:async(t,e,n,r)=>{const i=new URLSearchParams;t&&i.append("search",t),e&&i.append("tag",e),n!==void 0&&i.append("pinned",String(n)),r&&i.append("type",r);const s=await cs(`/api/notes?${i.toString()}`);if(!s.ok){const a=await s.text().catch(()=>"Failed to fetch notes");throw new Error(a||"Failed to fetch notes")}return s.json()},getNote:async t=>{const e=await cs(`/api/notes/${t}`);if(!e.ok){const n=await e.text().catch(()=>"Failed to fetch note");throw new Error(n||"Failed to fetch note")}return e.json()},createNote:async t=>{const e=await cs("/api/notes",{method:"POST",body:JSON.stringify(t)});if(!e.ok){const n=await e.text().catch(()=>"Failed to create note");throw new Error(n||"Failed to create note")}return e.json()},updateNote:async(t,e)=>{const n=await cs(`/api/notes/${t}`,{method:"PUT",body:JSON.stringify(e)});if(!n.ok){const r=await n.text().catch(()=>"Failed to update note");throw new Error(r||"Failed to update note")}},deleteNote:async t=>{const e=await cs(`/api/notes/${t}`,{method:"DELETE"});if(!e.ok){const n=await e.text().catch(()=>"Failed to delete note");throw new Error(n||"Failed to delete note")}},getStats:async()=>{const t=await cs("/api/notes/stats");if(!t.ok)throw new Error("Failed to fetch stats");return t.json()}},Rx={getTasks:async t=>{const e=new URLSearchParams;t!==void 0&&e.append("completed",String(t));const n=await cs(`/api/tasks?${e.toString()}`);if(!n.ok)throw new Error("Failed to fetch tasks");return n.json()},createTask:async t=>{const e=await cs("/api/tasks",{method:"POST",body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to create task");return e.json()},updateTask:async(t,e)=>{if(!(await cs(`/api/tasks/${t}`,{method:"PUT",body:JSON.stringify(e)})).ok)throw new Error("Failed to update task")},deleteTask:async t=>{if(!(await cs(`/api/tasks/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete task")}};function xP(t,e,n){return P3({queryKey:["notes",{search:t,tag:e,pinned:n}],queryFn:()=>Nx.getNotes(t,e,n)})}function SP(t){return P3({queryKey:["note",t],queryFn:()=>Nx.getNote(t),enabled:!!t})}function wP(){const t=kd();return J0({mutationFn:e=>Nx.createNote(e),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]}),t.invalidateQueries({queryKey:["noteStats"]})}})}function CP(){const t=kd();return J0({mutationFn:({id:e,note:n})=>Nx.updateNote(e,n),onSuccess:(e,{id:n})=>{t.invalidateQueries({queryKey:["notes"]}),t.invalidateQueries({queryKey:["note",n]}),t.invalidateQueries({queryKey:["noteStats"]})}})}var fS={exports:{}},dS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk;function EP(){if(rk)return dS;rk=1;var t=Pp();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(g,b){var x=b(),S=r({inst:{value:x,getSnapshot:b}}),k=S[0].inst,_=S[1];return s(function(){k.value=x,k.getSnapshot=b,u(k)&&_({inst:k})},[g,x,b]),i(function(){return u(k)&&_({inst:k}),g(function(){u(k)&&_({inst:k})})},[g]),a(x),x}function u(g){var b=g.getSnapshot;g=g.value;try{var x=b();return!n(g,x)}catch{return!0}}function d(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return dS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,dS}var ik;function JM(){return ik||(ik=1,fS.exports=EP()),fS.exports}var $M=JM();function Si(t){this.content=t}Si.prototype={constructor:Si,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Si(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Si(n)},addToStart:function(t,e){return new Si([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Si(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Si(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Si.from(t),t.size?new Si(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Si.from(t),t.size?new Si(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Si.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Si.from=function(t){if(t instanceof Si)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Si(e)};function ZM(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)n++;return n}if(i.content.size||s.content.size){let a=ZM(i.content,s.content,n+1);if(a!=null)return a}n+=i.nodeSize}}function e8(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let a=t.child(--i),l=e.child(--s),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let d=0,p=Math.min(a.text.length,l.text.length);for(;d<p&&a.text[a.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let d=e8(a.content,l.content,n-1,r-1);if(d)return d}n-=u,r-=u}}class ke{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let a=0,l=0;l<n;a++){let u=this.content[a],d=l+u.nodeSize;if(d>e&&r(u,i+l,s||null,a)!==!1&&u.content.size){let p=l+1;u.nodesBetween(Math.max(0,e-p),Math.min(u.content.size,n-p),r,i+p)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",a=!0;return this.nodesBetween(e,n,(l,u)=>{let d=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&r&&(a?a=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ke(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;u>e&&((a<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),i+=l.nodeSize),a=u}return new ke(r,i)}cutByIndex(e,n){return e==n?ke.empty:e==0&&n==this.content.length?this:new ke(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ke(i,s)}addToStart(e){return new ke([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ke(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return ZM(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return e8(this,e,n,r)}findIndex(e){if(e==0)return cb(0,e);if(e==this.size)return cb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?cb(n+1,s):cb(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ke.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ke(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ke.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ke(n||e,r)}static from(e){if(!e)return ke.empty;if(e instanceof ke)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ke([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ke.empty=new ke([],0);const hS={index:0,offset:0};function cb(t,e){return hS.index=t,hS.offset=e,hS}function hv(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!hv(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!hv(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let an=class eC{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hv(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return eC.none;if(e instanceof eC)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};an.none=[];class pv extends Error{}class Ie{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=n8(this.content,e+this.openStart,n);return r&&new Ie(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Ie(t8(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ie.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ie(ke.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Ie(e,r,i)}}Ie.empty=new Ie(ke.empty,0,0);function t8(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(t8(s.content,e-i-1,n-i-1)))}function n8(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=n8(a.content,e-s-1,n,a);return l&&t.replaceChild(i,a.copy(l))}function kP(t,e,n){if(n.openStart>t.depth)throw new pv("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new pv("Inconsistent open depths");return r8(t,e,n,0)}function r8(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=r8(t,e,n,r+1);return s.copy(s.content.replaceChild(i,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return cd(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=TP(n,t);return cd(s,s8(t,a,l,e,r))}else return cd(s,mv(t,e,r))}function i8(t,e){if(!e.type.compatibleContent(t.type))throw new pv("Cannot join "+e.type.name+" onto "+t.type.name)}function tC(t,e,n){let r=t.node(n);return i8(r,e.node(n)),r}function ld(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function n0(t,e,n,r){let i=(e||t).node(n),s=0,a=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(ld(t.nodeAfter,r),s++));for(let l=s;l<a;l++)ld(i.child(l),r);e&&e.depth==n&&e.textOffset&&ld(e.nodeBefore,r)}function cd(t,e){return t.type.checkContent(e),t.copy(e)}function s8(t,e,n,r,i){let s=t.depth>i&&tC(t,e,i+1),a=r.depth>i&&tC(n,r,i+1),l=[];return n0(null,t,i,l),s&&a&&e.index(i)==n.index(i)?(i8(s,a),ld(cd(s,s8(t,e,n,r,i+1)),l)):(s&&ld(cd(s,mv(t,e,i+1)),l),n0(e,n,i,l),a&&ld(cd(a,mv(n,r,i+1)),l)),n0(r,null,i,l),new ke(l)}function mv(t,e,n){let r=[];if(n0(null,t,n,r),t.depth>n){let i=tC(t,e,n+1);ld(cd(i,mv(t,e,n+1)),r)}return n0(e,null,n,r),new ke(r)}function TP(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ke.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class _0{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return an.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new gv(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let a=e;;){let{index:l,offset:u}=a.content.findIndex(s),d=s-u;if(r.push(a,l,i+u),!d||(a=a.child(l),a.isText))break;s=d-1,i+=u+1}return new _0(n,r,s)}static resolveCached(e,n){let r=sk.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else sk.set(e,r=new _P);let i=r.elts[r.i]=_0.resolve(e,n);return r.i=(r.i+1)%MP,i}}class _P{constructor(){this.elts=[],this.i=0}}const MP=12,sk=new WeakMap;class gv{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const AP=Object.create(null);let Iu=class nC{constructor(e,n,r,i=an.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ke.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&hv(this.attrs,n||e.defaultAttrs||AP)&&an.sameSet(this.marks,r||an.none)}copy(e=null){return e==this.content?this:new nC(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new nC(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Ie.empty;let i=this.resolve(e),s=this.resolve(n),a=r?0:i.sharedDepth(n),l=i.start(a),d=i.node(a).content.cut(i.pos-l,s.pos-l);return new Ie(d,i.depth-a,s.depth-a)}replace(e,n,r){return kP(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return _0.resolveCached(this,e)}resolveNoCache(e){return _0.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),a8(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ke.empty,i=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=an.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!an.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ke.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Iu.prototype.text=void 0;class yv extends Iu{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):a8(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new yv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new yv(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function a8(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class gd{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new NP(e,n);if(r.next==null)return gd.empty;let i=o8(r);r.next&&r.err("Unexpected trailing text");let s=PP(LP(i));return BP(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(a,l){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return ke.from(l.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:p,next:g}=a.next[d];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let b=s(g,l.concat(p));if(b)return b}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let l=i;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:l,next:u}=s.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}gd.empty=new gd(!0);class NP{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function o8(t){let e=[];do e.push(RP(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function RP(t){let e=[];do e.push(OP(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function OP(t){let e=jP(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=DP(t,e);else break;return e}function ak(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function DP(t,e){let n=ak(t),r=n;return t.eat(",")&&(t.next!="}"?r=ak(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function zP(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let a=n[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function jP(t){if(t.eat("(")){let e=o8(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=zP(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function LP(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(a,l,u){let d={term:u,to:l};return e[a].push(d),d}function i(a,l){a.forEach(u=>u.to=l)}function s(a,l){if(a.type=="choice")return a.exprs.reduce((u,d)=>u.concat(s(d,l)),[]);if(a.type=="seq")for(let u=0;;u++){let d=s(a.exprs[u],l);if(u==a.exprs.length-1)return d;i(d,l=n())}else if(a.type=="star"){let u=n();return r(l,u),i(s(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return i(s(a.expr,l),u),i(s(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(s(a.expr,l));if(a.type=="range"){let u=l;for(let d=0;d<a.min;d++){let p=n();i(s(a.expr,u),p),u=p}if(a.max==-1)i(s(a.expr,u),u);else for(let d=a.min;d<a.max;d++){let p=n();r(u,p),i(s(a.expr,u),p),u=p}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}}function l8(t,e){return e-t}function ok(t,e){let n=[];return r(e),n.sort(l8);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let a=0;a<s.length;a++){let{term:l,to:u}=s[a];!l&&n.indexOf(u)==-1&&r(u)}}}function PP(t){let e=Object.create(null);return n(ok(t,0));function n(r){let i=[];r.forEach(a=>{t[a].forEach(({term:l,to:u})=>{if(!l)return;let d;for(let p=0;p<i.length;p++)i[p][0]==l&&(d=i[p][1]);ok(t,u).forEach(p=>{d||i.push([l,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let s=e[r.join(",")]=new gd(r.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let l=i[a][1].sort(l8);s.next.push({type:i[a][0],next:e[l.join(",")]||n(l)})}return s}}function BP(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,a=[];for(let l=0;l<i.next.length;l++){let{type:u,next:d}=i.next[l];a.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function c8(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function u8(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function f8(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function d8(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new HP(t,r,e[r]);return n}let lk=class h8{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=d8(e,r.attrs),this.defaultAttrs=c8(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==gd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:u8(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Iu(this,this.computeAttrs(e),ke.from(n),an.setFrom(r))}createChecked(e=null,n,r){return n=ke.from(n),this.checkContent(n),new Iu(this,this.computeAttrs(e),n,an.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ke.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ke.empty,!0);return s?new Iu(this,e,n.append(s),an.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){f8(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:an.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,a)=>r[s]=new h8(s,n,a));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function IP(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class HP{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?IP(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ox{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=d8(e,i.attrs),this.excluded=null;let s=c8(this.attrs);this.instance=s?new an(this,s):null}create(e=null){return!e&&this.instance?this.instance:new an(this,u8(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,a)=>r[s]=new Ox(s,i++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){f8(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let p8=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Si.from(e.nodes),n.marks=Si.from(e.marks||{}),this.nodes=lk.compile(this.spec.nodes,this),this.marks=Ox.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=gd.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?ck(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:ck(this,a.split(" "))}this.nodeFromJSON=i=>Iu.fromJSON(this,i),this.markFromJSON=i=>an.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof lk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new yv(r,r.defaultAttrs,e,an.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function ck(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],a=s;if(s)n.push(s);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function UP(t){return t.tag!=null}function FP(t){return t.style!=null}class Hu{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(UP(i))this.tags.push(i);else if(FP(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new fk(this,n,!1);return r.addAll(e,an.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new fk(this,n,!0);return r.addAll(e,an.none,n.from,n.to),Ie.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(VP(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<s)break}n.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{r(a=dk(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{r(a=dk(a)),a.node||a.ignore||a.mark||(a.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Hu(e,Hu.schemaRules(e)))}}const m8={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},GP={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},g8={ol:!0,ul:!0},M0=1,rC=2,r0=4;function uk(t,e,n){return e!=null?(e?M0:0)|(e==="full"?rC:0):t&&t.whitespace=="pre"?M0|rC:n&~r0}class ub{constructor(e,n,r,i,s,a){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=an.none,this.match=s||(a&r0?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ke.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&M0)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ke.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ke.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!m8.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class fk{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,a=uk(null,n.preserveWhitespace,0)|(r?r0:0);i?s=new ub(i.type,i.attrs,an.none,!0,n.topMatch||i.type.contentMatch,a):r?s=new ub(null,null,an.none,!0,null,a):s=new ub(e.schema.topNodeType,null,an.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&rC?"full":this.localPreserveWS||(i.options&M0)>0,{schema:a}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let l=r.split(/\r?\n|\r/);for(let u=0;u<l.length;u++)u&&this.insertNode(a.linebreakReplacement.create(),n,!0),l[u]&&this.insertNode(a.text(l[u]),n,!/\S/.test(l[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=i.content[i.content.length-1],u=e.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;g8.hasOwnProperty(a)&&this.parser.normalizeLists&&qP(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:GP.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let d,p=this.needsBlock;if(m8.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=u&&u.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),d&&this.sync(s),this.needsBlock=p}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,u,d,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=r.getPropertyValue(s);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(s,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,i){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];a!=l;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let a=this.open,l=0;a>=0;a--){let u=this.nodes[a],d=u.findWrapping(e);if(d&&(!i||i.length>d.length+l)&&(i=d,s=u,!d.length))break;if(u.solid){if(r)break;l+=2}}if(!i)return null;this.sync(s);for(let a=0;a<i.length;a++)n=this.enterInner(i[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let a=an.none;for(let l of i.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):hk(l.type,e.type))&&(a=l.addToSet(a));return s.content.push(e.mark(a)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=uk(e,s,a.options);a.options&r0&&a.content.length==0&&(l|=r0);let u=an.none;return r=r.filter(d=>(a.type?a.type.allowsMarkType(d.type):hk(d.type,e))?(u=d.addToSet(u),!1):!0),this.nodes.push(new ub(e,n,u,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=M0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),a=(l,u)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;u>=s;u--)if(a(l-1,u))return!0;return!1}else{let p=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function qP(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&g8.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function VP(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function dk(t){let e={};for(let n in t)e[n]=t[n];return e}function hk(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],a=l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:d,next:p}=l.edge(u);if(d==e||s.indexOf(p)<0&&a(p))return!0}};if(a(i.contentMatch))return!0}}class Td{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=pS(n).createDocumentFragment());let i=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let l=0,u=0;for(;l<s.length&&u<a.marks.length;){let d=a.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(s[l][0])||d.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<a.marks.length;){let d=a.marks[u++],p=this.serializeMark(d,a.isInline,n);p&&(s.push([d,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Yb(pS(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Yb(pS(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Yb(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Td(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=pk(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return pk(e.marks)}}function pk(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function pS(t){return t.document||window.document}const mk=new WeakMap;function YP(t){let e=mk.get(t);return e===void 0&&mk.set(t,e=KP(t)),e}function KP(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Yb(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=YP(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l,u=n?t.createElementNS(n,i):t.createElement(i),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let g in d)if(d[g]!=null){let b=g.indexOf(" ");b>0?u.setAttributeNS(g.slice(0,b),g.slice(b+1),d[g]):g=="style"&&u.style?u.style.cssText=d[g]:u.setAttribute(g,d[g])}}for(let g=p;g<e.length;g++){let b=e[g];if(b===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:x,contentDOM:S}=Yb(t,b,n,r);if(u.appendChild(x),S){if(l)throw new RangeError("Multiple content holes");l=S}}}return{dom:u,contentDOM:l}}const y8=65535,b8=Math.pow(2,16);function XP(t,e){return t+e*b8}function gk(t){return t&y8}function QP(t){return(t-(t&y8))/b8}const v8=1,x8=2,Kb=4,S8=8;class iC{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&S8)>0}get deletedBefore(){return(this.delInfo&(v8|Kb))>0}get deletedAfter(){return(this.delInfo&(x8|Kb))>0}get deletedAcross(){return(this.delInfo&Kb)>0}}class Zs{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Zs.empty)return Zs.empty}recover(e){let n=0,r=gk(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+QP(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let d=this.ranges[l+s],p=this.ranges[l+a],g=u+d;if(e<=g){let b=d?e==u?-1:e==g?1:n:n,x=u+i+(b<0?0:p);if(r)return x;let S=e==(n<0?u:g)?null:XP(l/3,e-u),k=e==u?x8:e==g?v8:Kb;return(n<0?e!=u:e!=g)&&(k|=S8),new iC(x,k,S)}i+=p-d}return r?e+i:new iC(e+i,0,null)}touches(e,n){let r=0,i=gk(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let d=this.ranges[l+s],p=u+d;if(e<=p&&l==i*3)return!0;r+=this.ranges[l+a]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],l=a-(this.inverted?s:0),u=a+(this.inverted?0:s),d=this.ranges[i+n],p=this.ranges[i+r];e(l,l+d,u,u+p),s+=p-d}}invert(){return new Zs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zs.empty:new Zs(e<0?[0,-e,0]:[0,0,e])}}Zs.empty=new Zs([]);class A0{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new A0(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new A0;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],l=a.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this._maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new iC(e,i,null)}}const mS=Object.create(null);class Ui{getMap(){return Zs.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=mS[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in mS)throw new RangeError("Duplicate use of step JSON ID "+e);return mS[e]=n,n.prototype.jsonID=e,n}}class Ar{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ar(e,null)}static fail(e){return new Ar(null,e)}static fromReplace(e,n,r,i){try{return Ar.ok(e.replace(n,r,i))}catch(s){if(s instanceof pv)return Ar.fail(s.message);throw s}}}function B3(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(B3(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ke.fromArray(r)}class ju extends Ui{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ie(B3(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),n.openStart,n.openEnd);return Ar.fromReplace(e,this.from,this.to,s)}invert(){return new go(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ju(n.pos,r.pos,this.mark)}merge(e){return e instanceof ju&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ju(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ju(n.from,n.to,e.markFromJSON(n.mark))}}Ui.jsonID("addMark",ju);class go extends Ui{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Ie(B3(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ar.fromReplace(e,this.from,this.to,r)}invert(){return new ju(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new go(n.pos,r.pos,this.mark)}merge(e){return e instanceof go&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new go(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new go(n.from,n.to,e.markFromJSON(n.mark))}}Ui.jsonID("removeMark",go);class Lu extends Ui{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ar.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ar.fromReplace(e,this.pos,this.pos+1,new Ie(ke.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Lu(this.pos,n.marks[i]);return new Lu(this.pos,this.mark)}}return new yd(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Lu(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Lu(n.pos,e.markFromJSON(n.mark))}}Ui.jsonID("addNodeMark",Lu);class yd extends Ui{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ar.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ar.fromReplace(e,this.pos,this.pos+1,new Ie(ke.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Lu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new yd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new yd(n.pos,e.markFromJSON(n.mark))}}Ui.jsonID("removeNodeMark",yd);class ti extends Ui{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&sC(e,this.from,this.to)?Ar.fail("Structure replace would overwrite content"):Ar.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zs([this.from,this.to-this.from,this.slice.size])}invert(e){return new ti(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ti(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ti)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ie.empty:new Ie(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ti(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ie.empty:new Ie(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ti(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ti(n.from,n.to,Ie.fromJSON(e,n.slice),!!n.structure)}}Ui.jsonID("replace",ti);class ni extends Ui{constructor(e,n,r,i,s,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=a,this.structure=l}apply(e){if(this.structure&&(sC(e,this.from,this.gapFrom)||sC(e,this.gapTo,this.to)))return Ar.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ar.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ar.fromReplace(e,this.from,this.to,r):Ar.fail("Content does not fit in gap")}getMap(){return new Zs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ni(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new ni(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ni(n.from,n.to,n.gapFrom,n.gapTo,Ie.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ui.jsonID("replaceAround",ni);function sC(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function WP(t,e,n,r){let i=[],s=[],a,l;t.doc.nodesBetween(e,n,(u,d,p)=>{if(!u.isInline)return;let g=u.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let b=Math.max(d,e),x=Math.min(d+u.nodeSize,n),S=r.addToSet(g);for(let k=0;k<g.length;k++)g[k].isInSet(S)||(a&&a.to==b&&a.mark.eq(g[k])?a.to=x:i.push(a=new go(b,x,g[k])));l&&l.to==b?l.to=x:s.push(l=new ju(b,x,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}function JP(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;s++;let u=null;if(r instanceof Ox){let d=a.marks,p;for(;p=r.isInSet(d);)(u||(u=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let d=Math.min(l+a.nodeSize,n);for(let p=0;p<u.length;p++){let g=u[p],b;for(let x=0;x<i.length;x++){let S=i[x];S.step==s-1&&g.eq(i[x].style)&&(b=S)}b?(b.to=d,b.step=s):i.push({style:g,from:Math.max(l,e),to:d,step:s})}}}),i.forEach(a=>t.step(new go(a.from,a.to,a.style)))}function I3(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],l=e+1;for(let u=0;u<s.childCount;u++){let d=s.child(u),p=l+d.nodeSize,g=r.matchType(d.type);if(!g)a.push(new ti(l,p,Ie.empty));else{r=g;for(let b=0;b<d.marks.length;b++)n.allowsMarkType(d.marks[b].type)||t.step(new go(l,p,d.marks[b]));if(i&&d.isText&&n.whitespace!="pre"){let b,x=/\r?\n|\r/g,S;for(;b=x.exec(d.text);)S||(S=new Ie(ke.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),a.push(new ti(l+b.index,l+b.index+b[0].length,S))}}l=p}if(!r.validEnd){let u=r.fillBefore(ke.empty,!0);t.replace(l,l,new Ie(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function $P(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Up(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,s=0;;--r){let a=t.$from.node(r),l=t.$from.index(r)+i,u=t.$to.indexAfter(r)-s;if(r<t.depth&&a.canReplace(l,u,n))return r;if(r==0||a.type.spec.isolating||!$P(a,l,u))break;l&&(i=1),u<a.childCount&&(s=1)}return null}function ZP(t,e,n){let{$from:r,$to:i,depth:s}=e,a=r.before(s+1),l=i.after(s+1),u=a,d=l,p=ke.empty,g=0;for(let S=s,k=!1;S>n;S--)k||r.index(S)>0?(k=!0,p=ke.from(r.node(S).copy(p)),g++):u--;let b=ke.empty,x=0;for(let S=s,k=!1;S>n;S--)k||i.after(S+1)<i.end(S)?(k=!0,b=ke.from(i.node(S).copy(b)),x++):d++;t.step(new ni(u,d,a,l,new Ie(p.append(b),g,x),p.size-g,!0))}function H3(t,e,n=null,r=t){let i=eB(t,e),s=i&&tB(r,e);return s?i.map(yk).concat({type:e,attrs:n}).concat(s.map(yk)):null}function yk(t){return{type:t,attrs:null}}function eB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return n.canReplaceWith(r,i,a)?s:null}function tB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let d=r;u&&d<i;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:a}function nB(t,e,n){let r=ke.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ke.from(n[a].type.create(n[a].attrs,r))}let i=e.start,s=e.end;t.step(new ni(i,s,i,s,new Ie(r,0,0),n.length,!0))}function rB(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let u=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(r,u)&&iB(t.doc,t.mapping.slice(s).map(l),r)){let d=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!S?d=!1:!x&&S&&(d=!0)}d===!1&&C8(t,a,l,s),I3(t,t.mapping.slice(s).map(l,1),r,void 0,d===null);let p=t.mapping.slice(s),g=p.map(l,1),b=p.map(l+a.nodeSize,1);return t.step(new ni(g,b,g+1,b-1,new Ie(ke.from(r.create(u,null,a.marks)),0,0),1,!0)),d===!0&&w8(t,a,l,s),!1}})}function w8(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function C8(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function iB(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function sB(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ni(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ie(ke.from(a),0,0),1,!0))}function cc(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,a=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,p=n-2;d>s;d--,p--){let g=i.node(d),b=i.index(d);if(g.type.spec.isolating)return!1;let x=g.content.cutByIndex(b,g.childCount),S=r&&r[p+1];S&&(x=x.replaceChild(0,S.type.create(S.attrs)));let k=r&&r[p]||g;if(!g.canReplace(b+1,g.childCount)||!k.type.validContent(x))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}function aB(t,e,n=1,r){let i=t.doc.resolve(e),s=ke.empty,a=ke.empty;for(let l=i.depth,u=i.depth-n,d=n-1;l>u;l--,d--){s=ke.from(i.node(l).copy(s));let p=r&&r[d];a=ke.from(p?p.type.create(p.attrs,a):i.node(l).copy(a))}t.step(new ti(e,e,new Ie(s.append(a),n,n),!0))}function Qu(t,e){let n=t.resolve(e),r=n.index();return E8(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function oB(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function E8(t,e){return!!(t&&e&&!t.isLeaf&&oB(t,e))}function Dx(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,a,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(i+1),l++,a=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),a=r.node(i+1)),s&&!s.isTextblock&&E8(s,a)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function lB(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),a=s.node().type;if(i&&a.inlineContent){let p=a.whitespace=="pre",g=!!a.contentMatch.matchType(i);p&&!g?r=!1:!p&&g&&(r=!0)}let l=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);C8(t,p.node(),p.before(),l)}a.inlineContent&&I3(t,e+n-1,a,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(l),d=u.map(e-n);if(t.step(new ti(d,u.map(e+n,-1),Ie.empty,!0)),r===!0){let p=t.doc.resolve(d);w8(t,p.node(),p.before(),t.steps.length)}return t}function cB(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function k8(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),d=r.node(a),p=!1;if(s==1)p=d.canReplace(u,u,i);else{let g=d.contentMatchAt(u).findWrapping(i.firstChild.type);p=g&&d.canReplaceWith(u,u,g[0])}if(p)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}function zx(t,e,n=e,r=Ie.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return T8(i,s,r)?new ti(e,n,r):new uB(i,s,r).fit()}function T8(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class uB{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ke.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ke.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,a=r.depth,l=i.depth;for(;a&&l&&s.childCount==1;)s=s.firstChild.content,a--,l--;let u=new Ie(s,a,l);return e>-1?new ni(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new ti(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=gS(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:d}=this.frontier[l],p,g=null;if(n==1&&(a?d.matchType(a.type)||(g=d.fillBefore(ke.from(a),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:g};if(n==2&&a&&(p=d.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:p};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=gS(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ie(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=gS(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Ie(Vg(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Ie(Vg(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-e,d=0,p=[],{match:g,type:b}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)p.push(i.child(k));g=g.matchFragment(i)}let x=l.size+e-(a.content.size-a.openEnd);for(;d<l.childCount;){let k=l.child(d),_=g.matchType(k.type);if(!_)break;d++,(d>1||u==0||k.content.size)&&(g=_,p.push(_8(k.mark(b.allowedMarks(k.marks)),d==1?u:0,d==l.childCount?x:-1)))}let S=d==l.childCount;S||(x=-1),this.placed=Yg(this.placed,n,ke.from(p)),this.frontier[n].match=g,S&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,_=l;k<x;k++){let A=_.lastChild;this.frontier.push({type:A.type,match:A.contentMatchAt(A.childCount)}),_=A.content}this.unplaced=S?e==0?Ie.empty:new Ie(Vg(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new Ie(Vg(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!yS(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=yS(e,n,i,r,s);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:d}=this.frontier[l],p=yS(e,l,d,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Yg(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Yg(this.placed,this.depth,ke.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ke.empty,!0);n.childCount&&(this.placed=Yg(this.placed,this.frontier.length,n))}}function Vg(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Vg(t.firstChild.content,e-1,n)))}function Yg(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Yg(t.lastChild.content,e-1,n)))}function gS(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function _8(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,_8(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ke.empty,!0)))),t.copy(r)}function yS(t,e,n,r,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,a);return l&&!fB(n,s.content,a)?l:null}function fB(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function dB(t){return t.spec.defining||t.spec.definingForContent}function hB(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(T8(i,s,r))return t.step(new ti(e,n,r));let a=A8(i,s);a[a.length-1]==0&&a.pop();let l=-(i.depth+1);a.unshift(l);for(let b=i.depth,x=i.pos-1;b>0;b--,x--){let S=i.node(b).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;a.indexOf(b)>-1?l=b:i.before(b)==x&&a.splice(1,0,-b)}let u=a.indexOf(l),d=[],p=r.openStart;for(let b=r.content,x=0;;x++){let S=b.firstChild;if(d.push(S),x==r.openStart)break;b=S.content}for(let b=p-1;b>=0;b--){let x=d[b],S=dB(x.type);if(S&&!x.sameMarkup(i.node(Math.abs(l)-1)))p=b;else if(S||!x.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let x=(b+p+1)%(r.openStart+1),S=d[x];if(S)for(let k=0;k<a.length;k++){let _=a[(k+u)%a.length],A=!0;_<0&&(A=!1,_=-_);let O=i.node(_-1),z=i.index(_-1);if(O.canReplaceWith(z,z,S.type,S.marks))return t.replace(i.before(_),A?s.after(_):n,new Ie(M8(r.content,0,r.openStart,x),x,r.openEnd))}}let g=t.steps.length;for(let b=a.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>g));b--){let x=a[b];x<0||(e=i.before(x),n=s.after(x))}}function M8(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(M8(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(ke.empty,!0))}return t}function pB(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=cB(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ie(ke.from(r),0,0))}function mB(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=A8(r,i);for(let a=0;a<s.length;a++){let l=s[a],u=a==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&i.end(a)-n!=i.depth-a&&r.start(a-1)==i.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),i.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function A8(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class gp extends Ui{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ar.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ar.fromReplace(e,this.pos,this.pos+1,new Ie(ke.from(i),0,n.isLeaf?0:1))}getMap(){return Zs.empty}invert(e){return new gp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gp(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gp(n.pos,n.attr,n.value)}}Ui.jsonID("attr",gp);class N0 extends Ui{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ar.ok(r)}getMap(){return Zs.empty}invert(e){return new N0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new N0(n.attr,n.value)}}Ui.jsonID("docAttr",N0);let kp=class extends Error{};kp=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};kp.prototype=Object.create(Error.prototype);kp.prototype.constructor=kp;kp.prototype.name="TransformError";let N8=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new A0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new kp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Ie.empty){let i=zx(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Ie(ke.from(r),0,0))}delete(e,n){return this.replace(e,n,Ie.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return hB(this,e,n,r),this}replaceRangeWith(e,n,r){return pB(this,e,n,r),this}deleteRange(e,n){return mB(this,e,n),this}lift(e,n){return ZP(this,e,n),this}join(e,n=1){return lB(this,e,n),this}wrap(e,n){return nB(this,e,n),this}setBlockType(e,n=e,r,i=null){return rB(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return sB(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new gp(e,n,r)),this}setDocAttribute(e,n){return this.step(new N0(e,n)),this}addNodeMark(e,n){return this.step(new Lu(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof an)n.isInSet(r.marks)&&this.step(new yd(e,n));else{let i=r.marks,s,a=[];for(;s=n.isInSet(i);)a.push(new yd(e,s)),i=s.removeFromSet(i);for(let l=a.length-1;l>=0;l--)this.step(a[l])}return this}split(e,n=1,r){return aB(this,e,n,r),this}addMark(e,n,r){return WP(this,e,n,r),this}removeMark(e,n,r){return JP(this,e,n,r),this}clearIncompatible(e,n,r){return I3(this,e,n,r),this}};const bS=Object.create(null);class Et{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new gB(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ie.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:d}=a[l],p=e.mapping.slice(s);e.replaceRange(p.map(u.pos),p.map(d.pos),l?Ie.empty:n),l==0&&xk(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],u=e.mapping.slice(r),d=u.map(a.pos),p=u.map(l.pos);s?e.deleteRange(d,p):(e.replaceRangeWith(d,p,n),xk(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new lt(e):cp(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=n<0?cp(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):cp(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new na(e.node(0))}static atStart(e){return cp(e,e,0,0,1)||new na(e)}static atEnd(e){return cp(e,e,e.content.size,e.childCount,-1)||new na(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=bS[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in bS)throw new RangeError("Duplicate use of selection JSON ID "+e);return bS[e]=n,n.prototype.jsonID=e,n}getBookmark(){return lt.between(this.$anchor,this.$head).getBookmark()}}Et.prototype.visible=!0;class gB{constructor(e,n){this.$from=e,this.$to=n}}let bk=!1;function vk(t){!bk&&!t.parent.inlineContent&&(bk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class lt extends Et{constructor(e,n=e){vk(e),vk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Et.near(r);let i=e.resolve(n.map(this.anchor));return new lt(i.parent.inlineContent?i:r,r)}replace(e,n=Ie.empty){if(super.replace(e,n),n==Ie.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof lt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new jx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new lt(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Et.findFrom(n,r,!0)||Et.findFrom(n,-r,!0);if(s)n=s.$head;else return Et.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Et.findFrom(e,-r,!0)||Et.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new lt(e,n)}}Et.jsonID("text",lt);class jx{constructor(e,n){this.anchor=e,this.head=n}map(e){return new jx(e.map(this.anchor),e.map(this.head))}resolve(e){return lt.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ze extends Et{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Et.near(s):new Ze(s)}content(){return new Ie(ke.from(this.node),0,0)}eq(e){return e instanceof Ze&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new U3(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ze(e.resolve(n.anchor))}static create(e,n){return new Ze(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ze.prototype.visible=!1;Et.jsonID("node",Ze);class U3{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new jx(r,r):new U3(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ze.isSelectable(r)?new Ze(n):Et.near(n)}}class na extends Et{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ie.empty){if(n==Ie.empty){e.delete(0,e.doc.content.size);let r=Et.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new na(e)}map(e){return new na(e)}eq(e){return e instanceof na}getBookmark(){return yB}}Et.jsonID("all",na);const yB={map(){return this},resolve(t){return new na(t)}};function cp(t,e,n,r,i,s=!1){if(e.inlineContent)return lt.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let l=e.child(a);if(l.isAtom){if(!s&&Ze.isSelectable(l))return Ze.create(t,n-(i<0?l.nodeSize:0))}else{let u=cp(t,l,n+i,i<0?l.childCount:0,i,s);if(u)return u}n+=l.nodeSize*i}return null}function xk(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ti||i instanceof ni))return;let s=t.mapping.maps[r],a;s.forEach((l,u,d,p)=>{a==null&&(a=p)}),t.setSelection(Et.near(t.doc.resolve(a),n))}const Sk=1,fb=2,wk=4;class bB extends N8{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Sk)&~fb,this.storedMarks=null,this}get selectionSet(){return(this.updated&Sk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=fb,this}ensureMarks(e){return an.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&fb)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~fb,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||an.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Et.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=wk,this}get scrolledIntoView(){return(this.updated&wk)>0}}function Ck(t,e){return!e||!t?t:t.bind(e)}class Kg{constructor(e,n,r){this.name=e,this.init=Ck(n.init,r),this.apply=Ck(n.apply,r)}}const vB=[new Kg("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Kg("selection",{init(t,e){return t.selection||Et.atStart(e.doc)},apply(t){return t.selection}}),new Kg("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Kg("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class vS{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=vB.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Kg(r.key,r.spec.state,r))})}}class pp{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=i?i[a].n:0,d=i?i[a].state:this,p=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,d,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),s=!0}i&&(i[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new pp(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new bB(this)}static create(e){let n=new vS(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new pp(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new vS(this.schema,e.plugins),r=n.fields,i=new pp(n);for(let s=0;s<r.length;s++){let a=r[s].name;i[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new vS(e.schema,e.plugins),s=new pp(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Iu.fromJSON(e.schema,n.doc);else if(a.name=="selection")s.selection=Et.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],d=u.spec.state;if(u.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[a.name]=d.fromJSON.call(u,e,n[l],s);return}}s[a.name]=a.init(e,s)}}),s}}function R8(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=R8(i,e,{})),n[r]=i}return n}class Zn{constructor(e){this.spec=e,this.props={},e.props&&R8(e.props,this,this.props),this.key=e.key?e.key.key:O8("plugin")}getState(e){return e[this.key]}}const xS=Object.create(null);function O8(t){return t in xS?t+"$"+ ++xS[t]:(xS[t]=0,t+"$")}class qr{constructor(e="key"){this.key=O8(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const F3=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function D8(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const z8=(t,e,n)=>{let r=D8(t,n);if(!r)return!1;let i=G3(r);if(!i){let a=r.blockRange(),l=a&&Up(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(G8(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Tp(s,"end")||Ze.isSelectable(s)))for(let a=r.depth;;a--){let l=zx(t.doc,r.before(a),r.after(a),Ie.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Tp(s,"end")?Et.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):Ze.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},xB=(t,e,n)=>{let r=D8(t,n);if(!r)return!1;let i=G3(r);return i?j8(t,i,e):!1},SB=(t,e,n)=>{let r=P8(t,n);if(!r)return!1;let i=q3(r);return i?j8(t,i,e):!1};function j8(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let a=e.nodeAfter,l=a,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let p=l.firstChild;if(!p)return!1;l=p}let d=zx(t.doc,s,u,Ie.empty);if(!d||d.from!=s||d instanceof ti&&d.slice.size>=u-s)return!1;if(n){let p=t.tr.step(d);p.setSelection(lt.create(p.doc,s)),n(p.scrollIntoView())}return!0}function Tp(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const L8=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=G3(r)}let a=s&&s.nodeBefore;return!a||!Ze.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ze.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function G3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function P8(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const B8=(t,e,n)=>{let r=P8(t,n);if(!r)return!1;let i=q3(r);if(!i)return!1;let s=i.nodeAfter;if(G8(t,i,e,1))return!0;if(r.parent.content.size==0&&(Tp(s,"start")||Ze.isSelectable(s))){let a=zx(t.doc,r.before(),r.after(),Ie.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Tp(s,"start")?Et.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Ze.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},I8=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=q3(r)}let a=s&&s.nodeAfter;return!a||!Ze.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ze.create(t.doc,s.pos)).scrollIntoView()),!0)};function q3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const wB=(t,e)=>{let n=t.selection,r=n instanceof Ze,i;if(r){if(n.node.isTextblock||!Qu(t.doc,n.from))return!1;i=n.from}else if(i=Dx(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(Ze.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},CB=(t,e)=>{let n=t.selection,r;if(n instanceof Ze){if(n.node.isTextblock||!Qu(t.doc,n.to))return!1;r=n.to}else if(r=Dx(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},EB=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Up(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},H8=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function V3(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const kB=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),a=V3(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,a.createAndFill());u.setSelection(Et.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},U8=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof na||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=V3(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(a,s.createAndFill());l.setSelection(lt.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},F8=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(cc(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Up(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function TB(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Ze&&e.selection.node.isBlock)return!r.parentOffset||!cc(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,l,u=!1,d=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){u=r.end(x)==r.pos+(r.depth-x),d=r.start(x)==r.pos-(r.depth-x),l=V3(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),s.unshift(u&&l?{type:l}:null),a=x;break}else{if(x==1)return!1;s.unshift(null)}let p=e.tr;(e.selection instanceof lt||e.selection instanceof na)&&p.deleteSelection();let g=p.mapping.map(r.pos),b=cc(p.doc,g,s.length,s);if(b||(s[0]=l?{type:l}:null,b=cc(p.doc,g,s.length,s)),!b)return!1;if(p.split(g,s.length,s),!u&&d&&r.node(a).type!=l){let x=p.mapping.map(r.before(a)),S=p.doc.resolve(x);l&&r.node(a-1).canReplaceWith(S.index(),S.index()+1,l)&&p.setNodeMarkup(p.mapping.map(r.before(a)),l)}return n&&n(p.scrollIntoView()),!0}}const _B=TB(),MB=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(Ze.create(t.doc,i))),!0)};function AB(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Qu(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function G8(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,a,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&AB(t,e,n))return!0;let d=!u&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(a[0]||s.type).validEnd){if(n){let x=e.pos+s.nodeSize,S=ke.empty;for(let A=a.length-1;A>=0;A--)S=ke.from(a[A].create(null,S));S=ke.from(i.copy(S));let k=t.tr.step(new ni(e.pos-1,x,e.pos,x,new Ie(S,1,0),a.length,!0)),_=k.doc.resolve(x+2*a.length);_.nodeAfter&&_.nodeAfter.type==i.type&&Qu(k.doc,_.pos)&&k.join(_.pos),n(k.scrollIntoView())}return!0}let p=s.type.spec.isolating||r>0&&u?null:Et.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),b=g&&Up(g);if(b!=null&&b>=e.depth)return n&&n(t.tr.lift(g,b).scrollIntoView()),!0;if(d&&Tp(s,"start",!0)&&Tp(i,"end")){let x=i,S=[];for(;S.push(x),!x.isTextblock;)x=x.lastChild;let k=s,_=1;for(;!k.isTextblock;k=k.firstChild)_++;if(x.canReplace(x.childCount,x.childCount,k.content)){if(n){let A=ke.empty;for(let z=S.length-1;z>=0;z--)A=ke.from(S[z].copy(A));let O=t.tr.step(new ni(e.pos-S.length,e.pos+s.nodeSize,e.pos+_,e.pos+s.nodeSize-_,new Ie(A,S.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function q8(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(lt.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const NB=q8(-1),RB=q8(1);function OB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s),l=a&&H3(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}function Ek(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(a,l,(u,d)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let p=n.doc.resolve(d),g=p.index();i=p.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];s.setBlockType(l,u,t,e)}r(s.scrollIntoView())}return!0}}function Y3(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Y3(F3,z8,L8);Y3(F3,B8,I8);Y3(H8,U8,F8,_B);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function DB(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,a=i.blockRange(s);if(!a)return!1;let l=r?n.tr:null;return zB(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}function zB(t,e,n,r=null){let i=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);s=new gv(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new gv(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=H3(s,n,r,e);return l?(t&&jB(t,e,l,i,n),!0):!1}function jB(t,e,n,r,i){let s=ke.empty;for(let p=n.length-1;p>=0;p--)s=ke.from(n[p].type.create(n[p].attrs,s));t.step(new ni(e.start-(r?2:0),e.end,e.start,e.end,new Ie(s,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==i&&(a=p+1);let l=n.length-a,u=e.start+n.length-(r?2:0),d=e.parent;for(let p=e.startIndex,g=e.endIndex,b=!0;p<g;p++,b=!1)!b&&cc(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=d.child(p).nodeSize;return t}function LB(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,a=>a.childCount>0&&a.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?PB(e,n,t,s):BB(e,n,s):!0:!1}}function PB(t,e,n,r){let i=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(i.step(new ni(s-1,a,s,a,new Ie(ke.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new gv(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));const l=Up(r);if(l==null)return!1;i.lift(r,l);let u=i.doc.resolve(i.mapping.map(s,-1)-1);return Qu(i.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&i.join(u.pos),e(i.scrollIntoView()),!0}function BB(t,e,n){let r=t.tr,i=n.parent;for(let x=n.end,S=n.endIndex-1,k=n.startIndex;S>k;S--)x-=i.child(S).nodeSize,r.delete(x-1,x+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,d=s.node(-1),p=s.index(-1);if(!d.canReplace(p+(l?0:1),p+1,a.content.append(u?ke.empty:ke.from(i))))return!1;let g=s.pos,b=g+a.nodeSize;return r.step(new ni(g-(l?1:0),b+(u?1:0),g+1,b-1,new Ie((l?ke.empty:ke.from(i.copy(ke.empty))).append(u?ke.empty:ke.from(i.copy(ke.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function IB(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let l=s.parent,u=l.child(a-1);if(u.type!=t)return!1;if(n){let d=u.lastChild&&u.lastChild.type==l.type,p=ke.from(d?t.create():null),g=new Ie(ke.from(t.create(null,ke.from(l.type.create(null,p)))),d?3:1,0),b=s.start,x=s.end;n(e.tr.step(new ni(b-(d?3:1),x,b,x,g,1,!0)).scrollIntoView())}return!0}}const wi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},_p=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let aC=null;const ac=function(t,e,n){let r=aC||(aC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},HB=function(){aC=null},bd=function(t,e,n,r){return n&&(kk(t,e,n,r,-1)||kk(t,e,n,r,1))},UB=/^(img|br|input|textarea|hr)$/i;function kk(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ha(t))){let a=t.parentNode;if(!a||a.nodeType!=1||$0(t)||UB.test(t.nodeName)||t.contentEditable=="false")return!1;e=wi(t)+(i<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(i<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=a,e=i<0?Ha(t):0}else return!1}}function Ha(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function FB(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ha(t)}else if(t.parentNode&&!$0(t))e=wi(t),t=t.parentNode;else return null}}function GB(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!$0(t))e=wi(t)+1,t=t.parentNode;else return null}}function qB(t,e,n){for(let r=e==0,i=e==Ha(t);r||i;){if(t==n)return!0;let s=wi(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ha(t)}}function $0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Lx=function(t){return t.focusNode&&bd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function $f(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function VB(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function YB(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ha(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ha(r.startContainer),r.startOffset)}}}const hl=typeof navigator<"u"?navigator:null,Tk=typeof document<"u"?document:null,Wu=hl&&hl.userAgent||"",oC=/Edge\/(\d+)/.exec(Wu),V8=/MSIE \d/.exec(Wu),lC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wu),Fs=!!(V8||lC||oC),Uu=V8?document.documentMode:lC?+lC[1]:oC?+oC[1]:0,Fa=!Fs&&/gecko\/(\d+)/i.test(Wu);Fa&&+(/Firefox\/(\d+)/.exec(Wu)||[0,0])[1];const cC=!Fs&&/Chrome\/(\d+)/.exec(Wu),Ii=!!cC,Y8=cC?+cC[1]:0,ds=!Fs&&!!hl&&/Apple Computer/.test(hl.vendor),Mp=ds&&(/Mobile\/\w+/.test(Wu)||!!hl&&hl.maxTouchPoints>2),Pa=Mp||(hl?/Mac/.test(hl.platform):!1),KB=hl?/Win/.test(hl.platform):!1,lc=/Android \d/.test(Wu),Z0=!!Tk&&"webkitFontSmoothing"in Tk.documentElement.style,XB=Z0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function QB(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ec(t,e){return typeof t=="number"?t:t[e]}function WB(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function _k(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=_p(a);continue}let l=a,u=l==s.body,d=u?QB(s):WB(l),p=0,g=0;if(e.top<d.top+ec(r,"top")?g=-(d.top-e.top+ec(i,"top")):e.bottom>d.bottom-ec(r,"bottom")&&(g=e.bottom-e.top>d.bottom-d.top?e.top+ec(i,"top")-d.top:e.bottom-d.bottom+ec(i,"bottom")),e.left<d.left+ec(r,"left")?p=-(d.left-e.left+ec(i,"left")):e.right>d.right-ec(r,"right")&&(p=e.right-d.right+ec(i,"right")),p||g)if(u)s.defaultView.scrollBy(p,g);else{let x=l.scrollLeft,S=l.scrollTop;g&&(l.scrollTop+=g),p&&(l.scrollLeft+=p);let k=l.scrollLeft-x,_=l.scrollTop-S;e={left:e.left-k,top:e.top-_,right:e.right-k,bottom:e.bottom-_}}let b=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(b))break;a=b=="absolute"?a.offsetParent:_p(a)}}function JB(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(s,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:K8(t.dom)}}function K8(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=_p(r));return e}function $B({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;X8(n,r==0?0:r-e)}function X8(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let $h=null;function ZB(t){if(t.setActive)return t.setActive();if($h)return t.focus($h);let e=K8(t);t.focus($h==null?{get preventScroll(){return $h={preventScroll:!0},!0}}:void 0),$h||($h=!1,X8(e,0))}function Q8(t,e){let n,r=2e8,i,s=0,a=e.top,l=e.top,u,d;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let b;if(p.nodeType==1)b=p.getClientRects();else if(p.nodeType==3)b=ac(p).getClientRects();else continue;for(let x=0;x<b.length;x++){let S=b[x];if(S.top<=a&&S.bottom>=l){a=Math.max(S.bottom,a),l=Math.min(S.top,l);let k=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(k<r){n=p,r=k,i=k&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,p.nodeType==1&&k&&(s=g+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!u&&S.left<=e.left&&S.right>=e.left&&(u=p,d={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(s=g+1)}}return!n&&u&&(n=u,i=d,r=0),n&&n.nodeType==3?eI(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:Q8(n,i)}function eI(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=wu(r,1);if(s.top!=s.bottom&&K3(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function K3(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function tI(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function nI(t,e,n){let{node:r,offset:i}=Q8(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function rI(t,e,n,r){let i=-1;for(let s=e,a=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?i=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),a=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function W8(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(K3(e,d))return W8(a,e,d)}}if((s=(s+1)%r)==i)break}return t}function iI(t,e){let n=t.dom.ownerDocument,r,i=0,s=YB(n,e.left,e.top);s&&({node:r,offset:i}=s);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=t.dom.getBoundingClientRect();if(!K3(e,d)||(a=W8(t.dom,e,d),!a))return null}if(ds)for(let d=a;r&&d;d=_p(d))d.draggable&&(r=void 0);if(a=tI(a,e),r){if(Fa&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let p=r.childNodes[i],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let d;Z0&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=rI(t,r,i,e))}l==null&&(l=nI(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function Mk(t){return t.top<t.bottom||t.left<t.right}function wu(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Mk(r))return r}return Array.prototype.find.call(n,Mk)||t.getBoundingClientRect()}const sI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function J8(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),a=Z0||Fa;if(r.nodeType==3)if(a&&(sI.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=wu(ac(r,i,i),n);if(Fa&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=wu(ac(r,i-1,i-1),-1);if(d.top==u.top){let p=wu(ac(r,i,i+1),-1);if(p.top!=u.top)return Ng(p,p.left<d.left)}}return u}else{let u=i,d=i,p=n<0?1:-1;return n<0&&!i?(d++,p=-1):n>=0&&i==r.nodeValue.length?(u--,p=1):n<0?u--:d++,Ng(wu(ac(r,u,d),p),p<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ha(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return SS(u.getBoundingClientRect(),!1)}if(s==null&&i<Ha(r)){let u=r.childNodes[i];if(u.nodeType==1)return SS(u.getBoundingClientRect(),!0)}return SS(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ha(r))){let u=r.childNodes[i-1],d=u.nodeType==3?ac(u,Ha(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return Ng(wu(d,1),!1)}if(s==null&&i<Ha(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?ac(u,0,a?0:1):u.nodeType==1?u:null:null;if(d)return Ng(wu(d,-1),!0)}return Ng(wu(r.nodeType==3?ac(r):r,-n),n>=0)}function Ng(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function SS(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function $8(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function aI(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return $8(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let a=J8(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=ac(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let p=u[d];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const oI=/[\u0590-\u08ac]/;function lI(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,a=i==r.parent.content.size,l=t.domSelection();return l?!oI.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:a:$8(t,e,()=>{let{focusNode:u,focusOffset:d,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),b=l.caretBidiLevel;l.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:S,focusOffset:k}=t.domSelectionRange(),_=S&&!x.contains(S.nodeType==1?S:S.parentNode)||u==S&&d==k;try{l.collapse(p,g),u&&(u!=p||d!=g)&&l.extend&&l.extend(u,d)}catch{}return b!=null&&(l.caretBidiLevel=b),_}):r.pos==r.start()||r.pos==r.end()}let Ak=null,Nk=null,Rk=!1;function cI(t,e,n){return Ak==e&&Nk==n?Rk:(Ak=e,Nk=n,Rk=n=="up"||n=="down"?aI(t,e,n):lI(t,e,n))}const Ga=0,Ok=1,td=2,pl=3;class ey{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ga,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>wi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let l=i.children[a];if(l.size){i=l;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],l=s+a.size;if(l>e||a instanceof eA){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Z8&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?wi(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?wi(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=r,l=0;;l++){let u=this.children[l],d=a+u.size;if(i==-1&&e<=d){let p=a+u.border;if(e>=p&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,p);e=a;for(let g=l;g>0;g--){let b=this.children[g-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){i=wi(b.dom)+1;break}e-=b.size}i==-1&&(i=0)}if(i>-1&&(d>n||l==this.children.length-1)){n=d;for(let p=l+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=wi(g.dom);break}n+=g.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),a=Math.max(e,n);for(let x=0,S=0;x<this.children.length;x++){let k=this.children[x],_=S+k.size;if(s>S&&a<_)return k.setSelection(e-S-k.border,n-S-k.border,r,i);S=_}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((Fa||ds)&&e==n){let{node:x,offset:S}=l;if(x.nodeType==3){if(g=!!(S&&x.nodeValue[S-1]==`
`),g&&S==x.nodeValue.length)for(let k=x,_;k;k=k.parentNode){if(_=k.nextSibling){_.nodeName=="BR"&&(l=u={node:_.parentNode,offset:wi(_)+1});break}let A=k.pmViewDesc;if(A&&A.node&&A.node.isBlock)break}}else{let k=x.childNodes[S-1];g=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Fa&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let x=p.focusNode.childNodes[p.focusOffset];x&&x.contentEditable=="false"&&(i=!0)}if(!(i||g&&ds)&&bd(l.node,l.offset,p.anchorNode,p.anchorOffset)&&bd(u.node,u.offset,p.focusNode,p.focusOffset))return;let b=!1;if((d.extend||e==n)&&!(g&&Fa)){d.collapse(l.node,l.offset);try{e!=n&&d.extend(u.node,u.offset),b=!0}catch{}}if(!b){if(e>n){let S=l;l=u,u=S}let x=document.createRange();x.setEnd(u.node,u.offset),x.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],a=r+s.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+s.border,u=a-s.border;if(e>=l&&n<=u){this.dirty=e==r||n==a?td:Ok,e==l&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=pl:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?td:pl}r=a}this.dirty=td}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?td:Ok;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Z8 extends ey{constructor(e,n,r,i){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Ga&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class uI extends ey{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class vd extends ey{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],a=s&&s(n,i,r);return(!a||!a.dom)&&(a=Td.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new vd(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&pl||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=pl&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ga){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ga}}slice(e,n,r){let i=vd.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=fC(s,n,a,r)),e>0&&(s=fC(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Fu extends ey{constructor(e,n,r,i,s,a,l,u,d){super(e,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,a){let l=s.nodeViews[n.type.name],u,d=l&&l(n,s,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,i),p=d&&d.dom,g=d&&d.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=Td.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let b=p;return p=rA(p,r,n),d?u=new fI(e,n,r,i,p,g||null,b,d,s,a+1):n.isText?new Px(e,n,r,i,p,b,s):new Fu(e,n,r,i,p,g||null,b,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ke.empty)}return e}matchesNode(e,n,r){return this.dirty==Ga&&e.eq(this.node)&&bv(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,a=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new hI(this,a&&a.node,e);gI(this.node,this.innerDeco,(d,p,g)=>{d.spec.marks?u.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!g&&u.syncToMarks(p==this.node.childCount?an.none:this.node.child(p).marks,r,e),u.placeWidget(d,e,i)},(d,p,g,b)=>{u.syncToMarks(d.marks,r,e);let x;u.findNodeMatch(d,p,g,b)||l&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(x=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(d,p,g,x,e)||u.updateNextNode(d,p,g,e,b,i)||u.addNode(d,p,g,e,i),i+=d.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==td)&&(a&&this.protectLocalComposition(e,a),tA(this.contentDOM,this.children,e),Mp&&yI(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof lt)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=bI(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new uI(this,s,n,i);e.input.compositionNodes.push(a),this.children=fC(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==pl||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ga}updateOuterDeco(e){if(bv(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=nA(this.dom,this.nodeDOM,uC(this.outerDeco,this.node,n),uC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Dk(t,e,n,r,i){rA(r,e,t);let s=new Fu(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Px extends Fu{constructor(e,n,r,i,s,a,l){super(e,n,r,i,s,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==pl||this.dirty!=Ga&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ga||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ga,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Px(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=pl)}get domAtom(){return!1}isText(e){return this.node.text==e}}class eA extends ey{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ga&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class fI extends Fu{constructor(e,n,r,i,s,a,l,u,d,p){super(e,n,r,i,s,a,l,d,p),this.spec=u}update(e,n,r,i){if(this.dirty==pl)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function tA(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=zk(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(a instanceof vd){let u=r?r.previousSibling:t.lastChild;tA(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=zk(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const i0=function(t){t&&(this.nodeName=t)};i0.prototype=Object.create(null);const nd=[new i0];function uC(t,e,n){if(t.length==0)return nd;let r=n?nd[0]:new i0,i=[r];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(r=new i0(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&i.length==1&&i.push(r=new i0(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function nA(t,e,n,r){if(n==nd&&r==nd)return e;let i=e;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(s){let u;l&&l.nodeName==a.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=nd[0]),i=u}dI(i,l||nd[0],a)}return i}function dI(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function rA(t,e,n){return nA(t,t,nd,uC(e,n,t.nodeType!=1))}function bv(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function zk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class hI{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=pI(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ga,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let d=this.top.children[u];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=vd.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))s=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let d=this.top.children[l];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let a=this.top.children[i];return a.dirty==pl&&a.dom==a.contentDOM&&(a.dirty=td),a.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Fu){let d=this.preMatch.matched.get(u);if(d!=null&&d!=s)return!1;let p=u.dom,g,b=this.isLocked(p)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=pl&&bv(n,u.outerDeco));if(!b&&u.update(e,n,r,i))return this.destroyBetween(this.index,l),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!b&&(g=this.recreateWrapper(u,e,n,r,i,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=td,g.updateChildren(i,a+1),g.dirty=Ga),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!bv(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=Fu.create(this.top,n,r,i,s,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let a=Fu.create(this.top,e,n,r,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Z8(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof vd;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Px)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ds||Ii)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new eA(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function pI(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let l;for(;;)if(r){let d=n.children[r-1];if(d instanceof vd)n=d,r=d.children.length;else{l=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,s.set(l,i),a.push(l)}}return{index:i,matched:s,matches:a.reverse()}}function mI(t,e){return t.type.side-e.type.side}function gI(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let p=t.child(d);r(p,i,e.forChild(s,p),d),s+=p.nodeSize}return}let a=0,l=[],u=null;for(let d=0;;){let p,g;for(;a<i.length&&i[a].to==s;){let _=i[a++];_.widget&&(p?(g||(g=[p])).push(_):p=_)}if(p)if(g){g.sort(mI);for(let _=0;_<g.length;_++)n(g[_],d,!!u)}else n(p,d,!!u);let b,x;if(u)x=-1,b=u,u=null;else if(d<t.childCount)x=d,b=t.child(d++);else break;for(let _=0;_<l.length;_++)l[_].to<=s&&l.splice(_--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)l.push(i[a++]);let S=s+b.nodeSize;if(b.isText){let _=S;a<i.length&&i[a].from<_&&(_=i[a].from);for(let A=0;A<l.length;A++)l[A].to<_&&(_=l[A].to);_<S&&(u=b.cut(_-s),b=b.cut(0,_-s),S=_,x=-1)}else for(;a<i.length&&i[a].to<S;)a++;let k=b.isInline&&!b.isLeaf?l.filter(_=>!_.inline):l.slice();r(b,k,e.forChild(s,b),x),s=S}}function yI(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function bI(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let a=t.child(i++),l=s;if(s+=a.nodeSize,!a.isText)continue;let u=a.text;for(;i<t.childCount;){let d=t.child(i++);if(s+=d.nodeSize,!d.isText)break;u+=d.text}if(s>=n){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let d=l<r?u.lastIndexOf(e,r-l-1):-1;if(d>=0&&d+e.length+l>=n)return l+d;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function fC(t,e,n,r,i){let s=[];for(let a=0,l=0;a<t.length;a++){let u=t[a],d=l,p=l+=u.size;d>=n||p<=e?s.push(u):(d<e&&s.push(u.slice(0,e-d,r)),i&&(s.push(i),i=void 0),p>n&&s.push(u.slice(n-d,u.size,r)))}return s}function X3(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,d;if(Lx(n)){for(u=a;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&Ze.isSelectable(g)&&i.parent&&!(g.isInline&&qB(n.focusNode,n.focusOffset,i.dom))){let b=i.posBefore;d=new Ze(a==b?l:r.resolve(b))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=a,b=a;for(let x=0;x<n.rangeCount;x++){let S=n.getRangeAt(x);g=Math.min(g,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),b=Math.max(b,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(g<0)return null;[u,a]=b==t.state.selection.anchor?[b,g]:[g,b],l=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!d){let g=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;d=Q3(t,p,l,g)}return d}function iA(t){return t.editable?t.hasFocus():aA(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function uc(t,e=!1){let n=t.state.selection;if(sA(t,n),!!iA(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ii){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&bd(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)xI(t);else{let{anchor:r,head:i}=n,s,a;jk&&!(n instanceof lt)&&(n.$from.parent.inlineContent||(s=Lk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=Lk(t,n.to))),t.docView.setSelection(r,i,t,e),jk&&(s&&Pk(s),a&&Pk(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&vI(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const jk=ds||Ii&&Y8<63;function Lk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(ds&&i&&i.contentEditable=="false")return wS(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return wS(i);if(s)return wS(s)}}function wS(t){return t.contentEditable="true",ds&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Pk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function vI(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!iA(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function xI(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,wi(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Fs&&Uu<=11&&(n.disabled=!0,n.disabled=!1)}function sA(t,e){if(e instanceof Ze){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Bk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Bk(t)}function Bk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Q3(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||lt.between(e,n,r)}function Ik(t){return t.editable&&!t.hasFocus()?!1:aA(t)}function aA(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function SI(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return bd(e.node,e.offset,n.anchorNode,n.anchorOffset)}function dC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Et.findFrom(s,e)}function Tu(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Hk(t,e,n){let r=t.state.selection;if(r instanceof lt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Tu(t,new lt(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=dC(t.state,e);return i&&i instanceof Ze?Tu(t,i):!1}else if(!(Pa&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Ze.isSelectable(s)?Tu(t,new Ze(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Z0?Tu(t,new lt(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ze&&r.node.isInline)return Tu(t,new lt(e>0?r.$to:r.$from));{let i=dC(t.state,e);return i?Tu(t,i):!1}}}function vv(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function s0(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Zh(t,e){return e<0?wI(t):CI(t)}function wI(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,a=!1;for(Fa&&n.nodeType==1&&r<vv(n)&&s0(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(s0(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(oA(n))break;{let l=n.previousSibling;for(;l&&s0(l,-1);)i=n.parentNode,s=wi(l),l=l.previousSibling;if(l)n=l,r=vv(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?hC(t,n,r):i&&hC(t,i,s)}function CI(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=vv(n),s,a;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(s0(l,1))s=n,a=++r;else break}else{if(oA(n))break;{let l=n.nextSibling;for(;l&&s0(l,1);)s=l.parentNode,a=wi(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=vv(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&hC(t,s,a)}function oA(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function EI(t,e){for(;t&&e==t.childNodes.length&&!$0(t);)e=wi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function kI(t,e){for(;t&&!e&&!$0(t);)e=wi(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function hC(t,e,n){if(e.nodeType!=3){let s,a;(a=EI(e,n))?(e=a,n=0):(s=kI(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Lx(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&uc(t)},50)}function Uk(t,e){let n=t.state.doc.resolve(e);if(!(Ii||KB)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Fk(t,e,n){let r=t.state.selection;if(r instanceof lt&&!r.empty||n.indexOf("s")>-1||Pa&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=dC(t.state,e);if(a&&a instanceof Ze)return Tu(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,l=r instanceof na?Et.near(a,e):Et.findFrom(a,e);return l?Tu(t,l):!1}return!1}function Gk(t,e){if(!(t.state.selection instanceof lt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),t.dispatch(a),!0}return!1}function qk(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function TI(t){if(!ds||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;qk(t,r,"true"),setTimeout(()=>qk(t,r,"false"),20)}return!1}function _I(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function MI(t,e){let n=e.keyCode,r=_I(e);if(n==8||Pa&&n==72&&r=="c")return Gk(t,-1)||Zh(t,-1);if(n==46&&!e.shiftKey||Pa&&n==68&&r=="c")return Gk(t,1)||Zh(t,1);if(n==13||n==27)return!0;if(n==37||Pa&&n==66&&r=="c"){let i=n==37?Uk(t,t.state.selection.from)=="ltr"?-1:1:-1;return Hk(t,i,r)||Zh(t,i)}else if(n==39||Pa&&n==70&&r=="c"){let i=n==39?Uk(t,t.state.selection.from)=="ltr"?1:-1:1;return Hk(t,i,r)||Zh(t,i)}else{if(n==38||Pa&&n==80&&r=="c")return Fk(t,-1,r)||Zh(t,-1);if(n==40||Pa&&n==78&&r=="c")return TI(t)||Fk(t,1,r)||Zh(t,1);if(r==(Pa?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function W3(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=t.someProp("clipboardSerializer")||Td.fromSchema(t.state.schema),l=hA(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let d=u.firstChild,p,g=0;for(;d&&d.nodeType==1&&(p=dA[d.nodeName.toLowerCase()]);){for(let x=p.length-1;x>=0;x--){let S=l.createElement(p[x]);for(;u.firstChild;)S.appendChild(u.firstChild);u.appendChild(S),g++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${s}${g?` -${g}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:b,slice:e}}function lA(t,e,n,r,i){let s=i.parent.type.spec.code,a,l;if(!n&&!e)return null;let u=!!e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",b=>{e=b(e,s||r,t)}),s)return l=new Ie(ke.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",b=>{l=b(l,t,!0)}),l;let g=t.someProp("clipboardTextParser",b=>b(e,i,r,t));if(g)l=g;else{let b=i.marks(),{schema:x}=t.state,S=Td.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let _=a.appendChild(document.createElement("p"));k&&_.appendChild(S.serializeNode(x.text(k,b)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),a=OI(n),Z0&&DI(a);let d=a&&a.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let b=a.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;a=b}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Hu.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||p),context:i,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!AI.test(b.parentNode.nodeName)?{ignore:!0}:null}})),p)l=zI(Vk(l,+p[1],+p[2]),p[4]);else if(l=Ie.maxOpen(NI(l.content,i),!0),l.openStart||l.openEnd){let g=0,b=0;for(let x=l.content.firstChild;g<l.openStart&&!x.type.spec.isolating;g++,x=x.firstChild);for(let x=l.content.lastChild;b<l.openEnd&&!x.type.spec.isolating;b++,x=x.lastChild);l=Vk(l,g,b)}return t.someProp("transformPasted",g=>{l=g(l,t,u)}),l}const AI=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function NI(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,a=[];if(t.forEach(l=>{if(!a)return;let u=i.findWrapping(l.type),d;if(!u)return a=null;if(d=a.length&&s.length&&uA(u,s,l,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=fA(a[a.length-1],s.length));let p=cA(l,u);a.push(p),i=i.matchType(p.type),s=u}}),a)return ke.from(a)}return t}function cA(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ke.from(t));return t}function uA(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=uA(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ke.from(cA(n,t,i+1))))}}function fA(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,fA(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ke.empty,!0);return t.copy(n.append(r))}function pC(t,e,n,r,i,s){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(s=0),i<r-1&&(l=pC(l,e,n,r,i+1,s)),i>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(ke.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}function Vk(t,e,n){return e<t.openStart&&(t=new Ie(pC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ie(pC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const dA={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Yk=null;function hA(){return Yk||(Yk=document.implementation.createHTMLDocument("title"))}let CS=null;function RI(t){let e=window.trustedTypes;return e?(CS||(CS=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),CS.createHTML(t)):t}function OI(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=hA().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&dA[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=RI(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function DI(t){let e=t.querySelectorAll(Ii?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function zI(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=ke.from(u.create(r[l+1],i)),s++,a++}return new Ie(i,s,a)}const hs={},ps={},jI={touchstart:!0,touchmove:!0};class LI{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function PI(t){for(let e in hs){let n=hs[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{II(t,r)&&!J3(t,r)&&(t.editable||!(r.type in ps))&&n(t,r)},jI[e]?{passive:!0}:void 0)}ds&&t.dom.addEventListener("input",()=>null),mC(t)}function Pu(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function BI(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function mC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>J3(t,r))})}function J3(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function II(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function HI(t,e){!J3(t,e)&&hs[e.type]&&(t.editable||!(e.type in ps))&&hs[e.type](t,e)}ps.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!mA(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(lc&&Ii&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Mp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,$f(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||MI(t,n)?n.preventDefault():Pu(t,"key")};ps.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ps.keypress=(t,e)=>{let n=e;if(mA(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Pa&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof lt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Bx(t){return{left:t.clientX,top:t.clientY}}function UI(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function $3(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,l=>a>s.depth?l(t,n,s.nodeAfter,s.before(a),i,!0):l(t,n,s.node(a),s.before(a),i,!1)))return!0;return!1}function yp(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function FI(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ze.isSelectable(r)?(yp(t,new Ze(n)),!0):!1}function GI(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ze&&(r=n.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let l=a>s.depth?s.nodeAfter:s.node(a);if(Ze.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(a);break}}return i!=null?(yp(t,Ze.create(t.state.doc,i)),!0):!1}function qI(t,e,n,r,i){return $3(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?GI(t,n):FI(t,n))}function VI(t,e,n,r){return $3(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function YI(t,e,n,r){return $3(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||KI(t,n,r)}function KI(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(yp(t,lt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(a.inlineContent)yp(t,lt.create(r,l+1,l+1+a.content.size));else if(Ze.isSelectable(a))yp(t,Ze.create(r,l));else continue;return!0}}function Z3(t){return xv(t)}const pA=Pa?"metaKey":"ctrlKey";hs.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Z3(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&UI(n,t.input.lastClick)&&!n[pA]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=t.posAtCoords(Bx(n));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new XI(t,a,n,!!r)):(s=="doubleClick"?VI:YI)(t,a.pos,a.inside,n)?n.preventDefault():Pu(t,"pointer"))};class XI{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[pA],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);s=p.parent,a=p.depth?p.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof Ze&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Fa&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Pu(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>uc(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Bx(e))),this.updateAllowDefault(e),this.allowDefault||!n?Pu(this.view,"pointer"):qI(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ds&&this.mightDrag&&!this.mightDrag.node.isAtom||Ii&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(yp(this.view,Et.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Pu(this.view,"pointer")}move(e){this.updateAllowDefault(e),Pu(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}hs.touchstart=t=>{t.input.lastTouch=Date.now(),Z3(t),Pu(t,"pointer")};hs.touchmove=t=>{t.input.lastTouch=Date.now(),Pu(t,"pointer")};hs.contextmenu=t=>Z3(t);function mA(t,e){return t.composing?!0:ds&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const QI=lc?5e3:-1;ps.compositionstart=ps.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof lt&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),xv(t,!0),t.markCursor=null;else if(xv(t,!e.selection.empty),Fa&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}gA(t,QI)};ps.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,gA(t,20))};function gA(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>xv(t),e))}function yA(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=JI());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function WI(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=FB(e.focusNode,e.focusOffset),r=GB(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function JI(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function xv(t,e=!1){if(!(lc&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),yA(t),e||t.docView&&t.docView.dirty){let n=X3(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function $I(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const R0=Fs&&Uu<15||Mp&&XB<604;hs.copy=ps.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=R0?null:n.clipboardData,a=r.content(),{dom:l,text:u}=W3(t,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):$I(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ZI(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function eH(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?O0(t,r.value,null,i,e):O0(t,r.textContent,r.innerHTML,i,e)},50)}function O0(t,e,n,r,i){let s=lA(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||Ie.empty)))return!0;if(!s)return!1;let a=ZI(s),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function bA(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ps.paste=(t,e)=>{let n=e;if(t.composing&&!lc)return;let r=R0?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&O0(t,bA(r),r.getData("text/html"),i,n)?n.preventDefault():eH(t,n)};class vA{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const tH=Pa?"altKey":"ctrlKey";function xA(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[tH]}hs.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Bx(n)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Ze?i.to-1:i.to))){if(r&&r.mightDrag)a=Ze.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(a=Ze.create(t.state.doc,g.posBefore))}}let l=(a||t.state.selection).content(),{dom:u,text:d,slice:p}=W3(t,l);(!n.dataTransfer.files.length||!Ii||Y8>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(R0?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",R0||n.dataTransfer.setData("text/plain",d),t.dragging=new vA(p,xA(t,n),a)};hs.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ps.dragover=ps.dragenter=(t,e)=>e.preventDefault();ps.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Bx(n));if(!i)return;let s=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",S=>{a=S(a,t,!1)}):a=lA(t,bA(n.dataTransfer),R0?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&xA(t,n));if(t.someProp("handleDrop",S=>S(t,n,a||Ie.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?k8(t.state.doc,s.pos,a):s.pos;u==null&&(u=s.pos);let d=t.state.tr;if(l){let{node:S}=r;S?S.replace(d):d.deleteSelection()}let p=d.mapping.map(u),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,b=d.doc;if(g?d.replaceRangeWith(p,p,a.content.firstChild):d.replaceRange(p,p,a),d.doc.eq(b))return;let x=d.doc.resolve(p);if(g&&Ze.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new Ze(x));else{let S=d.mapping.map(u);d.mapping.maps[d.mapping.maps.length-1].forEach((k,_,A,O)=>S=O),d.setSelection(Q3(t,x,d.doc.resolve(S)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};hs.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&uc(t)},20))};hs.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};hs.beforeinput=(t,e)=>{if(Ii&&lc&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,$f(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ps)hs[t]=ps[t];function D0(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Sv{constructor(e,n){this.toDOM=e,this.spec=n||ud,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new fs(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Sv&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&D0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Gu{constructor(e,n){this.attrs=e,this.spec=n||ud}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new fs(s,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Gu&&D0(this.attrs,e.attrs)&&D0(this.spec,e.spec)}static is(e){return e.type instanceof Gu}destroy(){}}class eE{constructor(e,n){this.attrs=e,this.spec=n||ud}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=s.pos?null:new fs(s.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof eE&&D0(this.attrs,e.attrs)&&D0(this.spec,e.spec)}destroy(){}}class fs{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new fs(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new fs(e,e,new Sv(n,r))}static inline(e,n,r,i){return new fs(e,n,new Gu(r,i))}static node(e,n,r,i){return new fs(e,n,new eE(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Gu}get widget(){return this.type instanceof Sv}}const up=[],ud={};class Jn{constructor(e,n){this.local=e.length?e:up,this.children=n.length?n:up}static create(e,n){return n.length?wv(n,e,0,ud):Pi}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==Pi||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ud)}mapInner(e,n,r,i,s){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(a||(a=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?nH(this.children,a||[],e,n,r,i,s):a?new Jn(a.sort(fd),up):Pi}add(e,n){return n.length?this==Pi?Jn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,u)=>{let d=u+r,p;if(p=wA(n,l,d)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,p,d+1):i.splice(s,0,u,u+l.nodeSize,wv(p,l,d+1,ud)),s+=3}});let a=SA(s?CA(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new Jn(a.length?this.local.concat(a).sort(fd):this.local,i||this.children)}remove(e){return e.length==0||this==Pi?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let a,l=r[s]+n,u=r[s+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>l&&g.to<u&&(e[p]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(a,l+1);d!=Pi?r[s+2]=d:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let l=0;l<i.length;l++)i[l].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Jn(i,r):Pi}forChild(e,n){if(this==Pi)return this;if(n.isLeaf)return Jn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,a=s+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>s&&u.type instanceof Gu){let d=Math.max(s,u.from)-s,p=Math.min(a,u.to)-s;d<p&&(i||(i=[])).push(u.copy(d,p))}}if(i){let l=new Jn(i.sort(fd),up);return r?new Nu([l,r]):l}return r||Pi}eq(e){if(this==e)return!0;if(!(e instanceof Jn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return tE(this.localsInner(e))}localsInner(e){if(this==Pi)return up;if(e.inlineContent||!this.local.some(Gu.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Gu||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Jn.empty=new Jn([],[]);Jn.removeOverlap=tE;const Pi=Jn.empty;class Nu{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ud));return Nu.from(r)}forChild(e,n){if(n.isLeaf)return Jn.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Pi&&(s instanceof Nu?r=r.concat(s.members):r.push(s))}return Nu.from(r)}eq(e){if(!(e instanceof Nu)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?tE(r?n:n.sort(fd)):up}static from(e){switch(e.length){case 0:return Pi;case 1:return e[0];default:return new Nu(e.every(n=>n instanceof Jn)?e:e.reduce((n,r)=>n.concat(r instanceof Jn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function nH(t,e,n,r,i,s,a){let l=t.slice();for(let d=0,p=s;d<n.maps.length;d++){let g=0;n.maps[d].forEach((b,x,S,k)=>{let _=k-S-(x-b);for(let A=0;A<l.length;A+=3){let O=l[A+1];if(O<0||b>O+p-g)continue;let z=l[A]+p-g;x>=z?l[A+1]=b<=z?-2:-1:b>=p&&_&&(l[A]+=_,l[A+1]+=_)}g+=_}),p=n.maps[d].map(p,-1)}let u=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){u=!0,l[d+1]=-1;continue}let p=n.map(t[d]+s),g=p-i;if(g<0||g>=r.content.size){u=!0;continue}let b=n.map(t[d+1]+s,-1),x=b-i,{index:S,offset:k}=r.content.findIndex(g),_=r.maybeChild(S);if(_&&k==g&&k+_.nodeSize==x){let A=l[d+2].mapInner(n,_,p+1,t[d]+s+1,a);A!=Pi?(l[d]=g,l[d+1]=x,l[d+2]=A):(l[d+1]=-2,u=!0)}else u=!0}if(u){let d=rH(l,t,e,n,i,s,a),p=wv(d,r,0,a);e=p.local;for(let g=0;g<l.length;g+=3)l[g+1]<0&&(l.splice(g,3),g-=3);for(let g=0,b=0;g<p.children.length;g+=3){let x=p.children[g];for(;b<l.length&&l[b]<x;)b+=3;l.splice(b,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Jn(e.sort(fd),l)}function SA(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new fs(i.from+e,i.to+e,i.type))}return n}function rH(t,e,n,r,i,s,a){function l(u,d){for(let p=0;p<u.local.length;p++){let g=u.local[p].map(r,i,d);g?n.push(g):a.onRemove&&a.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)l(u.children[p+2],u.children[p]+d+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+s+1);return n}function wA(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[s]=null);return i}function CA(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function wv(t,e,n,r){let i=[],s=!1;e.forEach((l,u)=>{let d=wA(t,l,u+n);if(d){s=!0;let p=wv(d,l,n+u+1,r);p!=Pi&&i.push(u,u+l.nodeSize,p)}});let a=SA(s?CA(t):t,-n).sort(fd);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||i.length?new Jn(a,i):Pi}function fd(t,e){return t.from-e.from||t.to-e.to}function tE(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),Kk(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),Kk(e,i,r.copy(s.from,r.to)));break}}}return e}function Kk(t,e,n){for(;e<t.length&&fd(n,t[e])>0;)e++;t.splice(e,0,n)}function ES(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Pi&&e.push(r)}),t.cursorWrapper&&e.push(Jn.create(t.state.doc,[t.cursorWrapper.deco])),Nu.from(e)}const iH={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},sH=Fs&&Uu<=11;class aH{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class oH{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new aH,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Fs&&Uu<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),sH&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,iH)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ik(this.view)){if(this.suppressingSelectionUpdates)return uc(this.view);if(Fs&&Uu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&bd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=_p(s))n.add(s);for(let s=e.anchorNode;s;s=_p(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Ik(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,l=!1,u=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],u);g&&(s=s<0?g.from:Math.min(g.from,s),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(l=!0))}if(Fa&&u.length){let p=u.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,b]=p;g.parentNode&&g.parentNode.parentNode==b.parentNode?b.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let b of p){let x=b.parentNode;x&&x.nodeName=="LI"&&(!g||uH(e,g)!=x)&&b.remove()}}}let d=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Lx(r)&&(d=X3(e))&&d.eq(Et.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,uc(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),lH(e)),this.handleDOMChange(s,a,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||uc(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Fs&&Uu<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:b}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(s=b)}let a=i&&i.parentNode==e.target?wi(i)+1:0,l=r.localPosFromDOM(e.target,a,-1),u=s&&s.parentNode==e.target?wi(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,u,1);return{from:l,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Xk=new WeakMap,Qk=!1;function lH(t){if(!Xk.has(t)&&(Xk.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Fa,Qk)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Qk=!0}}function Wk(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return bd(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function cH(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Wk(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Wk(t,n):null}function uH(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function fH(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:a,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),d,p=u.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:u.anchorOffset}],Lx(u)||d.push({node:u.focusNode,offset:u.focusOffset})),Ii&&t.input.lastKeyCode===8)for(let _=s;_>i;_--){let A=r.childNodes[_-1],O=A.pmViewDesc;if(A.nodeName=="BR"&&!O){s=_;break}if(!O||O.size)break}let g=t.state.doc,b=t.someProp("domParser")||Hu.fromSchema(t.state.schema),x=g.resolve(a),S=null,k=b.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:i,to:s,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:dH,context:x});if(d&&d[0].pos!=null){let _=d[0].pos,A=d[1]&&d[1].pos;A==null&&(A=_),S={anchor:_+a,head:A+a}}return{doc:k,sel:S,from:a,to:l}}function dH(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ds&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ds&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hH=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pH(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=X3(t,P);if(I&&!t.state.selection.eq(I)){if(Ii&&lc&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",G=>G(t,$f(13,"Enter"))))return;let Y=t.state.tr.setSelection(I);P=="pointer"?Y.setMeta("pointer",!0):P=="key"&&Y.scrollIntoView(),s&&Y.setMeta("composition",s),t.dispatch(Y)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,d=fH(t,e,n),p=t.state.doc,g=p.slice(d.from,d.to),b,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(b=t.state.selection.to,x="end"):(b=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let S=yH(g.content,d.doc.content,d.from,b,x);if(S&&t.input.domChangeCount++,(Mp&&t.input.lastIOSEnter>Date.now()-225||lc)&&i.some(P=>P.nodeType==1&&!hH.test(P.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",P=>P(t,$f(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(r&&u instanceof lt&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))S={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let P=Jk(t,t.state.doc,d.sel);if(P&&!P.eq(t.state.selection)){let I=t.state.tr.setSelection(P);s&&I.setMeta("composition",s),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof lt&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),Fs&&Uu<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>d.from&&d.doc.textBetween(S.start-d.from-1,S.start-d.from+1)==" "&&(S.start--,S.endA--,S.endB--);let k=d.doc.resolveNoCache(S.start-d.from),_=d.doc.resolveNoCache(S.endB-d.from),A=p.resolve(S.start),O=k.sameParent(_)&&k.parent.inlineContent&&A.end()>=S.endA;if((Mp&&t.input.lastIOSEnter>Date.now()-225&&(!O||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!O&&k.pos<d.doc.content.size&&(!k.sameParent(_)||!k.parent.inlineContent)&&k.pos<_.pos&&!/\S/.test(d.doc.textBetween(k.pos,_.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,$f(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&gH(p,S.start,S.endA,k,_)&&t.someProp("handleKeyDown",P=>P(t,$f(8,"Backspace")))){lc&&Ii&&t.domObserver.suppressSelectionUpdates();return}Ii&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),lc&&!O&&k.start()!=_.start()&&_.parentOffset==0&&k.depth==_.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==S.endA&&(S.endB-=2,_=d.doc.resolveNoCache(S.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,$f(13,"Enter"))})},20));let z=S.start,L=S.endA,H=P=>{let I=P||t.state.tr.replace(z,L,d.doc.slice(S.start-d.from,S.endB-d.from));if(d.sel){let Y=Jk(t,I.doc,d.sel);Y&&!(Ii&&t.composing&&Y.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(Y.head==z||Y.head==I.mapping.map(L)-1)||Fs&&Y.empty&&Y.head==z)&&I.setSelection(Y)}return s&&I.setMeta("composition",s),I.scrollIntoView()},j;if(O)if(k.pos==_.pos){Fs&&Uu<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>uc(t),20));let P=H(t.state.tr.delete(z,L)),I=p.resolve(S.start).marksAcross(p.resolve(S.endA));I&&P.ensureMarks(I),t.dispatch(P)}else if(S.endA==S.endB&&(j=mH(k.parent.content.cut(k.parentOffset,_.parentOffset),A.parent.content.cut(A.parentOffset,S.endA-A.start())))){let P=H(t.state.tr);j.type=="add"?P.addMark(z,L,j.mark):P.removeMark(z,L,j.mark),t.dispatch(P)}else if(k.parent.child(k.index()).isText&&k.index()==_.index()-(_.textOffset?0:1)){let P=k.parent.textBetween(k.parentOffset,_.parentOffset),I=()=>H(t.state.tr.insertText(P,z,L));t.someProp("handleTextInput",Y=>Y(t,z,L,P,I))||t.dispatch(I())}else t.dispatch(H());else t.dispatch(H())}function Jk(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Q3(t,e.resolve(n.anchor),e.resolve(n.head))}function mH(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,a,l,u;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)s=n[p].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],a="add",u=p=>p.mark(l.addToSet(p.marks));else if(i.length==0&&s.length==1)l=s[0],a="remove",u=p=>p.mark(l.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(u(e.child(p)));if(ke.from(d).eq(t))return{mark:l,type:a}}function gH(t,e,n,r,i){if(n-e<=i.pos-r.pos||kS(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(kS(s,!0,!0));return!a.parent.isTextblock||a.pos>n||kS(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function kS(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function yH(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(a,l));r-=a+u-s}if(a<s&&t.size<e.size){let u=r<=s&&r>=a?s-r:0;s-=u,s&&s<e.size&&$k(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-a),a=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<t.size&&$k(t.textBetween(s-1,s+1))&&(s+=u?1:-1),a=s+(a-l),l=s}return{start:s,endA:a,endB:l}}function $k(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class EA{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new LI,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(rT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=tT(this),eT(this),this.nodeViews=nT(this),this.docView=Dk(this.state.doc,Zk(this),ES(this),this.dom,this),this.domObserver=new oH(this,(r,i,s,a)=>pH(this,r,i,s,a)),this.domObserver.start(),PI(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&mC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(rT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(yA(this),a=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=nT(this);vH(x,this.nodeViews)&&(this.nodeViews=x,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&mC(this),this.editable=tT(this),eT(this);let u=ES(this),d=Zk(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=s||!this.docView.matchesNode(e.doc,d,u);(g||!e.selection.eq(i.selection))&&(a=!0);let b=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&JB(this);if(a){this.domObserver.stop();let x=g&&(Fs||Ii)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&bH(i.selection,e.selection);if(g){let S=Ii?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=WI(this)),(s||!this.docView.update(e.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=Dk(e.doc,d,u,this.dom,this)),S&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&SI(this))?uc(this,x):(sA(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():b&&$B(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ze){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_k(this,n.getBoundingClientRect(),e)}else _k(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new vA(e.slice,e.move,i<0?void 0:Ze.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let l=s[a].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Fs){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ZB(this.dom),uc(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return iI(this,e)}coordsAtPos(e,n=1){return J8(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return cI(this,n||this.state,e)}pasteHTML(e,n){return O0(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return O0(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return W3(this,e)}destroy(){this.docView&&(BI(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ES(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,HB())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return HI(this,e)}domSelectionRange(){let e=this.domSelection();return e?ds&&this.root.nodeType===11&&VB(this.dom.ownerDocument)==this.dom&&cH(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EA.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Zk(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[fs.node(0,t.state.doc.content.size,e)]}function eT(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:fs.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function tT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function bH(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function nT(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function vH(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function rT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var qu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},xH=typeof navigator<"u"&&/Mac/.test(navigator.platform),SH=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ci=0;Ci<10;Ci++)qu[48+Ci]=qu[96+Ci]=String(Ci);for(var Ci=1;Ci<=24;Ci++)qu[Ci+111]="F"+Ci;for(var Ci=65;Ci<=90;Ci++)qu[Ci]=String.fromCharCode(Ci+32),Cv[Ci]=String.fromCharCode(Ci);for(var TS in qu)Cv.hasOwnProperty(TS)||(Cv[TS]=qu[TS]);function wH(t){var e=xH&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||SH&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Cv:qu)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const CH=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),EH=typeof navigator<"u"&&/Win/.test(navigator.platform);function kH(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))CH?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function TH(t){let e=Object.create(null);for(let n in t)e[kH(n)]=t[n];return e}function _S(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function _H(t){return new Zn({props:{handleKeyDown:kA(t)}})}function kA(t){let e=TH(t);return function(n,r){let i=wH(r),s,a=e[_S(i,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[_S(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(EH&&r.ctrlKey&&r.altKey)&&(s=qu[r.keyCode])&&s!=i){let l=e[_S(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var MH=Object.defineProperty,nE=(t,e)=>{for(var n in e)MH(t,n,{get:e[n],enumerable:!0})};function Ix(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}var Hx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...d)=>{const p=l(...d)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a=[],l=!!t,u=t||i.tr,d=()=>(!l&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,b])=>[g,(...S)=>{const k=this.buildProps(u,e),_=b(...S)(k);return a.push(_),p}])),run:d};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...d)=>u(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:Ix({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)(a)]))}};return a}},TA={};nE(TA,{blur:()=>AH,clearContent:()=>NH,clearNodes:()=>RH,command:()=>OH,createParagraphNear:()=>DH,cut:()=>zH,deleteCurrentNode:()=>jH,deleteNode:()=>LH,deleteRange:()=>PH,deleteSelection:()=>BH,enter:()=>IH,exitCode:()=>HH,extendMarkRange:()=>UH,first:()=>FH,focus:()=>qH,forEach:()=>VH,insertContent:()=>YH,insertContentAt:()=>QH,joinBackward:()=>$H,joinDown:()=>JH,joinForward:()=>ZH,joinItemBackward:()=>eU,joinItemForward:()=>tU,joinTextblockBackward:()=>nU,joinTextblockForward:()=>rU,joinUp:()=>WH,keyboardShortcut:()=>sU,lift:()=>aU,liftEmptyBlock:()=>oU,liftListItem:()=>lU,newlineInCode:()=>cU,resetAttributes:()=>uU,scrollIntoView:()=>fU,selectAll:()=>dU,selectNodeBackward:()=>hU,selectNodeForward:()=>pU,selectParentNode:()=>mU,selectTextblockEnd:()=>gU,selectTextblockStart:()=>yU,setContent:()=>bU,setMark:()=>LU,setMeta:()=>PU,setNode:()=>BU,setNodeSelection:()=>IU,setTextDirection:()=>HU,setTextSelection:()=>UU,sinkListItem:()=>FU,splitBlock:()=>GU,splitListItem:()=>qU,toggleList:()=>VU,toggleMark:()=>YU,toggleNode:()=>KU,toggleWrap:()=>XU,undoInputRule:()=>QU,unsetAllMarks:()=>WU,unsetMark:()=>JU,unsetTextDirection:()=>$U,updateAttributes:()=>ZU,wrapIn:()=>eF,wrapInList:()=>tF});var AH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),NH=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),RH=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:a})=>{t.doc.nodesBetween(s.pos,a.pos,(l,u)=>{if(l.type.isText)return;const{doc:d,mapping:p}=e,g=d.resolve(p.map(u)),b=d.resolve(p.map(u+l.nodeSize)),x=g.blockRange(b);if(!x)return;const S=Up(x);if(l.type.isTextblock){const{defaultType:k}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(x.start,k)}(S||S===0)&&e.lift(x,S)})}),!0},OH=t=>e=>t(e),DH=()=>({state:t,dispatch:e})=>U8(t,e),zH=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new lt(r.doc.resolve(Math.max(a-1,0)))),!0},jH=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),u=i.after(s);t.delete(l,u).scrollIntoView()}return!0}return!1};function Rr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var LH=t=>({tr:e,state:n,dispatch:r})=>{const i=Rr(t,n.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===i){if(r){const u=s.before(a),d=s.after(a);e.delete(u,d).scrollIntoView()}return!0}return!1},PH=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},BH=()=>({state:t,dispatch:e})=>F3(t,e),IH=()=>({commands:t})=>t.keyboardShortcut("Enter"),HH=()=>({state:t,dispatch:e})=>kB(t,e);function rE(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ev(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:rE(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function _A(t,e,n={}){return t.find(r=>r.type===e&&Ev(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function iT(t,e,n={}){return!!_A(t,e,n)}function iE(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!_A([...i.node.marks],e,n)))return;let a=i.index,l=t.start()+i.offset,u=a+1,d=l+i.node.nodeSize;for(;a>0&&iT([...t.parent.child(a-1).marks],e,n);)a-=1,l-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&iT([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function bc(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var UH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=bc(t,r.schema),{doc:a,selection:l}=n,{$from:u,from:d,to:p}=l;if(i){const g=iE(u,s,e);if(g&&g.from<=d&&g.to>=p){const b=lt.create(a,g.from,g.to);n.setSelection(b)}}return!0},FH=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function MA(t){return t instanceof lt}function rd(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function AA(t,e=null){if(!e)return null;const n=Et.atStart(t),r=Et.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?lt.create(t,rd(0,i,s),rd(t.content.size,i,s)):lt.create(t,rd(e,i,s),rd(e,i,s))}function GH(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function sE(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var qH=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(sE()||GH())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!MA(n.state.selection))return a(),!0;const l=AA(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return s&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0},VH=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),YH=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),NA=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&NA(r)}return t};function db(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return NA(n)}function z0(t,e,n){if(t instanceof Iu||t instanceof ke)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ke.fromArray(t.map(l=>e.nodeFromJSON(l)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),z0("",e,n)}if(i){if(n.errorOnInvalidContent){let a=!1,l="";const u=new p8({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?Hu.fromSchema(u).parseSlice(db(t),n.parseOptions):Hu.fromSchema(u).parse(db(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Hu.fromSchema(e);return n.slice?s.parseSlice(db(t),n.parseOptions).content:s.parse(db(t),n.parseOptions)}return z0("",e,n)}function KH(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ti||i instanceof ni))return;const s=t.mapping.maps[r];let a=0;s.forEach((l,u,d,p)=>{a===0&&(a=p)}),t.setSelection(Et.near(t.doc.resolve(a),n))}var XH=t=>!("type"in t),QH=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var a;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=_=>{s.emit("contentError",{editor:s,error:_,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{z0(e,s.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(_){u(_)}try{l=z0(e,s.schema,{parseOptions:d,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(_){return u(_),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},b=!0,x=!0;if((XH(l)?l:[l]).forEach(_=>{_.check(),b=b?_.isText&&_.marks.length===0:!1,x=x?_.isBlock:!1}),p===g&&x){const{parent:_}=r.doc.resolve(p);_.isTextblock&&!_.type.spec.code&&!_.childCount&&(p-=1,g+=1)}let k;if(b){if(Array.isArray(e))k=e.map(_=>_.text||"").join("");else if(e instanceof ke){let _="";e.forEach(A=>{A.text&&(_+=A.text)}),k=_}else typeof e=="object"&&e&&e.text?k=e.text:k=e;r.insertText(k,p,g)}else{k=l;const _=r.doc.resolve(p),A=_.node(),O=_.parentOffset===0,z=A.isText||A.isTextblock,L=A.content.size>0;O&&z&&L&&(p=Math.max(0,p-1)),r.replaceWith(p,g,k)}n.updateSelection&&KH(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:k}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:k})}return!0},WH=()=>({state:t,dispatch:e})=>wB(t,e),JH=()=>({state:t,dispatch:e})=>CB(t,e),$H=()=>({state:t,dispatch:e})=>z8(t,e),ZH=()=>({state:t,dispatch:e})=>B8(t,e),eU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Dx(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},tU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Dx(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},nU=()=>({state:t,dispatch:e})=>xB(t,e),rU=()=>({state:t,dispatch:e})=>SB(t,e);function RA(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function iU(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,a;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))sE()||RA()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var sU=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=iU(t).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return u?.steps.forEach(d=>{const p=d.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function Vu(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,a=e?Rr(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(g,b)=>{if(g.isText)return;const x=Math.max(r,b),S=Math.min(i,b+g.nodeSize);l.push({node:g,from:x,to:S})});const u=i-r,d=l.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>Ev(g.node.attrs,n,{strict:!1}));return s?!!d.length:d.reduce((g,b)=>g+b.to-b.from,0)>=u}var aU=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return Vu(n,i,e)?EB(n,r):!1},oU=()=>({state:t,dispatch:e})=>F8(t,e),lU=t=>({state:e,dispatch:n})=>{const r=Rr(t,e.schema);return LB(r)(e,n)},cU=()=>({state:t,dispatch:e})=>H8(t,e);function Ux(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function sT(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var uU=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Ux(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=Rr(t,r.schema)),l==="mark"&&(a=bc(t,r.schema));let u=!1;return n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(p,g)=>{s&&s===p.type&&(u=!0,i&&n.setNodeMarkup(g,void 0,sT(p.attrs,e))),a&&p.marks.length&&p.marks.forEach(b=>{a===b.type&&(u=!0,i&&n.addMark(g,g+p.nodeSize,a.create(sT(b.attrs,e))))})})}),u},fU=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),dU=()=>({tr:t,dispatch:e})=>{if(e){const n=new na(t.doc);t.setSelection(n)}return!0},hU=()=>({state:t,dispatch:e})=>L8(t,e),pU=()=>({state:t,dispatch:e})=>I8(t,e),mU=()=>({state:t,dispatch:e})=>MB(t,e),gU=()=>({state:t,dispatch:e})=>RB(t,e),yU=()=>({state:t,dispatch:e})=>NB(t,e);function gC(t,e,n={},r={}){return z0(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var bU=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:a,commands:l})=>{const{doc:u}=s;if(r.preserveWhitespace!=="full"){const d=gC(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return a&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function OA(t,e){const n=bc(e,t.schema),{from:r,to:i,empty:s}=t.selection,a=[];s?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{a.push(...u.marks)});const l=a.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function DA(t,e){const n=new N8(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function vU(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function xU(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function SU(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Fx(t){return e=>SU(e.$from,t)}function We(t,e,n){return t.config[e]===void 0&&t.parent?We(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?We(t.parent,e,n):null}):t.config[e]}function aE(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=We(e,"addExtensions",n);return r?[e,...aE(r())]:e}).flat(10)}function oE(t,e){const n=Td.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function zA(t){return typeof t=="function"}function Jt(t,e=void 0,...n){return zA(t)?e?t.bind(e)(...n):t(...n):t}function wU(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Ap(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function jA(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ap(t),i=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage,extensions:i},u=We(a,"addGlobalAttributes",l);if(!u)return;u().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([b,x])=>{e.push({type:g,name:b,attribute:{...s,...x}})})})})}),i.forEach(a=>{const l={name:a.name,options:a.options,storage:a.storage},u=We(a,"addAttributes",l);if(!u)return;const d=u();Object.entries(d).forEach(([p,g])=>{const b={...s,...g};typeof b?.default=="function"&&(b.default=b.default()),b?.isRequired&&b?.default===void 0&&delete b.default,e.push({type:a.name,name:p,attribute:b})})}),e}function Or(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const l=s?String(s).split(" "):[],u=r[i]?r[i].split(" "):[],d=l.filter(p=>!u.includes(p));r[i]=[...u,...d].join(" ")}else if(i==="style"){const l=s?s.split(";").map(p=>p.trim()).filter(Boolean):[],u=r[i]?r[i].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;u.forEach(p=>{const[g,b]=p.split(":").map(x=>x.trim());d.set(g,b)}),l.forEach(p=>{const[g,b]=p.split(":").map(x=>x.trim());d.set(g,b)}),r[i]=Array.from(d.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[i]=s}),r},{})}function kv(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Or(n,r),{})}function CU(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function aT(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,a)=>{const l=a.attribute.parseHTML?a.attribute.parseHTML(n):CU(n.getAttribute(a.name));return l==null?s:{...s,[a.name]:l}},{});return{...r,...i}}}}function oT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&wU(n)?!1:n!=null))}function lT(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function EU(t,e){var n;const r=jA(t),{nodeExtensions:i,markExtensions:s}=Ap(t),a=(n=i.find(d=>We(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(i.map(d=>{const p=r.filter(A=>A.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},b=t.reduce((A,O)=>{const z=We(O,"extendNodeSchema",g);return{...A,...z?z(d):{}}},{}),x=oT({...b,content:Jt(We(d,"content",g)),marks:Jt(We(d,"marks",g)),group:Jt(We(d,"group",g)),inline:Jt(We(d,"inline",g)),atom:Jt(We(d,"atom",g)),selectable:Jt(We(d,"selectable",g)),draggable:Jt(We(d,"draggable",g)),code:Jt(We(d,"code",g)),whitespace:Jt(We(d,"whitespace",g)),linebreakReplacement:Jt(We(d,"linebreakReplacement",g)),defining:Jt(We(d,"defining",g)),isolating:Jt(We(d,"isolating",g)),attrs:Object.fromEntries(p.map(lT))}),S=Jt(We(d,"parseHTML",g));S&&(x.parseDOM=S.map(A=>aT(A,p)));const k=We(d,"renderHTML",g);k&&(x.toDOM=A=>k({node:A,HTMLAttributes:kv(A,p)}));const _=We(d,"renderText",g);return _&&(x.toText=_),[d.name,x]})),u=Object.fromEntries(s.map(d=>{const p=r.filter(_=>_.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},b=t.reduce((_,A)=>{const O=We(A,"extendMarkSchema",g);return{..._,...O?O(d):{}}},{}),x=oT({...b,inclusive:Jt(We(d,"inclusive",g)),excludes:Jt(We(d,"excludes",g)),group:Jt(We(d,"group",g)),spanning:Jt(We(d,"spanning",g)),code:Jt(We(d,"code",g)),attrs:Object.fromEntries(p.map(lT))}),S=Jt(We(d,"parseHTML",g));S&&(x.parseDOM=S.map(_=>aT(_,p)));const k=We(d,"renderHTML",g);return k&&(x.toDOM=_=>k({mark:_,HTMLAttributes:kv(_,p)})),[d.name,x]}));return new p8({topNode:a,nodes:l,marks:u})}function kU(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function lE(t){return t.sort((n,r)=>{const i=We(n,"priority")||100,s=We(r,"priority")||100;return i>s?-1:i<s?1:0})}function LA(t){const e=lE(aE(t)),n=kU(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function PA(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let l="";return t.nodesBetween(r,i,(u,d,p,g)=>{var b;u.isBlock&&d>r&&(l+=s);const x=a?.[u.type.name];if(x)return p&&(l+=x({node:u,pos:d,parent:p,index:g,range:e})),!1;u.isText&&(l+=(b=u?.text)==null?void 0:b.slice(Math.max(r,d)-d,i-d))}),l}function TU(t,e){const n={from:0,to:t.content.size};return PA(t,n,e)}function BA(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function _U(t,e){const n=Rr(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const a=s.reverse().find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function IA(t,e){const n=Ux(typeof e=="string"?e:e.name,t.schema);return n==="node"?_U(t,e):n==="mark"?OA(t,e):{}}function MU(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function AU(t){const e=MU(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function HA(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const a=[];if(i.ranges.length)i.forEach((l,u)=>{a.push({from:l,to:u})});else{const{from:l,to:u}=n[s];if(l===void 0||u===void 0)return;a.push({from:l,to:u})}a.forEach(({from:l,to:u})=>{const d=e.slice(s).map(l,-1),p=e.slice(s).map(u),g=e.invert().map(d,-1),b=e.invert().map(p);r.push({oldRange:{from:g,to:b},newRange:{from:d,to:p}})})}),AU(r)}function cE(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),a=iE(s,i.type);a&&r.push({mark:i,...a})}):n.nodesBetween(t,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(a=>({from:s,to:s+i.nodeSize,mark:a})))}),r}var NU=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const l=i.node(s);l?.type.name===e?a=l:s-=1}return[a,s]};function MS(t,e){return e.nodes[t]||e.marks[t]||null}function Xb(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var RU=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,a,l)=>{var u,d;const p=((d=(u=i.type.spec).toText)==null?void 0:d.call(u,{node:i,pos:s,parent:a,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,r-s))}),n};function yC(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?bc(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>s?s.name===g.type.name:!0).find(g=>Ev(g.attrs,n,{strict:!1}));let a=0;const l=[];if(i.forEach(({$from:g,$to:b})=>{const x=g.pos,S=b.pos;t.doc.nodesBetween(x,S,(k,_)=>{if(!k.isText&&!k.marks.length)return;const A=Math.max(x,_),O=Math.min(S,_+k.nodeSize),z=O-A;a+=z,l.push(...k.marks.map(L=>({mark:L,from:A,to:O})))})}),a===0)return!1;const u=l.filter(g=>s?s.name===g.mark.type.name:!0).filter(g=>Ev(g.mark.attrs,n,{strict:!1})).reduce((g,b)=>g+b.to-b.from,0),d=l.filter(g=>s?g.mark.type!==s&&g.mark.type.excludes(s):!0).reduce((g,b)=>g+b.to-b.from,0);return(u>0?u+d:u)>=a}function OU(t,e,n={}){if(!e)return Vu(t,null,n)||yC(t,null,n);const r=Ux(e,t.schema);return r==="node"?Vu(t,e,n):r==="mark"?yC(t,e,n):!1}var DU=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const s=Fx(l=>l.type.name===e)(t.selection);if(!s)return!1;const a=t.doc.resolve(s.pos+1);return i.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},zU=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function cT(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function uT(t,e){const{nodeExtensions:n}=Ap(e),r=n.find(a=>a.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Jt(We(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Gx(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Gx(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function UA(t){return t instanceof Ze}function jU(t,e,n){var r;const{selection:i}=e;let s=null;if(MA(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:a}=i;return a.some(({$from:l,$to:u})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(p,g,b)=>{if(d)return!1;if(p.isInline){const x=!b||b.type.allowsMarkType(n),S=!!n.isInSet(p.marks)||!p.marks.some(k=>k.type.excludes(n));d=x&&S}return!d}),d})}var LU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:a,ranges:l}=s,u=bc(t,r.schema);if(i)if(a){const d=OA(r,u);n.addStoredMark(u.create({...d,...e}))}else l.forEach(d=>{const p=d.$from.pos,g=d.$to.pos;r.doc.nodesBetween(p,g,(b,x)=>{const S=Math.max(x,p),k=Math.min(x+b.nodeSize,g);b.marks.find(A=>A.type===u)?b.marks.forEach(A=>{u===A.type&&n.addMark(S,k,u.create({...A.attrs,...e}))}):n.addMark(S,k,u.create(e))})});return jU(r,n,u)},PU=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),BU=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Rr(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:l})=>Ek(s,{...a,...e})(n)?!0:l.clearNodes()).command(({state:l})=>Ek(s,{...a,...e})(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},IU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=rd(t,0,r.content.size),s=Ze.create(r,i);e.setSelection(s)}return!0},HU=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=r;let a,l;return typeof e=="number"?(a=e,l=e):e&&"from"in e&&"to"in e?(a=e.from,l=e.to):(a=s.from,l=s.to),i&&n.doc.nodesBetween(a,l,(u,d)=>{u.isText||n.setNodeMarkup(d,void 0,{...u.attrs,dir:t})}),!0},UU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,a=lt.atStart(r).from,l=lt.atEnd(r).to,u=rd(i,a,l),d=rd(s,a,l),p=lt.create(r,u,d);e.setSelection(p)}return!0},FU=t=>({state:e,dispatch:n})=>{const r=Rr(t,e.schema);return IB(r)(e,n)};function fT(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var GU=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:a}=e,{$from:l,$to:u}=s,d=i.extensionManager.attributes,p=Xb(d,l.node().type.name,l.node().attrs);if(s instanceof Ze&&s.node.isBlock)return!l.parentOffset||!cc(a,l.pos)?!1:(r&&(t&&fT(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const g=u.parentOffset===u.parent.content.size,b=l.depth===0?void 0:vU(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=g&&b?[{type:b,attrs:p}]:void 0,S=cc(e.doc,e.mapping.map(l.pos),1,x);if(!x&&!S&&cc(e.doc,e.mapping.map(l.pos),1,b?[{type:b}]:void 0)&&(S=!0,x=b?[{type:b,attrs:p}]:void 0),r){if(S&&(s instanceof lt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,x),b&&!g&&!l.parentOffset&&l.parent.type!==b)){const k=e.mapping.map(l.before()),_=e.doc.resolve(k);l.node(-1).canReplaceWith(_.index(),_.index()+1,b)&&e.setNodeMarkup(e.mapping.map(l.before()),b)}t&&fT(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return S},qU=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var a;const l=Rr(t,r.schema),{$from:u,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(d))return!1;const g=u.node(-1);if(g.type!==l)return!1;const b=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(i){let A=ke.empty;const O=u.index(-1)?1:u.index(-2)?2:3;for(let I=u.depth-O;I>=u.depth-3;I-=1)A=ke.from(u.node(I).copy(A));const z=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,L={...Xb(b,u.node().type.name,u.node().attrs),...e},H=((a=l.contentMatch.defaultType)==null?void 0:a.createAndFill(L))||void 0;A=A.append(ke.from(l.createAndFill(null,H)||void 0));const j=u.before(u.depth-(O-1));n.replace(j,u.after(-z),new Ie(A,4-O,0));let P=-1;n.doc.nodesBetween(j,n.doc.content.size,(I,Y)=>{if(P>-1)return!1;I.isTextblock&&I.content.size===0&&(P=Y+1)}),P>-1&&n.setSelection(lt.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const x=d.pos===u.end()?g.contentMatchAt(0).defaultType:null,S={...Xb(b,g.type.name,g.attrs),...e},k={...Xb(b,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,d.pos);const _=x?[{type:l,attrs:S},{type:x,attrs:k}]:[{type:l,attrs:S}];if(!cc(n.doc,u.pos,2))return!1;if(i){const{selection:A,storedMarks:O}=r,{splittableMarks:z}=s.extensionManager,L=O||A.$to.parentOffset&&A.$from.marks();if(n.split(u.pos,2,_).scrollIntoView(),!L||!i)return!0;const H=L.filter(j=>z.includes(j.type.name));n.ensureMarks(H)}return!0},AS=(t,e)=>{const n=Fx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Qu(t.doc,n.pos)&&t.join(n.pos),!0},NS=(t,e)=>{const n=Fx(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&Qu(t.doc,r)&&t.join(r),!0},VU=(t,e,n,r={})=>({editor:i,tr:s,state:a,dispatch:l,chain:u,commands:d,can:p})=>{const{extensions:g,splittableMarks:b}=i.extensionManager,x=Rr(t,a.schema),S=Rr(e,a.schema),{selection:k,storedMarks:_}=a,{$from:A,$to:O}=k,z=A.blockRange(O),L=_||k.$to.parentOffset&&k.$from.marks();if(!z)return!1;const H=Fx(j=>uT(j.type.name,g))(k);if(z.depth>=1&&H&&z.depth-H.depth<=1){if(H.node.type===x)return d.liftListItem(S);if(uT(H.node.type.name,g)&&x.validContent(H.node.content)&&l)return u().command(()=>(s.setNodeMarkup(H.pos,x),!0)).command(()=>AS(s,x)).command(()=>NS(s,x)).run()}return!n||!L||!l?u().command(()=>p().wrapInList(x,r)?!0:d.clearNodes()).wrapInList(x,r).command(()=>AS(s,x)).command(()=>NS(s,x)).run():u().command(()=>{const j=p().wrapInList(x,r),P=L.filter(I=>b.includes(I.type.name));return s.ensureMarks(P),j?!0:d.clearNodes()}).wrapInList(x,r).command(()=>AS(s,x)).command(()=>NS(s,x)).run()},YU=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,a=bc(t,r.schema);return yC(r,a,e)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,e)},KU=(t,e,n={})=>({state:r,commands:i})=>{const s=Rr(t,r.schema),a=Rr(e,r.schema),l=Vu(r,s,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l?i.setNode(a,u):i.setNode(s,{...u,...n})},XU=(t,e={})=>({state:n,commands:r})=>{const i=Rr(t,n.schema);return Vu(n,i,e)?r.lift(i):r.wrapIn(i,e)},QU=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const a=t.tr,l=s.transform;for(let u=l.steps.length-1;u>=0;u-=1)a.step(l.steps[u].invert(l.docs[u]));if(s.text){const u=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,t.schema.text(s.text,u))}else a.delete(s.from,s.to)}return!0}}return!1},WU=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},JU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:l}=n,u=bc(t,r.schema),{$from:d,empty:p,ranges:g}=l;if(!i)return!0;if(p&&a){let{from:b,to:x}=l;const S=(s=d.marks().find(_=>_.type===u))==null?void 0:s.attrs,k=iE(d,u,S);k&&(b=k.from,x=k.to),n.removeMark(b,x,u)}else g.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,u)});return n.removeStoredMark(u),!0},$U=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=i.from,a=i.to),r&&e.doc.nodesBetween(s,a,(l,u)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,e.setNodeMarkup(u,void 0,d)}),!0},ZU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,a=null;const l=Ux(typeof t=="string"?t:t.name,r.schema);if(!l)return!1;l==="node"&&(s=Rr(t,r.schema)),l==="mark"&&(a=bc(t,r.schema));let u=!1;return n.selection.ranges.forEach(d=>{const p=d.$from.pos,g=d.$to.pos;let b,x,S,k;n.selection.empty?r.doc.nodesBetween(p,g,(_,A)=>{s&&s===_.type&&(u=!0,S=Math.max(A,p),k=Math.min(A+_.nodeSize,g),b=A,x=_)}):r.doc.nodesBetween(p,g,(_,A)=>{A<p&&s&&s===_.type&&(u=!0,S=Math.max(A,p),k=Math.min(A+_.nodeSize,g),b=A,x=_),A>=p&&A<=g&&(s&&s===_.type&&(u=!0,i&&n.setNodeMarkup(A,void 0,{..._.attrs,...e})),a&&_.marks.length&&_.marks.forEach(O=>{if(a===O.type&&(u=!0,i)){const z=Math.max(A,p),L=Math.min(A+_.nodeSize,g);n.addMark(z,L,a.create({...O.attrs,...e}))}}))}),x&&(b!==void 0&&i&&n.setNodeMarkup(b,void 0,{...x.attrs,...e}),a&&x.marks.length&&x.marks.forEach(_=>{a===_.type&&i&&n.addMark(S,k,a.create({..._.attrs,...e}))}))}),u},eF=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return OB(i,e)(n,r)},tF=(t,e={})=>({state:n,dispatch:r})=>{const i=Rr(t,n.schema);return DB(i,e)(n,r)},nF=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},qx=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},rF=(t,e)=>{if(rE(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function hb(t){var e;const{editor:n,from:r,to:i,text:s,rules:a,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(b=>b.type.spec.code))return!1;let p=!1;const g=RU(d)+s;return a.forEach(b=>{if(p)return;const x=rF(g,b.find);if(!x)return;const S=u.state.tr,k=Ix({state:u.state,transaction:S}),_={from:r-(x[0].length-s.length),to:i},{commands:A,chain:O,can:z}=new Hx({editor:n,state:k});b.handler({state:k,range:_,match:x,commands:A,chain:O,can:z})===null||!S.steps.length||(b.undoable&&S.setMeta(l,{transform:S,from:r,to:i,text:s}),u.dispatch(S),p=!0)}),p}function iF(t){const{editor:e,rules:n}=t,r=new Zn({state:{init(){return null},apply(i,s,a){const l=i.getMeta(r);if(l)return l;const u=i.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:p}=u;typeof p=="string"?p=p:p=oE(ke.from(p),a.schema);const{from:g}=u,b=g+p.length;hb({editor:e,from:g,to:b,text:p,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,a,l){return hb({editor:e,from:s,to:a,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&hb({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?hb({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function sF(t){return Object.prototype.toString.call(t).slice(8,-1)}function pb(t){return sF(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function FA(t,e){const n={...t};return pb(t)&&pb(e)&&Object.keys(e).forEach(r=>{pb(e[r])&&pb(t[r])?n[r]=FA(t[r],e[r]):n[r]=e[r]}),n}var uE=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Jt(We(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Jt(We(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>FA(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},_d=class GA extends uE{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new GA(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const a=i.marks();if(!!!a.find(d=>d?.type.name===n.name))return!1;const u=a.find(d=>d?.type.name===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function aF(t){return typeof t=="number"}var oF=class{constructor(t){this.find=t.find,this.handler=t.handler}},lF=(t,e,n)=>{if(rE(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function cF(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:a,dropEvent:l}=t,{commands:u,chain:d,can:p}=new Hx({editor:e,state:n}),g=[];return n.doc.nodesBetween(r,i,(x,S)=>{var k,_,A,O,z;if((_=(k=x.type)==null?void 0:k.spec)!=null&&_.code||!(x.isText||x.isTextblock||x.isInline))return;const L=(z=(O=(A=x.content)==null?void 0:A.size)!=null?O:x.nodeSize)!=null?z:0,H=Math.max(r,S),j=Math.min(i,S+L);if(H>=j)return;const P=x.isText?x.text||"":x.textBetween(H-S,j-S,void 0,"");lF(P,s.find,a).forEach(Y=>{if(Y.index===void 0)return;const G=H+Y.index+1,X=G+Y[0].length,W={from:n.tr.mapping.map(G),to:n.tr.mapping.map(X)},le=s.handler({state:n,range:W,match:Y,commands:u,chain:d,can:p,pasteEvent:a,dropEvent:l});g.push(le)})}),g.every(x=>x!==null)}var mb=null,uF=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function fF(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:p,from:g,to:b,rule:x,pasteEvt:S})=>{const k=p.tr,_=Ix({state:p,transaction:k});if(!(!cF({editor:e,state:_,from:Math.max(g-1,0),to:b.b-1,rule:x,pasteEvent:S,dropEvent:l})||!k.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(p=>new Zn({view(g){const b=S=>{var k;r=(k=g.dom.parentElement)!=null&&k.contains(S.target)?g.dom.parentElement:null,r&&(mb=e)},x=()=>{mb&&(mb=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(g,b)=>{if(s=r===g.dom.parentElement,l=b,!s){const x=mb;x?.isEditable&&setTimeout(()=>{const S=x.state.selection;S&&x.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(g,b)=>{var x;const S=(x=b.clipboardData)==null?void 0:x.getData("text/html");return a=b,i=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(g,b,x)=>{const S=g[0],k=S.getMeta("uiEvent")==="paste"&&!i,_=S.getMeta("uiEvent")==="drop"&&!s,A=S.getMeta("applyPasteRules"),O=!!A;if(!k&&!_&&!O)return;if(O){let{text:H}=A;typeof H=="string"?H=H:H=oE(ke.from(H),x.schema);const{from:j}=A,P=j+H.length,I=uF(H);return u({rule:p,state:x,from:j,to:{b:P},pasteEvt:I})}const z=b.doc.content.findDiffStart(x.doc.content),L=b.doc.content.findDiffEnd(x.doc.content);if(!(!aF(z)||!L||z===L.b))return u({rule:p,state:x,from:z,to:L,pasteEvt:a})}}))}var Vx=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=LA(t),this.schema=EU(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:MS(e.name,this.schema)},r=We(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return lE([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:MS(r.name,this.schema)},s=[],a=We(r,"addKeyboardShortcuts",i);let l={};if(r.type==="mark"&&We(r,"exitable",i)&&(l.ArrowRight=()=>_d.handleExit({editor:t,mark:r})),a){const b=Object.fromEntries(Object.entries(a()).map(([x,S])=>[x,()=>S({editor:t})]));l={...l,...b}}const u=_H(l);s.push(u);const d=We(r,"addInputRules",i);if(cT(r,t.options.enableInputRules)&&d){const b=d();if(b&&b.length){const x=iF({editor:t,rules:b}),S=Array.isArray(x)?x:[x];s.push(...S)}}const p=We(r,"addPasteRules",i);if(cT(r,t.options.enablePasteRules)&&p){const b=p();if(b&&b.length){const x=fF({editor:t,rules:b});s.push(...x)}}const g=We(r,"addProseMirrorPlugins",i);if(g){const b=g();s.push(...b)}return s})}get attributes(){return jA(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Ap(this.extensions);return Object.fromEntries(e.filter(n=>!!We(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Rr(n.name,this.schema)},s=We(n,"addNodeView",i);if(!s)return[];const a=s();if(!a)return[];const l=(u,d,p,g,b)=>{const x=kv(u,r);return a({node:u,view:d,getPos:p,decorations:g,innerDecorations:b,editor:t,extension:n,HTMLAttributes:x})};return[n.name,l]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Ap(this.extensions);return Object.fromEntries(e.filter(n=>!!We(n,"addMarkView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:bc(n.name,this.schema)},s=We(n,"addMarkView",i);if(!s)return[];const a=(l,u,d)=>{const p=kv(l,r);return s()({mark:l,view:u,inline:d,editor:t,extension:n,HTMLAttributes:p,updateAttributes:g=>{kF(l,t,g)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:MS(e.name,this.schema)};e.type==="mark"&&((n=Jt(We(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=We(e,"onBeforeCreate",r),s=We(e,"onCreate",r),a=We(e,"onUpdate",r),l=We(e,"onSelectionUpdate",r),u=We(e,"onTransaction",r),d=We(e,"onFocus",r),p=We(e,"onBlur",r),g=We(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),a&&this.editor.on("update",a),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};Vx.resolve=LA;Vx.sort=lE;Vx.flatten=aE;var dF={};nE(dF,{ClipboardTextSerializer:()=>VA,Commands:()=>YA,Delete:()=>KA,Drop:()=>XA,Editable:()=>QA,FocusEvents:()=>JA,Keymap:()=>$A,Paste:()=>ZA,Tabindex:()=>eN,TextDirection:()=>tN,focusEventsPluginKey:()=>WA});var br=class qA extends uE{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new qA(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},VA=br.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zn({key:new qr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,a=Math.min(...s.map(p=>p.$from.pos)),l=Math.max(...s.map(p=>p.$to.pos)),u=BA(n);return PA(r,{from:a,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),YA=br.create({name:"commands",addCommands(){return{...TA}}}),KA=br.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const s=()=>{var a,l,u,d;if((d=(u=(l=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const p=DA(t.before,[t,...e]);HA(p).forEach(x=>{p.mapping.mapResult(x.oldRange.from).deletedAfter&&p.mapping.mapResult(x.oldRange.to).deletedBefore&&p.before.nodesBetween(x.oldRange.from,x.oldRange.to,(S,k)=>{const _=k+S.nodeSize-2,A=x.oldRange.from<=k&&_<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:k,to:_,newFrom:p.mapping.map(k),newTo:p.mapping.map(_),deletedRange:x.oldRange,newRange:x.newRange,partial:!A,editor:this.editor,transaction:t,combinedTransform:p})})});const b=p.mapping;p.steps.forEach((x,S)=>{var k,_;if(x instanceof go){const A=b.slice(S).map(x.from,-1),O=b.slice(S).map(x.to),z=b.invert().map(A,-1),L=b.invert().map(O),H=(k=p.doc.nodeAt(A-1))==null?void 0:k.marks.some(P=>P.eq(x.mark)),j=(_=p.doc.nodeAt(O))==null?void 0:_.marks.some(P=>P.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:z,to:L},newRange:{from:A,to:O},partial:!!(j||H),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),XA=br.create({name:"drop",addProseMirrorPlugins(){return[new Zn({key:new qr("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),QA=br.create({name:"editable",addProseMirrorPlugins(){return[new Zn({key:new qr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),WA=new qr("focusEvents"),JA=br.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Zn({key:WA,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),$A=br.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:p,$anchor:g}=u,{pos:b,parent:x}=g,S=g.parent.isTextblock&&b>0?l.doc.resolve(b-1):g,k=S.parent.type.spec.isolating,_=g.pos-g.parentOffset,A=k&&S.parent.childCount===1?_===g.pos:Et.atStart(d).from===b;return!p||!x.type.isTextblock||x.textContent.length||!A||A&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return sE()||RA()?s:i},addProseMirrorPlugins(){return[new Zn({key:new qr("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const r=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),i=t.some(k=>k.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:a,to:l}=e.selection,u=Et.atStart(e.doc).from,d=Et.atEnd(e.doc).to;if(s||!(a===u&&l===d)||!Gx(n.doc))return;const b=n.tr,x=Ix({state:n,transaction:b}),{commands:S}=new Hx({editor:this.editor,state:x});if(S.clearNodes(),!!b.steps.length)return b}})]}}),ZA=br.create({name:"paste",addProseMirrorPlugins(){return[new Zn({key:new qr("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),eN=br.create({name:"tabindex",addProseMirrorPlugins(){return[new Zn({key:new qr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),tN=br.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Ap(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Zn({key:new qr("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),hF=class fp{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new fp(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new fp(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new fp(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&l.depth<=this.depth)return;const u=new fp(l,this.editor,i,i?n:null);i&&(u.actualDepth=this.depth+1),e.push(new fp(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,a=Object.keys(n);for(let l=0;l<a.length;l+=1){const u=a[l];if(s[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(a=>{r&&i.length>0||(a.node.type.name===e&&s.every(u=>n[u]===a.node.attrs[u])&&i.push(a),!(r&&i.length>0)&&(i=i.concat(a.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},pF=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function mF(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var gF=class extends nF{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=AA(e,this.options.autofocus);this.editorState=pp.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=mF(pF,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=zA(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;n=n.filter(a=>!a.key.startsWith(s))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[QA,VA.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),YA,JA,$A,eN,XA,ZA,KA,tN.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new Vx(r,this)}createCommandManager(){this.commandManager=new Hx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=gC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=gC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new EA(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=a?.getMeta("focus"),u=a?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return IA(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return OU(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return oE(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return TU(this.state.doc,{blockSeparator:e,textSerializers:{...BA(this.schema),...n}})}get isEmpty(){return Gx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new hF(e,this)}get $doc(){return this.$pos(0)}};function Np(t){return new qx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Jt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),p=d+a.length;if(cE(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(k=>k===t.type&&k!==x.mark.type)).filter(x=>x.to>d).length)return null;p<n.to&&s.delete(p,n.to),d>n.from&&s.delete(n.from+u,d);const b=n.from+u+a.length;s.addMark(n.from+u,b,t.type.create(i||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function yF(t){return new qx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Jt(t.getAttributes,void 0,r)||{},{tr:s}=e,a=n.from;let l=n.to;const u=t.type.create(i);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=a+d;p>l?p=l:l=p+r[1].length;const g=r[0][r[0].length-1];s.insertText(g,a+r[0].length-1),s.replaceWith(p,l,u)}else if(r[0]){const d=t.type.isInline?a:a-1;s.insert(d,t.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function bC(t){return new qx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Jt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)},undoable:t.undoable})}function Rp(t){return new qx({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Jt(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),d=u&&H3(u,t.type,s);if(!d)return null;if(a.wrap(u,d),t.keepMarks&&t.editor){const{selection:g,storedMarks:b}=e,{splittableMarks:x}=t.editor.extensionManager,S=b||g.$to.parentOffset&&g.$from.marks();if(S){const k=S.filter(_=>x.includes(_.type.name));a.ensureMarks(k)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,s).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Qu(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)},undoable:t.undoable})}function bF(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ze){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var vF={};nE(vF,{createAtomBlockMarkdownSpec:()=>xF,createBlockMarkdownSpec:()=>SF,createInlineMarkdownSpec:()=>EF,parseAttributes:()=>fE,parseIndentedBlocks:()=>vC,renderNestedMarkdownContent:()=>hE,serializeAttributes:()=>dE});function fE(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const d=i.map(p=>p.trim().slice(1));e.class=d.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,d,p])=>{var g;const b=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),x=n[b];x&&(e[d]=x.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function dE(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function xF(t){const{nodeName:e,name:n,parseAttributes:r=fE,serializeAttributes:i=dE,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:l}=t,u=n||e,d=p=>{if(!l)return p;const g={};return l.forEach(b=>{b in p&&(g[b]=p[b])}),g};return{parseMarkdown:(p,g)=>{const b={...s,...p.attributes};return g.createNode(e,b,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const b=new RegExp(`^:::${u}(?:\\s|$)`,"m"),x=(g=p.match(b))==null?void 0:g.index;return x!==void 0?x:-1},tokenize(p,g,b){const x=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=p.match(x);if(!S)return;const k=S[1]||"",_=r(k);if(!a.find(O=>!(O in _)))return{type:e,raw:S[0],attributes:_}}},renderMarkdown:p=>{const g=d(p.attrs||{}),b=i(g),x=b?` {${b}}`:"";return`:::${u}${x} :::`}}}function SF(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=fE,serializeAttributes:s=dE,defaultAttributes:a={},content:l="block",allowedAttributes:u}=t,d=n||e,p=g=>{if(!u)return g;const b={};return u.forEach(x=>{x in g&&(b[x]=g[x])}),b};return{parseMarkdown:(g,b)=>{let x;if(r){const k=r(g);x=typeof k=="string"?[{type:"text",text:k}]:k}else l==="block"?x=b.parseChildren(g.tokens||[]):x=b.parseInline(g.tokens||[]);const S={...a,...g.attributes};return b.createNode(e,S,x)},markdownTokenizer:{name:e,level:"block",start(g){var b;const x=new RegExp(`^:::${d}`,"m"),S=(b=g.match(x))==null?void 0:b.index;return S!==void 0?S:-1},tokenize(g,b,x){var S;const k=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),_=g.match(k);if(!_)return;const[A,O=""]=_,z=i(O);let L=1;const H=A.length;let j="";const P=/^:::([\w-]*)(\s.*)?/gm,I=g.slice(H);for(P.lastIndex=0;;){const Y=P.exec(I);if(Y===null)break;const G=Y.index,X=Y[1];if(!((S=Y[2])!=null&&S.endsWith(":::"))){if(X)L+=1;else if(L-=1,L===0){const W=I.slice(0,G);j=W.trim();const le=g.slice(0,H+G+Y[0].length);let ee=[];if(j)if(l==="block")for(ee=x.blockTokens(W),ee.forEach(te=>{te.text&&(!te.tokens||te.tokens.length===0)&&(te.tokens=x.inlineTokens(te.text))});ee.length>0;){const te=ee[ee.length-1];if(te.type==="paragraph"&&(!te.text||te.text.trim()===""))ee.pop();else break}else ee=x.inlineTokens(j);return{type:e,raw:le,attributes:z,content:j,tokens:ee}}}}}},renderMarkdown:(g,b)=>{const x=p(g.attrs||{}),S=s(x),k=S?` {${S}}`:"",_=b.renderChildren(g.content||[],`

`);return`:::${d}${k}

${_}

:::`}}}function wF(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,s,a]=r;e[i]=s||a,r=n.exec(t)}return e}function CF(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function EF(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=wF,serializeAttributes:s=CF,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:u}=t,d=n||e,p=b=>{if(!u)return b;const x={};return u.forEach(S=>{S in b&&(x[S]=b[S])}),x},g=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(b,x)=>{const S={...a,...b.attributes};if(l)return x.createNode(e,S);const k=r?r(b):b.content||"";return k?x.createNode(e,S,[x.createTextNode(k)]):x.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(b){const x=l?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),S=b.match(x),k=S?.index;return k!==void 0?k:-1},tokenize(b,x,S){const k=l?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),_=b.match(k);if(!_)return;let A="",O="";if(l){const[,L]=_;O=L}else{const[,L,H]=_;O=L,A=H||""}const z=i(O.trim());return{type:e,raw:_[0],content:A.trim(),attributes:z}}},renderMarkdown:b=>{let x="";r?x=r(b):b.content&&b.content.length>0&&(x=b.content.filter(A=>A.type==="text").map(A=>A.text).join(""));const S=p(b.attrs||{}),k=s(S),_=k?` ${k}`:"";return l?`[${d}${_}]`:`[${d}${_}]${x}[/${d}]`}}}function vC(t,e,n){var r,i,s,a;const l=t.split(`
`),u=[];let d="",p=0;const g=e.baseIndentSize||2;for(;p<l.length;){const b=l[p],x=b.match(e.itemPattern);if(!x){if(u.length>0)break;if(b.trim()===""){p+=1,d=`${d}${b}
`;continue}else return}const S=e.extractItemData(x),{indentLevel:k,mainContent:_}=S;d=`${d}${b}
`;const A=[_];for(p+=1;p<l.length;){const H=l[p];if(H.trim()===""){const P=l.slice(p+1).findIndex(G=>G.trim()!=="");if(P===-1)break;if((((i=(r=l[p+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>k){A.push(H),d=`${d}${H}
`,p+=1;continue}else break}if((((a=(s=H.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>k)A.push(H),d=`${d}${H}
`,p+=1;else break}let O;const z=A.slice(1);if(z.length>0){const H=z.map(j=>j.slice(k+g)).join(`
`);H.trim()&&(e.customNestedParser?O=e.customNestedParser(H):O=n.blockTokens(H))}const L=e.createToken(S,O);u.push(L)}if(u.length!==0)return{items:u,raw:d}}function hE(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[s,...a]=t.content,l=e.renderChildren([s]),u=[`${i}${l}`];return a&&a.length>0&&a.forEach(d=>{const p=e.renderChildren([d]);if(p){const g=p.split(`
`).map(b=>b?e.indent(b):"").join(`
`);u.push(g)}}),u.join(`
`)}function kF(t,e,n={}){const{state:r}=e,{doc:i,tr:s}=r,a=t;i.descendants((l,u)=>{const d=s.mapping.map(u),p=s.mapping.map(u)+l.nodeSize;let g=null;if(l.marks.forEach(x=>{if(x!==a)return!1;g=x}),!g)return;let b=!1;if(Object.keys(n).forEach(x=>{n[x]!==g.attrs[x]&&(b=!0)}),b){const x=t.type.create({...t.attrs,...n});s.removeMark(d,p,t.type),s.addMark(d,p,x)}}),s.docChanged&&e.view.dispatch(s)}var aa=class nN extends uE{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new nN(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function xd(t){return new oF({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Jt(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:a}=e,l=r[r.length-1],u=r[0];let d=n.to;if(l){const p=u.search(/\S/),g=n.from+u.indexOf(l),b=g+l.length;if(cE(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(_=>_===t.type&&_!==S.mark.type)).filter(S=>S.to>g).length)return null;b<n.to&&a.delete(b,n.to),g>n.from&&a.delete(n.from+p,g),d=n.from+p+l.length,a.addMark(n.from+p,d,t.type.create(s||{})),a.removeStoredMark(t.type)}}})}var RS,dT;function TF(){return dT||(dT=1,RS=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),RS}var _F=TF();const MF=Lp(_F);var OS={exports:{}},DS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function AF(){if(hT)return DS;hT=1;var t=Pp(),e=JM();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,u=t.useDebugValue;return DS.useSyncExternalStoreWithSelector=function(d,p,g,b,x){var S=s(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=l(function(){function A(j){if(!O){if(O=!0,z=j,j=b(j),x!==void 0&&k.hasValue){var P=k.value;if(x(P,j))return L=P}return L=j}if(P=L,r(z,j))return P;var I=b(j);return x!==void 0&&x(P,I)?(z=j,P):(z=j,L=I)}var O=!1,z,L,H=g===void 0?null:g;return[function(){return A(p())},H===null?void 0:function(){return A(H())}]},[p,g,b,x]);var _=i(d,S[0],S[1]);return a(function(){k.hasValue=!0,k.value=_},[_]),u(_),_},DS}var pT;function NF(){return pT||(pT=1,OS.exports=AF()),OS.exports}var RF=NF(),OF=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},DF=({contentComponent:t})=>{const e=$M.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return E.jsx(E.Fragment,{children:Object.values(e)})};function zF(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:Z6.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var jF=class extends Ye.Component{constructor(t){var e;super(t),this.editorContentRef=Ye.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=zF(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const n=document.createElement("div");n.append(e.view.dom),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return E.jsxs(E.Fragment,{children:[E.jsx("div",{ref:OF(e,this.editorContentRef),...n}),t?.contentComponent&&E.jsx(DF,{contentComponent:t.contentComponent})]})}},LF=N.forwardRef((t,e)=>{const n=Ye.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ye.createElement(jF,{key:n,innerRef:e,...t})}),PF=Ye.memo(LF),BF=typeof window<"u"?N.useLayoutEffect:N.useEffect,IF=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function HF(t){var e;const[n]=N.useState(()=>new IF(t.editor)),r=RF.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:MF);return BF(()=>n.watch(t.editor),[t.editor,n]),N.useDebugValue(r),r}var UF=!1,xC=typeof window>"u",FF=xC||!!(typeof window<"u"&&window.next),GF=class rN{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?xC||FF?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new gF(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var a;return i===((a=n.extensions)==null?void 0:a[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?rN.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function qF(t={},e=[]){const n=N.useRef(t);n.current=t;const[r]=N.useState(()=>new GF(n)),i=$M.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return N.useDebugValue(i),N.useEffect(r.onRender(e)),HF({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),i}var VF=N.createContext({editor:null});VF.Consumer;var YF=N.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),KF=()=>N.useContext(YF);Ye.forwardRef((t,e)=>{const{onDragStart:n}=KF(),r=t.as||"div";return E.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ye.createContext({markViewContentRef:()=>{}});var Tv=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},XF=/^\s*>\s$/,QF=aa.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Tv("blockquote",{...Or(this.options.HTMLAttributes,t),children:Tv("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const l=e.renderChildren([i]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);r.push(l.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Rp({find:XF,type:this.type})]}}),WF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,JF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,$F=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ZF=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,eG=_d.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Tv("strong",{...Or(this.options.HTMLAttributes,t),children:Tv("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Np({find:WF,type:this.type}),Np({find:$F,type:this.type})]},addPasteRules(){return[xd({find:JF,type:this.type}),xd({find:ZF,type:this.type})]}}),tG=/(^|[^`])`([^`]+)`(?!`)$/,nG=/(^|[^`])`([^`]+)`(?!`)/g,rG=_d.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Np({find:tG,type:this.type})]},addPasteRules(){return[xd({find:nG,type:this.type})]}}),zS=4,iG=/^```([a-z]+)?[\s\n]$/,sG=/^~~~([a-z]+)?[\s\n]$/,aG=aa.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:zS,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Or(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:zS,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;if(s.parent.type!==this.type)return!1;const l=" ".repeat(n);return a?t.commands.insertContent(l):t.commands.command(({tr:u})=>{const{from:d,to:p}=i,x=r.doc.textBetween(d,p,`
`,`
`).split(`
`).map(S=>l+S).join(`
`);return u.replaceWith(d,p,r.schema.text(x)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:zS,{state:r}=t,{selection:i}=r,{$from:s,empty:a}=i;return s.parent.type!==this.type?!1:a?t.commands.command(({tr:l})=>{var u;const{pos:d}=s,p=s.start(),g=s.end(),x=r.doc.textBetween(p,g,`
`,`
`).split(`
`);let S=0,k=0;const _=d-p;for(let j=0;j<x.length;j+=1){if(k+x[j].length>=_){S=j;break}k+=x[j].length+1}const O=((u=x[S].match(/^ */))==null?void 0:u[0])||"",z=Math.min(O.length,n);if(z===0)return!0;let L=p;for(let j=0;j<S;j+=1)L+=x[j].length+1;return l.delete(L,L+z),d-L<=z&&l.setSelection(lt.create(l.doc,L)),!0}):t.commands.command(({tr:l})=>{const{from:u,to:d}=i,b=r.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>{var S;const k=((S=x.match(/^ */))==null?void 0:S[0])||"",_=Math.min(k.length,n);return x.slice(_)}).join(`
`);return l.replaceWith(u,d,r.schema.text(b)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(Et.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[bC({find:iG,type:this.type,getAttributes:t=>({language:t[1]})}),bC({find:sG,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Zn({key:new qr("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!n||!s)return!1;const{tr:a,schema:l}=t.state,u=l.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(lt.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),oG=aa.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),lG=aa.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Or(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:l}=r.extensionManager,u=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&u&&a){const g=u.filter(b=>l.includes(b.type.name));d.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cG=aa.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Or(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>bC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),uG=aa.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Or(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!bF(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return UA(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:a,dispatch:l})=>{if(l){const{$to:u}=a.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(lt.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Ze.create(a.doc,u.pos)):a.setSelection(lt.create(a.doc,u.pos));else{const p=s.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,g=p?.create();g&&(a.insert(d,g),a.setSelection(lt.create(a.doc,d+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yF({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),fG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,dG=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,hG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,pG=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,mG=_d.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Or(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Np({find:fG,type:this.type}),Np({find:hG,type:this.type})]},addPasteRules(){return[xd({find:dG,type:this.type}),xd({find:pG,type:this.type})]}});const gG="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",yG="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",SC="numeric",wC="ascii",CC="alpha",a0="asciinumeric",Xg="alphanumeric",EC="domain",iN="emoji",bG="scheme",vG="slashscheme",jS="whitespace";function xG(t,e){return t in e||(e[t]=[]),e[t]}function id(t,e,n){e[SC]&&(e[a0]=!0,e[Xg]=!0),e[wC]&&(e[a0]=!0,e[CC]=!0),e[a0]&&(e[Xg]=!0),e[CC]&&(e[Xg]=!0),e[Xg]&&(e[EC]=!0),e[iN]&&(e[EC]=!0);for(const r in e){const i=xG(r,n);i.indexOf(t)<0&&i.push(t)}}function SG(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Us(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Us.groups={};Us.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Us.groups;let i;return e&&e.j?i=e:(i=new Us(e),n&&r&&id(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let a=0;a<s-1;a++)i=i.tt(t[a]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Us.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let a,l=i.go(t);if(l?(a=new Us,Object.assign(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Us,s){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(SG(a.t,r),n);id(s,u,r)}else n&&id(s,n,r);a.t=s}return i.j[t]=a,a}};const Ct=(t,e,n,r,i)=>t.ta(e,n,r,i),cr=(t,e,n,r,i)=>t.tr(e,n,r,i),mT=(t,e,n,r,i)=>t.ts(e,n,r,i),Me=(t,e,n,r,i)=>t.tt(e,n,r,i),ic="WORD",kC="UWORD",sN="ASCIINUMERICAL",aN="ALPHANUMERICAL",j0="LOCALHOST",TC="TLD",_C="UTLD",Qb="SCHEME",dp="SLASH_SCHEME",pE="NUM",MC="WS",mE="NL",o0="OPENBRACE",l0="CLOSEBRACE",_v="OPENBRACKET",Mv="CLOSEBRACKET",Av="OPENPAREN",Nv="CLOSEPAREN",Rv="OPENANGLEBRACKET",Ov="CLOSEANGLEBRACKET",Dv="FULLWIDTHLEFTPAREN",zv="FULLWIDTHRIGHTPAREN",jv="LEFTCORNERBRACKET",Lv="RIGHTCORNERBRACKET",Pv="LEFTWHITECORNERBRACKET",Bv="RIGHTWHITECORNERBRACKET",Iv="FULLWIDTHLESSTHAN",Hv="FULLWIDTHGREATERTHAN",Uv="AMPERSAND",Fv="APOSTROPHE",Gv="ASTERISK",_u="AT",qv="BACKSLASH",Vv="BACKTICK",Yv="CARET",Ru="COLON",gE="COMMA",Kv="DOLLAR",ol="DOT",Xv="EQUALS",yE="EXCLAMATION",ja="HYPHEN",c0="PERCENT",Qv="PIPE",Wv="PLUS",Jv="POUND",u0="QUERY",bE="QUOTE",oN="FULLWIDTHMIDDLEDOT",vE="SEMI",ll="SLASH",f0="TILDE",$v="UNDERSCORE",lN="EMOJI",Zv="SYM";var cN=Object.freeze({__proto__:null,ALPHANUMERICAL:aN,AMPERSAND:Uv,APOSTROPHE:Fv,ASCIINUMERICAL:sN,ASTERISK:Gv,AT:_u,BACKSLASH:qv,BACKTICK:Vv,CARET:Yv,CLOSEANGLEBRACKET:Ov,CLOSEBRACE:l0,CLOSEBRACKET:Mv,CLOSEPAREN:Nv,COLON:Ru,COMMA:gE,DOLLAR:Kv,DOT:ol,EMOJI:lN,EQUALS:Xv,EXCLAMATION:yE,FULLWIDTHGREATERTHAN:Hv,FULLWIDTHLEFTPAREN:Dv,FULLWIDTHLESSTHAN:Iv,FULLWIDTHMIDDLEDOT:oN,FULLWIDTHRIGHTPAREN:zv,HYPHEN:ja,LEFTCORNERBRACKET:jv,LEFTWHITECORNERBRACKET:Pv,LOCALHOST:j0,NL:mE,NUM:pE,OPENANGLEBRACKET:Rv,OPENBRACE:o0,OPENBRACKET:_v,OPENPAREN:Av,PERCENT:c0,PIPE:Qv,PLUS:Wv,POUND:Jv,QUERY:u0,QUOTE:bE,RIGHTCORNERBRACKET:Lv,RIGHTWHITECORNERBRACKET:Bv,SCHEME:Qb,SEMI:vE,SLASH:ll,SLASH_SCHEME:dp,SYM:Zv,TILDE:f0,TLD:TC,UNDERSCORE:$v,UTLD:_C,UWORD:kC,WORD:ic,WS:MC});const tc=/[a-z]/,Rg=new RegExp("\\p{L}","u"),LS=new RegExp("\\p{Emoji}","u"),nc=/\d/,PS=/\s/,gT="\r",BS=`
`,wG="",CG="",IS="";let gb=null,yb=null;function EG(t=[]){const e={};Us.groups=e;const n=new Us;gb==null&&(gb=yT(gG)),yb==null&&(yb=yT(yG)),Me(n,"'",Fv),Me(n,"{",o0),Me(n,"}",l0),Me(n,"[",_v),Me(n,"]",Mv),Me(n,"(",Av),Me(n,")",Nv),Me(n,"<",Rv),Me(n,">",Ov),Me(n,"",Dv),Me(n,"",zv),Me(n,"",jv),Me(n,"",Lv),Me(n,"",Pv),Me(n,"",Bv),Me(n,"",Iv),Me(n,"",Hv),Me(n,"&",Uv),Me(n,"*",Gv),Me(n,"@",_u),Me(n,"`",Vv),Me(n,"^",Yv),Me(n,":",Ru),Me(n,",",gE),Me(n,"$",Kv),Me(n,".",ol),Me(n,"=",Xv),Me(n,"!",yE),Me(n,"-",ja),Me(n,"%",c0),Me(n,"|",Qv),Me(n,"+",Wv),Me(n,"#",Jv),Me(n,"?",u0),Me(n,'"',bE),Me(n,"/",ll),Me(n,";",vE),Me(n,"~",f0),Me(n,"_",$v),Me(n,"\\",qv),Me(n,"",oN);const r=cr(n,nc,pE,{[SC]:!0});cr(r,nc,r);const i=cr(r,tc,sN,{[a0]:!0}),s=cr(r,Rg,aN,{[Xg]:!0}),a=cr(n,tc,ic,{[wC]:!0});cr(a,nc,i),cr(a,tc,a),cr(i,nc,i),cr(i,tc,i);const l=cr(n,Rg,kC,{[CC]:!0});cr(l,tc),cr(l,nc,s),cr(l,Rg,l),cr(s,nc,s),cr(s,tc),cr(s,Rg,s);const u=Me(n,BS,mE,{[jS]:!0}),d=Me(n,gT,MC,{[jS]:!0}),p=cr(n,PS,MC,{[jS]:!0});Me(n,IS,p),Me(d,BS,u),Me(d,IS,p),cr(d,PS,p),Me(p,gT),Me(p,BS),cr(p,PS,p),Me(p,IS,p);const g=cr(n,LS,lN,{[iN]:!0});Me(g,"#"),cr(g,LS,g),Me(g,wG,g);const b=Me(g,CG);Me(b,"#"),cr(b,LS,g);const x=[[tc,a],[nc,i]],S=[[tc,null],[Rg,l],[nc,s]];for(let k=0;k<gb.length;k++)bu(n,gb[k],TC,ic,x);for(let k=0;k<yb.length;k++)bu(n,yb[k],_C,kC,S);id(TC,{tld:!0,ascii:!0},e),id(_C,{utld:!0,alpha:!0},e),bu(n,"file",Qb,ic,x),bu(n,"mailto",Qb,ic,x),bu(n,"http",dp,ic,x),bu(n,"https",dp,ic,x),bu(n,"ftp",dp,ic,x),bu(n,"ftps",dp,ic,x),id(Qb,{scheme:!0,ascii:!0},e),id(dp,{slashscheme:!0,ascii:!0},e),t=t.sort((k,_)=>k[0]>_[0]?1:-1);for(let k=0;k<t.length;k++){const _=t[k][0],O=t[k][1]?{[bG]:!0}:{[vG]:!0};_.indexOf("-")>=0?O[EC]=!0:tc.test(_)?nc.test(_)?O[a0]=!0:O[wC]=!0:O[SC]=!0,mT(n,_,_,O)}return mT(n,"localhost",j0,{ascii:!0}),n.jd=new Us(Zv),{start:n,tokens:Object.assign({groups:e},cN)}}function uN(t,e){const n=kG(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,a=0;for(;a<r;){let l=t,u=null,d=0,p=null,g=-1,b=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(g=0,b=0,p=l):g>=0&&(g+=n[a].length,b++),d+=n[a].length,s+=n[a].length,a++;s-=g,a-=b,d-=g,i.push({t:p.t,v:e.slice(s-d,s),s:s-d,e:s})}return i}function kG(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,a=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function bu(t,e,n,r,i){let s;const a=e.length;for(let l=0;l<a-1;l++){const u=e[l];t.j[u]?s=t.j[u]:(s=new Us(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Us(n),s.jr=i.slice(),t.j[e[a-1]]=s,s}function yT(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(t[r]),r++}return e}const L0={defaultProtocol:"http",events:null,format:bT,formatHref:bT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function xE(t,e=null){let n=Object.assign({},L0);t&&(n=Object.assign(n,t instanceof xE?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}xE.prototype={o:L0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:L0[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function bT(t){return t}function fN(t,e){this.t="token",this.v=t,this.tk=e}fN.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=L0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),a={},l=t.get("className",n,e),u=t.get("target",n,e),d=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),u&&(a.target=u),d&&(a.rel=d),p&&Object.assign(a,p),{tagName:i,attributes:a,content:s,eventListeners:g}}};function Yx(t,e){class n extends fN{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const vT=Yx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),xT=Yx("text"),TG=Yx("nl"),bb=Yx("url",{isLink:!0,toHref(t=L0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==j0&&t[1].t===Ru}}),za=t=>new Us(t);function _G({groups:t}){const e=t.domain.concat([Uv,Gv,_u,qv,Vv,Yv,Kv,Xv,ja,pE,c0,Qv,Wv,Jv,ll,Zv,f0,$v]),n=[Fv,Ru,gE,ol,yE,c0,u0,bE,vE,Rv,Ov,o0,l0,Mv,_v,Av,Nv,Dv,zv,jv,Lv,Pv,Bv,Iv,Hv],r=[Uv,Fv,Gv,qv,Vv,Yv,Kv,Xv,ja,o0,l0,c0,Qv,Wv,Jv,u0,ll,Zv,f0,$v],i=za(),s=Me(i,f0);Ct(s,r,s),Ct(s,t.domain,s);const a=za(),l=za(),u=za();Ct(i,t.domain,a),Ct(i,t.scheme,l),Ct(i,t.slashscheme,u),Ct(a,r,s),Ct(a,t.domain,a);const d=Me(a,_u);Me(s,_u,d),Me(l,_u,d),Me(u,_u,d);const p=Me(s,ol);Ct(p,r,s),Ct(p,t.domain,s);const g=za();Ct(d,t.domain,g),Ct(g,t.domain,g);const b=Me(g,ol);Ct(b,t.domain,g);const x=za(vT);Ct(b,t.tld,x),Ct(b,t.utld,x),Me(d,j0,x);const S=Me(g,ja);Me(S,ja,S),Ct(S,t.domain,g),Ct(x,t.domain,g),Me(x,ol,b),Me(x,ja,S);const k=Me(x,Ru);Ct(k,t.numeric,vT);const _=Me(a,ja),A=Me(a,ol);Me(_,ja,_),Ct(_,t.domain,a),Ct(A,r,s),Ct(A,t.domain,a);const O=za(bb);Ct(A,t.tld,O),Ct(A,t.utld,O),Ct(O,t.domain,a),Ct(O,r,s),Me(O,ol,A),Me(O,ja,_),Me(O,_u,d);const z=Me(O,Ru),L=za(bb);Ct(z,t.numeric,L);const H=za(bb),j=za();Ct(H,e,H),Ct(H,n,j),Ct(j,e,H),Ct(j,n,j),Me(O,ll,H),Me(L,ll,H);const P=Me(l,Ru),I=Me(u,Ru),Y=Me(I,ll),G=Me(Y,ll);Ct(l,t.domain,a),Me(l,ol,A),Me(l,ja,_),Ct(u,t.domain,a),Me(u,ol,A),Me(u,ja,_),Ct(P,t.domain,H),Me(P,ll,H),Me(P,u0,H),Ct(G,t.domain,H),Ct(G,e,H),Me(G,ll,H);const X=[[o0,l0],[_v,Mv],[Av,Nv],[Rv,Ov],[Dv,zv],[jv,Lv],[Pv,Bv],[Iv,Hv]];for(let W=0;W<X.length;W++){const[le,ee]=X[W],te=Me(H,le);Me(j,le,te),Me(te,ee,H);const V=za(bb);Ct(te,e,V);const re=za();Ct(te,n),Ct(V,e,V),Ct(V,n,re),Ct(re,e,V),Ct(re,n,re),Me(V,ee,H),Me(re,ee,H)}return Me(i,j0,O),Me(i,mE,TG),{start:i,tokens:cN}}function MG(t,e,n){let r=n.length,i=0,s=[],a=[];for(;i<r;){let l=t,u=null,d=null,p=0,g=null,b=-1;for(;i<r&&!(u=l.go(n[i].t));)a.push(n[i++]);for(;i<r&&(d=u||l.go(n[i].t));)u=null,l=d,l.accepts()?(b=0,g=l):b>=0&&b++,i++,p++;if(b<0)i-=p,i<r&&(a.push(n[i]),i++);else{a.length>0&&(s.push(HS(xT,e,a)),a=[]),i-=b,p-=b;const x=g.t,S=n.slice(i-p,i);s.push(HS(x,e,S))}}return a.length>0&&s.push(HS(xT,e,a)),s}function HS(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const AG=typeof console<"u"&&console&&console.warn||(()=>{}),NG="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Mn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function RG(){return Us.groups={},Mn.scanner=null,Mn.parser=null,Mn.tokenQueue=[],Mn.pluginQueue=[],Mn.customSchemes=[],Mn.initialized=!1,Mn}function ST(t,e=!1){if(Mn.initialized&&AG(`linkifyjs: already initialized - will not register custom scheme "${t}" ${NG}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Mn.customSchemes.push([t,e])}function OG(){Mn.scanner=EG(Mn.customSchemes);for(let t=0;t<Mn.tokenQueue.length;t++)Mn.tokenQueue[t][1]({scanner:Mn.scanner});Mn.parser=_G(Mn.scanner.tokens);for(let t=0;t<Mn.pluginQueue.length;t++)Mn.pluginQueue[t][1]({scanner:Mn.scanner,parser:Mn.parser});return Mn.initialized=!0,Mn}function SE(t){return Mn.initialized||OG(),MG(Mn.parser.start,t,uN(Mn.scanner.start,t))}SE.scan=uN;function dN(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new xE(n),i=SE(t),s=[];for(let a=0;a<i.length;a++){const l=i[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}var wE="[\0- -\u2029]",DG=new RegExp(wE),zG=new RegExp(`${wE}$`),jG=new RegExp(wE,"g");function LG(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function PG(t){return new Zn({key:new qr("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),s=e.some(d=>d.getMeta("preventAutolink"));if(!i||s)return;const{tr:a}=r,l=DA(n.doc,[...e]);if(HA(l).forEach(({newRange:d})=>{const p=xU(r.doc,d,x=>x.isTextblock);let g,b;if(p.length>1)g=p[0],b=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const x=r.doc.textBetween(d.from,d.to," "," ");if(!zG.test(x))return;g=p[0],b=r.doc.textBetween(g.pos,d.to,void 0," ")}if(g&&b){const x=b.split(DG).filter(Boolean);if(x.length<=0)return!1;const S=x[x.length-1],k=g.pos+b.lastIndexOf(S);if(!S)return!1;const _=SE(S).map(A=>A.toObject(t.defaultProtocol));if(!LG(_))return!1;_.filter(A=>A.isLink).map(A=>({...A,from:k+A.start+1,to:k+A.end+1})).filter(A=>r.schema.marks.code?!r.doc.rangeHasMark(A.from,A.to,r.schema.marks.code):!0).filter(A=>t.validate(A.value)).filter(A=>t.shouldAutoLink(A.value)).forEach(A=>{cE(A.from,A.to,r.doc).some(O=>O.mark.type===t.type)||a.addMark(A.from,A.to,t.type.create({href:A.href}))})}}),!!a.steps.length)return a}})}function BG(t){return new Zn({key:new qr("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let p=r.target;const g=[];for(;p.nodeName!=="DIV";)g.push(p),p=p.parentNode;a=g.find(b=>b.nodeName==="A")}if(!a)return!1;const l=IA(e.state,t.type.name),u=(i=a?.href)!=null?i:l.href,d=(s=a?.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&u?(window.open(u,d),!0):!1}}})}function IG(t){return new Zn({key:new qr("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:s}=e,{selection:a}=s,{empty:l}=a;if(l)return!1;let u="";r.content.forEach(p=>{u+=p.textContent});const d=dN(u,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===u);return!u||!d||i!==void 0&&!i(d.href)?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function Xf(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(jG,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var HG=_d.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){ST(t);return}ST(t.scheme,t.optionalSlashes)})},onDestroy(){RG()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Xf(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Xf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Xf(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Or(this.options.HTMLAttributes,t),0]:["a",Or(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Xf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Xf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[xd({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=dN(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Xf(a,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(PG({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Xf(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(BG({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(IG({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),UG=Object.defineProperty,FG=(t,e)=>{for(var n in e)UG(t,n,{get:e[n],enumerable:!0})},GG="listItem",wT="textStyle",CT=/^\s*([-+*])\s$/,hN=aa.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(GG,this.editor.getAttributes(wT)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Rp({find:CT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Rp({find:CT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(wT),editor:this.editor})),[t]}}),pN=aa.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),l=e.parseChildren(a);n.push(...l)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>hE(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qG={};FG(qG,{findListItemPos:()=>ty,getNextListDepth:()=>CE,handleBackspace:()=>AC,handleDelete:()=>NC,hasListBefore:()=>mN,hasListItemAfter:()=>VG,hasListItemBefore:()=>gN,listItemHasSubList:()=>yN,nextListIsDeeper:()=>bN,nextListIsHigher:()=>vN});var ty=(t,e)=>{const{$from:n}=e.selection,r=Rr(t,e.schema);let i=null,s=n.depth,a=n.pos,l=null;for(;s>0&&l===null;)i=n.node(s),i.type===r?l=s:(s-=1,a-=1);return l===null?null:{$pos:e.doc.resolve(a),depth:l}},CE=(t,e)=>{const n=ty(t,e);if(!n)return!1;const[,r]=NU(e,t,n.$pos.pos+4);return r},mN=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),s=t.doc.resolve(i).node();return!(!s||!n.includes(s.type.name))},gN=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},yN=(t,e,n)=>{if(!n)return!1;const r=Rr(t,e.schema);let i=!1;return n.descendants(s=>{s.type===r&&(i=!0)}),i},AC=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Vu(t.state,e)&&mN(t.state,e,n)){const{$anchor:l}=t.state.selection,u=t.state.doc.resolve(l.before()-1),d=[];u.node().descendants((b,x)=>{b.type.name===e&&d.push({node:b,pos:x})});const p=d.at(-1);if(!p)return!1;const g=t.state.doc.resolve(u.start()+p.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},g.end()).joinForward().run()}if(!Vu(t.state,e)||!zU(t.state))return!1;const r=ty(e,t.state);if(!r)return!1;const s=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=yN(e,t.state,s);return gN(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},bN=(t,e)=>{const n=CE(t,e),r=ty(t,e);return!r||!n?!1:n>r.depth},vN=(t,e)=>{const n=CE(t,e),r=ty(t,e);return!r||!n?!1:n<r.depth},NC=(t,e)=>{if(!Vu(t.state,e)||!DU(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:bN(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():vN(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},VG=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},xN=br.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&NC(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&NC(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&AC(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&AC(t,n,r)&&(e=!0)}),e}}}}),ET=/^(\s*)(\d+)\.\s+(.*)$/,YG=/^\s/;function KG(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],s=i.match(ET);if(!s)break;const[,a,l,u]=s,d=a.length;let p=u,g=n+1;const b=[i];for(;g<t.length;){const x=t[g];if(x.match(ET))break;if(x.trim()==="")b.push(x),p+=`
`,g+=1;else if(x.match(YG))b.push(x),p+=`
${x.slice(d+2)}`,g+=1;else break}e.push({indent:d,number:parseInt(l,10),content:p.trim(),raw:b.join(`
`)}),r=g,n=g}return[e,r]}function SN(t,e,n){var r;const i=[];let s=0;for(;s<t.length;){const a=t[s];if(a.indent===e){const l=a.content.split(`
`),u=((r=l[0])==null?void 0:r.trim())||"",d=[];u&&d.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const p=l.slice(1).join(`
`).trim();if(p){const x=n.blockTokens(p);d.push(...x)}let g=s+1;const b=[];for(;g<t.length&&t[g].indent>e;)b.push(t[g]),g+=1;if(b.length>0){const x=Math.min(...b.map(k=>k.indent)),S=SN(b,x,n);d.push({type:"list",ordered:!0,start:b[0].number,items:S,raw:b.map(k=>k.raw).join(`
`)})}i.push({type:"list_item",raw:a.raw,tokens:d}),s=g}else s+=1}return i}function XG(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var QG="listItem",kT="textStyle",TT=/^(\d+)\.\s$/,wN=aa.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Or(this.options.HTMLAttributes,n),0]:["ol",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?XG(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[s,a]=KG(i);if(s.length===0)return;const l=SN(s,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:l,raw:i.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(QG,this.editor.getAttributes(kT)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Rp({find:TT,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Rp({find:TT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(kT)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),WG=/^\s*(\[([( |x])?\])\s$/,JG=aa.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Or(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return hE(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),d=p=>{var g,b;l.ariaLabel=((b=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:b.call(g,p,l.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return d(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",p=>p.preventDefault()),l.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:g}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:b})=>{const x=n();if(typeof x!="number")return!1;const S=b.doc.nodeAt(x);return b.setNodeMarkup(x,void 0,{...S?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,g])=>{i.setAttribute(p,g)}),i.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,a),i.append(s,u),Object.entries(e).forEach(([p,g])=>{i.setAttribute(p,g)}),{dom:i,contentDOM:u,update:p=>p.type!==this.type?!1:(i.dataset.checked=p.attrs.checked,l.checked=p.attrs.checked,d(p),!0)}}},addInputRules(){return[Rp({find:WG,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),$G=aa.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Or(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=s=>{const a=vC(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},i=vC(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});br.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(hN.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(pN.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(xN.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(wN.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(JG.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push($G.configure(this.options.taskList)),t}});var ZG=aa.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Or(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,tq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,nq=_d.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Or(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Np({find:eq,type:this.type})]},addPasteRules(){return[xd({find:tq,type:this.type})]}}),rq=aa.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),CN=_d.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Or(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),iq=CN;function sq(t={}){return new Zn({view(e){return new aq(e,t)}})}class aq{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),a=s.width/i.offsetWidth,l=s.height/i.offsetHeight;if(n){let g=e.nodeBefore,b=e.nodeAfter;if(g||b){let x=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(x){let S=x.getBoundingClientRect(),k=g?S.bottom:S.top;g&&b&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let _=this.width/2*l;r={left:S.left,right:S.right,top:k-_,bottom:k+_}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*a;r={left:g.left-b,right:g.left+b,top:g.top,bottom:g.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,p;if(!u||u==document.body&&getComputedStyle(u).position=="static")d=-pageXOffset,p=-pageYOffset;else{let g=u.getBoundingClientRect(),b=g.width/u.offsetWidth,x=g.height/u.offsetHeight;d=g.left-u.scrollLeft*b,p=g.top-u.scrollTop*x}this.element.style.left=(r.left-d)/a+"px",this.element.style.top=(r.top-p)/l+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=k8(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ur extends Et{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return ur.valid(r)?new ur(r):Et.near(r)}content(){return Ie.empty}eq(e){return e instanceof ur&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ur(e.resolve(n.pos))}getBookmark(){return new EE(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!oq(e)||!lq(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&ur.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){s=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=n;let u=e.doc.resolve(i);if(ur.valid(u))return u}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Ze.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=a,i+=n;let l=e.doc.resolve(i);if(ur.valid(l))return l}return null}}}ur.prototype.visible=!1;ur.findFrom=ur.findGapCursorFrom;Et.jsonID("gapcursor",ur);class EE{constructor(e){this.pos=e}map(e){return new EE(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ur.valid(n)?new ur(n):Et.near(n)}}function EN(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function oq(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||EN(i.type))return!0;if(i.inlineContent)return!1}}return!0}function lq(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||EN(i.type))return!0;if(i.inlineContent)return!1}}return!0}function cq(){return new Zn({props:{decorations:hq,createSelectionBetween(t,e,n){return e.pos==n.pos&&ur.valid(n)?new ur(n):null},handleClick:fq,handleKeyDown:uq,handleDOMEvents:{beforeinput:dq}}})}const uq=kA({ArrowLeft:vb("horiz",-1),ArrowRight:vb("horiz",1),ArrowUp:vb("vert",-1),ArrowDown:vb("vert",1)});function vb(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let a=r.selection,l=e>0?a.$to:a.$from,u=a.empty;if(a instanceof lt){if(!s.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let d=ur.findGapCursorFrom(l,e,u);return d?(i&&i(r.tr.setSelection(new ur(d))),!0):!1}}function fq(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!ur.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ze.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ur(r))),!0)}function dq(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ur))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ke.empty;for(let a=r.length-1;a>=0;a--)i=ke.from(r[a].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Ie(i,0,0));return s.setSelection(lt.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function hq(t){if(!(t.selection instanceof ur))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Jn.create(t.doc,[fs.widget(t.selection.head,e,{key:"gapcursor"})])}var ex=200,ri=function(){};ri.prototype.append=function(e){return e.length?(e=ri.from(e),!this.length&&e||e.length<ex&&this.leafAppend(e)||this.length<ex&&e.leafPrepend(this)||this.appendInner(e)):this};ri.prototype.prepend=function(e){return e.length?ri.from(e).append(this):this};ri.prototype.appendInner=function(e){return new pq(this,e)};ri.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ri.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ri.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ri.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ri.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},n,r),i};ri.from=function(e){return e instanceof ri?e:e&&e.length?new kN(e):ri.empty};var kN=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,l){for(var u=s;u<a;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,l){for(var u=s-1;u>=a;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=ex)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=ex)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(ri);ri.empty=new kN([]);var pq=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,a){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),a)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,a){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,a+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(ri);const mq=500;class po{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let a=e.tr,l,u,d=[],p=[];return this.items.forEach((g,b)=>{if(!g.step){i||(i=this.remapping(r,b+1),s=i.maps.length),s--,p.push(g);return}if(i){p.push(new vu(g.map));let x=g.step.map(i.slice(s)),S;x&&a.maybeStep(x).doc&&(S=a.mapping.maps[a.mapping.maps.length-1],d.push(new vu(S,void 0,void 0,d.length+p.length))),s--,S&&i.appendMap(S,s)}else a.maybeStep(g.step);if(g.selection)return l=i?g.selection.map(i.slice(s)):g.selection,u=new po(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(e,n,r,i){let s=[],a=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),b=new vu(e.mapping.maps[p],g,n),x;(x=u&&u.merge(b))&&(b=x,p?s.pop():l=l.slice(0,l.length-1)),s.push(b),n&&(a++,n=void 0),i||(u=b)}let d=a-r.depth;return d>yq&&(l=gq(l,d),a-=d),new po(l.append(s),a)}remapping(e,n){let r=new A0;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new po(this.items.append(e.map(n=>new vu(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(b=>{b.selection&&l--},i);let u=n;this.items.forEach(b=>{let x=s.getMirror(--u);if(x==null)return;a=Math.min(a,x);let S=s.maps[x];if(b.step){let k=e.steps[x].invert(e.docs[x]),_=b.selection&&b.selection.map(s.slice(u+1,x));_&&l++,r.push(new vu(S,k,_))}else r.push(new vu(S))},i);let d=[];for(let b=n;b<a;b++)d.push(new vu(s.maps[b]));let p=this.items.slice(0,i).append(d).append(r),g=new po(p,l);return g.emptyItemCount()>mq&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((a,l)=>{if(l>=e)i.push(a),a.selection&&s++;else if(a.step){let u=a.step.map(n.slice(r)),d=u&&u.getMap();if(r--,d&&n.appendMap(d,r),u){let p=a.selection&&a.selection.map(n.slice(r));p&&s++;let g=new vu(d.invert(),u,p),b,x=i.length-1;(b=i.length&&i[x].merge(g))?i[x]=b:i.push(g)}}else a.map&&r--},this.items.length,0),new po(ri.from(i.reverse()),s)}}po.empty=new po(ri.empty,0);function gq(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let vu=class TN{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new TN(n.getMap().invert(),n,this.selection)}}};class Mu{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const yq=20;function bq(t,e,n,r){let i=n.getMeta(dd),s;if(i)return i.historyState;n.getMeta(Sq)&&(t=new Mu(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(dd))return a.getMeta(dd).redo?new Mu(t.done.addTransform(n,void 0,r,Wb(e)),t.undone,_T(n.mapping.maps),t.prevTime,t.prevComposition):new Mu(t.done,t.undone.addTransform(n,void 0,r,Wb(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!vq(n,t.prevRanges)),d=a?US(t.prevRanges,n.mapping):_T(n.mapping.maps);return new Mu(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,Wb(e)),po.empty,d,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Mu(t.done.rebased(n,s),t.undone.rebased(n,s),US(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Mu(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),US(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function vq(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function _T(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,a)=>e.push(s,a));return e}function US(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function xq(t,e,n){let r=Wb(e),i=dd.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new Mu(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(dd,{redo:n,historyState:u})}let FS=!1,MT=null;function Wb(t){let e=t.plugins;if(MT!=e){FS=!1,MT=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){FS=!0;break}}return FS}const dd=new qr("history"),Sq=new qr("closeHistory");function wq(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Zn({key:dd,state:{init(){return new Mu(po.empty,po.empty,null,0,-1)},apply(e,n,r){return bq(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?MN:r=="historyRedo"?AN:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function _N(t,e){return(n,r)=>{let i=dd.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=xq(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const MN=_N(!1,!0),AN=_N(!0,!0);br.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Zn({key:new qr("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const a=s-i,l=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(l,u);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,u=s-r,d=l-u,p=l;return e.deleteRange(d,p),!(this.storage.characters({node:e.doc})>r)}})]}});var Cq=br.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[sq(this.options)]}});br.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Zn({key:new qr("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!n||!r)return Jn.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((u,d)=>{if(u.isText)return;if(!(i>=d&&i<=d+u.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((u,d)=>{if(u.isText||!(i>=d&&i<=d+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&a-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(fs.node(d,d+u.nodeSize,{class:this.options.className}))}),Jn.create(t,s)}}})]}});var Eq=br.create({name:"gapCursor",addProseMirrorPlugins(){return[cq()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Jt(We(t,"allowGapCursor",n)))!=null?e:null}}}),kq=br.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Zn({key:new qr("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((a,l)=>{const u=r>=l&&r<=l+a.nodeSize,d=!a.isLeaf&&Gx(a);if((u||!this.options.showOnlyCurrent)&&d){const p=[this.options.emptyNodeClass];s&&p.push(this.options.emptyEditorClass);const g=fs.node(l,l+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:u}):this.options.placeholder});i.push(g)}return this.options.includeChildren}),Jn.create(t,i)}}})]}});br.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Zn({key:new qr("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||UA(n.selection)||t.view.dragging?null:Jn.create(n.doc,[fs.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function AT({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var Tq=br.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new qr(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Zn({key:e,appendTransaction:(i,s,a)=>{const{doc:l,tr:u,schema:d}=a,p=e.getState(a),g=l.content.size,b=d.nodes[n];if(p)return u.insert(g,b.create())},state:{init:(i,s)=>{const a=s.tr.doc.lastChild;return!AT({node:a,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const a=i.doc.lastChild;return!AT({node:a,types:r})}}})]}}),_q=br.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>MN(t,e),redo:()=>({state:t,dispatch:e})=>AN(t,e)}},addProseMirrorPlugins(){return[wq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Mq=br.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(eG.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(QF.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(hN.configure(this.options.bulletList)),this.options.code!==!1&&i.push(rG.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(aG.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(oG.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Cq.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Eq.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(lG.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(cG.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(_q.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(uG.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(mG.configure(this.options.italic)),this.options.listItem!==!1&&i.push(pN.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(xN.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(HG.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(wN.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(ZG.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(nq.configure(this.options.strike)),this.options.text!==!1&&i.push(rq.configure(this.options.text)),this.options.underline!==!1&&i.push(CN.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(Tq.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Aq=Mq,Nq=kq;/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),NT=t=>{const e=Oq(t);return e.charAt(0).toUpperCase()+e.slice(1)},NN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Dq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},u)=>N.createElement("svg",{ref:u,...zq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NN("lucide",i),...!s&&!Dq(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,p])=>N.createElement(d,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(jq,{ref:s,iconNode:e,className:NN(`lucide-${Rq(NT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=NT(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Pq=fr("archive",Lq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Iq=fr("bold",Bq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uq=fr("circle",Hq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gq=fr("clock",Fq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Vq=fr("eraser",qq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Kq=fr("folder",Yq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Qq=fr("inbox",Xq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Jq=fr("italic",Wq);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Zq=fr("list-ordered",$q);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tV=fr("list",eV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],rV=fr("mail",nV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],sV=fr("paperclip",iV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],oV=fr("pen",aV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],RN=fr("plus",lV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],uV=fr("quote",cV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],RT=fr("send",fV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hV=fr("square",dV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mV=fr("star",pV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],yV=fr("strikethrough",gV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],RC=fr("trash-2",bV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],xV=fr("underline",vV);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wV=fr("x",SV);function CV({content:t,onChange:e}){const n=qF({extensions:[Aq,iq,Nq.configure({placeholder:"Start typing your notes here..."})],content:t,onUpdate:({editor:r})=>{e(r.getHTML())},editorProps:{attributes:{class:"prose dark:prose-invert max-w-none focus:outline-none min-h-[500px]"}}});return n?E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 sticky top-0 z-10",children:[E.jsx("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("bold")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Bold",children:E.jsx(Iq,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("italic")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Italic",children:E.jsx(Jq,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("underline")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Underline",children:E.jsx(xV,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("strike")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Strikethrough",children:E.jsx(yV,{size:16})}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),E.jsx("button",{onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("bulletList")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Bullet List",children:E.jsx(tV,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("orderedList")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Ordered List",children:E.jsx(Zq,{size:16})}),E.jsx("button",{onClick:()=>n.chain().focus().toggleBlockquote().run(),className:`p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 ${n.isActive("blockquote")?"bg-gray-200 dark:bg-gray-700 text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,title:"Blockquote",children:E.jsx(uV,{size:16})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:E.jsx(PF,{editor:n})})]}):null}const ON=6048e5,EV=864e5,xb=43200,OT=1440,DT=Symbol.for("constructDateFrom");function hc(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&DT in t?t[DT](e):t instanceof Date?new t.constructor(e):new Date(e)}function ii(t,e){return hc(e||t,t)}let kV={};function ny(){return kV}function P0(t,e){const n=ny(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ii(t,e?.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function tx(t,e){return P0(t,{...e,weekStartsOn:1})}function DN(t,e){const n=ii(t,e?.in),r=n.getFullYear(),i=hc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=tx(i),a=hc(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=tx(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function nx(t){const e=ii(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Kx(t,...e){const n=hc.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function zT(t,e){const n=ii(t,e?.in);return n.setHours(0,0,0,0),n}function TV(t,e,n){const[r,i]=Kx(n?.in,t,e),s=zT(r),a=zT(i),l=+s-nx(s),u=+a-nx(a);return Math.round((l-u)/EV)}function _V(t,e){const n=DN(t,e),r=hc(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),tx(r)}function Jb(t,e){const n=+ii(t)-+ii(e);return n<0?-1:n>0?1:n}function MV(t){return hc(t,Date.now())}function AV(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function NV(t){return!(!AV(t)&&typeof t!="number"||isNaN(+ii(t)))}function RV(t,e,n){const[r,i]=Kx(n?.in,t,e),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function OV(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function DV(t,e){return+ii(t)-+ii(e)}function zV(t,e){const n=ii(t,e?.in);return n.setHours(23,59,59,999),n}function jV(t,e){const n=ii(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function LV(t,e){const n=ii(t,e?.in);return+zV(n,e)==+jV(n,e)}function PV(t,e,n){const[r,i,s]=Kx(n?.in,t,t,e),a=Jb(i,s),l=Math.abs(RV(i,s));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*l);let u=Jb(i,s)===-a;LV(r)&&l===1&&Jb(r,s)===1&&(u=!1);const d=a*(l-+u);return d===0?0:d}function BV(t,e,n){const r=DV(t,e)/1e3;return OV(n?.roundingMethod)(r)}function IV(t,e){const n=ii(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const HV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UV=(t,e,n)=>{let r;const i=HV[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function GS(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const FV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VV={date:GS({formats:FV,defaultWidth:"full"}),time:GS({formats:GV,defaultWidth:"full"}),dateTime:GS({formats:qV,defaultWidth:"full"})},YV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KV=(t,e,n,r)=>YV[t];function Og(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const XV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$V={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eY=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tY={ordinalNumber:eY,era:Og({values:XV,defaultWidth:"wide"}),quarter:Og({values:QV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Og({values:WV,defaultWidth:"wide"}),day:Og({values:JV,defaultWidth:"wide"}),dayPeriod:Og({values:$V,defaultWidth:"wide",formattingValues:ZV,defaultFormattingWidth:"wide"})};function Dg(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?rY(l,g=>g.test(a)):nY(l,g=>g.test(a));let d;d=t.valueCallback?t.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const p=e.slice(a.length);return{value:d,rest:p}}}function nY(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rY(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iY(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const sY=/^(\d+)(th|st|nd|rd)?/i,aY=/\d+/i,oY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lY={any:[/^b/i,/^(a|c)/i]},cY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uY={any:[/1/i,/2/i,/3/i,/4/i]},fY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yY={ordinalNumber:iY({matchPattern:sY,parsePattern:aY,valueCallback:t=>parseInt(t,10)}),era:Dg({matchPatterns:oY,defaultMatchWidth:"wide",parsePatterns:lY,defaultParseWidth:"any"}),quarter:Dg({matchPatterns:cY,defaultMatchWidth:"wide",parsePatterns:uY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Dg({matchPatterns:fY,defaultMatchWidth:"wide",parsePatterns:dY,defaultParseWidth:"any"}),day:Dg({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:pY,defaultParseWidth:"any"}),dayPeriod:Dg({matchPatterns:mY,defaultMatchWidth:"any",parsePatterns:gY,defaultParseWidth:"any"})},zN={code:"en-US",formatDistance:UV,formatLong:VV,formatRelative:KV,localize:tY,match:yY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bY(t,e){const n=ii(t,e?.in);return TV(n,IV(n))+1}function vY(t,e){const n=ii(t,e?.in),r=+tx(n)-+_V(n);return Math.round(r/ON)+1}function jN(t,e){const n=ii(t,e?.in),r=n.getFullYear(),i=ny(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=hc(e?.in||t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=P0(a,e),u=hc(e?.in||t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=P0(u,e);return+n>=+l?r+1:+n>=+d?r:r-1}function xY(t,e){const n=ny(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=jN(t,e),s=hc(e?.in||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),P0(s,e)}function SY(t,e){const n=ii(t,e?.in),r=+P0(n,e)-+xY(n,e);return Math.round(r/ON)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},ep={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xu.y(t,e)},Y:function(t,e,n,r){const i=jN(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return $t(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$t(s,e.length)},R:function(t,e){const n=DN(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=SY(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=vY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xu.d(t,e)},D:function(t,e,n){const r=bY(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $t(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ep.noon:r===0?i=ep.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ep.evening:r>=12?i=ep.afternoon:r>=4?i=ep.morning:i=ep.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xu.s(t,e)},S:function(t,e){return xu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return PT(r);case"XXXX":case"XX":return Jf(r);case"XXXXX":case"XXX":default:return Jf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return PT(r);case"xxxx":case"xx":return Jf(r);case"xxxxx":case"xxx":default:return Jf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LT(r,":");case"OOOO":default:return"GMT"+Jf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LT(r,":");case"zzzz":default:return"GMT"+Jf(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return $t(r,e.length)},T:function(t,e,n){return $t(+t,e.length)}};function LT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$t(s,2)}function PT(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Jf(t,e)}function Jf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),s=$t(r%60,2);return n+i+e+s}const BT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wY=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BT(r,e)).replace("{{time}}",LN(i,e))},CY={p:LN,P:wY},EY=/^D+$/,kY=/^Y+$/,TY=["D","DD","YY","YYYY"];function _Y(t){return EY.test(t)}function MY(t){return kY.test(t)}function AY(t,e,n){const r=NY(t,e,n);if(console.warn(r),TY.includes(t))throw new RangeError(r)}function NY(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DY=/^'([^]*?)'?$/,zY=/''/g,jY=/[a-zA-Z]/;function LY(t,e,n){const r=ny(),i=r.locale??zN,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=ii(t,n?.in);if(!NV(l))throw new RangeError("Invalid time value");let u=e.match(OY).map(p=>{const g=p[0];if(g==="p"||g==="P"){const b=CY[g];return b(p,i.formatLong)}return p}).join("").match(RY).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:PY(p)};if(jT[g])return{isToken:!0,value:p};if(g.match(jY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(p=>{if(!p.isToken)return p.value;const g=p.value;(MY(g)||_Y(g))&&AY(g,e,String(t));const b=jT[g[0]];return b(l,g,i.localize,d)}).join("")}function PY(t){const e=t.match(DY);return e?e[1].replace(zY,"'"):t}function BY(t,e,n){const r=ny(),i=n?.locale??r.locale??zN,s=2520,a=Jb(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a}),[u,d]=Kx(n?.in,...a>0?[e,t]:[t,e]),p=BV(d,u),g=(nx(d)-nx(u))/1e3,b=Math.round((p-g)/60);let x;if(b<2)return n?.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,l):p<10?i.formatDistance("lessThanXSeconds",10,l):p<20?i.formatDistance("lessThanXSeconds",20,l):p<40?i.formatDistance("halfAMinute",0,l):p<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):b===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",b,l);if(b<45)return i.formatDistance("xMinutes",b,l);if(b<90)return i.formatDistance("aboutXHours",1,l);if(b<OT){const S=Math.round(b/60);return i.formatDistance("aboutXHours",S,l)}else{if(b<s)return i.formatDistance("xDays",1,l);if(b<xb){const S=Math.round(b/OT);return i.formatDistance("xDays",S,l)}else if(b<xb*2)return x=Math.round(b/xb),i.formatDistance("aboutXMonths",x,l)}if(x=PV(d,u),x<12){const S=Math.round(b/xb);return i.formatDistance("xMonths",S,l)}else{const S=x%12,k=Math.trunc(x/12);return S<3?i.formatDistance("aboutXYears",k,l):S<9?i.formatDistance("overXYears",k,l):i.formatDistance("almostXYears",k+1,l)}}function IY(t,e){return BY(t,MV(t),e)}const HY=t=>{const e={},n=[];return t.forEach(r=>{r.tags&&r.tags.length>0?r.tags.forEach(i=>{e[i]||(e[i]=[]),e[i].some(s=>s.id===r.id)||e[i].push(r)}):n.push(r)}),{groups:e,uncategorized:n}},PN=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(!1),[i,s]=N.useState(""),[a,l]=N.useState(""),{data:u,isLoading:d,error:p}=xP(),g=Array.isArray(u)?u:[],{data:b}=SP(t),x=wP(),S=CP(),[k,_]=N.useState({});N.useEffect(()=>{b&&(s(b.title),l(b.content))},[b]);const{groups:A,uncategorized:O}=HY(g),z=Object.keys(A).sort(),L=async I=>{try{const Y={title:"Untitled Note",content:"",tags:I?[I]:[],type:0},G=await x.mutateAsync(Y);G&&G.id&&e(G.id)}catch(Y){console.error("Failed to create note:",Y),alert("Failed to create note. Please try again.")}},H=()=>{const I=prompt("Enter folder name:");I&&(L(I),_(Y=>({...Y,[I]:!0})))};N.useEffect(()=>{if(t&&b&&(i!==b.title||a!==b.content)){const I=setTimeout(()=>{S.mutate({id:t,note:{title:i,content:a}})},1e3);return()=>clearTimeout(I)}},[i,a,t]);const j=I=>{_(Y=>({...Y,[I]:!Y[I]}))},P=()=>S.isPending?"Saving...":S.isError?"Error saving":b?.lastModified?`Saved ${IY(new Date(b.lastModified),{addSuffix:!0})}`:"Saved";return d?E.jsx("div",{className:"p-4",children:"Loading notes..."}):p?E.jsx("div",{className:"p-4 text-red-600",children:"Failed to load notes. Please log in and try again."}):E.jsxs("div",{className:"flex h-full bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300 overflow-hidden",children:[E.jsxs("div",{className:"w-64 border-r border-gray-200 dark:border-gray-700 flex flex-col bg-gray-50 dark:bg-gray-950 shrink-0 transition-all duration-300",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[E.jsx("h2",{className:"font-bold text-xs uppercase tracking-wider text-gray-500 dark:text-gray-400",children:"Folders"}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:I=>{I.preventDefault(),I.stopPropagation(),H()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 hover:bg-gray-200 dark:hover:bg-gray-800 rounded",title:"New Folder",children:E.jsx(Kq,{size:14})}),E.jsx("button",{onClick:I=>{I.preventDefault(),I.stopPropagation(),L()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 hover:bg-gray-200 dark:hover:bg-gray-800 rounded",title:"New Note",children:E.jsx(RN,{size:14})})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[z.map(I=>E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 py-1.5 px-2 rounded-md cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300",onClick:()=>j(I),children:[E.jsx("i",{className:`fa-solid fa-chevron-right text-[10px] w-4 transition-transform ${k[I]?"rotate-90":""}`}),E.jsx("span",{className:"truncate text-sm font-medium",children:I}),E.jsx("span",{className:"ml-auto text-xs text-gray-400",children:A[I].length})]}),k[I]&&E.jsx("div",{className:"ml-4 border-l border-gray-200 dark:border-gray-800 pl-1",children:A[I].map(Y=>E.jsx("div",{className:`flex items-center gap-2 py-1.5 px-2 rounded-md cursor-pointer transition-colors ${t===Y.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,onClick:()=>e(Y.id),children:E.jsx("span",{className:"truncate text-sm",children:Y.title||"Untitled"})},Y.id))})]},I)),O.length>0&&E.jsxs("div",{className:"mt-2",children:[E.jsx("div",{className:"px-2 py-1 text-xs uppercase text-gray-400 font-bold tracking-wider",children:"Uncategorized"}),O.map(I=>E.jsx("div",{className:`flex items-center gap-2 py-1.5 px-2 rounded-md cursor-pointer transition-colors ${t===I.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 font-medium":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300"}`,onClick:()=>e(I.id),children:E.jsx("span",{className:"truncate text-sm",children:I.title||"Untitled"})},I.id))]})]})]}),E.jsx("div",{className:"flex-1 flex flex-col relative h-full",children:t?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"h-12 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 bg-white dark:bg-gray-900 shrink-0",children:[E.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:E.jsxs("span",{className:"text-xs flex items-center gap-1",children:[S.isPending?E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}):E.jsx("i",{className:"fa-solid fa-check"}),P()]})}),E.jsx("div",{className:"flex items-center gap-2",children:E.jsx("button",{onClick:()=>r(!n),className:`p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 ${n?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-gray-600 dark:text-gray-400"}`,title:"Citations",children:E.jsx("i",{className:"fa-solid fa-quote-right"})})})]}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsx("input",{className:"text-3xl font-bold p-8 pb-4 outline-none bg-transparent text-gray-900 dark:text-white border-none w-full",value:i,onChange:I=>s(I.target.value),placeholder:"Note Title"}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:E.jsx(CV,{content:a,onChange:l},t)})]})]}):E.jsxs("div",{className:"flex-1 flex items-center justify-center text-gray-400 flex-col gap-4",children:[E.jsx("i",{className:"fa-regular fa-note-sticky text-4xl"}),E.jsx("p",{children:"Select a note or create a new one"})]})}),n&&b&&E.jsxs("div",{className:"w-80 border-l border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-950 shrink-0 flex flex-col transition-all duration-300 h-full",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[E.jsx("h3",{className:"font-bold text-sm text-gray-700 dark:text-gray-200",children:"Citations & Sources"}),E.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsx("div",{className:"p-4 flex-1 overflow-y-auto",children:E.jsx("div",{className:"text-sm text-gray-500 italic",children:"Citation management coming soon..."})})]})]})};function UY(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fp(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function kE(t){return"nodeType"in t}function ms(t){var e,n;return t?Fp(t)?t:kE(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function TE(t){const{Document:e}=ms(t);return t instanceof e}function ry(t){return Fp(t)?!1:t instanceof ms(t).HTMLElement}function BN(t){return t instanceof ms(t).SVGElement}function Gp(t){return t?Fp(t)?t.document:kE(t)?TE(t)?t:ry(t)||BN(t)?t.ownerDocument:document:document:document}const bo=Xx?N.useLayoutEffect:N.useEffect;function Qx(t){const e=N.useRef(t);return bo(()=>{e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function FY(){const t=N.useRef(null),e=N.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=N.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function B0(t,e){e===void 0&&(e=[t]);const n=N.useRef(t);return bo(()=>{n.current!==t&&(n.current=t)},e),n}function iy(t,e){const n=N.useRef();return N.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function rx(t){const e=Qx(t),n=N.useRef(null),r=N.useCallback(i=>{i!==n.current&&e?.(i,n.current),n.current=i},[]);return[n,r]}function ix(t){const e=N.useRef();return N.useEffect(()=>{e.current=t},[t]),e.current}let qS={};function sy(t,e){return N.useMemo(()=>{if(e)return e;const n=qS[t]==null?0:qS[t]+1;return qS[t]=n,t+"-"+n},[t,e])}function IN(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,a)=>{const l=Object.entries(a);for(const[u,d]of l){const p=s[u];p!=null&&(s[u]=p+t*d)}return s},{...e})}}const bp=IN(1),I0=IN(-1);function GY(t){return"clientX"in t&&"clientY"in t}function Wx(t){if(!t)return!1;const{KeyboardEvent:e}=ms(t.target);return e&&t instanceof e}function qY(t){if(!t)return!1;const{TouchEvent:e}=ms(t.target);return e&&t instanceof e}function sx(t){if(qY(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return GY(t)?{x:t.clientX,y:t.clientY}:null}const Yu=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Yu.Translate.toString(t),Yu.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),IT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function VY(t){return t.matches(IT)?t:t.querySelector(IT)}const YY={display:"none"};function KY(t){let{id:e,value:n}=t;return Ye.createElement("div",{id:e,style:YY},n)}function XY(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ye.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function QY(){const[t,e]=N.useState("");return{announce:N.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const HN=N.createContext(null);function WY(t){const e=N.useContext(HN);N.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function JY(){const[t]=N.useState(()=>new Set),e=N.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[N.useCallback(r=>{let{type:i,event:s}=r;t.forEach(a=>{var l;return(l=a[i])==null?void 0:l.call(a,s)})},[t]),e]}const $Y={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ZY={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function eK(t){let{announcements:e=ZY,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=$Y}=t;const{announce:s,announcement:a}=QY(),l=sy("DndLiveRegion"),[u,d]=N.useState(!1);if(N.useEffect(()=>{d(!0)},[]),WY(N.useMemo(()=>({onDragStart(g){let{active:b}=g;s(e.onDragStart({active:b}))},onDragMove(g){let{active:b,over:x}=g;e.onDragMove&&s(e.onDragMove({active:b,over:x}))},onDragOver(g){let{active:b,over:x}=g;s(e.onDragOver({active:b,over:x}))},onDragEnd(g){let{active:b,over:x}=g;s(e.onDragEnd({active:b,over:x}))},onDragCancel(g){let{active:b,over:x}=g;s(e.onDragCancel({active:b,over:x}))}}),[s,e])),!u)return null;const p=Ye.createElement(Ye.Fragment,null,Ye.createElement(KY,{id:r,value:i.draggable}),Ye.createElement(XY,{id:l,announcement:a}));return n?oc.createPortal(p,n):p}var Ur;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ur||(Ur={}));function ax(){}function HT(t,e){return N.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function tK(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const vo=Object.freeze({x:0,y:0});function nK(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rK(t,e){const n=sx(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function iK(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function sK(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function UT(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function UN(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}const FN=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=UT(e),s=[];for(const a of r){const{id:l}=a,u=n.get(l);if(u){const d=UT(u),p=i.reduce((b,x,S)=>b+nK(d[S],x),0),g=Number((p/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:g}})}}return s.sort(iK)};function aK(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),a=i-r,l=s-n;if(r<i&&n<s){const u=e.width*e.height,d=t.width*t.height,p=a*l,g=p/(u+d-p);return Number(g.toFixed(4))}return 0}const oK=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const u=aK(l,e);u>0&&i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(sK)};function lK(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function GN(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:vo}function cK(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((a,l)=>({...a,top:a.top+t*l.y,bottom:a.bottom+t*l.y,left:a.left+t*l.x,right:a.right+t*l.x}),{...n})}}const uK=cK(1);function qN(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function fK(t,e,n){const r=qN(e);if(!r)return t;const{scaleX:i,scaleY:s,x:a,y:l}=r,u=t.left-a-(1-i)*parseFloat(n),d=t.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?t.width/i:t.width,g=s?t.height/s:t.height;return{width:p,height:g,top:d,right:u+p,bottom:d+g,left:u}}const dK={ignoreTransform:!1};function qp(t,e){e===void 0&&(e=dK);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=ms(t).getComputedStyle(t);d&&(n=fK(n,d,p))}const{top:r,left:i,width:s,height:a,bottom:l,right:u}=n;return{top:r,left:i,width:s,height:a,bottom:l,right:u}}function FT(t){return qp(t,{ignoreTransform:!0})}function hK(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function pK(t,e){return e===void 0&&(e=ms(t).getComputedStyle(t)),e.position==="fixed"}function mK(t,e){e===void 0&&(e=ms(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function Jx(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(TE(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ry(i)||BN(i)||n.includes(i))return n;const s=ms(t).getComputedStyle(i);return i!==t&&mK(i,s)&&n.push(i),pK(i,s)?n:r(i.parentNode)}return t?r(t):n}function VN(t){const[e]=Jx(t,1);return e??null}function VS(t){return!Xx||!t?null:Fp(t)?t:kE(t)?TE(t)||t===Gp(t).scrollingElement?window:ry(t)?t:null:null}function YN(t){return Fp(t)?t.scrollX:t.scrollLeft}function KN(t){return Fp(t)?t.scrollY:t.scrollTop}function OC(t){return{x:YN(t),y:KN(t)}}var ei;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ei||(ei={}));function XN(t){return!Xx||!t?!1:t===document.scrollingElement}function QN(t){const e={x:0,y:0},n=XN(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,a=t.scrollTop>=r.y,l=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:a,isRight:l,maxScroll:r,minScroll:e}}const gK={x:.2,y:.2};function yK(t,e,n,r,i){let{top:s,left:a,right:l,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=gK);const{isTop:d,isBottom:p,isLeft:g,isRight:b}=QN(t),x={x:0,y:0},S={x:0,y:0},k={height:e.height*i.y,width:e.width*i.x};return!d&&s<=e.top+k.height?(x.y=ei.Backward,S.y=r*Math.abs((e.top+k.height-s)/k.height)):!p&&u>=e.bottom-k.height&&(x.y=ei.Forward,S.y=r*Math.abs((e.bottom-k.height-u)/k.height)),!b&&l>=e.right-k.width?(x.x=ei.Forward,S.x=r*Math.abs((e.right-k.width-l)/k.width)):!g&&a<=e.left+k.width&&(x.x=ei.Backward,S.x=r*Math.abs((e.left+k.width-a)/k.width)),{direction:x,speed:S}}function bK(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function WN(t){return t.reduce((e,n)=>bp(e,OC(n)),vo)}function vK(t){return t.reduce((e,n)=>e+YN(n),0)}function xK(t){return t.reduce((e,n)=>e+KN(n),0)}function JN(t,e){if(e===void 0&&(e=qp),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);VN(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const SK=[["x",["left","right"],vK],["y",["top","bottom"],xK]];let _E=class{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Jx(n),i=WN(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of SK)for(const u of a)Object.defineProperty(this,u,{get:()=>{const d=l(r),p=i[s]-d;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class d0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function wK(t){const{EventTarget:e}=ms(t);return t instanceof e?t:Gp(t)}function YS(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Ba;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Ba||(Ba={}));function GT(t){t.preventDefault()}function CK(t){t.stopPropagation()}var Pt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Pt||(Pt={}));const $N={start:[Pt.Space,Pt.Enter],cancel:[Pt.Esc],end:[Pt.Space,Pt.Enter,Pt.Tab]},EK=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Pt.Right:return{...n,x:n.x+25};case Pt.Left:return{...n,x:n.x-25};case Pt.Down:return{...n,y:n.y+25};case Pt.Up:return{...n,y:n.y-25}}};class ME{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new d0(Gp(n)),this.windowListeners=new d0(ms(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ba.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&JN(r),n(vo)}handleKeyDown(e){if(Wx(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=$N,coordinateGetter:a=EK,scrollBehavior:l="smooth"}=i,{code:u}=e;if(s.end.includes(u)){this.handleEnd(e);return}if(s.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:d}=r.current,p=d?{x:d.left,y:d.top}:vo;this.referenceCoordinates||(this.referenceCoordinates=p);const g=a(e,{active:n,context:r.current,currentCoordinates:p});if(g){const b=I0(g,p),x={x:0,y:0},{scrollableAncestors:S}=r.current;for(const k of S){const _=e.code,{isTop:A,isRight:O,isLeft:z,isBottom:L,maxScroll:H,minScroll:j}=QN(k),P=bK(k),I={x:Math.min(_===Pt.Right?P.right-P.width/2:P.right,Math.max(_===Pt.Right?P.left:P.left+P.width/2,g.x)),y:Math.min(_===Pt.Down?P.bottom-P.height/2:P.bottom,Math.max(_===Pt.Down?P.top:P.top+P.height/2,g.y))},Y=_===Pt.Right&&!O||_===Pt.Left&&!z,G=_===Pt.Down&&!L||_===Pt.Up&&!A;if(Y&&I.x!==g.x){const X=k.scrollLeft+b.x,W=_===Pt.Right&&X<=H.x||_===Pt.Left&&X>=j.x;if(W&&!b.y){k.scrollTo({left:X,behavior:l});return}W?x.x=k.scrollLeft-X:x.x=_===Pt.Right?k.scrollLeft-H.x:k.scrollLeft-j.x,x.x&&k.scrollBy({left:-x.x,behavior:l});break}else if(G&&I.y!==g.y){const X=k.scrollTop+b.y,W=_===Pt.Down&&X<=H.y||_===Pt.Up&&X>=j.y;if(W&&!b.x){k.scrollTo({top:X,behavior:l});return}W?x.y=k.scrollTop-X:x.y=_===Pt.Down?k.scrollTop-H.y:k.scrollTop-j.y,x.y&&k.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(e,bp(I0(g,this.referenceCoordinates),x))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ME.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=$N,onActivation:i}=e,{active:s}=n;const{code:a}=t.nativeEvent;if(r.start.includes(a)){const l=s.activatorNode.current;return l&&t.target!==l?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function qT(t){return!!(t&&"distance"in t)}function VT(t){return!!(t&&"delay"in t)}class AE{constructor(e,n,r){var i;r===void 0&&(r=wK(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:a}=s;this.props=e,this.events=n,this.document=Gp(a),this.documentListeners=new d0(this.document),this.listeners=new d0(r),this.windowListeners=new d0(ms(a)),this.initialCoordinates=(i=sx(s))!=null?i:vo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ba.Resize,this.handleCancel),this.windowListeners.add(Ba.DragStart,GT),this.windowListeners.add(Ba.VisibilityChange,this.handleCancel),this.windowListeners.add(Ba.ContextMenu,GT),this.documentListeners.add(Ba.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(VT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(qT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ba.Click,CK,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ba.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!i)return;const u=(n=sx(e))!=null?n:vo,d=I0(i,u);if(!r&&l){if(qT(l)){if(l.tolerance!=null&&YS(d,l.tolerance))return this.handleCancel();if(YS(d,l.distance))return this.handleStart()}if(VT(l)&&YS(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}e.cancelable&&e.preventDefault(),a(u)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Pt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const kK={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class NE extends AE{constructor(e){const{event:n}=e,r=Gp(n.target);super(e,kK,r)}}NE.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const TK={move:{name:"mousemove"},end:{name:"mouseup"}};var DC;(function(t){t[t.RightClick=2]="RightClick"})(DC||(DC={}));class _K extends AE{constructor(e){super(e,TK,Gp(e.event.target))}}_K.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===DC.RightClick?!1:(r?.({event:n}),!0)}}];const KS={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class MK extends AE{constructor(e){super(e,KS)}static setup(){return window.addEventListener(KS.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(KS.move.name,e)};function e(){}}}MK.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var h0;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(h0||(h0={}));var ox;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ox||(ox={}));function AK(t){let{acceleration:e,activator:n=h0.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:a=5,order:l=ox.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,delta:g,threshold:b}=t;const x=RK({delta:g,disabled:!s}),[S,k]=FY(),_=N.useRef({x:0,y:0}),A=N.useRef({x:0,y:0}),O=N.useMemo(()=>{switch(n){case h0.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case h0.DraggableRect:return i}},[n,i,u]),z=N.useRef(null),L=N.useCallback(()=>{const j=z.current;if(!j)return;const P=_.current.x*A.current.x,I=_.current.y*A.current.y;j.scrollBy(P,I)},[]),H=N.useMemo(()=>l===ox.TreeOrder?[...d].reverse():d,[l,d]);N.useEffect(()=>{if(!s||!d.length||!O){k();return}for(const j of H){if(r?.(j)===!1)continue;const P=d.indexOf(j),I=p[P];if(!I)continue;const{direction:Y,speed:G}=yK(j,I,O,e,b);for(const X of["x","y"])x[X][Y[X]]||(G[X]=0,Y[X]=0);if(G.x>0||G.y>0){k(),z.current=j,S(L,a),_.current=G,A.current=Y;return}}_.current={x:0,y:0},A.current={x:0,y:0},k()},[e,L,r,k,s,a,JSON.stringify(O),JSON.stringify(x),S,d,H,p,JSON.stringify(b)])}const NK={x:{[ei.Backward]:!1,[ei.Forward]:!1},y:{[ei.Backward]:!1,[ei.Forward]:!1}};function RK(t){let{delta:e,disabled:n}=t;const r=ix(e);return iy(i=>{if(n||!r||!i)return NK;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ei.Backward]:i.x[ei.Backward]||s.x===-1,[ei.Forward]:i.x[ei.Forward]||s.x===1},y:{[ei.Backward]:i.y[ei.Backward]||s.y===-1,[ei.Forward]:i.y[ei.Forward]||s.y===1}}},[n,e,r])}function OK(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return iy(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function DK(t,e){return N.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,r)}));return[...n,...s]},[]),[t,e])}var H0;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(H0||(H0={}));var zC;(function(t){t.Optimized="optimized"})(zC||(zC={}));const YT=new Map;function zK(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,a]=N.useState(null),{frequency:l,measure:u,strategy:d}=i,p=N.useRef(t),g=_(),b=B0(g),x=N.useCallback(function(A){A===void 0&&(A=[]),!b.current&&a(O=>O===null?A:O.concat(A.filter(z=>!O.includes(z))))},[b]),S=N.useRef(null),k=iy(A=>{if(g&&!n)return YT;if(!A||A===YT||p.current!==t||s!=null){const O=new Map;for(let z of t){if(!z)continue;if(s&&s.length>0&&!s.includes(z.id)&&z.rect.current){O.set(z.id,z.rect.current);continue}const L=z.node.current,H=L?new _E(u(L),L):null;z.rect.current=H,H&&O.set(z.id,H)}return O}return A},[t,s,n,g,u]);return N.useEffect(()=>{p.current=t},[t]),N.useEffect(()=>{g||x()},[n,g]),N.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),N.useEffect(()=>{g||typeof l!="number"||S.current!==null||(S.current=setTimeout(()=>{x(),S.current=null},l))},[l,g,x,...r]),{droppableRects:k,measureDroppableContainers:x,measuringScheduled:s!=null};function _(){switch(d){case H0.Always:return!1;case H0.BeforeDragging:return n;default:return!n}}}function RE(t,e){return iy(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function jK(t,e){return RE(t,e)}function LK(t){let{callback:e,disabled:n}=t;const r=Qx(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function $x(t){let{callback:e,disabled:n}=t;const r=Qx(e),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return N.useEffect(()=>()=>i?.disconnect(),[i]),i}function PK(t){return new _E(qp(t),t)}function KT(t,e,n){e===void 0&&(e=PK);const[r,i]=N.useState(null);function s(){i(u=>{if(!t)return null;if(t.isConnected===!1){var d;return(d=u??n)!=null?d:null}const p=e(t);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const a=LK({callback(u){if(t)for(const d of u){const{type:p,target:g}=d;if(p==="childList"&&g instanceof HTMLElement&&g.contains(t)){s();break}}}}),l=$x({callback:s});return bo(()=>{s(),t?(l?.observe(t),a?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),a?.disconnect())},[t]),r}function BK(t){const e=RE(t);return GN(t,e)}const XT=[];function IK(t){const e=N.useRef(t),n=iy(r=>t?r&&r!==XT&&t&&e.current&&t.parentNode===e.current.parentNode?r:Jx(t):XT,[t]);return N.useEffect(()=>{e.current=t},[t]),n}function HK(t){const[e,n]=N.useState(null),r=N.useRef(t),i=N.useCallback(s=>{const a=VS(s.target);a&&n(l=>l?(l.set(a,OC(a)),new Map(l)):null)},[]);return N.useEffect(()=>{const s=r.current;if(t!==s){a(s);const l=t.map(u=>{const d=VS(u);return d?(d.addEventListener("scroll",i,{passive:!0}),[d,OC(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),r.current=t}return()=>{a(t),a(s)};function a(l){l.forEach(u=>{const d=VS(u);d?.removeEventListener("scroll",i)})}},[i,t]),N.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,a)=>bp(s,a),vo):WN(t):vo,[t,e])}function QT(t,e){e===void 0&&(e=[]);const n=N.useRef(null);return N.useEffect(()=>{n.current=null},e),N.useEffect(()=>{const r=t!==vo;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?I0(t,n.current):vo}function UK(t){N.useEffect(()=>{if(!Xx)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function FK(t,e){return N.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=a=>{s(a,e)},n},{}),[t,e])}function ZN(t){return N.useMemo(()=>t?hK(t):null,[t])}const WT=[];function GK(t,e){e===void 0&&(e=qp);const[n]=t,r=ZN(n?ms(n):null),[i,s]=N.useState(WT);function a(){s(()=>t.length?t.map(u=>XN(u)?r:new _E(e(u),u)):WT)}const l=$x({callback:a});return bo(()=>{l?.disconnect(),a(),t.forEach(u=>l?.observe(u))},[t]),i}function e9(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return ry(e)?e:t}function qK(t){let{measure:e}=t;const[n,r]=N.useState(null),i=N.useCallback(d=>{for(const{target:p}of d)if(ry(p)){r(g=>{const b=e(p);return g?{...g,width:b.width,height:b.height}:b});break}},[e]),s=$x({callback:i}),a=N.useCallback(d=>{const p=e9(d);s?.disconnect(),p&&s?.observe(p),r(p?e(p):null)},[e,s]),[l,u]=rx(a);return N.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const VK=[{sensor:NE,options:{}},{sensor:ME,options:{}}],YK={current:{}},$b={draggable:{measure:FT},droppable:{measure:FT,strategy:H0.WhileDragging,frequency:zC.Optimized},dragOverlay:{measure:qp}};class p0 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const KK={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new p0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ax},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$b,measureDroppableContainers:ax,windowRect:null,measuringScheduled:!1},t9={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ax,draggableNodes:new Map,over:null,measureDroppableContainers:ax},ay=N.createContext(t9),n9=N.createContext(KK);function XK(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new p0}}}function QK(t,e){switch(e.type){case Ur.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ur.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ur.DragEnd:case Ur.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ur.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new p0(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ur.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const a=new p0(t.droppable.containers);return a.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:a}}}case Ur.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new p0(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function WK(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=N.useContext(ay),s=ix(r),a=ix(n?.id);return N.useEffect(()=>{if(!e&&!r&&s&&a!=null){if(!Wx(s)||document.activeElement===s.target)return;const l=i.get(a);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[u.current,d.current]){if(!p)continue;const g=VY(p);if(g){g.focus();break}}})}},[r,e,i,a,s]),null}function r9(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function JK(t){return N.useMemo(()=>({draggable:{...$b.draggable,...t?.draggable},droppable:{...$b.droppable,...t?.droppable},dragOverlay:{...$b.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function $K(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=N.useRef(!1),{x:a,y:l}=typeof i=="boolean"?{x:i,y:i}:i;bo(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const p=n(d),g=GN(p,r);if(a||(g.x=0),l||(g.y=0),s.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const b=VN(d);b&&b.scrollBy({top:g.y,left:g.x})}},[e,a,l,r,n])}const Zx=N.createContext({...vo,scaleX:1,scaleY:1});var Au;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Au||(Au={}));const ZK=N.memo(function(e){var n,r,i,s;let{id:a,accessibility:l,autoScroll:u=!0,children:d,sensors:p=VK,collisionDetection:g=oK,measuring:b,modifiers:x,...S}=e;const k=N.useReducer(QK,void 0,XK),[_,A]=k,[O,z]=JY(),[L,H]=N.useState(Au.Uninitialized),j=L===Au.Initialized,{draggable:{active:P,nodes:I,translate:Y},droppable:{containers:G}}=_,X=P!=null?I.get(P):null,W=N.useRef({initial:null,translated:null}),le=N.useMemo(()=>{var un;return P!=null?{id:P,data:(un=X?.data)!=null?un:YK,rect:W}:null},[P,X]),ee=N.useRef(null),[te,V]=N.useState(null),[re,J]=N.useState(null),fe=B0(S,Object.values(S)),q=sy("DndDescribedBy",a),K=N.useMemo(()=>G.getEnabled(),[G]),ie=JK(b),{droppableRects:F,measureDroppableContainers:we,measuringScheduled:Be}=zK(K,{dragging:j,dependencies:[Y.x,Y.y],config:ie.droppable}),De=OK(I,P),je=N.useMemo(()=>re?sx(re):null,[re]),ot=Mo(),Ke=jK(De,ie.draggable.measure);$K({activeNode:P!=null?I.get(P):null,config:ot.layoutShiftCompensation,initialRect:Ke,measure:ie.draggable.measure});const nt=KT(De,ie.draggable.measure,Ke),Nn=KT(De?De.parentElement:null),Xt=N.useRef({activatorEvent:null,active:null,activeNode:De,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Rn=G.getNodeFor((n=Xt.current.over)==null?void 0:n.id),Gn=qK({measure:ie.dragOverlay.measure}),Dr=(r=Gn.nodeRef.current)!=null?r:De,tr=j?(i=Gn.rect)!=null?i:nt:null,si=!!(Gn.nodeRef.current&&Gn.rect),Va=BK(si?null:nt),ys=ZN(Dr?ms(Dr):null),nr=IK(j?Rn??De:null),Gi=GK(nr),Ei=r9(x,{transform:{x:Y.x-Va.x,y:Y.y-Va.y,scaleX:1,scaleY:1},activatorEvent:re,active:le,activeNodeRect:nt,containerNodeRect:Nn,draggingNodeRect:tr,over:Xt.current.over,overlayNodeRect:Gn.rect,scrollableAncestors:nr,scrollableAncestorRects:Gi,windowRect:ys}),On=je?bp(je,Y):null,qn=HK(nr),Cc=QT(qn),ye=QT(qn,[nt]),_e=bp(Ei,Cc),qe=tr?uK(tr,Ei):null,Je=le&&qe?g({active:le,collisionRect:qe,droppableRects:F,droppableContainers:K,pointerCoordinates:On}):null,xt=UN(Je,"id"),[vn,qi]=N.useState(null),vr=si?Ei:bp(Ei,ye),Dn=lK(vr,(s=vn?.rect)!=null?s:null,nt),dr=N.useRef(null),Ut=N.useCallback((un,zn)=>{let{sensor:Vn,options:ai}=zn;if(ee.current==null)return;const oi=I.get(ee.current);if(!oi)return;const jn=un.nativeEvent,li=new Vn({active:ee.current,activeNode:oi,event:jn,options:ai,context:Xt,onAbort(Ln){if(!I.get(Ln))return;const{onDragAbort:Yr}=fe.current,Yi={id:Ln};Yr?.(Yi),O({type:"onDragAbort",event:Yi})},onPending(Ln,ci,Yr,Yi){if(!I.get(Ln))return;const{onDragPending:xs}=fe.current,Ki={id:Ln,constraint:ci,initialCoordinates:Yr,offset:Yi};xs?.(Ki),O({type:"onDragPending",event:Ki})},onStart(Ln){const ci=ee.current;if(ci==null)return;const Yr=I.get(ci);if(!Yr)return;const{onDragStart:Yi}=fe.current,vs={activatorEvent:jn,active:{id:ci,data:Yr.data,rect:W}};oc.unstable_batchedUpdates(()=>{Yi?.(vs),H(Au.Initializing),A({type:Ur.DragStart,initialCoordinates:Ln,active:ci}),O({type:"onDragStart",event:vs}),V(dr.current),J(jn)})},onMove(Ln){A({type:Ur.DragMove,coordinates:Ln})},onEnd:Vi(Ur.DragEnd),onCancel:Vi(Ur.DragCancel)});dr.current=li;function Vi(Ln){return async function(){const{active:Yr,collisions:Yi,over:vs,scrollAdjustedTranslate:xs}=Xt.current;let Ki=null;if(Yr&&xs){const{cancelDrop:Ti}=fe.current;Ki={activatorEvent:jn,active:Yr,collisions:Yi,delta:xs,over:vs},Ln===Ur.DragEnd&&typeof Ti=="function"&&await Promise.resolve(Ti(Ki))&&(Ln=Ur.DragCancel)}ee.current=null,oc.unstable_batchedUpdates(()=>{A({type:Ln}),H(Au.Uninitialized),qi(null),V(null),J(null),dr.current=null;const Ti=Ln===Ur.DragEnd?"onDragEnd":"onDragCancel";if(Ki){const Xi=fe.current[Ti];Xi?.(Ki),O({type:Ti,event:Ki})}})}}},[I]),bs=N.useCallback((un,zn)=>(Vn,ai)=>{const oi=Vn.nativeEvent,jn=I.get(ai);if(ee.current!==null||!jn||oi.dndKit||oi.defaultPrevented)return;const li={active:jn};un(Vn,zn.options,li)===!0&&(oi.dndKit={capturedBy:zn.sensor},ee.current=ai,Ut(Vn,zn))},[I,Ut]),ki=DK(p,bs);UK(p),bo(()=>{nt&&L===Au.Initializing&&H(Au.Initialized)},[nt,L]),N.useEffect(()=>{const{onDragMove:un}=fe.current,{active:zn,activatorEvent:Vn,collisions:ai,over:oi}=Xt.current;if(!zn||!Vn)return;const jn={active:zn,activatorEvent:Vn,collisions:ai,delta:{x:_e.x,y:_e.y},over:oi};oc.unstable_batchedUpdates(()=>{un?.(jn),O({type:"onDragMove",event:jn})})},[_e.x,_e.y]),N.useEffect(()=>{const{active:un,activatorEvent:zn,collisions:Vn,droppableContainers:ai,scrollAdjustedTranslate:oi}=Xt.current;if(!un||ee.current==null||!zn||!oi)return;const{onDragOver:jn}=fe.current,li=ai.get(xt),Vi=li&&li.rect.current?{id:li.id,rect:li.rect.current,data:li.data,disabled:li.disabled}:null,Ln={active:un,activatorEvent:zn,collisions:Vn,delta:{x:oi.x,y:oi.y},over:Vi};oc.unstable_batchedUpdates(()=>{qi(Vi),jn?.(Ln),O({type:"onDragOver",event:Ln})})},[xt]),bo(()=>{Xt.current={activatorEvent:re,active:le,activeNode:De,collisionRect:qe,collisions:Je,droppableRects:F,draggableNodes:I,draggingNode:Dr,draggingNodeRect:tr,droppableContainers:G,over:vn,scrollableAncestors:nr,scrollAdjustedTranslate:_e},W.current={initial:tr,translated:qe}},[le,De,Je,qe,I,Dr,tr,F,G,vn,nr,_e]),AK({...ot,delta:Y,draggingRect:qe,pointerCoordinates:On,scrollableAncestors:nr,scrollableAncestorRects:Gi});const Ld=N.useMemo(()=>({active:le,activeNode:De,activeNodeRect:nt,activatorEvent:re,collisions:Je,containerNodeRect:Nn,dragOverlay:Gn,draggableNodes:I,droppableContainers:G,droppableRects:F,over:vn,measureDroppableContainers:we,scrollableAncestors:nr,scrollableAncestorRects:Gi,measuringConfiguration:ie,measuringScheduled:Be,windowRect:ys}),[le,De,nt,re,Je,Nn,Gn,I,G,F,vn,we,nr,Gi,ie,Be,ys]),Ec=N.useMemo(()=>({activatorEvent:re,activators:ki,active:le,activeNodeRect:nt,ariaDescribedById:{draggable:q},dispatch:A,draggableNodes:I,over:vn,measureDroppableContainers:we}),[re,ki,le,nt,A,q,I,vn,we]);return Ye.createElement(HN.Provider,{value:z},Ye.createElement(ay.Provider,{value:Ec},Ye.createElement(n9.Provider,{value:Ld},Ye.createElement(Zx.Provider,{value:Dn},d)),Ye.createElement(WK,{disabled:l?.restoreFocus===!1})),Ye.createElement(eK,{...l,hiddenTextDescribedById:q}));function Mo(){const un=te?.autoScrollEnabled===!1,zn=typeof u=="object"?u.enabled===!1:u===!1,Vn=j&&!un&&!zn;return typeof u=="object"?{...u,enabled:Vn}:{enabled:Vn}}}),eX=N.createContext(null),JT="button",tX="Draggable";function nX(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=sy(tX),{activators:a,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:p,draggableNodes:g,over:b}=N.useContext(ay),{role:x=JT,roleDescription:S="draggable",tabIndex:k=0}=i??{},_=u?.id===e,A=N.useContext(_?Zx:eX),[O,z]=rx(),[L,H]=rx(),j=FK(a,e),P=B0(n);bo(()=>(g.set(e,{id:e,key:s,node:O,activatorNode:L,data:P}),()=>{const Y=g.get(e);Y&&Y.key===s&&g.delete(e)}),[g,e]);const I=N.useMemo(()=>({role:x,tabIndex:k,"aria-disabled":r,"aria-pressed":_&&x===JT?!0:void 0,"aria-roledescription":S,"aria-describedby":p.draggable}),[r,x,k,_,S,p.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:I,isDragging:_,listeners:r?void 0:j,node:O,over:b,setNodeRef:z,setActivatorNodeRef:H,transform:A}}function i9(){return N.useContext(n9)}const rX="Droppable",iX={timeout:25};function s9(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=sy(rX),{active:a,dispatch:l,over:u,measureDroppableContainers:d}=N.useContext(ay),p=N.useRef({disabled:n}),g=N.useRef(!1),b=N.useRef(null),x=N.useRef(null),{disabled:S,updateMeasurementsFor:k,timeout:_}={...iX,...i},A=B0(k??r),O=N.useCallback(()=>{if(!g.current){g.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(A.current)?A.current:[A.current]),x.current=null},_)},[_]),z=$x({callback:O,disabled:S||!a}),L=N.useCallback((I,Y)=>{z&&(Y&&(z.unobserve(Y),g.current=!1),I&&z.observe(I))},[z]),[H,j]=rx(L),P=B0(e);return N.useEffect(()=>{!z||!H.current||(z.disconnect(),g.current=!1,z.observe(H.current))},[H,z]),N.useEffect(()=>(l({type:Ur.RegisterDroppable,element:{id:r,key:s,disabled:n,node:H,rect:b,data:P}}),()=>l({type:Ur.UnregisterDroppable,key:s,id:r})),[r]),N.useEffect(()=>{n!==p.current.disabled&&(l({type:Ur.SetDroppableDisabled,id:r,key:s,disabled:n}),p.current.disabled=n)},[r,s,n,l]),{active:a,rect:b,isOver:u?.id===r,node:H,over:u,setNodeRef:j}}function sX(t){let{animation:e,children:n}=t;const[r,i]=N.useState(null),[s,a]=N.useState(null),l=ix(n);return!n&&!r&&l&&i(l),bo(()=>{if(!s)return;const u=r?.key,d=r?.props.id;if(u==null||d==null){i(null);return}Promise.resolve(e(d,s)).then(()=>{i(null)})},[e,r,s]),Ye.createElement(Ye.Fragment,null,n,r?N.cloneElement(r,{ref:a}):null)}const aX={x:0,y:0,scaleX:1,scaleY:1};function oX(t){let{children:e}=t;return Ye.createElement(ay.Provider,{value:t9},Ye.createElement(Zx.Provider,{value:aX},e))}const lX={position:"fixed",touchAction:"none"},cX=t=>Wx(t)?"transform 250ms ease":void 0,uX=N.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:a,rect:l,style:u,transform:d,transition:p=cX}=t;if(!l)return null;const g=i?d:{...d,scaleX:1,scaleY:1},b={...lX,width:l.width,height:l.height,top:l.top,left:l.left,transform:Yu.Transform.toString(g),transformOrigin:i&&r?rK(r,l):void 0,transition:typeof p=="function"?p(r):p,...u};return Ye.createElement(n,{className:a,style:b,ref:e},s)}),fX=t=>e=>{let{active:n,dragOverlay:r}=e;const i={},{styles:s,className:a}=t;if(s!=null&&s.active)for(const[l,u]of Object.entries(s.active))u!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,u));if(s!=null&&s.dragOverlay)for(const[l,u]of Object.entries(s.dragOverlay))u!==void 0&&r.node.style.setProperty(l,u);return a!=null&&a.active&&n.node.classList.add(a.active),a!=null&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[u,d]of Object.entries(i))n.node.style.setProperty(u,d);a!=null&&a.active&&n.node.classList.remove(a.active)}},dX=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Yu.Transform.toString(e)},{transform:Yu.Transform.toString(n)}]},hX={duration:250,easing:"ease",keyframes:dX,sideEffects:fX({styles:{active:{opacity:"0"}}})};function pX(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=t;return Qx((s,a)=>{if(e===null)return;const l=n.get(s);if(!l)return;const u=l.node.current;if(!u)return;const d=e9(a);if(!d)return;const{transform:p}=ms(a).getComputedStyle(a),g=qN(p);if(!g)return;const b=typeof e=="function"?e:mX(e);return JN(u,i.draggable.measure),b({active:{id:s,data:l.data,node:u,rect:i.draggable.measure(u)},draggableNodes:n,dragOverlay:{node:a,rect:i.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:i,transform:g})})}function mX(t){const{duration:e,easing:n,sideEffects:r,keyframes:i}={...hX,...t};return s=>{let{active:a,dragOverlay:l,transform:u,...d}=s;if(!e)return;const p={x:l.rect.left-a.rect.left,y:l.rect.top-a.rect.top},g={scaleX:u.scaleX!==1?a.rect.width*u.scaleX/l.rect.width:1,scaleY:u.scaleY!==1?a.rect.height*u.scaleY/l.rect.height:1},b={x:u.x-p.x,y:u.y-p.y,...g},x=i({...d,active:a,dragOverlay:l,transform:{initial:u,final:b}}),[S]=x,k=x[x.length-1];if(JSON.stringify(S)===JSON.stringify(k))return;const _=r?.({active:a,dragOverlay:l,...d}),A=l.node.animate(x,{duration:e,easing:n,fill:"forwards"});return new Promise(O=>{A.onfinish=()=>{_?.(),O()}})}}let $T=0;function gX(t){return N.useMemo(()=>{if(t!=null)return $T++,$T},[t])}const yX=Ye.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:a,wrapperElement:l="div",className:u,zIndex:d=999}=t;const{activatorEvent:p,active:g,activeNodeRect:b,containerNodeRect:x,draggableNodes:S,droppableContainers:k,dragOverlay:_,over:A,measuringConfiguration:O,scrollableAncestors:z,scrollableAncestorRects:L,windowRect:H}=i9(),j=N.useContext(Zx),P=gX(g?.id),I=r9(a,{activatorEvent:p,active:g,activeNodeRect:b,containerNodeRect:x,draggingNodeRect:_.rect,over:A,overlayNodeRect:_.rect,scrollableAncestors:z,scrollableAncestorRects:L,transform:j,windowRect:H}),Y=RE(b),G=pX({config:r,draggableNodes:S,droppableContainers:k,measuringConfiguration:O}),X=Y?_.setRef:void 0;return Ye.createElement(oX,null,Ye.createElement(sX,{animation:G},g&&P?Ye.createElement(uX,{key:P,id:g.id,ref:X,as:l,activatorEvent:p,adjustScale:e,className:u,transition:s,rect:Y,style:{zIndex:d,...i},transform:I},n):null))});function a9(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function bX(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Sb(t){return t!==null&&t>=0}function vX(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function xX(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const o9=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=a9(e,r,n),a=e[i],l=s[i];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},wb={scaleX:1,scaleY:1},SX=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:a}=t;const l=(e=s[n])!=null?e:r;if(!l)return null;if(i===n){const d=s[a];return d?{x:0,y:n<a?d.top+d.height-(l.top+l.height):d.top-l.top,...wb}:null}const u=wX(s,i,n);return i>n&&i<=a?{x:0,y:-l.height-u,...wb}:i<n&&i>=a?{x:0,y:l.height+u,...wb}:{x:0,y:0,...wb}};function wX(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const l9="Sortable",c9=Ye.createContext({activeIndex:-1,containerId:l9,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:o9,disabled:{draggable:!1,droppable:!1}});function CX(t){let{children:e,id:n,items:r,strategy:i=o9,disabled:s=!1}=t;const{active:a,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:p}=i9(),g=sy(l9,n),b=l.rect!==null,x=N.useMemo(()=>r.map(j=>typeof j=="object"&&"id"in j?j.id:j),[r]),S=a!=null,k=a?x.indexOf(a.id):-1,_=d?x.indexOf(d.id):-1,A=N.useRef(x),O=!vX(x,A.current),z=_!==-1&&k===-1||O,L=xX(s);bo(()=>{O&&S&&p(x)},[O,x,S,p]),N.useEffect(()=>{A.current=x},[x]);const H=N.useMemo(()=>({activeIndex:k,containerId:g,disabled:L,disableTransforms:z,items:x,overIndex:_,useDragOverlay:b,sortedRects:bX(x,u),strategy:i}),[k,g,L.draggable,L.droppable,z,x,_,u,b,i]);return Ye.createElement(c9.Provider,{value:H},e)}const EX=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return a9(n,r,i).indexOf(e)},kX=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:a,previousItems:l,previousContainerId:u,transition:d}=t;return!d||!r||l!==s&&i===a?!1:n?!0:a!==i&&e===u},TX={duration:200,easing:"ease"},u9="transform",_X=Yu.Transition.toString({property:u9,duration:0,easing:"linear"}),MX={roleDescription:"sortable"};function AX(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,a]=N.useState(null),l=N.useRef(n);return bo(()=>{if(!e&&n!==l.current&&r.current){const u=i.current;if(u){const d=qp(r.current,{ignoreTransform:!0}),p={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(p.x||p.y)&&a(p)}}n!==l.current&&(l.current=n)},[e,n,r,i]),N.useEffect(()=>{s&&a(null)},[s]),s}function NX(t){let{animateLayoutChanges:e=kX,attributes:n,disabled:r,data:i,getNewIndex:s=EX,id:a,strategy:l,resizeObserverConfig:u,transition:d=TX}=t;const{items:p,containerId:g,activeIndex:b,disabled:x,disableTransforms:S,sortedRects:k,overIndex:_,useDragOverlay:A,strategy:O}=N.useContext(c9),z=RX(r,x),L=p.indexOf(a),H=N.useMemo(()=>({sortable:{containerId:g,index:L,items:p},...i}),[g,i,L,p]),j=N.useMemo(()=>p.slice(p.indexOf(a)),[p,a]),{rect:P,node:I,isOver:Y,setNodeRef:G}=s9({id:a,data:H,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...u}}),{active:X,activatorEvent:W,activeNodeRect:le,attributes:ee,setNodeRef:te,listeners:V,isDragging:re,over:J,setActivatorNodeRef:fe,transform:q}=nX({id:a,data:H,attributes:{...MX,...n},disabled:z.draggable}),K=UY(G,te),ie=!!X,F=ie&&!S&&Sb(b)&&Sb(_),we=!A&&re,Be=we&&F?q:null,je=F?Be??(l??O)({rects:k,activeNodeRect:le,activeIndex:b,overIndex:_,index:L}):null,ot=Sb(b)&&Sb(_)?s({id:a,items:p,activeIndex:b,overIndex:_}):L,Ke=X?.id,nt=N.useRef({activeId:Ke,items:p,newIndex:ot,containerId:g}),Nn=p!==nt.current.items,Xt=e({active:X,containerId:g,isDragging:re,isSorting:ie,id:a,index:L,items:p,newIndex:nt.current.newIndex,previousItems:nt.current.items,previousContainerId:nt.current.containerId,transition:d,wasDragging:nt.current.activeId!=null}),Rn=AX({disabled:!Xt,index:L,node:I,rect:P});return N.useEffect(()=>{ie&&nt.current.newIndex!==ot&&(nt.current.newIndex=ot),g!==nt.current.containerId&&(nt.current.containerId=g),p!==nt.current.items&&(nt.current.items=p)},[ie,ot,g,p]),N.useEffect(()=>{if(Ke===nt.current.activeId)return;if(Ke!=null&&nt.current.activeId==null){nt.current.activeId=Ke;return}const Dr=setTimeout(()=>{nt.current.activeId=Ke},50);return()=>clearTimeout(Dr)},[Ke]),{active:X,activeIndex:b,attributes:ee,data:H,rect:P,index:L,newIndex:ot,items:p,isOver:Y,isSorting:ie,isDragging:re,listeners:V,node:I,overIndex:_,over:J,setNodeRef:K,setActivatorNodeRef:fe,setDroppableNodeRef:G,setDraggableNodeRef:te,transform:Rn??je,transition:Gn()};function Gn(){if(Rn||Nn&&nt.current.newIndex===L)return _X;if(!(we&&!Wx(W)||!d)&&(ie||Xt))return Yu.Transition.toString({...d,property:u9})}}function RX(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}function lx(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const OX=[Pt.Down,Pt.Right,Pt.Up,Pt.Left],DX=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:l}}=e;if(OX.includes(t.code)){if(t.preventDefault(),!n||!r)return;const u=[];s.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const b=i.get(g.id);if(b)switch(t.code){case Pt.Down:r.top<b.top&&u.push(g);break;case Pt.Up:r.top>b.top&&u.push(g);break;case Pt.Left:r.left>b.left&&u.push(g);break;case Pt.Right:r.left<b.left&&u.push(g);break}});const d=FN({collisionRect:r,droppableRects:i,droppableContainers:u});let p=UN(d,"id");if(p===a?.id&&d.length>1&&(p=d[1].id),p!=null){const g=s.get(n.id),b=s.get(p),x=b?i.get(b.id):null,S=b?.node.current;if(S&&x&&g&&b){const _=Jx(S).some((j,P)=>l[P]!==j),A=f9(g,b),O=zX(g,b),z=_||!A?{x:0,y:0}:{x:O?r.width-x.width:0,y:O?r.height-x.height:0},L={x:x.left,y:x.top};return z.x&&z.y?L:I0(L,z)}}}};function f9(t,e){return!lx(t)||!lx(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function zX(t,e){return!lx(t)||!lx(e)||!f9(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var jX=J6[" useId ".trim().toString()]||(()=>{}),LX=0;function Zb(t){const[e,n]=N.useState(jX());return dc(()=>{n(r=>r??String(LX++))},[t]),t||(e?`radix-${e}`:"")}var XS="focusScope.autoFocusOnMount",QS="focusScope.autoFocusOnUnmount",ZT={bubbles:!1,cancelable:!0},PX="FocusScope",OE=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,u]=N.useState(null),d=Gs(i),p=Gs(s),g=N.useRef(null),b=Gr(e,k=>u(k)),x=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let k=function(z){if(x.paused||!l)return;const L=z.target;l.contains(L)?g.current=L:Cu(g.current,{select:!0})},_=function(z){if(x.paused||!l)return;const L=z.relatedTarget;L!==null&&(l.contains(L)||Cu(g.current,{select:!0}))},A=function(z){if(document.activeElement===document.body)for(const H of z)H.removedNodes.length>0&&Cu(l)};document.addEventListener("focusin",k),document.addEventListener("focusout",_);const O=new MutationObserver(A);return l&&O.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",_),O.disconnect()}}},[r,l,x.paused]),N.useEffect(()=>{if(l){t_.add(x);const k=document.activeElement;if(!l.contains(k)){const A=new CustomEvent(XS,ZT);l.addEventListener(XS,d),l.dispatchEvent(A),A.defaultPrevented||(BX(GX(d9(l)),{select:!0}),document.activeElement===k&&Cu(l))}return()=>{l.removeEventListener(XS,d),setTimeout(()=>{const A=new CustomEvent(QS,ZT);l.addEventListener(QS,p),l.dispatchEvent(A),A.defaultPrevented||Cu(k??document.body,{select:!0}),l.removeEventListener(QS,p),t_.remove(x)},0)}}},[l,d,p,x]);const S=N.useCallback(k=>{if(!n&&!r||x.paused)return;const _=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,A=document.activeElement;if(_&&A){const O=k.currentTarget,[z,L]=IX(O);z&&L?!k.shiftKey&&A===L?(k.preventDefault(),n&&Cu(z,{select:!0})):k.shiftKey&&A===z&&(k.preventDefault(),n&&Cu(L,{select:!0})):A===O&&k.preventDefault()}},[n,r,x.paused]);return E.jsx(ln.div,{tabIndex:-1,...a,ref:b,onKeyDown:S})});OE.displayName=PX;function BX(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Cu(r,{select:e}),document.activeElement!==n)return}function IX(t){const e=d9(t),n=e_(e,t),r=e_(e.reverse(),t);return[n,r]}function d9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function e_(t,e){for(const n of t)if(!HX(n,{upTo:e}))return n}function HX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UX(t){return t instanceof HTMLInputElement&&"select"in t}function Cu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&UX(t)&&e&&t.select()}}var t_=FX();function FX(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=n_(t,e),t.unshift(e)},remove(e){t=n_(t,e),t[0]?.resume()}}}function n_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function GX(t){return t.filter(e=>e.tagName!=="A")}var WS=0;function h9(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r_()),document.body.insertAdjacentElement("beforeend",t[1]??r_()),WS++,()=>{WS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),WS--}},[])}function r_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ul=function(){return ul=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ul.apply(this,arguments)};function p9(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qX(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ev="right-scroll-bar-position",tv="width-before-scroll-bar",VX="with-scroll-bars-hidden",YX="--removed-body-scroll-bar-size";function JS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function KX(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var XX=typeof window<"u"?N.useLayoutEffect:N.useEffect,i_=new WeakMap;function QX(t,e){var n=KX(null,function(r){return t.forEach(function(i){return JS(i,r)})});return XX(function(){var r=i_.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||JS(l,null)}),s.forEach(function(l){i.has(l)||JS(l,a)})}i_.set(n,t)},[t]),n}function WX(t){return t}function JX(t,e){e===void 0&&(e=WX);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var u=function(){var p=a;a=[],p.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(p){a.push(p),d()},filter:function(p){return a=a.filter(p),n}}}};return i}function $X(t){t===void 0&&(t={});var e=JX(null);return e.options=ul({async:!0,ssr:!1},t),e}var m9=function(t){var e=t.sideCar,n=p9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,ul({},n))};m9.isSideCarExport=!0;function ZX(t,e){return t.useMedium(e),m9}var g9=$X(),$S=function(){},e2=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:$S,onWheelCapture:$S,onTouchMoveCapture:$S}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,p=t.enabled,g=t.shards,b=t.sideCar,x=t.noRelative,S=t.noIsolation,k=t.inert,_=t.allowPinchZoom,A=t.as,O=A===void 0?"div":A,z=t.gapMode,L=p9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=b,j=QX([n,e]),P=ul(ul({},L),i);return N.createElement(N.Fragment,null,p&&N.createElement(H,{sideCar:g9,removeScrollBar:d,shards:g,noRelative:x,noIsolation:S,inert:k,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:z}),a?N.cloneElement(N.Children.only(l),ul(ul({},P),{ref:j})):N.createElement(O,ul({},P,{className:u,ref:j}),l))});e2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};e2.classNames={fullWidth:tv,zeroRight:ev};var eQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=eQ();return e&&t.setAttribute("nonce",e),t}function nQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var iQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tQ())&&(nQ(e,n),rQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sQ=function(){var t=iQ();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},y9=function(){var t=sQ(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},aQ={left:0,top:0,right:0,gap:0},ZS=function(t){return parseInt(t||"",10)||0},oQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ZS(n),ZS(r),ZS(i)]},lQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return aQ;var e=oQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},cQ=y9(),vp="data-scroll-locked",uQ=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(VX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(vp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ev,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(tv,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ev," .").concat(ev,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tv," .").concat(tv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vp,`] {
    `).concat(YX,": ").concat(l,`px;
  }
`)},s_=function(){var t=parseInt(document.body.getAttribute(vp)||"0",10);return isFinite(t)?t:0},fQ=function(){N.useEffect(function(){return document.body.setAttribute(vp,(s_()+1).toString()),function(){var t=s_()-1;t<=0?document.body.removeAttribute(vp):document.body.setAttribute(vp,t.toString())}},[])},dQ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;fQ();var s=N.useMemo(function(){return lQ(i)},[i]);return N.createElement(cQ,{styles:uQ(s,!e,i,n?"":"!important")})},jC=!1;if(typeof window<"u")try{var Cb=Object.defineProperty({},"passive",{get:function(){return jC=!0,!0}});window.addEventListener("test",Cb,Cb),window.removeEventListener("test",Cb,Cb)}catch{jC=!1}var tp=jC?{passive:!1}:!1,hQ=function(t){return t.tagName==="TEXTAREA"},b9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hQ(t)&&n[e]==="visible")},pQ=function(t){return b9(t,"overflowY")},mQ=function(t){return b9(t,"overflowX")},a_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=v9(t,r);if(i){var s=x9(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gQ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},yQ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},v9=function(t,e){return t==="v"?pQ(e):mQ(e)},x9=function(t,e){return t==="v"?gQ(e):yQ(e)},bQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},vQ=function(t,e,n,r,i){var s=bQ(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,u=e.contains(l),d=!1,p=a>0,g=0,b=0;do{if(!l)break;var x=x9(t,l),S=x[0],k=x[1],_=x[2],A=k-_-s*S;(S||A)&&v9(t,l)&&(g+=A,b+=S);var O=l.parentNode;l=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(p&&Math.abs(g)<1||!p&&Math.abs(b)<1)&&(d=!0),d},Eb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},o_=function(t){return[t.deltaX,t.deltaY]},l_=function(t){return t&&"current"in t?t.current:t},xQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},SQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},wQ=0,np=[];function CQ(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(wQ++)[0],s=N.useState(y9)[0],a=N.useRef(t);N.useEffect(function(){a.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var k=qX([t.lockRef.current],(t.shards||[]).map(l_),!0).filter(Boolean);return k.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(k,_){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!a.current.allowPinchZoom;var A=Eb(k),O=n.current,z="deltaX"in k?k.deltaX:O[0]-A[0],L="deltaY"in k?k.deltaY:O[1]-A[1],H,j=k.target,P=Math.abs(z)>Math.abs(L)?"h":"v";if("touches"in k&&P==="h"&&j.type==="range")return!1;var I=a_(P,j);if(!I)return!0;if(I?H=P:(H=P==="v"?"h":"v",I=a_(P,j)),!I)return!1;if(!r.current&&"changedTouches"in k&&(z||L)&&(r.current=H),!H)return!0;var Y=r.current||H;return vQ(Y,_,k,Y==="h"?z:L)},[]),u=N.useCallback(function(k){var _=k;if(!(!np.length||np[np.length-1]!==s)){var A="deltaY"in _?o_(_):Eb(_),O=e.current.filter(function(H){return H.name===_.type&&(H.target===_.target||_.target===H.shadowParent)&&xQ(H.delta,A)})[0];if(O&&O.should){_.cancelable&&_.preventDefault();return}if(!O){var z=(a.current.shards||[]).map(l_).filter(Boolean).filter(function(H){return H.contains(_.target)}),L=z.length>0?l(_,z[0]):!a.current.noIsolation;L&&_.cancelable&&_.preventDefault()}}},[]),d=N.useCallback(function(k,_,A,O){var z={name:k,delta:_,target:A,should:O,shadowParent:EQ(A)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(L){return L!==z})},1)},[]),p=N.useCallback(function(k){n.current=Eb(k),r.current=void 0},[]),g=N.useCallback(function(k){d(k.type,o_(k),k.target,l(k,t.lockRef.current))},[]),b=N.useCallback(function(k){d(k.type,Eb(k),k.target,l(k,t.lockRef.current))},[]);N.useEffect(function(){return np.push(s),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:b}),document.addEventListener("wheel",u,tp),document.addEventListener("touchmove",u,tp),document.addEventListener("touchstart",p,tp),function(){np=np.filter(function(k){return k!==s}),document.removeEventListener("wheel",u,tp),document.removeEventListener("touchmove",u,tp),document.removeEventListener("touchstart",p,tp)}},[]);var x=t.removeScrollBar,S=t.inert;return N.createElement(N.Fragment,null,S?N.createElement(s,{styles:SQ(i)}):null,x?N.createElement(dQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function EQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kQ=ZX(g9,CQ);var DE=N.forwardRef(function(t,e){return N.createElement(e2,ul({},t,{ref:e,sideCar:kQ}))});DE.classNames=e2.classNames;var TQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rp=new WeakMap,kb=new WeakMap,Tb={},ew=0,S9=function(t){return t&&(t.host||S9(t.parentNode))},_Q=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=S9(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MQ=function(t,e,n,r){var i=_Q(e,Array.isArray(t)?t:[t]);Tb[n]||(Tb[n]=new WeakMap);var s=Tb[n],a=[],l=new Set,u=new Set(i),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};i.forEach(d);var p=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(b){if(l.has(b))p(b);else try{var x=b.getAttribute(r),S=x!==null&&x!=="false",k=(rp.get(b)||0)+1,_=(s.get(b)||0)+1;rp.set(b,k),s.set(b,_),a.push(b),k===1&&S&&kb.set(b,!0),_===1&&b.setAttribute(n,"true"),S||b.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",b,A)}})};return p(e),l.clear(),ew++,function(){a.forEach(function(g){var b=rp.get(g)-1,x=s.get(g)-1;rp.set(g,b),s.set(g,x),b||(kb.has(g)||g.removeAttribute(r),kb.delete(g)),x||g.removeAttribute(n)}),ew--,ew||(rp=new WeakMap,rp=new WeakMap,kb=new WeakMap,Tb={})}},w9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=TQ(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),MQ(r,i,n,"aria-hidden")):function(){return null}},t2="Dialog",[C9]=Ed(t2),[AQ,Co]=C9(t2),E9=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=N.useRef(null),u=N.useRef(null),[d,p]=v3({prop:r,defaultProp:i??!1,onChange:s,caller:t2});return E.jsx(AQ,{scope:e,triggerRef:l,contentRef:u,contentId:Zb(),titleId:Zb(),descriptionId:Zb(),open:d,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(g=>!g),[p]),modal:a,children:n})};E9.displayName=t2;var k9="DialogTrigger",NQ=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(k9,n),s=Gr(e,i.triggerRef);return E.jsx(ln.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":LE(i.open),...r,ref:s,onClick:st(t.onClick,i.onOpenToggle)})});NQ.displayName=k9;var zE="DialogPortal",[RQ,T9]=C9(zE,{forceMount:void 0}),_9=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Co(zE,e);return E.jsx(RQ,{scope:e,forceMount:n,children:N.Children.map(r,a=>E.jsx(yc,{present:n||s.open,children:E.jsx(_x,{asChild:!0,container:i,children:a})}))})};_9.displayName=zE;var cx="DialogOverlay",M9=N.forwardRef((t,e)=>{const n=T9(cx,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Co(cx,t.__scopeDialog);return s.modal?E.jsx(yc,{present:r||s.open,children:E.jsx(DQ,{...i,ref:e})}):null});M9.displayName=cx;var OQ=C0("DialogOverlay.RemoveScroll"),DQ=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(cx,n);return E.jsx(DE,{as:OQ,allowPinchZoom:!0,shards:[i.contentRef],children:E.jsx(ln.div,{"data-state":LE(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Sd="DialogContent",A9=N.forwardRef((t,e)=>{const n=T9(Sd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Co(Sd,t.__scopeDialog);return E.jsx(yc,{present:r||s.open,children:s.modal?E.jsx(zQ,{...i,ref:e}):E.jsx(jQ,{...i,ref:e})})});A9.displayName=Sd;var zQ=N.forwardRef((t,e)=>{const n=Co(Sd,t.__scopeDialog),r=N.useRef(null),i=Gr(e,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return w9(s)},[]),E.jsx(N9,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault())})}),jQ=N.forwardRef((t,e)=>{const n=Co(Sd,t.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return E.jsx(N9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),N9=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=Co(Sd,n),u=N.useRef(null),d=Gr(e,u);return h9(),E.jsxs(E.Fragment,{children:[E.jsx(OE,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:E.jsx(Tx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":LE(l.open),...a,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),E.jsxs(E.Fragment,{children:[E.jsx(LQ,{titleId:l.titleId}),E.jsx(BQ,{contentRef:u,descriptionId:l.descriptionId})]})]})}),jE="DialogTitle",R9=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(jE,n);return E.jsx(ln.h2,{id:i.titleId,...r,ref:e})});R9.displayName=jE;var O9="DialogDescription",D9=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(O9,n);return E.jsx(ln.p,{id:i.descriptionId,...r,ref:e})});D9.displayName=O9;var z9="DialogClose",j9=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Co(z9,n);return E.jsx(ln.button,{type:"button",...r,ref:e,onClick:st(t.onClick,()=>i.onOpenChange(!1))})});j9.displayName=z9;function LE(t){return t?"open":"closed"}var L9="DialogTitleWarning",[Rfe,P9]=WD(L9,{contentName:Sd,titleName:jE,docsSlug:"dialog"}),LQ=({titleId:t})=>{const e=P9(L9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},PQ="DialogDescriptionWarning",BQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P9(PQ).contentName}}.`;return N.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IQ=E9,HQ=_9,B9=M9,I9=A9,H9=R9,U9=D9,UQ=j9;const F9=IQ,FQ=HQ,G9=N.forwardRef(({className:t,...e},n)=>E.jsx(B9,{ref:n,className:Nr("fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));G9.displayName=B9.displayName;const PE=N.forwardRef(({className:t,children:e,...n},r)=>E.jsxs(FQ,{children:[E.jsx(G9,{}),E.jsxs(I9,{ref:r,className:Nr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-gray-800 dark:bg-gray-950",t),...n,children:[e,E.jsxs(UQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400",children:[E.jsx(wV,{className:"h-4 w-4"}),E.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));PE.displayName=I9.displayName;const BE=({className:t,...e})=>E.jsx("div",{className:Nr("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});BE.displayName="DialogHeader";const IE=({className:t,...e})=>E.jsx("div",{className:Nr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});IE.displayName="DialogFooter";const HE=N.forwardRef(({className:t,...e},n)=>E.jsx(H9,{ref:n,className:Nr("text-lg font-semibold leading-none tracking-tight",t),...e}));HE.displayName=H9.displayName;const GQ=N.forwardRef(({className:t,...e},n)=>E.jsx(U9,{ref:n,className:Nr("text-sm text-gray-500 dark:text-gray-400",t),...e}));GQ.displayName=U9.displayName;function qQ(t){return P3({queryKey:["tasks",{completed:t}],queryFn:()=>Rx.getTasks(t)})}function VQ(){const t=kd();return J0({mutationFn:e=>Rx.createTask(e),onSuccess:()=>{t.invalidateQueries({queryKey:["tasks"]})}})}function YQ(){const t=kd();return J0({mutationFn:({id:e,task:n})=>Rx.updateTask(e,n),onSuccess:()=>{t.invalidateQueries({queryKey:["tasks"]})}})}function KQ(){const t=kd();return J0({mutationFn:e=>Rx.deleteTask(e),onSuccess:()=>{t.invalidateQueries({queryKey:["tasks"]})}})}const XQ=({task:t,onClick:e})=>{const{attributes:n,listeners:r,setNodeRef:i,transform:s,transition:a}=NX({id:t.id}),l={transform:Yu.Transform.toString(s),transition:a};return E.jsxs("div",{ref:i,style:l,...n,...r,className:"relative pl-6 mb-4 group cursor-grab active:cursor-grabbing",onClick:e,children:[E.jsx("div",{className:"absolute left-[5px] top-3 bottom-[-16px] w-0.5 bg-gray-200 dark:bg-gray-700 group-last:hidden"}),E.jsx("div",{className:`absolute left-0 top-3 w-3 h-3 rounded-full border-2 border-white dark:border-gray-900 z-10 shadow-sm ${t.isCompleted?"bg-green-500":"bg-blue-500"}`}),E.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[E.jsx("div",{className:"flex justify-between items-start mb-1",children:t.dueDate&&E.jsxs("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded flex items-center gap-1",children:[E.jsx(Gq,{size:10}),LY(new Date(t.dueDate),"h:mm a")]})}),E.jsx("div",{className:`font-medium text-gray-800 dark:text-gray-200 ${t.isCompleted?"line-through text-gray-500":""}`,children:t.title}),t.tags&&t.tags.length>0&&E.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:t.tags.filter(u=>!["Focus","Social","Health","Admin"].includes(u)).map(u=>E.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-100 dark:border-blue-800",children:["#",u]},u))})]})]})},c_=({id:t,title:e,color:n,tasks:r,onAddTask:i,onTaskClick:s})=>{const{setNodeRef:a}=s9({id:t});return E.jsxs("div",{ref:a,className:"flex-1 min-w-[280px] flex flex-col h-full bg-gray-50 dark:bg-gray-900/50 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[E.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 flex items-center gap-2 bg-white dark:bg-gray-800/50",children:[E.jsx("div",{className:`w-3 h-3 rounded-full ${n}`}),E.jsx("h3",{className:"font-bold text-gray-700 dark:text-gray-200",children:e}),E.jsx("span",{className:"ml-auto text-xs font-medium bg-gray-200 dark:bg-gray-800 px-2 py-0.5 rounded-full text-gray-600 dark:text-gray-400",children:r.length})]}),E.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[E.jsx(CX,{items:r.map(l=>l.id),strategy:SX,children:r.map(l=>E.jsx(XQ,{task:l,onClick:()=>s(l)},l.id))}),r.length===0&&E.jsx("div",{className:"text-center py-8 text-gray-400 dark:text-gray-600 text-sm italic",children:"No tasks yet"})]}),E.jsx("div",{className:"p-2 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800/50",children:E.jsxs("button",{onClick:()=>i(t),className:"w-full py-2 rounded-lg border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-blue-600 hover:border-blue-400 dark:text-gray-400 dark:hover:text-blue-400 transition-colors flex items-center justify-center gap-2 text-sm font-medium",children:[E.jsx(RN,{size:14})," Add Task"]})})]})},q9=()=>{const{data:t=[],isLoading:e}=qQ(),n=VQ(),r=YQ(),i=KQ(),[s,a]=N.useState(null),[l,u]=N.useState("Focus"),[d,p]=N.useState(!1),[g,b]=N.useState(null),x=tK(HT(NE,{activationConstraint:{distance:5}}),HT(ME,{coordinateGetter:DX})),S=[{id:"Focus",title:"Focus",color:"bg-blue-500"},{id:"Social",title:"Social",color:"bg-pink-500"},{id:"Health",title:"Health",color:"bg-green-500"},{id:"Admin",title:"Admin",color:"bg-gray-500"}],k=j=>t.filter(P=>P.tags&&P.tags.includes(j)),_=j=>{a(j.active.id)},A=j=>{const{active:P,over:I}=j,Y=P.id,G=I?.id;if(!G){a(null);return}let X=S.find(W=>W.id===G)?.id;if(!X){const W=t.find(le=>le.id===G);W&&(X=S.find(le=>W.tags?.includes(le.id))?.id)}if(X){const W=t.find(le=>le.id===Y);if(W){const le=S.map(te=>te.id),ee=(W.tags||[]).filter(te=>!le.includes(te));ee.push(X),W.tags?.includes(X)||r.mutate({id:W.id,task:{...W,tags:ee}})}}a(null)},O=j=>{const P={title:"New Task",description:"",tags:[j],dueDate:new Date().toISOString(),isCompleted:!1};b(P),p(!0)},z=j=>{b({...j}),p(!0)},L=async()=>{g&&(g.id?await r.mutateAsync({id:g.id,task:g}):await n.mutateAsync(g),p(!1),b(null))},H=async()=>{g?.id&&confirm("Are you sure you want to delete this task?")&&(await i.mutateAsync(g.id),p(!1),b(null))};return e?E.jsx("div",{className:"p-8",children:"Loading tasks..."}):E.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 transition-colors duration-300",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center shrink-0",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Daily Lanes"}),E.jsx("div",{className:"flex gap-2"})]}),E.jsx("div",{className:"md:hidden flex border-b border-gray-200 dark:border-gray-700 overflow-x-auto no-scrollbar shrink-0",children:S.map(j=>E.jsx("button",{onClick:()=>u(j.id),className:`flex-1 py-3 px-4 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${l===j.id?`border-${j.color.replace("bg-","")} text-gray-900 dark:text-white`:"border-transparent text-gray-500 dark:text-gray-400"}`,children:j.title},j.id))}),E.jsxs(ZK,{sensors:x,collisionDetection:FN,onDragStart:_,onDragEnd:A,children:[E.jsxs("div",{className:"flex-1 overflow-hidden p-4",children:[E.jsx("div",{className:"hidden md:flex gap-4 h-full overflow-x-auto pb-2",children:S.map(j=>E.jsx(c_,{...j,tasks:k(j.id),onAddTask:O,onTaskClick:z},j.id))}),E.jsx("div",{className:"md:hidden h-full",children:S.filter(j=>j.id===l).map(j=>E.jsx(c_,{...j,tasks:k(j.id),onAddTask:O,onTaskClick:z},j.id))})]}),E.jsx(yX,{children:s?E.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-90 rotate-2 cursor-grabbing w-[280px]",children:E.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Moving Task..."})}):null})]}),E.jsx(F9,{open:d,onOpenChange:p,children:E.jsxs(PE,{className:"sm:max-w-[500px]",children:[E.jsx(BE,{children:E.jsx(HE,{children:g?.id?"Edit Task":"New Task"})}),E.jsxs("div",{className:"grid gap-4 py-4",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Title"}),E.jsx("input",{className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:g?.title||"",onChange:j=>b(P=>({...P,title:j.target.value})),placeholder:"Task title"})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Description"}),E.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700 min-h-[100px]",value:g?.description||"",onChange:j=>b(P=>({...P,description:j.target.value})),placeholder:"Description..."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),E.jsx("input",{type:"datetime-local",className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:g?.dueDate?new Date(g.dueDate).toISOString().slice(0,16):"",onChange:j=>b(P=>({...P,dueDate:new Date(j.target.value).toISOString()}))})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Status"}),E.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[E.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:g?.isCompleted||!1,onChange:j=>b(P=>({...P,isCompleted:j.target.checked}))}),E.jsx("span",{className:"text-sm",children:"Completed"})]})]})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-sm font-medium",children:"Tags (comma separated)"}),E.jsx("input",{className:"w-full px-3 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700",value:g?.tags?.join(", ")||"",onChange:j=>b(P=>({...P,tags:j.target.value.split(",").map(I=>I.trim()).filter(Boolean)})),placeholder:"e.g. Focus, Urgent"})]})]}),E.jsxs(IE,{className:"gap-2 sm:gap-0",children:[g?.id&&E.jsx("button",{onClick:H,className:"mr-auto text-red-500 hover:text-red-700 text-sm font-medium px-4 py-2",children:"Delete"}),E.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),E.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save"})]})]})})]})},u_=[{id:"1",from:"Alice Smith",subject:"Project Update: Q4 Roadmap",preview:"Hey team, just wanted to share the latest updates...",date:"10:42 AM",isUnread:!0,body:`Hey team,

Just wanted to share the latest updates on the Q4 roadmap. We are making good progress on the backend integration.`},{id:"2",from:"GitHub Notifications",subject:"New Pull Request: Feature/Kanban",preview:"@jules opened a new pull request...",date:"Yesterday",isUnread:!1,body:"You have a new pull request."},{id:"3",from:"Newsletter",subject:"Weekly Tech Digest",preview:"Top stories in tech this week...",date:"Mon",isUnread:!1,body:"Here are the top stories..."}],QQ=()=>{const[t]=N.useState(u_),[e,n]=N.useState(u_[0]),[r,i]=N.useState(!1);return E.jsxs("div",{className:"flex h-full bg-white dark:bg-gray-900 overflow-hidden",children:[E.jsxs("div",{className:"w-48 bg-gray-50 dark:bg-gray-950 border-r border-gray-200 dark:border-gray-700 flex flex-col shrink-0",children:[E.jsx("div",{className:"p-4",children:E.jsxs("button",{onClick:()=>i(!0),className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-colors",children:[E.jsx(RT,{size:16})," Compose"]})}),E.jsxs("div",{className:"flex-1 overflow-y-auto px-2 space-y-1",children:[E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md bg-white dark:bg-gray-800 shadow-sm text-blue-600 font-medium text-sm flex items-center gap-3",children:[E.jsx(Qq,{size:16})," Inbox ",E.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-1.5 rounded-full",children:"4"})]}),E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm flex items-center gap-3",children:[E.jsx(mV,{size:16})," Starred"]}),E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm flex items-center gap-3",children:[E.jsx(RT,{size:16})," Sent"]}),E.jsxs("button",{className:"w-full text-left px-3 py-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 text-sm flex items-center gap-3",children:[E.jsx(RC,{size:16})," Trash"]})]})]}),E.jsxs("div",{className:"w-80 border-r border-gray-200 dark:border-gray-700 flex flex-col bg-white dark:bg-gray-900 shrink-0",children:[E.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:E.jsx("input",{className:"w-full bg-gray-100 dark:bg-gray-800 px-3 py-1.5 rounded-md text-sm outline-none",placeholder:"Search mail..."})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:t.map(s=>E.jsxs("div",{onClick:()=>n(s),className:`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors ${e?.id===s.id?"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-l-blue-500":"border-l-4 border-l-transparent"}`,children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsx("span",{className:`text-sm ${s.isUnread?"font-bold text-gray-900 dark:text-white":"font-medium text-gray-700 dark:text-gray-300"}`,children:s.from}),E.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:s.date})]}),E.jsx("div",{className:`text-sm mb-1 truncate ${s.isUnread?"font-bold text-gray-800 dark:text-gray-200":"text-gray-600 dark:text-gray-400"}`,children:s.subject}),E.jsx("div",{className:"text-xs text-gray-400 truncate",children:s.preview})]},s.id))})]}),E.jsx("div",{className:"flex-1 flex flex-col bg-white dark:bg-gray-900",children:e?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:e.subject}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-lg",children:e.from[0]}),E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white",children:e.from}),E.jsx("div",{className:"text-xs text-gray-500",children:"to me"})]})]})]}),E.jsxs("div",{className:"flex gap-2 text-gray-400",children:[E.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:E.jsx(Pq,{size:18})}),E.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:E.jsx(RC,{size:18})})]})]}),E.jsx("div",{className:"p-8 flex-1 overflow-y-auto prose dark:prose-invert max-w-none",children:E.jsx("p",{className:"whitespace-pre-wrap",children:e.body})})]}):E.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400",children:E.jsxs("div",{className:"text-center",children:[E.jsx(rV,{size:48,className:"mx-auto mb-4 opacity-50"}),E.jsx("p",{children:"Select an email to read"})]})})}),E.jsx(F9,{open:r,onOpenChange:i,children:E.jsxs(PE,{className:"sm:max-w-[600px]",children:[E.jsx(BE,{children:E.jsx(HE,{children:"New Message"})}),E.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[E.jsx("input",{className:"w-full px-3 py-2 border-b border-gray-200 dark:border-gray-700 bg-transparent outline-none",placeholder:"To"}),E.jsx("input",{className:"w-full px-3 py-2 border-b border-gray-200 dark:border-gray-700 bg-transparent outline-none",placeholder:"Subject"}),E.jsx("textarea",{className:"w-full h-64 p-3 bg-transparent outline-none resize-none",placeholder:"Write your message..."})]}),E.jsxs(IE,{className:"justify-between items-center w-full sm:justify-between",children:[E.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:E.jsx(sV,{size:20})}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium hover:bg-gray-100 dark:hover:bg-gray-800 rounded",children:"Discard"}),E.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:"Send"})]})]})]})})]})},WQ=Math.PI/180;function JQ(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const sd=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Le={_global:sd,version:"10.0.12",isBrowser:JQ(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return Le.angleDeg?t*WQ:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Le.DD.isDragging},isTransforming(){var t,e;return(e=(t=Le.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!Le.DD.node},releaseCanvasOnDestroy:!0,document:sd.document,_injectGlobal(t){typeof sd.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),sd.Konva=t}},er=t=>{Le[t.prototype.getClassName()]=t};Le._injectGlobal(Le);const $Q=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,f_=()=>{if(typeof document>"u")throw new Error($Q)};class ea{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new ea(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.m[0]*n+this.m[2]*r,s=this.m[1]*n+this.m[3]*r,a=this.m[0]*-r+this.m[2]*n,l=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=s,this.m[2]=a,this.m[3]=l,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,a=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=s,this.m[3]=a,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],a=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],l=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=l,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,a=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),l=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=a,this.m[5]=l,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],s=this.m[4],a=this.m[5],l=e*i-n*r,u={x:s,y:a,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const d=Math.sqrt(e*e+n*n);u.rotation=n>0?Math.acos(e/d):-Math.acos(e/d),u.scaleX=d,u.scaleY=l/d,u.skewX=(e*r+n*i)/l,u.skewY=0}else if(r!=0||i!=0){const d=Math.sqrt(r*r+i*i);u.rotation=Math.PI/2-(i>0?Math.acos(-r/d):-Math.acos(r/d)),u.scaleX=l/d,u.scaleY=d,u.skewX=0,u.skewY=(e*r+n*i)/l}return u.rotation=oe._getRotation(u.rotation),u}}const ZQ="[object Array]",eW="[object Number]",tW="[object String]",nW="[object Boolean]",rW=Math.PI/180,iW=180/Math.PI,zg="#",sW="",aW="0",oW="Konva warning: ",d_="Konva error: ",lW="rgb(",tw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},cW=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let _b=[],jg=null;const uW=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},oe={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===ZQ},_isNumber(t){return Object.prototype.toString.call(t)===eW&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===tW},_isBoolean(t){return Object.prototype.toString.call(t)===nW},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){_b.push(t),_b.length===1&&uW(function(){const e=_b;_b=[],e.forEach(function(n){n()})})},createCanvasElement(){f_();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return f_(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=oe.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(zg,sW);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=aW+t;return zg+t},isCanvasFarblingActive(){if(jg!==null)return jg;if(typeof document>"u")return jg=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=0;i<100;i++)if(n[i*4]!==40||n[i*4+1]!==40||n[i*4+2]!==40||n[i*4+3]!==255){r=!0;break}return jg=r,this.releaseCanvas(t),jg},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),zg+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return zg+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in tw?(e=tw[t],{r:e[0],g:e[1],b:e[2]}):t[0]===zg?this._hexToRgb(t.substring(1)):t.substr(0,4)===lW?(e=cW.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",oe._namedColorToRBA(t)||oe._hex3ColorToRGBA(t)||oe._hex4ColorToRGBA(t)||oe._hex6ColorToRGBA(t)||oe._hex8ColorToRGBA(t)||oe._rgbColorToRGBA(t)||oe._rgbaColorToRGBA(t)||oe._hslColorToRGBA(t)},_namedColorToRBA(t){const e=tw[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let a,l,u;if(i===0)return u=s*255,{r:Math.round(u),g:Math.round(u),b:Math.round(u),a:1};s<.5?a=s*(1+i):a=s+i-s*i;const d=2*s-a,p=[0,0,0];for(let g=0;g<3;g++)l=r+1/3*-(g-1),l<0&&l++,l>1&&l--,6*l<1?u=d+(a-d)*6*l:2*l<1?u=a:3*l<2?u=d+(a-d)*(2/3-l)*6:u=d,p[g]=u*255;return{r:Math.round(p[0]),g:Math.round(p[1]),b:Math.round(p[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*rW},radToDeg(t){return t*iW},_degToRad(t){return oe.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),oe.degToRad(t)},_radToDeg(t){return oe.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),oe.radToDeg(t)},_getRotation(t){return Le.angleDeg?oe.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(d_+t)},error(t){console.error(d_+t)},warn(t){Le.showWarnings&&console.warn(oW+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,i,s){let a,l,u;const d=(t-n)*(t-n)+(e-r)*(e-r);if(d==0)a=t,l=e,u=(i-n)*(i-n)+(s-r)*(s-r);else{const p=((i-t)*(n-t)+(s-e)*(r-e))/d;p<0?(a=t,l=e,u=(t-i)*(t-i)+(e-s)*(e-s)):p>1?(a=n,l=r,u=(n-i)*(n-i)+(r-s)*(r-s)):(a=t+p*(n-t),l=e+p*(r-e),u=(a-i)*(a-i)+(l-s)*(l-s))}return[a,l,u]},_getProjectionToLine(t,e,n){const r=oe.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(s,a){if(!n&&a===e.length-1)return;const l=e[(a+1)%e.length],u=oe._getProjectionToSegment(s.x,s.y,l.x,l.y,t.x,t.y),d=u[0],p=u[1],g=u[2];g<i&&(r.x=d,r.y=p,i=g)}),r},_prepareArrayForTween(t,e,n){const r=[],i=[];if(t.length>e.length){const a=e;e=t,t=a}for(let a=0;a<t.length;a+=2)r.push({x:t[a],y:t[a+1]});for(let a=0;a<e.length;a+=2)i.push({x:e[a],y:e[a+1]});const s=[];return i.forEach(function(a){const l=oe._getProjectionToLine(a,r,n);s.push(l.x),s.push(l.y)}),s},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||oe._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(oe._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){Le.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let i=e<0?e:0,s=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let a=0,l=0,u=0,d=0;typeof r=="number"?a=l=u=d=Math.min(r,e/2,n/2):(a=Math.min(r[0]||0,e/2,n/2),l=Math.min(r[1]||0,e/2,n/2),d=Math.min(r[2]||0,e/2,n/2),u=Math.min(r[3]||0,e/2,n/2)),t.moveTo(i+a,s),t.lineTo(i+e-l,s),t.arc(i+e-l,s+l,l,Math.PI*3/2,0,!1),t.lineTo(i+e,s+n-d),t.arc(i+e-d,s+n-d,d,0,Math.PI/2,!1),t.lineTo(i+u,s+n),t.arc(i+u,s+n-u,u,Math.PI/2,Math.PI,!1),t.lineTo(i,s+a),t.arc(i+a,s+a,a,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,i){r=Math.abs(r);for(let s=0;s<n;s++){const a=e[(s-1+n)%n],l=e[s],u=e[(s+1)%n],d={x:l.x-a.x,y:l.y-a.y},p={x:u.x-l.x,y:u.y-l.y},g=Math.hypot(d.x,d.y),b=Math.hypot(p.x,p.y);let x;typeof i=="number"?x=i:x=s<i.length?i[s]:0,x=r*Math.cos(Math.PI/n)*Math.min(1,x/r*2);const k={x:d.x/g,y:d.y/g},_={x:p.x/b,y:p.y/b},A={x:l.x-k.x*x,y:l.y-k.y*x},O={x:l.x+_.x*x,y:l.y+_.y*x};s===0?t.moveTo(A.x,A.y):t.lineTo(A.x,A.y),t.arcTo(l.x,l.y,O.x,O.y,x)}}};function fW(t){const e=[],n=t.length,r=oe;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const h_=",",dW="(",hW=")",pW="([",mW="])",gW=";",yW="()",bW="=",p_=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],vW=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],xW=100;let Mb=null;function m_(){if(Mb!==null)return Mb;try{const e=oe.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Mb=!1,!1)}catch{return Mb=!1,!1}}class n2{constructor(e){this.canvas=e,Le.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",a,l,u,d;for(a=0;a<i;a++)l=r[a],u=l.method,u?(d=l.args,s+=u,e?s+=yW:oe._isArray(d[0])?s+=pW+d.join(h_)+mW:(n&&(d=d.map(p=>typeof p=="number"?Math.floor(p):p)),s+=dW+d.join(h_)+hW)):(s+=l.property,e||(s+=bW+l.val)),s+=gW;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=xW&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,a){this._context.arc(e,n,r,i,s,a)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,a){this._context.bezierCurveTo(e,n,r,i,s,a)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,a){return this._context.createRadialGradient(e,n,r,i,s,a)}drawImage(e,n,r,i,s,a,l,u,d){const p=arguments,g=this._context;p.length===3?g.drawImage(e,n,r):p.length===5?g.drawImage(e,n,r,i,s):p.length===9&&g.drawImage(e,n,r,i,s,a,l,u,d)}ellipse(e,n,r,i,s,a,l,u){this._context.ellipse(e,n,r,i,s,a,l,u)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,a){this._context.setTransform(e,n,r,i,s,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,a){this._context.transform(e,n,r,i,s,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=p_.length,r=this.setAttr,i,s;const a=function(l){let u=e[l],d;e[l]=function(){return s=fW(Array.prototype.slice.call(arguments,0)),d=u.apply(e,arguments),e._trace({method:l,args:s}),d}};for(i=0;i<n;i++)a(p_[i]);e.setAttr=function(){r.apply(e,arguments);const l=arguments[0];let u=arguments[1];(l==="shadowOffsetX"||l==="shadowOffsetY"||l==="shadowBlur")&&(u=u/this.canvas.getPixelRatio()),e._trace({property:l,val:u})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}vW.forEach(function(t){Object.defineProperty(n2.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class SW extends n2{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const a=e.getFillRadialGradientColorStops();if(a&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let a=0;a<i.length;a+=2)s.addColorStop(i[a],i[a+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,l=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},u=e.getAbsoluteScale(),d=this.canvas.getPixelRatio(),p=u.x*d,g=u.y*d;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",a*Math.min(Math.abs(p),Math.abs(g))),this.setAttr("shadowOffsetX",l.x*p),this.setAttr("shadowOffsetY",l.y*g)}}class wW extends n2{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let Ab;function CW(){if(Ab)return Ab;const t=oe.createCanvasElement(),e=t.getContext("2d");return Ab=(function(){const n=Le._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),oe.releaseCanvas(t),Ab}class UE{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Le.pixelRatio||CW();this.pixelRatio=r,this._canvas=oe.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return oe.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Ou extends UE{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new SW(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class FE extends UE{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new wW(this),this.setSize(e.width,e.height)}}const Kt={get isDragging(){let t=!1;return Kt._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Kt._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Kt._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=oe._getFirstPointerId(t));const a=s._changedPointerPositions.find(l=>l.id===n.pointerId);if(a){if(n.dragStatus!=="dragging"){const l=i.dragDistance();if(Math.max(Math.abs(a.x-n.startPointerPos.x),Math.abs(a.y-n.startPointerPos.y))<l||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Kt._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(l=>l.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Kt.justDragged=!0,Le._mouseListenClick=!1,Le._touchListenClick=!1,Le._pointerListenClick=!1,n.dragStatus="stopped");const a=n.node.getLayer()||n.node instanceof Le.Stage&&n.node;a&&e.indexOf(a)===-1&&e.push(a)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Kt._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Kt._dragElements.delete(n)})}};Le.isBrowser&&(window.addEventListener("mouseup",Kt._endDragBefore,!0),window.addEventListener("touchend",Kt._endDragBefore,!0),window.addEventListener("touchcancel",Kt._endDragBefore,!0),window.addEventListener("mousemove",Kt._drag),window.addEventListener("touchmove",Kt._drag),window.addEventListener("mouseup",Kt._endDragAfter,!1),window.addEventListener("touchend",Kt._endDragAfter,!1),window.addEventListener("touchcancel",Kt._endDragAfter,!1));function Ju(t){return oe._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||oe._isBoolean(t)?t:Object.prototype.toString.call(t)}function V9(t){return t>255?255:t<0?0:Math.round(t)}function Oe(){if(Le.isUnminified)return function(t,e){return oe._isNumber(t)||oe.warn(Ju(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function r2(t){if(Le.isUnminified)return function(e,n){let r=oe._isNumber(e),i=oe._isArray(e)&&e.length==t;return!r&&!i&&oe.warn(Ju(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function GE(){if(Le.isUnminified)return function(t,e){return oe._isNumber(t)||t==="auto"||oe.warn(Ju(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Md(){if(Le.isUnminified)return function(t,e){return oe._isString(t)||oe.warn(Ju(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Y9(){if(Le.isUnminified)return function(t,e){const n=oe._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||oe.warn(Ju(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function EW(){if(Le.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(oe._isArray(t)?t.forEach(function(r){oe._isNumber(r)||oe.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):oe.warn(Ju(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Eo(){if(Le.isUnminified)return function(t,e){return t===!0||t===!1||oe.warn(Ju(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function kW(t){if(Le.isUnminified)return function(e,n){return e==null||oe.isObject(e)||oe.warn(Ju(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const Lg="get",Pg="set",Q={addGetterSetter(t,e,n,r,i){Q.addGetter(t,e,n),Q.addSetter(t,e,r,i),Q.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=Lg+oe._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const i=this.attrs[e];return i===void 0?n:i}},addSetter(t,e,n,r){const i=Pg+oe._capitalize(e);t.prototype[i]||Q.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const i=Pg+oe._capitalize(e);t.prototype[i]=function(s){return n&&s!==void 0&&s!==null&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){const s=n.length,a=oe._capitalize,l=Lg+a(e),u=Pg+a(e);t.prototype[l]=function(){const p={};for(let g=0;g<s;g++){const b=n[g];p[b]=this.getAttr(e+a(b))}return p};const d=kW(n);t.prototype[u]=function(p){const g=this.attrs[e];r&&(p=r.call(this,p,e)),d&&d.call(this,p,e);for(const b in p)p.hasOwnProperty(b)&&this._setAttr(e+a(b),p[b]);return p||n.forEach(b=>{this._setAttr(e+a(b),void 0)}),this._fireChangeEvent(e,g,p),i&&i.call(this),this},Q.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=oe._capitalize(e),r=Pg+n,i=Lg+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){oe.error("Adding deprecated "+e);const i=Lg+oe._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){oe.error(s);const a=this.attrs[e];return a===void 0?n:a},Q.addSetter(t,e,r,function(){oe.error(s)}),Q.addOverloadedGetterSetter(t,e)},backCompat(t,e){oe.each(e,function(n,r){const i=t.prototype[r],s=Lg+oe._capitalize(n),a=Pg+oe._capitalize(n);function l(){i.apply(this,arguments),oe.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=l,t.prototype[s]=l,t.prototype[a]=l})},afterSetFilter(){this._filterUpToDate=!1}};function TW(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,i]=n;switch(r){case"blur":{const s=parseFloat(i.replace("px",""));return function(a){this.blurRadius(s*.5);const l=Le.Filters;l&&l.Blur&&l.Blur.call(this,a)}}case"brightness":{const s=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(a){this.brightness(s);const l=Le.Filters;l&&l.Brightness&&l.Brightness.call(this,a)}}case"contrast":{const s=parseFloat(i);return function(a){const l=100*(Math.sqrt(s)-1);this.contrast(l);const u=Le.Filters;u&&u.Contrast&&u.Contrast.call(this,a)}}case"grayscale":return function(s){const a=Le.Filters;a&&a.Grayscale&&a.Grayscale.call(this,s)};case"sepia":return function(s){const a=Le.Filters;a&&a.Sepia&&a.Sepia.call(this,s)};case"invert":return function(s){const a=Le.Filters;a&&a.Invert&&a.Invert.call(this,s)};default:oe.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const nv="absoluteOpacity",Nb="allEventListeners",sc="absoluteTransform",g_="absoluteScale",Qf="canvas",_W="Change",MW="children",AW="konva",LC="listening",NW="mouseenter",RW="mouseleave",OW="pointerenter",DW="pointerleave",zW="touchenter",jW="touchleave",y_="set",b_="Shape",rv=" ",v_="stage",Eu="transform",LW="Stage",PC="visible",PW=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(rv);let BW=1,ze=class BC{constructor(e){this._id=BW++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Eu||e===sc)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Eu||e===sc)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(rv);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Qf)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===sc&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Qf)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(Qf);oe.releaseCanvas(e,n,r,i),this._cache.delete(Qf)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),a=n.pixelRatio,l=n.x===void 0?Math.floor(r.x):n.x,u=n.y===void 0?Math.floor(r.y):n.y,d=n.offset||0,p=n.drawBorder||!1,g=n.hitCanvasPixelRatio||1;if(!i||!s){oe.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const b=Math.abs(Math.round(r.x)-l)>.5?1:0,x=Math.abs(Math.round(r.y)-u)>.5?1:0;i+=d*2+b,s+=d*2+x,l-=d,u-=d;const S=new Ou({pixelRatio:a,width:i,height:s}),k=new Ou({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),_=new FE({pixelRatio:g,width:i,height:s}),A=S.getContext(),O=_.getContext(),z=new Ou({width:S.width/S.pixelRatio+Math.abs(l),height:S.height/S.pixelRatio+Math.abs(u),pixelRatio:S.pixelRatio}),L=z.getContext();return _.isCache=!0,S.isCache=!0,this._cache.delete(Qf),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(S.getContext()._context.imageSmoothingEnabled=!1,k.getContext()._context.imageSmoothingEnabled=!1),A.save(),O.save(),L.save(),A.translate(-l,-u),O.translate(-l,-u),L.translate(-l,-u),z.x=l,z.y=u,this._isUnderCache=!0,this._clearSelfAndDescendantCache(nv),this._clearSelfAndDescendantCache(g_),this.drawScene(S,this,z),this.drawHit(_,this),this._isUnderCache=!1,A.restore(),O.restore(),p&&(A.save(),A.beginPath(),A.rect(0,0,i,s),A.closePath(),A.setAttr("strokeStyle","red"),A.setAttr("lineWidth",5),A.stroke(),A.restore()),this._cache.set(Qf,{scene:S,filter:k,hit:_,buffer:z,x:l,y:u}),this._requestDraw(),this}isCached(){return this._cache.has(Qf)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,a=-1/0,l=-1/0;const u=this.getAbsoluteTransform(n);return r.forEach(function(d){const p=u.point(d);i===void 0&&(i=a=p.x,s=l=p.y),i=Math.min(i,p.x),s=Math.min(s,p.y),a=Math.max(a,p.x),l=Math.max(l,p.y)}),{x:i,y:s,width:a-i,height:l-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),a,l,u,d;if(!e||e.length===0)return r;if(this._filterUpToDate)return i;let p=!0;for(let b=0;b<e.length;b++)if(typeof e[b]=="string"&&m_(),typeof e[b]!="string"||!m_()){p=!1;break}const g=r.pixelRatio;if(i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),p){const b=e.join(" ");return s.save(),s.setAttr("filter",b),s.drawImage(r._canvas,0,0,r.getWidth()/g,r.getHeight()/g),s.restore(),this._filterUpToDate=!0,i}try{for(a=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/g,r.getHeight()/g),l=s.getImageData(0,0,i.getWidth(),i.getHeight()),u=0;u<a;u++)d=e[u],typeof d=="string"&&(d=TW(d)),d.call(this,l),s.putImageData(l,0,0)}catch(b){oe.error("Unable to apply filter. "+b.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,n){if(this._cache&&this._cache.delete(Nb),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(rv);for(let i=0;i<r.length;i++){const a=r[i].split("."),l=a[0],u=a[1]||"";this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:n})}return this}off(e,n){let r=(e||"").split(rv),i=r.length,s,a,l,u,d,p;if(this._cache&&this._cache.delete(Nb),!e)for(a in this.eventListeners)this._off(a);for(s=0;s<i;s++)if(l=r[s],u=l.split("."),d=u[0],p=u[1],d)this.eventListeners[d]&&this._off(d,p,n);else for(a in this.eventListeners)this._off(a,p,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const a=s.target.findAncestors(n,!0,i);for(let l=0;l<a.length;l++)s=oe.cloneObject(s),s.currentTarget=a[l],r.call(a[l],s)})}remove(){return this.isDragging()&&this.stopDrag(),Kt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(sc),this._clearSelfAndDescendantCache(nv),this._clearSelfAndDescendantCache(g_),this._clearSelfAndDescendantCache(v_),this._clearSelfAndDescendantCache(PC),this._clearSelfAndDescendantCache(LC)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+oe._capitalize(e);return oe._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==MW&&(r=y_+oe._capitalize(n),oe._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(LC,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(PC,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;Kt._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===r)&&(i=!0)});const s=!n&&!Le.hitOnDragEnabled&&(i||Le.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,a,l;function u(p){for(i=[],s=p.length,a=0;a<s;a++)l=p[a],r++,l.nodeType!==b_&&(i=i.concat(l.getChildren().slice())),l._id===n._id&&(a=s);i.length>0&&i[0].getDepth()<=e&&u(i)}const d=this.getStage();return n.nodeType!==LW&&d&&u(d.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Eu),this._clearSelfAndDescendantCache(sc)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new ea,a=this.offset();return s.m=i.slice(),s.translate(a.x,a.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Eu);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Eu),this._clearSelfAndDescendantCache(sc),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,a;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,a=0;a<s;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return oe.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return oe.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return oe.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return oe.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return oe.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&oe.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(nv,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,a;const l={attrs:{},className:this.getClassName()};for(n in e)r=e[n],a=oe.isObject(r)&&!oe._isPlainObject(r)&&!oe._isArray(r),!a&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(l.attrs[n]=r));return oe._prepareToStringify(l)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],oe.isValidSelector(s)||(oe.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),oe.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),oe.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(v_,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(sc,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new ea,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(sc)||new ea,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,a=this.attrs.offsetX||0,l=this.attrs.offsetY||0;n.translate(i-a,s-l)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Eu,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Eu)||new ea;r.reset();const i=this.x(),s=this.y(),a=Le.getAngle(this.rotation()),l=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,u=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,d=this.attrs.skewX||0,p=this.attrs.skewY||0,g=this.attrs.offsetX||0,b=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),a!==0&&r.rotate(a),(d!==0||p!==0)&&r.skew(d,p),(l!==1||u!==1)&&r.scale(l,u),(g!==0||b!==0)&&r.translate(-1*g,-1*b),r.dirty=!1,r}clone(e){let n=oe.cloneObject(this.attrs),r,i,s,a,l;for(r in e)n[r]=e[r];const u=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,a=0;a<s;a++)l=i[a],l.name.indexOf(AW)<0&&(u.eventListeners[r]||(u.eventListeners[r]=[]),u.eventListeners[r].push(l));return u}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,l=new Ou({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:a}),u=l.getContext(),d=new Ou({width:l.width/l.pixelRatio+Math.abs(i),height:l.height/l.pixelRatio+Math.abs(s),pixelRatio:l.pixelRatio});return e.imageSmoothingEnabled===!1&&(u._context.imageSmoothingEnabled=!1),u.save(),(i||s)&&u.translate(-1*i,-1*s),this.drawScene(l,void 0,d),u.restore(),l}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,oe._urlToImage(this.toDataURL(e),function(s){n(s),i?.(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i?.(s)},e?.mimeType,e?.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Le.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,a,l;for(s=0;s<i.length;s++)if(a=i[s].name,l=i[s].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!r||r===l)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+_W,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[y_+oe._capitalize(e)];return oe._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Le.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!oe.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===b_&&(n.target=this);const i=[NW,RW,OW,DW,zW,jW];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const a=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get(Nb))!==null&&n!==void 0?n:{};let a=s?.[e];if(a===void 0){a=[];let l=Object.getPrototypeOf(this);for(;l;){const u=(i=(r=l.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];a.push(...u),l=Object.getPrototypeOf(l)}s[e]=a,this._cache.set(Nb,s)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;Kt._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Kt._dragElements.has(this._id)||this._createDragElement(e);const r=Kt._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const a=s.call(this,i,e);a?i=a:oe.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=Kt._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Kt._endDragBefore(e),Kt._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Kt._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Le.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Kt._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Kt._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Kt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return oe.haveIntersection(r,this.getClientRect())}static create(e,n){return oe._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=BC.prototype.getClassName.call(e),i=e.children,s,a,l;n&&(e.attrs.container=n),Le[r]||(oe.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const u=Le[r];if(s=new u(e.attrs),i)for(a=i.length,l=0;l<a;l++)s.add(BC._createNode(i[l]));return s}};ze.prototype.nodeType="Node";ze.prototype._attrsAffectingSize=[];ze.prototype.eventListeners={};ze.prototype.on.call(ze.prototype,PW,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Eu),this._clearSelfAndDescendantCache(sc)});ze.prototype.on.call(ze.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(PC)});ze.prototype.on.call(ze.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(LC)});ze.prototype.on.call(ze.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(nv)});const cn=Q.addGetterSetter;cn(ze,"zIndex");cn(ze,"absolutePosition");cn(ze,"position");cn(ze,"x",0,Oe());cn(ze,"y",0,Oe());cn(ze,"globalCompositeOperation","source-over",Md());cn(ze,"opacity",1,Oe());cn(ze,"name","",Md());cn(ze,"id","",Md());cn(ze,"rotation",0,Oe());Q.addComponentsGetterSetter(ze,"scale",["x","y"]);cn(ze,"scaleX",1,Oe());cn(ze,"scaleY",1,Oe());Q.addComponentsGetterSetter(ze,"skew",["x","y"]);cn(ze,"skewX",0,Oe());cn(ze,"skewY",0,Oe());Q.addComponentsGetterSetter(ze,"offset",["x","y"]);cn(ze,"offsetX",0,Oe());cn(ze,"offsetY",0,Oe());cn(ze,"dragDistance",void 0,Oe());cn(ze,"width",0,Oe());cn(ze,"height",0,Oe());cn(ze,"listening",!0,Eo());cn(ze,"preventDefault",!0,Eo());cn(ze,"filters",void 0,function(t){return this._filterUpToDate=!1,t});cn(ze,"visible",!0,Eo());cn(ze,"transformsEnabled","all",Md());cn(ze,"size");cn(ze,"dragBoundFunc");cn(ze,"draggable",!1,Eo());Q.backCompat(ze,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ra extends ze{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=ze.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=ze.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),a=s&&s.getContext(),l=this._getCanvasCache(),u=l&&l.scene,d=s&&s.isCache;if(!this.isVisible()&&!d)return this;if(u){a.save();const p=this.getAbsoluteTransform(n).getMatrix();a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),a=this._getCanvasCache();if(a&&a.hit){s.save();const u=this.getAbsoluteTransform(n).getMatrix();s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const a=n&&n.getContext(),l=this.clipWidth(),u=this.clipHeight(),d=this.clipFunc(),p=typeof l=="number"&&typeof u=="number"||d,g=r===this;if(p){a.save();const x=this.getAbsoluteTransform(r);let S=x.getMatrix();a.transform(S[0],S[1],S[2],S[3],S[4],S[5]),a.beginPath();let k;if(d)k=d.call(this,a,this);else{const _=this.clipX(),A=this.clipY();a.rect(_||0,A||0,l,u)}a.clip.apply(a,k),S=x.copy().invert().getMatrix(),a.transform(S[0],S[1],S[2],S[3],S[4],S[5])}const b=!g&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";b&&(a.save(),a._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(x){x[e](n,r,i)}),b&&a.restore(),p&&a.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,a,l,u,d={x:1/0,y:1/0,width:0,height:0};const p=this;(n=this.children)===null||n===void 0||n.forEach(function(x){if(!x.visible())return;const S=x.getClientRect({relativeTo:p,skipShadow:e.skipShadow,skipStroke:e.skipStroke});S.width===0&&S.height===0||(s===void 0?(s=S.x,a=S.y,l=S.x+S.width,u=S.y+S.height):(s=Math.min(s,S.x),a=Math.min(a,S.y),l=Math.max(l,S.x+S.width),u=Math.max(u,S.y+S.height)))});const g=this.find("Shape");let b=!1;for(let x=0;x<g.length;x++)if(g[x]._isVisible(this)){b=!0;break}return b&&s!==void 0?d={x:s,y:a,width:l-s,height:u-a}:d={x:0,y:0,width:0,height:0},r?d:this._transformedRect(d,i)}}Q.addComponentsGetterSetter(ra,"clip",["x","y","width","height"]);Q.addGetterSetter(ra,"clipX",void 0,Oe());Q.addGetterSetter(ra,"clipY",void 0,Oe());Q.addGetterSetter(ra,"clipWidth",void 0,Oe());Q.addGetterSetter(ra,"clipHeight",void 0,Oe());Q.addGetterSetter(ra,"clipFunc");const U0=new Map,K9=Le._global.PointerEvent!==void 0;function nw(t){return U0.get(t)}function qE(t){return{evt:t,pointerId:t.pointerId}}function X9(t,e){return U0.get(t)===e}function Q9(t,e){m0(t),e.getStage()&&(U0.set(t,e),K9&&e._fire("gotpointercapture",qE(new PointerEvent("gotpointercapture"))))}function m0(t,e){const n=U0.get(t);if(!n)return;const r=n.getStage();r&&r.content,U0.delete(t),K9&&n._fire("lostpointercapture",qE(new PointerEvent("lostpointercapture")))}const IW="Stage",HW="string",x_="px",UW="mouseout",W9="mouseleave",J9="mouseover",$9="mouseenter",Z9="mousemove",eR="mousedown",tR="mouseup",Qg="pointermove",Wg="pointerdown",mp="pointerup",Jg="pointercancel",FW="lostpointercapture",Rb="pointerout",$g="pointerleave",Ob="pointerover",Db="pointerenter",IC="contextmenu",nR="touchstart",rR="touchend",iR="touchmove",sR="touchcancel",HC="wheel",GW=5,qW=[[$9,"_pointerenter"],[eR,"_pointerdown"],[Z9,"_pointermove"],[tR,"_pointerup"],[W9,"_pointerleave"],[nR,"_pointerdown"],[iR,"_pointermove"],[rR,"_pointerup"],[sR,"_pointercancel"],[J9,"_pointerover"],[HC,"_wheel"],[IC,"_contextmenu"],[Wg,"_pointerdown"],[Qg,"_pointermove"],[mp,"_pointerup"],[Jg,"_pointercancel"],[$g,"_pointerleave"],[FW,"_lostpointercapture"]],rw={mouse:{[Rb]:UW,[$g]:W9,[Ob]:J9,[Db]:$9,[Qg]:Z9,[Wg]:eR,[mp]:tR,[Jg]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Rb]:"touchout",[$g]:"touchleave",[Ob]:"touchover",[Db]:"touchenter",[Qg]:iR,[Wg]:nR,[mp]:rR,[Jg]:sR,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Rb]:Rb,[$g]:$g,[Ob]:Ob,[Db]:Db,[Qg]:Qg,[Wg]:Wg,[mp]:mp,[Jg]:Jg,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Zg=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",ip=t=>{const e=Zg(t);if(e==="pointer")return Le.pointerEventsEnabled&&rw.pointer;if(e==="touch")return rw.touch;if(e==="mouse")return rw.mouse};function S_(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&oe.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const VW="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",g0=[];let i2=class extends ra{constructor(e){super(S_(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),g0.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{S_(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||oe.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===HW){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),ra.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&oe._isInDocument(e)&&this.container().removeChild(e);const n=g0.indexOf(this);return n>-1&&g0.splice(n,1),oe.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(oe.warn(VW),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new Ou({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(!s.isVisible())return;const a=s._toKonvaCanvas(e);r.drawImage(a._canvas,e.x,e.y,a.getWidth()/a.getPixelRatio(),a.getHeight()/a.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,i=r-1;for(let s=i;s>=0;s--){const a=n[s].getIntersection(e);if(a)return a}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+x_,this.content.style.height=n+x_),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const r=this.children.length;return r>GW&&oe.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Le.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return X9(e,this)}setPointerCapture(e){Q9(e,this)}releaseCapture(e){m0(e)}getLayers(){return this.children}_bindContentEvents(){Le.isBrowser&&qW.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=ip(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=ip(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=ip(e.type),r=Zg(e.type);if(!n)return;this.setPointersPositions(e);const i=this._getTargetShape(r),s=!(Le.isDragging()||Le.isTransforming())||Le.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=ip(e.type),r=Zg(e.type);if(!n)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(s=>{const a=this.getIntersection(s);if(Kt.justDragged=!1,Le["_"+r+"ListenClick"]=!0,!a||!a.isListening()){this[r+"ClickStartShape"]=void 0;return}Le.capturePointerEventsEnabled&&a.setPointerCapture(s.id),this[r+"ClickStartShape"]=a,a._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const l=e.type.indexOf("touch")>=0;a.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=ip(e.type),r=Zg(e.type);if(!n)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(Le.isDragging()&&Kt.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(Le.isDragging()||Le.isTransforming())||Le.hitOnDragEnabled))return;const a={};let l=!1;const u=this._getTargetShape(r);this._changedPointerPositions.forEach(d=>{const p=nw(d.id)||this.getIntersection(d),g=d.id,b={evt:e,pointerId:g},x=u!==p;if(x&&u&&(u._fireAndBubble(n.pointerout,{...b},p),u._fireAndBubble(n.pointerleave,{...b},p)),p){if(a[p._id])return;a[p._id]=!0}p&&p.isListening()?(l=!0,x&&(p._fireAndBubble(n.pointerover,{...b},u),p._fireAndBubble(n.pointerenter,{...b},u),this[r+"targetShape"]=p),p._fireAndBubble(n.pointermove,{...b})):u&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:g}),this[r+"targetShape"]=null)}),l||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=ip(e.type),r=Zg(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"],a={};let l=!1;this._changedPointerPositions.forEach(u=>{const d=nw(u.id)||this.getIntersection(u);if(d){if(d.releaseCapture(u.id),a[d._id])return;a[d._id]=!0}const p=u.id,g={evt:e,pointerId:p};let b=!1;Le["_"+r+"InDblClickWindow"]?(b=!0,clearTimeout(this[r+"DblTimeout"])):Kt.justDragged||(Le["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Le["_"+r+"InDblClickWindow"]=!1},Le.dblClickWindow),d&&d.isListening()?(l=!0,this[r+"ClickEndShape"]=d,d._fireAndBubble(n.pointerup,{...g}),Le["_"+r+"ListenClick"]&&i&&i===d&&(d._fireAndBubble(n.pointerclick,{...g}),b&&s&&s===d&&d._fireAndBubble(n.pointerdblclick,{...g}))):(this[r+"ClickEndShape"]=null,l||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l=!0),Le["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:p}),b&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:p}))}),l||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Le["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(IC,{evt:e}):this._fire(IC,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(HC,{evt:e}):this._fire(HC,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=nw(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(mp,qE(e)),m0(e.pointerId)}_lostpointercapture(e){m0(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,i=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:oe._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:oe._getFirstPointerId(e)}])}_setPointerPosition(e){oe.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Ou({width:this.width(),height:this.height()}),this.bufferHitCanvas=new FE({pixelRatio:1,width:this.width(),height:this.height()}),!Le.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return oe.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};i2.prototype.nodeType=IW;er(i2);Q.addGetterSetter(i2,"container");Le.isBrowser&&document.addEventListener("visibilitychange",()=>{g0.forEach(t=>{t.batchDraw()})});const aR="hasShadow",oR="shadowRGBA",lR="patternImage",cR="linearGradient",uR="radialGradient";let zb;function iw(){return zb||(zb=oe.createCanvasElement().getContext("2d"),zb)}const y0={};function YW(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function KW(t){t.stroke()}function XW(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function QW(t){t.stroke()}function WW(){this._clearCache(aR)}function JW(){this._clearCache(oR)}function $W(){this._clearCache(lR)}function ZW(){this._clearCache(cR)}function eJ(){this._clearCache(uR)}class Te extends ze{constructor(e){super(e);let n,r=0;for(;n=oe.getHitColor(),!(n&&!(n in y0));)if(r++,r>=1e4){oe.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=oe.getRandomColor();break}this.colorKey=n,y0[n]=this}getContext(){return oe.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return oe.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(aR,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(lR,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=iw().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new ea;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Le.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(cR,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=iw(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y);for(let a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}_getRadialGradient(){return this._getCache(uR,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=iw(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let a=0;a<e.length;a+=2)s.addColorStop(e[a],e[a+1]);return s}}getShadowRGBA(){return this._getCache(oR,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=oe.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return ze.prototype.destroy.call(this),delete y0[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=e||this.hasFill(),s=this.hasStroke(),a=this.getAbsoluteOpacity()!==1;if(i&&s&&a)return!0;const l=this.hasShadow(),u=this.shadowForStrokeEnabled();return!!(i&&s&&l&&u)}setStrokeHitEnabled(e){oe.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const i=e.skipTransform,s=e.relativeTo||n&&this.getStage()||void 0,a=this.getSelfRect(),u=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,d=a.width+u,p=a.height+u,g=!e.skipShadow&&this.hasShadow(),b=g?this.shadowOffsetX():0,x=g?this.shadowOffsetY():0,S=d+Math.abs(b),k=p+Math.abs(x),_=g&&this.shadowBlur()||0,A=S+_*2,O=k+_*2,z={width:A,height:O,x:-(u/2+_)+Math.min(b,0)+a.x,y:-(u/2+_)+Math.min(x,0)+a.y};return i?z:this._transformedRect(z,s)}drawScene(e,n,r){const i=this.getLayer(),s=e||i.getCanvas(),a=s.getContext(),l=this._getCanvasCache(),u=this.getSceneFunc(),d=this.hasShadow();let p;const g=n===this;if(!this.isVisible()&&!g)return this;if(l){a.save();const b=this.getAbsoluteTransform(n).getMatrix();return a.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!u)return this;if(a.save(),this._useBufferCanvas()){p=this.getStage();const b=r||p.bufferCanvas,x=b.getContext();x.clear(),x.save(),x._applyLineJoin(this),x._applyMiterLimit(this);const S=this.getAbsoluteTransform(n).getMatrix();x.transform(S[0],S[1],S[2],S[3],S[4],S[5]),u.call(this,x,this),x.restore();const k=b.pixelRatio;d&&a._applyShadow(this),g||(a._applyOpacity(this),a._applyGlobalCompositeOperation(this)),a.drawImage(b._canvas,b.x||0,b.y||0,b.width/k,b.height/k)}else{if(a._applyLineJoin(this),a._applyMiterLimit(this),!g){const b=this.getAbsoluteTransform(n).getMatrix();a.transform(b[0],b[1],b[2],b[3],b[4],b[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}d&&a._applyShadow(this),u.call(this,a,this)}return a.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const i=this.getLayer(),s=e||i.hitCanvas,a=s&&s.getContext(),l=this.hitFunc()||this.sceneFunc(),u=this._getCanvasCache(),d=u&&u.hit;if(this.colorKey||oe.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),d){a.save();const g=this.getAbsoluteTransform(n).getMatrix();return a.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),a._applyLineJoin(this),a._applyMiterLimit(this),!(this===n)){const g=this.getAbsoluteTransform(n).getMatrix();a.transform(g[0],g[1],g[2],g[3],g[4],g[5])}return l.call(this,a,this),a.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),a=i.getWidth(),l=i.getHeight();s.clear(),s.drawImage(r._canvas,0,0,a,l);try{const u=s.getImageData(0,0,a,l),d=u.data,p=d.length,g=oe._hexToRgb(this.colorKey);for(let b=0;b<p;b+=4)d[b+3]>e?(d[b]=g.r,d[b+1]=g.g,d[b+2]=g.b,d[b+3]=255):d[b+3]=0;s.putImageData(u,0,0)}catch(u){oe.error("Unable to draw hit graph from cached scene canvas. "+u.message)}return this}hasPointerCapture(e){return X9(e,this)}setPointerCapture(e){Q9(e,this)}releaseCapture(e){m0(e)}}Te.prototype._fillFunc=YW;Te.prototype._strokeFunc=KW;Te.prototype._fillFuncHit=XW;Te.prototype._strokeFuncHit=QW;Te.prototype._centroid=!1;Te.prototype.nodeType="Shape";er(Te);Te.prototype.eventListeners={};Te.prototype.on.call(Te.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",WW);Te.prototype.on.call(Te.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",JW);Te.prototype.on.call(Te.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",$W);Te.prototype.on.call(Te.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",ZW);Te.prototype.on.call(Te.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",eJ);Q.addGetterSetter(Te,"stroke",void 0,Y9());Q.addGetterSetter(Te,"strokeWidth",2,Oe());Q.addGetterSetter(Te,"fillAfterStrokeEnabled",!1);Q.addGetterSetter(Te,"hitStrokeWidth","auto",GE());Q.addGetterSetter(Te,"strokeHitEnabled",!0,Eo());Q.addGetterSetter(Te,"perfectDrawEnabled",!0,Eo());Q.addGetterSetter(Te,"shadowForStrokeEnabled",!0,Eo());Q.addGetterSetter(Te,"lineJoin");Q.addGetterSetter(Te,"lineCap");Q.addGetterSetter(Te,"miterLimit");Q.addGetterSetter(Te,"sceneFunc");Q.addGetterSetter(Te,"hitFunc");Q.addGetterSetter(Te,"dash");Q.addGetterSetter(Te,"dashOffset",0,Oe());Q.addGetterSetter(Te,"shadowColor",void 0,Md());Q.addGetterSetter(Te,"shadowBlur",0,Oe());Q.addGetterSetter(Te,"shadowOpacity",1,Oe());Q.addComponentsGetterSetter(Te,"shadowOffset",["x","y"]);Q.addGetterSetter(Te,"shadowOffsetX",0,Oe());Q.addGetterSetter(Te,"shadowOffsetY",0,Oe());Q.addGetterSetter(Te,"fillPatternImage");Q.addGetterSetter(Te,"fill",void 0,Y9());Q.addGetterSetter(Te,"fillPatternX",0,Oe());Q.addGetterSetter(Te,"fillPatternY",0,Oe());Q.addGetterSetter(Te,"fillLinearGradientColorStops");Q.addGetterSetter(Te,"strokeLinearGradientColorStops");Q.addGetterSetter(Te,"fillRadialGradientStartRadius",0);Q.addGetterSetter(Te,"fillRadialGradientEndRadius",0);Q.addGetterSetter(Te,"fillRadialGradientColorStops");Q.addGetterSetter(Te,"fillPatternRepeat","repeat");Q.addGetterSetter(Te,"fillEnabled",!0);Q.addGetterSetter(Te,"strokeEnabled",!0);Q.addGetterSetter(Te,"shadowEnabled",!0);Q.addGetterSetter(Te,"dashEnabled",!0);Q.addGetterSetter(Te,"strokeScaleEnabled",!0);Q.addGetterSetter(Te,"fillPriority","color");Q.addComponentsGetterSetter(Te,"fillPatternOffset",["x","y"]);Q.addGetterSetter(Te,"fillPatternOffsetX",0,Oe());Q.addGetterSetter(Te,"fillPatternOffsetY",0,Oe());Q.addComponentsGetterSetter(Te,"fillPatternScale",["x","y"]);Q.addGetterSetter(Te,"fillPatternScaleX",1,Oe());Q.addGetterSetter(Te,"fillPatternScaleY",1,Oe());Q.addComponentsGetterSetter(Te,"fillLinearGradientStartPoint",["x","y"]);Q.addComponentsGetterSetter(Te,"strokeLinearGradientStartPoint",["x","y"]);Q.addGetterSetter(Te,"fillLinearGradientStartPointX",0);Q.addGetterSetter(Te,"strokeLinearGradientStartPointX",0);Q.addGetterSetter(Te,"fillLinearGradientStartPointY",0);Q.addGetterSetter(Te,"strokeLinearGradientStartPointY",0);Q.addComponentsGetterSetter(Te,"fillLinearGradientEndPoint",["x","y"]);Q.addComponentsGetterSetter(Te,"strokeLinearGradientEndPoint",["x","y"]);Q.addGetterSetter(Te,"fillLinearGradientEndPointX",0);Q.addGetterSetter(Te,"strokeLinearGradientEndPointX",0);Q.addGetterSetter(Te,"fillLinearGradientEndPointY",0);Q.addGetterSetter(Te,"strokeLinearGradientEndPointY",0);Q.addComponentsGetterSetter(Te,"fillRadialGradientStartPoint",["x","y"]);Q.addGetterSetter(Te,"fillRadialGradientStartPointX",0);Q.addGetterSetter(Te,"fillRadialGradientStartPointY",0);Q.addComponentsGetterSetter(Te,"fillRadialGradientEndPoint",["x","y"]);Q.addGetterSetter(Te,"fillRadialGradientEndPointX",0);Q.addGetterSetter(Te,"fillRadialGradientEndPointY",0);Q.addGetterSetter(Te,"fillPatternRotation",0);Q.addGetterSetter(Te,"fillRule",void 0,Md());Q.backCompat(Te,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const tJ="beforeDraw",nJ="draw",fR=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],rJ=fR.length;let Ad=class extends ra{constructor(e){super(e),this.canvas=new Ou,this.hitCanvas=new FE({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){ze.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!ze.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(ze.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(ze.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return ze.prototype.remove.call(this),e&&e.parentNode&&oe._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&oe.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),ze.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){oe.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){oe.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,oe.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<rJ;i++){const s=fR[i],a=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),l=a.shape;if(l)return l;if(r=!!a.antialiased,!a.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=oe.getHitColorKey(r[0],r[1],r[2]),a=y0[s];return a?{shape:a}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(tJ,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),ra.prototype.drawScene.call(this,s,n,r),this._fire(nJ,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),ra.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){oe.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return oe.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return oe.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Ad.prototype.nodeType="Layer";er(Ad);Q.addGetterSetter(Ad,"imageSmoothingEnabled",!0);Q.addGetterSetter(Ad,"clearBeforeDraw",!0);Q.addGetterSetter(Ad,"hitGraphEnabled",!0,Eo());class VE extends Ad{constructor(e){super(e),this.listening(!1),oe.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}VE.prototype.nodeType="FastLayer";er(VE);let Op=class extends ra{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&oe.throw("You may only add groups and shapes to groups.")}};Op.prototype.nodeType="Group";er(Op);const sw=(function(){return sd.performance&&sd.performance.now?function(){return sd.performance.now()}:function(){return new Date().getTime()}})();class Ua{constructor(e,n){this.id=Ua.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:sw(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Ua.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=sw(),Ua._addAnimation(this),this}stop(){return Ua._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,a=i.func;i._updateFrameObject(sw());const l=s.length;let u;if(a?u=a.call(i,i.frame)!==!1:u=!0,!!u)for(let d=0;d<l;d++){const p=s[d];p._id!==void 0&&(e[p._id]=p)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Ua;e.animations.length?(e._runFrames(),oe.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,oe.requestAnimFrame(this._animationLoop))}}Ua.animations=[];Ua.animIdCounter=0;Ua.animRunning=!1;const iJ={node:1,duration:1,easing:1,onFinish:1,yoyo:1},sJ=1,w_=2,C_=3,E_=["fill","stroke","shadowColor"];let aJ=0;class oJ{constructor(e,n,r,i,s,a,l){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=a,this._change=0,this.prevPos=0,this.yoyo=l,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=w_,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=C_,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===w_?this.setTime(e):this.state===C_&&this.setTime(this.duration-e)}pause(){this.state=sJ,this.fire("onPause")}getTimer(){return new Date().getTime()}}class gn{constructor(e){const n=this,r=e.node,i=r._id,s=e.easing||b0.Linear,a=!!e.yoyo;let l,u;typeof e.duration>"u"?l=.3:e.duration===0?l=.001:l=e.duration,this.node=r,this._id=aJ++;const d=r.getLayer()||(r instanceof Le.Stage?r.getLayers():null);d||oe.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Ua(function(){n.tween.onEnterFrame()},d),this.tween=new oJ(u,function(p){n._tweenFunc(p)},s,0,1,l*1e3,a),this._addListeners(),gn.attrs[i]||(gn.attrs[i]={}),gn.attrs[i][this._id]||(gn.attrs[i][this._id]={}),gn.tweens[i]||(gn.tweens[i]={});for(u in e)iJ[u]===void 0&&this._addAttr(u,e[u]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,i=r._id;let s,a,l,u,d;const p=gn.tweens[i][e];p&&delete gn.attrs[i][p][e];let g=r.getAttr(e);if(oe._isArray(n))if(s=[],a=Math.max(n.length,g.length),e==="points"&&n.length!==g.length&&(n.length>g.length?(u=g,g=oe._prepareArrayForTween(g,n,r.closed())):(l=n,n=oe._prepareArrayForTween(n,g,r.closed()))),e.indexOf("fill")===0)for(let b=0;b<a;b++)if(b%2===0)s.push(n[b]-g[b]);else{const x=oe.colorToRGBA(g[b]);d=oe.colorToRGBA(n[b]),g[b]=x,s.push({r:d.r-x.r,g:d.g-x.g,b:d.b-x.b,a:d.a-x.a})}else for(let b=0;b<a;b++)s.push(n[b]-g[b]);else E_.indexOf(e)!==-1?(g=oe.colorToRGBA(g),d=oe.colorToRGBA(n),s={r:d.r-g.r,g:d.g-g.g,b:d.b-g.b,a:d.a-g.a}):s=n-g;gn.attrs[i][this._id][e]={start:g,diff:s,end:n,trueEnd:l,trueStart:u},gn.tweens[i][e]=this._id}_tweenFunc(e){const n=this.node,r=gn.attrs[n._id][this._id];let i,s,a,l,u,d,p,g;for(i in r){if(s=r[i],a=s.start,l=s.diff,g=s.end,oe._isArray(a))if(u=[],p=Math.max(a.length,g.length),i.indexOf("fill")===0)for(d=0;d<p;d++)d%2===0?u.push((a[d]||0)+l[d]*e):u.push("rgba("+Math.round(a[d].r+l[d].r*e)+","+Math.round(a[d].g+l[d].g*e)+","+Math.round(a[d].b+l[d].b*e)+","+(a[d].a+l[d].a*e)+")");else for(d=0;d<p;d++)u.push((a[d]||0)+l[d]*e);else E_.indexOf(i)!==-1?u="rgba("+Math.round(a.r+l.r*e)+","+Math.round(a.g+l.g*e)+","+Math.round(a.b+l.b*e)+","+(a.a+l.a*e)+")":u=a+l*e;n.setAttr(i,u)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=gn.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=gn.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=gn.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in r)delete gn.tweens[e][i];delete gn.attrs[e][n],gn.tweens[e]&&(Object.keys(gn.tweens[e]).length===0&&delete gn.tweens[e],Object.keys(gn.attrs[e]).length===0&&delete gn.attrs[e])}}gn.attrs={};gn.tweens={};ze.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new gn(t).play()};const b0={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let i=1.70158;return(t/=r/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){let a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e)},ElasticEaseOut(t,e,n,r,i,s){let a=0;return t===0?e:(t/=r)===1?e+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){let a=0;return t===0?e:(t/=r/2)===2?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=s/4):a=s/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-b0.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?b0.BounceEaseIn(t*2,0,n,r)*.5+e:b0.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},Dp=oe._assign(Le,{Util:oe,Transform:ea,Node:ze,Container:ra,Stage:i2,stages:g0,Layer:Ad,FastLayer:VE,Group:Op,DD:Kt,Shape:Te,shapes:y0,Animation:Ua,Tween:gn,Easings:b0,Context:n2,Canvas:UE});class vc extends Te{_sceneFunc(e){const n=Le.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=Le.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),a=1,l=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),u=Math.sin(Math.min(i,Math.PI/2)),d=s*(s>0?e:n),p=a*n,g=l*(l>0?e:n),b=u*(u>0?n:e);return{x:d,y:r?-1*b:g,width:p-d,height:b-g}}}vc.prototype._centroid=!0;vc.prototype.className="Arc";vc.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];er(vc);Q.addGetterSetter(vc,"innerRadius",0,Oe());Q.addGetterSetter(vc,"outerRadius",0,Oe());Q.addGetterSetter(vc,"angle",0,Oe());Q.addGetterSetter(vc,"clockwise",!1,Eo());function UC(t,e,n,r,i,s,a){const l=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),u=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),d=a*l/(l+u),p=a*u/(l+u),g=n-d*(i-t),b=r-d*(s-e),x=n+p*(i-t),S=r+p*(s-e);return[g,b,x,S]}function k_(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=UC(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}let xc=class extends Te{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),a=this.bezier();if(!r)return;let l=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const u=this.getTensionPoints(),d=u.length;for(l=s?0:4,s||e.quadraticCurveTo(u[0],u[1],u[2],u[3]);l<d-2;)e.bezierCurveTo(u[l++],u[l++],u[l++],u[l++],u[l++],u[l++]);s||e.quadraticCurveTo(u[d-2],u[d-1],n[r-2],n[r-1])}else if(a)for(l=2;l<r;)e.bezierCurveTo(n[l++],n[l++],n[l++],n[l++],n[l++],n[l++]);else for(l=2;l<r;l+=2)e.lineTo(n[l],n[l+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():k_(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=UC(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=UC(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),a=k_(e,r);return[i[2],i[3]].concat(a).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],a,l;for(let u=0;u<e.length/2;u++)a=e[u*2],l=e[u*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,l),s=Math.max(s,l);return{x:n,y:i,width:r-n,height:s-i}}};xc.prototype.className="Line";xc.prototype._attrsAffectingSize=["points","bezier","tension"];er(xc);Q.addGetterSetter(xc,"closed",!1);Q.addGetterSetter(xc,"bezier",!1);Q.addGetterSetter(xc,"tension",0,Oe());Q.addGetterSetter(xc,"points",[],EW());const lJ=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],cJ=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],uJ=[[1],[1,1],[1,2,1],[1,3,3,1]],T_=(t,e,n)=>{let r,i;const a=n/2;r=0;for(let l=0;l<20;l++)i=a*lJ[20][l]+a,r+=cJ[20][l]*fJ(t,e,i);return a*r},__=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],s=2*t[1]-2*t[0],a=2*e[1]-2*e[0],l=4*(r*r+i*i),u=4*(r*s+i*a),d=s*s+a*a;if(l===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const p=u/(2*l),g=d/l,b=n+p,x=g-p*p,S=b*b+x>0?Math.sqrt(b*b+x):0,k=p*p+x>0?Math.sqrt(p*p+x):0,_=p+Math.sqrt(p*p+x)!==0?x*Math.log(Math.abs((b+S)/(p+k))):0;return Math.sqrt(l)/2*(b*S-p*k+_)};function fJ(t,e,n){const r=FC(1,n,t),i=FC(1,n,e),s=r*r+i*i;return Math.sqrt(s)}const FC=(t,e,n)=>{const r=n.length-1;let i,s;if(r===0)return 0;if(t===0){s=0;for(let a=0;a<=r;a++)s+=uJ[r][a]*Math.pow(1-e,r-a)*Math.pow(e,a)*n[a];return s}else{i=new Array(r);for(let a=0;a<r;a++)i[a]=r*(n[a+1]-n[a]);return FC(t-1,e,i)}},M_=(t,e,n)=>{let r=1,i=t/e,s=(t-n(i))/e,a=0;for(;r>.001;){const l=n(i+s),u=Math.abs(t-l)/e;if(u<r)r=u,i+=s;else{const d=n(i-s),p=Math.abs(t-d)/e;p<r?(r=p,i-=s):s/=2}if(a++,a>500)break}return i};class bn extends Te{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=bn.parsePathData(this.data()),this.pathLength=bn.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,a=n[i].points;switch(s){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const l=a[0],u=a[1],d=a[2],p=a[3],g=a[4],b=a[5],x=a[6],S=a[7],k=d>p?d:p,_=d>p?1:d/p,A=d>p?p/d:1;e.translate(l,u),e.rotate(x),e.scale(_,A),e.arc(0,0,k,g,g+b,1-S),e.scale(1/_,1/A),e.rotate(-x),e.translate(-l,-u);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(u){if(u.command==="A"){const d=u.points[4],p=u.points[5],g=u.points[4]+p;let b=Math.PI/180;if(Math.abs(d-g)<b&&(b=Math.abs(d-g)),p<0)for(let x=d-b;x>g;x-=b){const S=bn.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],x,0);e.push(S.x,S.y)}else for(let x=d+b;x<g;x+=b){const S=bn.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],x,0);e.push(S.x,S.y)}}else if(u.command==="C")for(let d=0;d<=1;d+=.01){const p=bn.getPointOnCubicBezier(d,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);e.push(p.x,p.y)}else e=e.concat(u.points)});let n=e[0],r=e[0],i=e[1],s=e[1],a,l;for(let u=0;u<e.length/2;u++)a=e[u*2],l=e[u*2+1],isNaN(a)||(n=Math.min(n,a),r=Math.max(r,a)),isNaN(l)||(i=Math.min(i,l),s=Math.max(s,l));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return bn.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const a=n[i],l=a.points;switch(a.command){case"L":return bn.getPointOnLine(e,a.start.x,a.start.y,l[0],l[1]);case"C":return bn.getPointOnCubicBezier(M_(e,bn.getPathLength(n),k=>T_([a.start.x,l[0],l[2],l[4]],[a.start.y,l[1],l[3],l[5]],k)),a.start.x,a.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return bn.getPointOnQuadraticBezier(M_(e,bn.getPathLength(n),k=>__([a.start.x,l[0],l[2]],[a.start.y,l[1],l[3]],k)),a.start.x,a.start.y,l[0],l[1],l[2],l[3]);case"A":const u=l[0],d=l[1],p=l[2],g=l[3],b=l[5],x=l[6];let S=l[4];return S+=b*e/a.pathLength,bn.getPointOnEllipticalArc(u,d,p,g,S,x)}return null}static getPointOnLine(e,n,r,i,s,a,l){a=a??n,l=l??r;const u=this.getLineLength(n,r,i,s);if(u<1e-10)return{x:n,y:r};if(i===n)return{x:a,y:l+(s>r?e:-e)};const d=(s-r)/(i-n),p=Math.sqrt(e*e/(1+d*d))*(i<n?-1:1),g=d*p;if(Math.abs(l-r-d*(a-n))<1e-10)return{x:a+p,y:l+g};const b=((a-n)*(i-n)+(l-r)*(s-r))/(u*u),x=n+b*(i-n),S=r+b*(s-r),k=this.getLineLength(a,l,x,S),_=Math.sqrt(e*e-k*k),A=Math.sqrt(_*_/(1+d*d))*(i<n?-1:1),O=d*A;return{x:x+A,y:S+O}}static getPointOnCubicBezier(e,n,r,i,s,a,l,u,d){function p(_){return _*_*_}function g(_){return 3*_*_*(1-_)}function b(_){return 3*_*(1-_)*(1-_)}function x(_){return(1-_)*(1-_)*(1-_)}const S=u*p(e)+a*g(e)+i*b(e)+n*x(e),k=d*p(e)+l*g(e)+s*b(e)+r*x(e);return{x:S,y:k}}static getPointOnQuadraticBezier(e,n,r,i,s,a,l){function u(x){return x*x}function d(x){return 2*x*(1-x)}function p(x){return(1-x)*(1-x)}const g=a*u(e)+i*d(e)+n*p(e),b=l*u(e)+s*d(e)+r*p(e);return{x:g,y:b}}static getPointOnEllipticalArc(e,n,r,i,s,a){const l=Math.cos(a),u=Math.sin(a),d={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(d.x*l-d.y*u),y:n+(d.x*u+d.y*l)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let g=0;g<r.length;g++)n=n.replace(new RegExp(r[g],"g"),"|"+r[g]);const i=n.split("|"),s=[],a=[];let l=0,u=0;const d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let p;for(let g=1;g<i.length;g++){let b=i[g],x=b.charAt(0);for(b=b.slice(1),a.length=0;p=d.exec(b);)a.push(p[0]);let S=[],k=x==="A"||x==="a"?0:-1;for(let _=0,A=a.length;_<A;_++){const O=a[_];if(O==="00"){S.push(0,0),k>=0&&(k+=2,k>=7&&(k-=7));continue}if(k>=0){if(k===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(O)){S.push(parseInt(O[0],10)),S.push(parseInt(O[1],10)),S.push(parseFloat(O.slice(2))),k+=3,k>=7&&(k-=7);continue}if(O==="11"||O==="10"||O==="01"){S.push(parseInt(O[0],10)),S.push(parseInt(O[1],10)),k+=2,k>=7&&(k-=7);continue}if(O==="0"||O==="1"){S.push(parseInt(O,10)),k+=1,k>=7&&(k-=7);continue}}else if(k===4){if(/^[01]\d+(?:\.\d+)?$/.test(O)){S.push(parseInt(O[0],10)),S.push(parseFloat(O.slice(1))),k+=2,k>=7&&(k-=7);continue}if(O==="0"||O==="1"){S.push(parseInt(O,10)),k+=1,k>=7&&(k-=7);continue}}const z=parseFloat(O);isNaN(z)?S.push(0):S.push(z),k+=1,k>=7&&(k-=7)}else{const z=parseFloat(O);isNaN(z)?S.push(0):S.push(z)}}for(;S.length>0&&!isNaN(S[0]);){let _="",A=[];const O=l,z=u;let L,H,j,P,I,Y,G,X,W,le;switch(x){case"l":l+=S.shift(),u+=S.shift(),_="L",A.push(l,u);break;case"L":l=S.shift(),u=S.shift(),A.push(l,u);break;case"m":const ee=S.shift(),te=S.shift();if(l+=ee,u+=te,_="M",s.length>2&&s[s.length-1].command==="z"){for(let V=s.length-2;V>=0;V--)if(s[V].command==="M"){l=s[V].points[0]+ee,u=s[V].points[1]+te;break}}A.push(l,u),x="l";break;case"M":l=S.shift(),u=S.shift(),_="M",A.push(l,u),x="L";break;case"h":l+=S.shift(),_="L",A.push(l,u);break;case"H":l=S.shift(),_="L",A.push(l,u);break;case"v":u+=S.shift(),_="L",A.push(l,u);break;case"V":u=S.shift(),_="L",A.push(l,u);break;case"C":A.push(S.shift(),S.shift(),S.shift(),S.shift()),l=S.shift(),u=S.shift(),A.push(l,u);break;case"c":A.push(l+S.shift(),u+S.shift(),l+S.shift(),u+S.shift()),l+=S.shift(),u+=S.shift(),_="C",A.push(l,u);break;case"S":H=l,j=u,L=s[s.length-1],L.command==="C"&&(H=l+(l-L.points[2]),j=u+(u-L.points[3])),A.push(H,j,S.shift(),S.shift()),l=S.shift(),u=S.shift(),_="C",A.push(l,u);break;case"s":H=l,j=u,L=s[s.length-1],L.command==="C"&&(H=l+(l-L.points[2]),j=u+(u-L.points[3])),A.push(H,j,l+S.shift(),u+S.shift()),l+=S.shift(),u+=S.shift(),_="C",A.push(l,u);break;case"Q":A.push(S.shift(),S.shift()),l=S.shift(),u=S.shift(),A.push(l,u);break;case"q":A.push(l+S.shift(),u+S.shift()),l+=S.shift(),u+=S.shift(),_="Q",A.push(l,u);break;case"T":H=l,j=u,L=s[s.length-1],L.command==="Q"&&(H=l+(l-L.points[0]),j=u+(u-L.points[1])),l=S.shift(),u=S.shift(),_="Q",A.push(H,j,l,u);break;case"t":H=l,j=u,L=s[s.length-1],L.command==="Q"&&(H=l+(l-L.points[0]),j=u+(u-L.points[1])),l+=S.shift(),u+=S.shift(),_="Q",A.push(H,j,l,u);break;case"A":P=S.shift(),I=S.shift(),Y=S.shift(),G=S.shift(),X=S.shift(),W=l,le=u,l=S.shift(),u=S.shift(),_="A",A=this.convertEndpointToCenterParameterization(W,le,l,u,G,X,P,I,Y);break;case"a":P=S.shift(),I=S.shift(),Y=S.shift(),G=S.shift(),X=S.shift(),W=l,le=u,l+=S.shift(),u+=S.shift(),_="A",A=this.convertEndpointToCenterParameterization(W,le,l,u,G,X,P,I,Y);break}s.push({command:_||x,points:A,start:{x:O,y:z},pathLength:this.calcLength(O,z,_||x,A)})}(x==="z"||x==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,a,l,u;const d=bn;switch(r){case"L":return d.getLineLength(e,n,i[0],i[1]);case"C":return T_([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return __([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const p=i[4],g=i[5],b=i[4]+g;let x=Math.PI/180;if(Math.abs(p-b)<x&&(x=Math.abs(p-b)),a=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),g<0)for(u=p-x;u>b;u-=x)l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),s+=d.getLineLength(a.x,a.y,l.x,l.y),a=l;else for(u=p+x;u<b;u+=x)l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0),s+=d.getLineLength(a.x,a.y,l.x,l.y),a=l;return l=d.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],b,0),s+=d.getLineLength(a.x,a.y,l.x,l.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,a,l,u,d){const p=d*(Math.PI/180),g=Math.cos(p)*(e-r)/2+Math.sin(p)*(n-i)/2,b=-1*Math.sin(p)*(e-r)/2+Math.cos(p)*(n-i)/2,x=g*g/(l*l)+b*b/(u*u);x>1&&(l*=Math.sqrt(x),u*=Math.sqrt(x));let S=Math.sqrt((l*l*(u*u)-l*l*(b*b)-u*u*(g*g))/(l*l*(b*b)+u*u*(g*g)));s===a&&(S*=-1),isNaN(S)&&(S=0);const k=S*l*b/u,_=S*-u*g/l,A=(e+r)/2+Math.cos(p)*k-Math.sin(p)*_,O=(n+i)/2+Math.sin(p)*k+Math.cos(p)*_,z=function(G){return Math.sqrt(G[0]*G[0]+G[1]*G[1])},L=function(G,X){return(G[0]*X[0]+G[1]*X[1])/(z(G)*z(X))},H=function(G,X){return(G[0]*X[1]<G[1]*X[0]?-1:1)*Math.acos(L(G,X))},j=H([1,0],[(g-k)/l,(b-_)/u]),P=[(g-k)/l,(b-_)/u],I=[(-1*g-k)/l,(-1*b-_)/u];let Y=H(P,I);return L(P,I)<=-1&&(Y=Math.PI),L(P,I)>=1&&(Y=0),a===0&&Y>0&&(Y=Y-2*Math.PI),a===1&&Y<0&&(Y=Y+2*Math.PI),[A,O,l,u,j,Y,p,a]}}bn.prototype.className="Path";bn.prototype._attrsAffectingSize=["data"];er(bn);Q.addGetterSetter(bn,"data");let Nd=class extends xc{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const a=this.pointerLength(),l=r.length;let u,d;if(s){const b=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[l-2],r[l-1]],x=bn.calcLength(i[i.length-4],i[i.length-3],"C",b),S=bn.getPointOnQuadraticBezier(Math.min(1,1-a/x),b[0],b[1],b[2],b[3],b[4],b[5]);u=r[l-2]-S.x,d=r[l-1]-S.y}else u=r[l-2]-r[l-4],d=r[l-1]-r[l-3];const p=(Math.atan2(d,u)+n)%n,g=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[l-2],r[l-1]),e.rotate(p),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(u=(i[0]+i[2])/2-r[0],d=(i[1]+i[3])/2-r[1]):(u=r[2]-r[0],d=r[3]-r[1]),e.rotate((Math.atan2(-d,-u)+n)%n),e.moveTo(0,0),e.lineTo(-a,g/2),e.lineTo(-a,-g/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};Nd.prototype.className="Arrow";er(Nd);Q.addGetterSetter(Nd,"pointerLength",10,Oe());Q.addGetterSetter(Nd,"pointerWidth",10,Oe());Q.addGetterSetter(Nd,"pointerAtBeginning",!1);Q.addGetterSetter(Nd,"pointerAtEnding",!0);let Vp=class extends Te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Vp.prototype._centroid=!0;Vp.prototype.className="Circle";Vp.prototype._attrsAffectingSize=["radius"];er(Vp);Q.addGetterSetter(Vp,"radius",0,Oe());class $u extends Te{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}$u.prototype.className="Ellipse";$u.prototype._centroid=!0;$u.prototype._attrsAffectingSize=["radiusX","radiusY"];er($u);Q.addComponentsGetterSetter($u,"radius",["x","y"]);Q.addGetterSetter($u,"radiusX",0,Oe());Q.addGetterSetter($u,"radiusY",0,Oe());class oa extends Te{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let a;if(s){const l=this.attrs.cropWidth,u=this.attrs.cropHeight;l&&u?a=[s,this.cropX(),this.cropY(),l,u,0,0,n,r]:a=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?oe.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?oe.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const i=oe.createImageElement();i.onload=function(){const s=new oa({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}oa.prototype.className="Image";oa.prototype._attrsAffectingSize=["image"];er(oa);Q.addGetterSetter(oa,"cornerRadius",0,r2(4));Q.addGetterSetter(oa,"image");Q.addComponentsGetterSetter(oa,"crop",["x","y","width","height"]);Q.addGetterSetter(oa,"cropX",0,Oe());Q.addGetterSetter(oa,"cropY",0,Oe());Q.addGetterSetter(oa,"cropWidth",0,Oe());Q.addGetterSetter(oa,"cropHeight",0,Oe());const dR=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],dJ="Change.konva",hJ="none",GC="up",qC="right",VC="down",YC="left",pJ=dR.length;let YE=class extends Op{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<pJ;r++)e.on(dR[r]+dJ,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,a,l,u,d;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),a=n.pointerWidth(),d=n.pointerHeight(),l=0,u=0,s){case GC:l=r/2,u=-1*d;break;case qC:l=r+a,u=i/2;break;case VC:l=r/2,u=i+d;break;case YC:l=-1*a,u=i/2;break}n.setAttrs({x:-1*l,y:-1*u,width:r,height:i}),e.setAttrs({x:-1*l,y:-1*u})}}};YE.prototype.className="Label";er(YE);class Rd extends Te{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),a=this.pointerHeight(),l=this.cornerRadius();let u=0,d=0,p=0,g=0;typeof l=="number"?u=d=p=g=Math.min(l,n/2,r/2):(u=Math.min(l[0]||0,n/2,r/2),d=Math.min(l[1]||0,n/2,r/2),g=Math.min(l[2]||0,n/2,r/2),p=Math.min(l[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(u,0),i===GC&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+s)/2,0)),e.lineTo(n-d,0),e.arc(n-d,d,d,Math.PI*3/2,0,!1),i===qC&&(e.lineTo(n,(r-a)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+a)/2)),e.lineTo(n,r-g),e.arc(n-g,r-g,g,0,Math.PI/2,!1),i===VC&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+a),e.lineTo((n-s)/2,r)),e.lineTo(p,r),e.arc(p,r-p,p,Math.PI/2,Math.PI,!1),i===YC&&(e.lineTo(0,(r+a)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-a)/2)),e.lineTo(0,u),e.arc(u,u,u,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),a=this.width(),l=this.height();return s===GC?(n-=i,l+=i):s===VC?l+=i:s===YC?(e-=r*1.5,a+=r):s===qC&&(a+=r*1.5),{x:e,y:n,width:a,height:l}}}Rd.prototype.className="Tag";er(Rd);Q.addGetterSetter(Rd,"pointerDirection",hJ);Q.addGetterSetter(Rd,"pointerWidth",0,Oe());Q.addGetterSetter(Rd,"pointerHeight",0,Oe());Q.addGetterSetter(Rd,"cornerRadius",0,r2(4));let oy=class extends Te{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?oe.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};oy.prototype.className="Rect";er(oy);Q.addGetterSetter(oy,"cornerRadius",0,r2(4));class Zu extends Te{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),i=this.sides(),s=this.cornerRadius();if(e.beginPath(),s)oe.drawRoundedPolygonPath(e,n,i,r,s);else{e.moveTo(n[0].x,n[0].y);for(let a=1;a<n.length;a++)e.lineTo(n[a].x,n[a].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,i=e[0].y,s=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),s=Math.max(s,a.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Zu.prototype.className="RegularPolygon";Zu.prototype._centroid=!0;Zu.prototype._attrsAffectingSize=["radius"];er(Zu);Q.addGetterSetter(Zu,"radius",0,Oe());Q.addGetterSetter(Zu,"sides",0,Oe());Q.addGetterSetter(Zu,"cornerRadius",0,r2(4));const A_=Math.PI*2;class Od extends Te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,A_,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),A_,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Od.prototype.className="Ring";Od.prototype._centroid=!0;Od.prototype._attrsAffectingSize=["innerRadius","outerRadius"];er(Od);Q.addGetterSetter(Od,"innerRadius",0,Oe());Q.addGetterSetter(Od,"outerRadius",0,Oe());class gl extends Te{constructor(e){super(e),this._updated=!0,this.anim=new Ua(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),l=s[i+0],u=s[i+1],d=s[i+2],p=s[i+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,d,p),e.closePath(),e.fillStrokeShape(this)),g)if(a){const b=a[n],x=r*2;e.drawImage(g,l,u,d,p,b[x+0],b[x+1],d,p)}else e.drawImage(g,l,u,d,p,0,0,d,p)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],a=this.frameOffsets(),l=s[i+2],u=s[i+3];if(e.beginPath(),a){const d=a[n],p=r*2;e.rect(d[p+0],d[p+1],l,u)}else e.rect(0,0,l,u);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}gl.prototype.className="Sprite";er(gl);Q.addGetterSetter(gl,"animation");Q.addGetterSetter(gl,"animations");Q.addGetterSetter(gl,"frameOffsets");Q.addGetterSetter(gl,"image");Q.addGetterSetter(gl,"frameIndex",0,Oe());Q.addGetterSetter(gl,"frameRate",17,Oe());Q.backCompat(gl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class ef extends Te{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const a=s%2===0?r:n,l=a*Math.sin(s*Math.PI/i),u=-1*a*Math.cos(s*Math.PI/i);e.lineTo(l,u)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}ef.prototype.className="Star";ef.prototype._centroid=!0;ef.prototype._attrsAffectingSize=["innerRadius","outerRadius"];er(ef);Q.addGetterSetter(ef,"numPoints",5,Oe());Q.addGetterSetter(ef,"innerRadius",0,Oe());Q.addGetterSetter(ef,"outerRadius",0,Oe());function ku(t){return[...t].reduce((e,n,r,i)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const s=i[r+1];s&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const sp="auto",mJ="center",hR="inherit",Bg="justify",gJ="Change.konva",yJ="2d",N_="-",pR="left",bJ="text",vJ="Text",xJ="top",SJ="bottom",R_="middle",mR="normal",wJ="px ",jb=" ",CJ="right",O_="rtl",EJ="word",kJ="char",D_="none",aw="",gR=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],TJ=gR.length;function _J(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Lb;function ow(){return Lb||(Lb=oe.createCanvasElement().getContext(yJ),Lb)}function MJ(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function AJ(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function NJ(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class An extends Te{constructor(e){super(NJ(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<TJ;n++)this.on(gR[n]+gJ,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const i=this.textArr,s=i.length;if(!this.text())return;let a=this.padding(),l=this.fontSize(),u=this.lineHeight()*l,d=this.verticalAlign(),p=this.direction(),g=0,b=this.align(),x=this.getWidth(),S=this.letterSpacing(),k=this.charRenderFunc(),_=this.fill(),A=this.textDecoration(),O=A.indexOf("underline")!==-1,z=A.indexOf("line-through")!==-1,L;p=p===hR?e.direction:p;let H=u/2,j=R_;if(!Le.legacyTextRendering){const P=this.measureSize("M");j="alphabetic";const I=(n=P.fontBoundingBoxAscent)!==null&&n!==void 0?n:P.actualBoundingBoxAscent,Y=(r=P.fontBoundingBoxDescent)!==null&&r!==void 0?r:P.actualBoundingBoxDescent;H=(I-Y)/2+u/2}for(p===O_&&e.setAttr("direction",p),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",j),e.setAttr("textAlign",pR),d===R_?g=(this.getHeight()-s*u-a*2)/2:d===SJ&&(g=this.getHeight()-s*u-a*2),e.translate(a,g+a),L=0;L<s;L++){let P=0,I=0;const Y=i[L],G=Y.text,X=Y.width,W=Y.lastInParagraph;if(e.save(),b===CJ?P+=x-X-a*2:b===mJ&&(P+=(x-X-a*2)/2),O){e.save(),e.beginPath();const ee=Le.legacyTextRendering?Math.round(l/2):Math.round(l/4),te=P,V=H+I+ee;e.moveTo(te,V);const re=b===Bg&&!W?x-a*2:X;e.lineTo(te+Math.round(re),V),e.lineWidth=l/15;const J=this._getLinearGradient();e.strokeStyle=J||_,e.stroke(),e.restore()}const le=P;if(p!==O_&&(S!==0||b===Bg||k)){const ee=G.split(" ").length-1,te=ku(G);for(let V=0;V<te.length;V++){const re=te[V];if(re===" "&&!W&&b===Bg&&(P+=(x-a*2-X)/ee),this._partialTextX=P,this._partialTextY=H+I,this._partialText=re,k){e.save();const fe=i.slice(0,L).reduce((K,ie)=>K+ku(ie.text).length,0),q=V+fe;k({char:re,index:q,x:P,y:H+I,lineIndex:L,column:V,isLastInLine:W,width:this.measureSize(re).width,context:e})}e.fillStrokeShape(this),k&&e.restore(),P+=this.measureSize(re).width+S}}else S!==0&&e.setAttr("letterSpacing",`${S}px`),this._partialTextX=P,this._partialTextY=H+I,this._partialText=G,e.fillStrokeShape(this);if(z){e.save(),e.beginPath();const ee=Le.legacyTextRendering?0:-Math.round(l/4),te=le;e.moveTo(te,H+I+ee);const V=b===Bg&&!W?x-a*2:X;e.lineTo(te+Math.round(V),H+I+ee),e.lineWidth=l/15;const re=this._getLinearGradient();e.strokeStyle=re||_,e.stroke(),e.restore()}e.restore(),s>1&&(H+=u)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=oe._isString(e)?e:e==null?"":e+"";return this._setAttr(bJ,n),this}getWidth(){return this.attrs.width===sp||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===sp||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return oe.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,a,l,u,d,p,g,b;let x=ow(),S=this.fontSize(),k;x.save(),x.font=this._getContextFont(),k=x.measureText(e),x.restore();const _=S/100;return{actualBoundingBoxAscent:(n=k.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*_,actualBoundingBoxDescent:(r=k.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=k.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*_,actualBoundingBoxRight:(s=k.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*_,alphabeticBaseline:(a=k.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(l=k.emHeightAscent)!==null&&l!==void 0?l:100*_,emHeightDescent:(u=k.emHeightDescent)!==null&&u!==void 0?u:-20*_,fontBoundingBoxAscent:(d=k.fontBoundingBoxAscent)!==null&&d!==void 0?d:91*_,fontBoundingBoxDescent:(p=k.fontBoundingBoxDescent)!==null&&p!==void 0?p:21*_,hangingBaseline:(g=k.hangingBaseline)!==null&&g!==void 0?g:72.80000305175781*_,ideographicBaseline:(b=k.ideographicBaseline)!==null&&b!==void 0?b:-21*_,width:k.width,height:S}}_getContextFont(){return this.fontStyle()+jb+this.fontVariant()+jb+(this.fontSize()+wJ)+_J(this.fontFamily())}_addTextLine(e){this.align()===Bg&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return ow().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,a=this.attrs.height,l=s!==sp&&s!==void 0,u=a!==sp&&a!==void 0,d=this.padding(),p=s-d*2,g=a-d*2,b=0,x=this.wrap(),S=x!==D_,k=x!==kJ&&S,_=this.ellipsis();this.textArr=[],ow().font=this._getContextFont();const A=_?this._getTextWidth(aw):0;for(let O=0,z=e.length;O<z;++O){let L=e[O],H=this._getTextWidth(L);if(l&&H>p)for(;L.length>0;){let j=0,P=ku(L).length,I="",Y=0;for(;j<P;){const G=j+P>>>1,X=ku(L),W=X.slice(0,G+1).join(""),le=this._getTextWidth(W);(_&&u&&b+i>g?le+A:le)<=p?(j=G+1,I=W,Y=le):P=G}if(I){if(k){const W=ku(L),le=ku(I),ee=W[le.length],te=ee===jb||ee===N_;let V;if(te&&Y<=p)V=le.length;else{const re=le.lastIndexOf(jb),J=le.lastIndexOf(N_);V=Math.max(re,J)+1}V>0&&(j=V,I=W.slice(0,j).join(""),Y=this._getTextWidth(I))}if(I=I.trimRight(),this._addTextLine(I),r=Math.max(r,Y),b+=i,this._shouldHandleEllipsis(b)){this._tryToAddEllipsisToLastLine();break}if(L=ku(L).slice(j).join("").trimLeft(),L.length>0&&(H=this._getTextWidth(L),H<=p)){this._addTextLine(L),b+=i,r=Math.max(r,H);break}}else break}else this._addTextLine(L),b+=i,r=Math.max(r,H),this._shouldHandleEllipsis(b)&&O<z-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),u&&b+i>g)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==sp&&i!==void 0,a=this.padding(),l=i-a*2;return!(this.wrap()!==D_)||s&&e+r>l}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==sp&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!s||(n&&(this._getTextWidth(a.text+aw)<i||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+aw))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}}An.prototype._fillFunc=MJ;An.prototype._strokeFunc=AJ;An.prototype.className=vJ;An.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];er(An);Q.overWriteSetter(An,"width",GE());Q.overWriteSetter(An,"height",GE());Q.addGetterSetter(An,"direction",hR);Q.addGetterSetter(An,"fontFamily","Arial");Q.addGetterSetter(An,"fontSize",12,Oe());Q.addGetterSetter(An,"fontStyle",mR);Q.addGetterSetter(An,"fontVariant",mR);Q.addGetterSetter(An,"padding",0,Oe());Q.addGetterSetter(An,"align",pR);Q.addGetterSetter(An,"verticalAlign",xJ);Q.addGetterSetter(An,"lineHeight",1,Oe());Q.addGetterSetter(An,"wrap",EJ);Q.addGetterSetter(An,"ellipsis",!1,Eo());Q.addGetterSetter(An,"letterSpacing",0,Oe());Q.addGetterSetter(An,"text","",Md());Q.addGetterSetter(An,"textDecoration","");Q.addGetterSetter(An,"charRenderFunc",void 0);const RJ="",yR="normal";function bR(t){t.fillText(this.partialText,0,0)}function vR(t){t.strokeText(this.partialText,0,0)}class Vr extends Te{constructor(e){super(e),this.dummyCanvas=oe.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return bn.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:bn.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=bn.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo,a=n.indexOf("underline")!==-1,l=n.indexOf("line-through")!==-1;a&&e.beginPath();for(let u=0;u<s.length;u++){e.save();const d=s[u].p0;e.translate(d.x,d.y),e.rotate(s[u].rotation),this.partialText=s[u].text,e.fillStrokeShape(this),a&&(u===0&&e.moveTo(0,i/2+1),e.lineTo(s[u].width,i/2+1)),e.restore()}if(a&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),l){e.beginPath();for(let u=0;u<s.length;u++){e.save();const d=s[u].p0;e.translate(d.x,d.y),e.rotate(s[u].rotation),u===0&&e.moveTo(0,0),e.lineTo(s[u].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return oe.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return An.prototype.setText.call(this,e)}_getContextFont(){return An.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=ku(this.text()),n=[];let r=0;for(let g=0;g<e.length;g++)n.push({char:e[g],width:this._getTextSize(e[g]).width}),r+=n[g].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const s=this.letterSpacing(),a=this.align(),l=this.kerningFunc(),u=Math.max(this.textWidth+((this.attrs.text||"").length-1)*s,0);let d=0;a==="center"&&(d=Math.max(0,this.pathLength/2-u/2)),a==="right"&&(d=Math.max(0,this.pathLength-u));let p=d;for(let g=0;g<n.length;g++){const b=this._getPointAtLength(p);if(!b)return;const x=n[g].char;let S=n[g].width+s;if(x===" "&&a==="justify"){const L=this.text().split(" ").length-1;S+=(this.pathLength-u)/L}const k=this._getPointAtLength(p+S);if(!k)return;const _=bn.getLineLength(b.x,b.y,k.x,k.y);let A=0;if(l)try{A=l(n[g-1].char,x)*this.fontSize()}catch{A=0}b.x+=A,k.x+=A,this.textWidth+=A;const O=bn.getPointOnLine(A+_/2,b.x,b.y,k.x,k.y),z=Math.atan2(k.y-b.y,k.x-b.x);this.glyphInfo.push({transposeX:O.x,transposeY:O.y,text:e[g],rotation:z,p0:b,p1:k,width:_}),p+=S}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(d){e.push(d.p0.x),e.push(d.p0.y),e.push(d.p1.x),e.push(d.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,a,l;for(let d=0;d<e.length/2;d++)a=e[d*2],l=e[d*2+1],n=Math.min(n,a),r=Math.max(r,a),i=Math.min(i,l),s=Math.max(s,l);const u=this.fontSize();return{x:n-u/2,y:i-u/2,width:r-n+u,height:s-i+u}}destroy(){return oe.releaseCanvas(this.dummyCanvas),super.destroy()}}Vr.prototype._fillFunc=bR;Vr.prototype._strokeFunc=vR;Vr.prototype._fillFuncHit=bR;Vr.prototype._strokeFuncHit=vR;Vr.prototype.className="TextPath";Vr.prototype._attrsAffectingSize=["text","fontSize","data"];er(Vr);Q.addGetterSetter(Vr,"data");Q.addGetterSetter(Vr,"fontFamily","Arial");Q.addGetterSetter(Vr,"fontSize",12,Oe());Q.addGetterSetter(Vr,"fontStyle",yR);Q.addGetterSetter(Vr,"align","left");Q.addGetterSetter(Vr,"letterSpacing",0,Oe());Q.addGetterSetter(Vr,"textBaseline","middle");Q.addGetterSetter(Vr,"fontVariant",yR);Q.addGetterSetter(Vr,"text",RJ);Q.addGetterSetter(Vr,"textDecoration","");Q.addGetterSetter(Vr,"kerningFunc",void 0);const xR="tr-konva",OJ=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${xR}`).join(" "),z_="nodesRect",DJ=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],zJ={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},jJ="ontouchstart"in Le._global;function LJ(t,e,n){if(t==="rotater")return n;e+=oe.degToRad(zJ[t]||0);const r=(oe.radToDeg(e)%360+360)%360;return oe._inRange(r,315+22.5,360)||oe._inRange(r,0,22.5)?"ns-resize":oe._inRange(r,45-22.5,45+22.5)?"nesw-resize":oe._inRange(r,90-22.5,90+22.5)?"ew-resize":oe._inRange(r,135-22.5,135+22.5)?"nwse-resize":oe._inRange(r,180-22.5,180+22.5)?"ns-resize":oe._inRange(r,225-22.5,225+22.5)?"nesw-resize":oe._inRange(r,270-22.5,270+22.5)?"ew-resize":oe._inRange(r,315-22.5,315+22.5)?"nwse-resize":(oe.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const ux=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function PJ(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function SR(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function BJ(t,e){const n=PJ(t);return SR(t,e,n)}function IJ(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Le.getAngle(t[i]),a=Math.abs(s-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(r=s)}return r}let KC=0;class Bt extends Op{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(OJ,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return oe.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return xR+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(oe.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const a=i._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");i.on(a,s)}i.on(DJ.map(a=>a+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,a=i.y-n.y;this.nodes().forEach(l=>{if(l===e||l.isDragging())return;const u=l.getAbsolutePosition();l.setAbsolutePosition({x:u.x+s,y:u.y+a}),l.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(z_),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(z_,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),a=e.getAbsolutePosition(r),l=i.x*s.x-e.offsetX()*s.x,u=i.y*s.y-e.offsetY()*s.y,d=(Le.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),p={x:a.x+l*Math.cos(d)+u*Math.sin(-d),y:a.y+u*Math.cos(d)+l*Math.sin(d),width:i.width*s.x,height:i.height*s.y,rotation:d};return SR(p,-Le.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(d=>{const p=d.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),g=[{x:p.x,y:p.y},{x:p.x+p.width,y:p.y},{x:p.x+p.width,y:p.y+p.height},{x:p.x,y:p.y+p.height}],b=d.getAbsoluteTransform();g.forEach(function(x){const S=b.point(x);n.push(S)})});const r=new ea;r.rotate(-Le.getAngle(this.rotation()));let i=1/0,s=1/0,a=-1/0,l=-1/0;n.forEach(function(d){const p=r.point(d);i===void 0&&(i=a=p.x,s=l=p.y),i=Math.min(i,p.x),s=Math.min(s,p.y),a=Math.max(a,p.x),l=Math.max(l,p.y)}),r.invert();const u=r.point({x:i,y:s});return{x:u.x,y:u.y,width:a-i,height:l-s,rotation:Le.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ux.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new oy({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:jJ?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Le.getAngle(this.rotation()),s=this.rotateAnchorCursor(),a=LJ(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new Te({name:"back",width:0,height:0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*oe._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),l=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:l.x-a.x,y:l.y-a.y},KC++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(u=>{u._fire("transformstart",{evt:e.evt,target:u})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),a=s.getStage();a.setPointersPositions(e);const l=a.getPointerPosition();let u={x:l.x-this._anchorDragOffset.x,y:l.y-this._anchorDragOffset.y};const d=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(u=this.anchorDragBoundFunc()(d,u,e)),s.setAbsolutePosition(u);const p=s.getAbsolutePosition();if(d.x===p.x&&d.y===p.y)return;if(this._movingAnchorName==="rotater"){const O=this._getNodeRect();n=s.x()-O.width/2,r=-s.y()+O.height/2;let z=Math.atan2(-r,n)+Math.PI/2;O.height<0&&(z-=Math.PI);const H=Le.getAngle(this.rotation())+z,j=Le.getAngle(this.rotationSnapTolerance()),I=IJ(this.rotationSnaps(),H,j)-O.rotation,Y=BJ(O,I);this._fitNodesInto(Y,e);return}const g=this.shiftBehavior();let b;g==="inverted"?b=this.keepRatio()&&!e.shiftKey:g==="none"?b=this.keepRatio():b=this.keepRatio()||e.shiftKey;let x=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(O.x-s.x(),2)+Math.pow(O.y-s.y(),2));const z=this.findOne(".top-left").x()>O.x?-1:1,L=this.findOne(".top-left").y()>O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,this.findOne(".top-left").x(O.x-n),this.findOne(".top-left").y(O.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-O.x,2)+Math.pow(O.y-s.y(),2));const z=this.findOne(".top-right").x()<O.x?-1:1,L=this.findOne(".top-right").y()>O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,this.findOne(".top-right").x(O.x+n),this.findOne(".top-right").y(O.y-r)}var S=s.position();this.findOne(".top-left").y(S.y),this.findOne(".bottom-right").x(S.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(O.x-s.x(),2)+Math.pow(s.y()-O.y,2));const z=O.x<s.x()?-1:1,L=s.y()<O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,s.x(O.x-n),s.y(O.y+r)}S=s.position(),this.findOne(".top-left").x(S.x),this.findOne(".bottom-right").y(S.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(b){const O=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-O.x,2)+Math.pow(s.y()-O.y,2));const z=this.findOne(".bottom-right").x()<O.x?-1:1,L=this.findOne(".bottom-right").y()<O.y?-1:1;n=i*this.cos*z,r=i*this.sin*L,this.findOne(".bottom-right").x(O.x+n),this.findOne(".bottom-right").y(O.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(x=this.centeredScaling()||e.altKey,x){const O=this.findOne(".top-left"),z=this.findOne(".bottom-right"),L=O.x(),H=O.y(),j=this.getWidth()-z.x(),P=this.getHeight()-z.y();z.move({x:-L,y:-H}),O.move({x:j,y:P})}const k=this.findOne(".top-left").getAbsolutePosition();n=k.x,r=k.y;const _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),A=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:_,height:A,rotation:Le.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();KC--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(oe._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(oe._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new ea;if(s.rotate(Le.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const b=s.point({x:-this.padding()*2,y:0});e.x+=b.x,e.y+=b.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const b=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const b=s.point({x:0,y:-this.padding()*2});e.x+=b.x,e.y+=b.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const b=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=b.x,this._anchorDragOffset.y-=b.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const b=this.boundBoxFunc()(r,e);b?e=b:oe.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,l=new ea;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/a,r.height/a);const u=new ea,d=e.width/a,p=e.height/a;this.flipEnabled()===!1?(u.translate(e.x,e.y),u.rotate(e.rotation),u.translate(e.width<0?e.width:0,e.height<0?e.height:0),u.scale(Math.abs(d),Math.abs(p))):(u.translate(e.x,e.y),u.rotate(e.rotation),u.scale(d,p));const g=u.multiply(l.invert());this._nodes.forEach(b=>{var x;if(!b.getStage())return;const S=b.getParent().getAbsoluteTransform(),k=b.getTransform().copy();k.translate(b.offsetX(),b.offsetY());const _=new ea;_.multiply(S.copy().invert()).multiply(g).multiply(S).multiply(k);const A=_.decompose();b.setAttrs(A),(x=b.getLayer())===null||x===void 0||x.batchDraw()}),this.rotation(oe._getRotation(e.rotation)),this._nodes.forEach(b=>{this._fire("transform",{evt:n,target:b}),b._fire("transform",{evt:n,target:b})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(oe._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),a=this.resizeEnabled(),l=this.padding(),u=this.anchorSize(),d=this.find("._anchor");d.forEach(g=>{g.setAttrs({width:u,height:u,offsetX:u/2,offsetY:u/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:u/2+l,offsetY:u/2+l,visible:a&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:u/2+l,visible:a&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:u/2-l,offsetY:u/2+l,visible:a&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:u/2+l,visible:a&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:u/2-l,visible:a&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:u/2+l,offsetY:u/2-l,visible:a&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:u/2-l,visible:a&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:u/2-l,offsetY:u/2-l,visible:a&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*oe._sign(i)-l,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(g=>g.draggable()),x:0,y:0});const p=this.anchorStyleFunc();p&&d.forEach(g=>{p(g)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Op.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return ze.prototype.toObject.call(this)}clone(e){return ze.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Bt.isTransforming=()=>KC>0;function HJ(t){return t instanceof Array||oe.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){ux.indexOf(e)===-1&&oe.warn("Unknown anchor name: "+e+". Available names are: "+ux.join(", "))}),t||[]}Bt.prototype.className="Transformer";er(Bt);Q.addGetterSetter(Bt,"enabledAnchors",ux,HJ);Q.addGetterSetter(Bt,"flipEnabled",!0,Eo());Q.addGetterSetter(Bt,"resizeEnabled",!0);Q.addGetterSetter(Bt,"anchorSize",10,Oe());Q.addGetterSetter(Bt,"rotateEnabled",!0);Q.addGetterSetter(Bt,"rotateLineVisible",!0);Q.addGetterSetter(Bt,"rotationSnaps",[]);Q.addGetterSetter(Bt,"rotateAnchorOffset",50,Oe());Q.addGetterSetter(Bt,"rotateAnchorCursor","crosshair");Q.addGetterSetter(Bt,"rotationSnapTolerance",5,Oe());Q.addGetterSetter(Bt,"borderEnabled",!0);Q.addGetterSetter(Bt,"anchorStroke","rgb(0, 161, 255)");Q.addGetterSetter(Bt,"anchorStrokeWidth",1,Oe());Q.addGetterSetter(Bt,"anchorFill","white");Q.addGetterSetter(Bt,"anchorCornerRadius",0,Oe());Q.addGetterSetter(Bt,"borderStroke","rgb(0, 161, 255)");Q.addGetterSetter(Bt,"borderStrokeWidth",1,Oe());Q.addGetterSetter(Bt,"borderDash");Q.addGetterSetter(Bt,"keepRatio",!0);Q.addGetterSetter(Bt,"shiftBehavior","default");Q.addGetterSetter(Bt,"centeredScaling",!1);Q.addGetterSetter(Bt,"ignoreStroke",!1);Q.addGetterSetter(Bt,"padding",0,Oe());Q.addGetterSetter(Bt,"nodes");Q.addGetterSetter(Bt,"node");Q.addGetterSetter(Bt,"boundBoxFunc");Q.addGetterSetter(Bt,"anchorDragBoundFunc");Q.addGetterSetter(Bt,"anchorStyleFunc");Q.addGetterSetter(Bt,"shouldOverdrawWholeArea",!1);Q.addGetterSetter(Bt,"useSingleNodeRotation",!0);Q.backCompat(Bt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Sc extends Te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Le.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Sc.prototype.className="Wedge";Sc.prototype._centroid=!0;Sc.prototype._attrsAffectingSize=["radius"];er(Sc);Q.addGetterSetter(Sc,"radius",0,Oe());Q.addGetterSetter(Sc,"angle",0,Oe());Q.addGetterSetter(Sc,"clockwise",!1);Q.backCompat(Sc,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function j_(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const UJ=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],FJ=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function GJ(t,e){const n=t.data,r=t.width,i=t.height;let s,a,l,u,d,p,g,b,x,S,k,_,A,O,z,L,H,j,P,I;const Y=e+e+1,G=r-1,X=i-1,W=e+1,le=W*(W+1)/2,ee=new j_,te=UJ[e],V=FJ[e];let re=null,J=ee,fe=null,q=null;for(let K=1;K<Y;K++)J=J.next=new j_,K===W&&(re=J);J.next=ee,l=a=0;for(let K=0;K<i;K++){_=A=O=z=u=d=p=g=0,b=W*(L=n[a]),x=W*(H=n[a+1]),S=W*(j=n[a+2]),k=W*(P=n[a+3]),u+=le*L,d+=le*H,p+=le*j,g+=le*P,J=ee;for(let ie=0;ie<W;ie++)J.r=L,J.g=H,J.b=j,J.a=P,J=J.next;for(let ie=1;ie<W;ie++)s=a+((G<ie?G:ie)<<2),u+=(J.r=L=n[s])*(I=W-ie),d+=(J.g=H=n[s+1])*I,p+=(J.b=j=n[s+2])*I,g+=(J.a=P=n[s+3])*I,_+=L,A+=H,O+=j,z+=P,J=J.next;fe=ee,q=re;for(let ie=0;ie<r;ie++)n[a+3]=P=g*te>>V,P!==0?(P=255/P,n[a]=(u*te>>V)*P,n[a+1]=(d*te>>V)*P,n[a+2]=(p*te>>V)*P):n[a]=n[a+1]=n[a+2]=0,u-=b,d-=x,p-=S,g-=k,b-=fe.r,x-=fe.g,S-=fe.b,k-=fe.a,s=l+((s=ie+e+1)<G?s:G)<<2,_+=fe.r=n[s],A+=fe.g=n[s+1],O+=fe.b=n[s+2],z+=fe.a=n[s+3],u+=_,d+=A,p+=O,g+=z,fe=fe.next,b+=L=q.r,x+=H=q.g,S+=j=q.b,k+=P=q.a,_-=L,A-=H,O-=j,z-=P,q=q.next,a+=4;l+=r}for(let K=0;K<r;K++){A=O=z=_=d=p=g=u=0,a=K<<2,b=W*(L=n[a]),x=W*(H=n[a+1]),S=W*(j=n[a+2]),k=W*(P=n[a+3]),u+=le*L,d+=le*H,p+=le*j,g+=le*P,J=ee;for(let F=0;F<W;F++)J.r=L,J.g=H,J.b=j,J.a=P,J=J.next;let ie=r;for(let F=1;F<=e;F++)a=ie+K<<2,u+=(J.r=L=n[a])*(I=W-F),d+=(J.g=H=n[a+1])*I,p+=(J.b=j=n[a+2])*I,g+=(J.a=P=n[a+3])*I,_+=L,A+=H,O+=j,z+=P,J=J.next,F<X&&(ie+=r);a=K,fe=ee,q=re;for(let F=0;F<i;F++)s=a<<2,n[s+3]=P=g*te>>V,P>0?(P=255/P,n[s]=(u*te>>V)*P,n[s+1]=(d*te>>V)*P,n[s+2]=(p*te>>V)*P):n[s]=n[s+1]=n[s+2]=0,u-=b,d-=x,p-=S,g-=k,b-=fe.r,x-=fe.g,S-=fe.b,k-=fe.a,s=K+((s=F+W)<X?s:X)*r<<2,u+=_+=fe.r=n[s],d+=A+=fe.g=n[s+1],p+=O+=fe.b=n[s+2],g+=z+=fe.a=n[s+3],fe=fe.next,b+=L=q.r,x+=H=q.g,S+=j=q.b,k+=P=q.a,_-=L,A-=H,O-=j,z-=P,q=q.next,a+=r}}const qJ=function(e){const n=Math.round(this.blurRadius());n>0&&GJ(e,n)};Q.addGetterSetter(ze,"blurRadius",0,Oe(),Q.afterSetFilter);const VJ=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Q.addGetterSetter(ze,"brightness",0,Oe(),Q.afterSetFilter);const YJ=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]=Math.min(255,n[i]*e),n[i+1]=Math.min(255,n[i+1]*e),n[i+2]=Math.min(255,n[i+2]*e)},KJ=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,a=150;for(let l=0;l<r;l+=4)i=n[l],s=n[l+1],a=n[l+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,a=a<0?0:a>255?255:a,n[l]=i,n[l+1]=s,n[l+2]=a};Q.addGetterSetter(ze,"contrast",0,Oe(),Q.afterSetFilter);const XJ=function(t){var e,n,r,i,s,a,l,u,d;const p=t.data,g=t.width,b=t.height,x=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),S=Math.min(1,Math.max(0,(i=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&i!==void 0?i:.5)),_=(l={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(a=(s=this.embossDirection)===null||s===void 0?void 0:s.call(this))!==null&&a!==void 0?a:"top-left"])!==null&&l!==void 0?l:315,A=!!((d=(u=this.embossBlend)===null||u===void 0?void 0:u.call(this))!==null&&d!==void 0&&d),O=x*10,z=S*255,L=_*Math.PI/180,H=Math.cos(L),j=Math.sin(L),P=128/1020*O,I=new Uint8ClampedArray(p),Y=new Float32Array(g*b);for(let ee=0,te=0;te<p.length;te+=4,ee++)Y[ee]=.2126*I[te]+.7152*I[te+1]+.0722*I[te+2];const G=[-1,0,1,-2,0,2,-1,0,1],X=[-1,-2,-1,0,0,0,1,2,1],W=[-g-1,-g,-g+1,-1,0,1,g-1,g,g+1],le=ee=>ee<0?0:ee>255?255:ee;for(let ee=1;ee<b-1;ee++)for(let te=1;te<g-1;te++){const V=ee*g+te;let re=0,J=0;re+=Y[V+W[0]]*G[0],J+=Y[V+W[0]]*X[0],re+=Y[V+W[1]]*G[1],J+=Y[V+W[1]]*X[1],re+=Y[V+W[2]]*G[2],J+=Y[V+W[2]]*X[2],re+=Y[V+W[3]]*G[3],J+=Y[V+W[3]]*X[3],re+=Y[V+W[5]]*G[5],J+=Y[V+W[5]]*X[5],re+=Y[V+W[6]]*G[6],J+=Y[V+W[6]]*X[6],re+=Y[V+W[7]]*G[7],J+=Y[V+W[7]]*X[7],re+=Y[V+W[8]]*G[8],J+=Y[V+W[8]]*X[8];const fe=H*re+j*J,q=le(z+fe*P),K=V*4;if(A){const ie=q-z;p[K]=le(I[K]+ie),p[K+1]=le(I[K+1]+ie),p[K+2]=le(I[K+2]+ie),p[K+3]=I[K+3]}else p[K]=p[K+1]=p[K+2]=q,p[K+3]=I[K+3]}for(let ee=0;ee<g;ee++){let te=ee*4,V=((b-1)*g+ee)*4;p[te]=I[te],p[te+1]=I[te+1],p[te+2]=I[te+2],p[te+3]=I[te+3],p[V]=I[V],p[V+1]=I[V+1],p[V+2]=I[V+2],p[V+3]=I[V+3]}for(let ee=1;ee<b-1;ee++){let te=ee*g*4,V=(ee*g+(g-1))*4;p[te]=I[te],p[te+1]=I[te+1],p[te+2]=I[te+2],p[te+3]=I[te+3],p[V]=I[V],p[V+1]=I[V+1],p[V+2]=I[V+2],p[V+3]=I[V+3]}return t};Q.addGetterSetter(ze,"embossStrength",.5,Oe(),Q.afterSetFilter);Q.addGetterSetter(ze,"embossWhiteLevel",.5,Oe(),Q.afterSetFilter);Q.addGetterSetter(ze,"embossDirection","top-left",void 0,Q.afterSetFilter);Q.addGetterSetter(ze,"embossBlend",!1,void 0,Q.afterSetFilter);function lw(t,e,n,r,i){const s=n-e,a=i-r;if(s===0)return r+a/2;if(a===0)return r;let l=(t-e)/s;return l=a*l+r,l}const QJ=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,a=e[1],l=a,u,d=e[2],p=d,g;const b=this.enhance();if(b===0)return;for(let z=0;z<n;z+=4)s=e[z+0],s<r?r=s:s>i&&(i=s),u=e[z+1],u<a?a=u:u>l&&(l=u),g=e[z+2],g<d?d=g:g>p&&(p=g);i===r&&(i=255,r=0),l===a&&(l=255,a=0),p===d&&(p=255,d=0);let x,S,k,_,A,O;if(b>0)x=i+b*(255-i),S=r-b*(r-0),k=l+b*(255-l),_=a-b*(a-0),A=p+b*(255-p),O=d-b*(d-0);else{const z=(i+r)*.5;x=i+b*(i-z),S=r+b*(r-z);const L=(l+a)*.5;k=l+b*(l-L),_=a+b*(a-L);const H=(p+d)*.5;A=p+b*(p-H),O=d+b*(d-H)}for(let z=0;z<n;z+=4)e[z+0]=lw(e[z+0],r,i,S,x),e[z+1]=lw(e[z+1],a,l,_,k),e[z+2]=lw(e[z+2],d,p,O,A)};Q.addGetterSetter(ze,"enhance",0,Oe(),Q.afterSetFilter);const WJ=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};Q.addGetterSetter(ze,"hue",0,Oe(),Q.afterSetFilter);Q.addGetterSetter(ze,"saturation",0,Oe(),Q.afterSetFilter);Q.addGetterSetter(ze,"luminance",0,Oe(),Q.afterSetFilter);const JJ=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=this.luminance()*127,l=r*i*Math.cos(s*Math.PI/180),u=r*i*Math.sin(s*Math.PI/180),d=.299*r+.701*l+.167*u,p=.587*r-.587*l+.33*u,g=.114*r-.114*l-.497*u,b=.299*r-.299*l-.328*u,x=.587*r+.413*l+.035*u,S=.114*r-.114*l+.293*u,k=.299*r-.3*l+1.25*u,_=.587*r-.586*l-1.05*u,A=.114*r+.886*l-.2*u;let O,z,L,H;for(let j=0;j<n;j+=4)O=e[j+0],z=e[j+1],L=e[j+2],H=e[j+3],e[j+0]=d*O+p*z+g*L+a,e[j+1]=b*O+x*z+S*L+a,e[j+2]=k*O+_*z+A*L+a,e[j+3]=H},$J=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),u=.299*r+.701*a+.167*l,d=.587*r-.587*a+.33*l,p=.114*r-.114*a-.497*l,g=.299*r-.299*a-.328*l,b=.587*r+.413*a+.035*l,x=.114*r-.114*a+.293*l,S=.299*r-.3*a+1.25*l,k=.587*r-.586*a-1.05*l,_=.114*r+.886*a-.2*l;for(let A=0;A<n;A+=4){const O=e[A+0],z=e[A+1],L=e[A+2],H=e[A+3];e[A+0]=u*O+d*z+p*L,e[A+1]=g*O+b*z+x*L,e[A+2]=S*O+k*z+_*L,e[A+3]=H}};Q.addGetterSetter(ze,"hue",0,Oe(),Q.afterSetFilter);Q.addGetterSetter(ze,"saturation",0,Oe(),Q.afterSetFilter);Q.addGetterSetter(ze,"value",0,Oe(),Q.afterSetFilter);const ZJ=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},e$=function(t,e,n){const r=t.data,i=e.data,s=t.width,a=t.height,l=n.polarCenterX||s/2,u=n.polarCenterY||a/2;let d=Math.sqrt(l*l+u*u),p=s-l,g=a-u;const b=Math.sqrt(p*p+g*g);d=b>d?b:d;const x=a,S=s,k=360/S*Math.PI/180;for(let _=0;_<S;_+=1){const A=Math.sin(_*k),O=Math.cos(_*k);for(let z=0;z<x;z+=1){p=Math.floor(l+d*z/x*O),g=Math.floor(u+d*z/x*A);let L=(g*s+p)*4;const H=r[L+0],j=r[L+1],P=r[L+2],I=r[L+3];L=(_+z*s)*4,i[L+0]=H,i[L+1]=j,i[L+2]=P,i[L+3]=I}}},t$=function(t,e,n){const r=t.data,i=e.data,s=t.width,a=t.height,l=n.polarCenterX||s/2,u=n.polarCenterY||a/2;let d=Math.sqrt(l*l+u*u),p=s-l,g=a-u;const b=Math.sqrt(p*p+g*g);d=b>d?b:d;const x=a,S=s,k=0;let _,A;for(p=0;p<s;p+=1)for(g=0;g<a;g+=1){const O=p-l,z=g-u,L=Math.sqrt(O*O+z*z)*x/d;let H=(Math.atan2(z,O)*180/Math.PI+360+k)%360;H=H*S/360,_=Math.floor(H),A=Math.floor(L);let j=(A*s+_)*4;const P=r[j+0],I=r[j+1],Y=r[j+2],G=r[j+3];j=(g*s+p)*4,i[j+0]=P,i[j+1]=I,i[j+2]=Y,i[j+3]=G}},n$=function(t){const e=t.width,n=t.height;let r,i,s,a,l,u,d,p,g,b,x=Math.round(this.kaleidoscopePower());const S=Math.round(this.kaleidoscopeAngle()),k=Math.floor(e*(S%360)/360);if(x<1)return;const _=oe.createCanvasElement();_.width=e,_.height=n;const A=_.getContext("2d").getImageData(0,0,e,n);oe.releaseCanvas(_),e$(t,A,{polarCenterX:e/2,polarCenterY:n/2});let O=e/Math.pow(2,x);for(;O<=8;)O=O*2,x-=1;O=Math.ceil(O);let z=O,L=0,H=z,j=1;for(k+O>e&&(L=z,H=0,j=-1),i=0;i<n;i+=1)for(r=L;r!==H;r+=j)s=Math.round(r+k)%e,g=(e*i+s)*4,l=A.data[g+0],u=A.data[g+1],d=A.data[g+2],p=A.data[g+3],b=(e*i+r)*4,A.data[b+0]=l,A.data[b+1]=u,A.data[b+2]=d,A.data[b+3]=p;for(i=0;i<n;i+=1)for(z=Math.floor(O),a=0;a<x;a+=1){for(r=0;r<z+1;r+=1)g=(e*i+r)*4,l=A.data[g+0],u=A.data[g+1],d=A.data[g+2],p=A.data[g+3],b=(e*i+z*2-r-1)*4,A.data[b+0]=l,A.data[b+1]=u,A.data[b+2]=d,A.data[b+3]=p;z*=2}t$(A,t,{})};Q.addGetterSetter(ze,"kaleidoscopePower",2,Oe(),Q.afterSetFilter);Q.addGetterSetter(ze,"kaleidoscopeAngle",0,Oe(),Q.afterSetFilter);function Pb(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Ig(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function r$(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function i$(t,e){const n=Pb(t,0,0),r=Pb(t,t.width-1,0),i=Pb(t,0,t.height-1),s=Pb(t,t.width-1,t.height-1),a=e||10;if(Ig(n,r)<a&&Ig(r,s)<a&&Ig(s,i)<a&&Ig(i,n)<a){const l=r$([r,n,s,i]),u=[];for(let d=0;d<t.width*t.height;d++){const p=Ig(l,[t.data[d*4],t.data[d*4+1],t.data[d*4+2]]);u[d]=p<a?0:255}return u}}function s$(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function a$(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){const d=l*e+u;let p=0;for(let g=0;g<i;g++)for(let b=0;b<i;b++){const x=l+g-s,S=u+b-s;if(x>=0&&x<n&&S>=0&&S<e){const k=x*e+S,_=r[g*i+b];p+=t[k]*_}}a[d]=p===2040?255:0}return a}function o$(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){const d=l*e+u;let p=0;for(let g=0;g<i;g++)for(let b=0;b<i;b++){const x=l+g-s,S=u+b-s;if(x>=0&&x<n&&S>=0&&S<e){const k=x*e+S,_=r[g*i+b];p+=t[k]*_}}a[d]=p>=1020?255:0}return a}function l$(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),a=[];for(let l=0;l<n;l++)for(let u=0;u<e;u++){const d=l*e+u;let p=0;for(let g=0;g<i;g++)for(let b=0;b<i;b++){const x=l+g-s,S=u+b-s;if(x>=0&&x<n&&S>=0&&S<e){const k=x*e+S,_=r[g*i+b];p+=t[k]*_}}a[d]=p}return a}const c$=function(t){const e=this.threshold();let n=i$(t,e);return n&&(n=a$(n,t.width,t.height),n=o$(n,t.width,t.height),n=l$(n,t.width,t.height),s$(t,n)),t};Q.addGetterSetter(ze,"threshold",0,Oe(),Q.afterSetFilter);const u$=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};Q.addGetterSetter(ze,"noise",.2,Oe(),Q.afterSetFilter);const f$=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),a=t.data;if(e<=0){oe.error("pixelSize value can not be <= 0");return}for(let l=0;l<i;l+=1)for(let u=0;u<s;u+=1){let d=0,p=0,g=0,b=0;const x=l*e,S=x+e,k=u*e,_=k+e;let A=0;for(let O=x;O<S;O+=1)if(!(O>=n))for(let z=k;z<_;z+=1){if(z>=r)continue;const L=(n*z+O)*4;d+=a[L+0],p+=a[L+1],g+=a[L+2],b+=a[L+3],A+=1}d=d/A,p=p/A,g=g/A,b=b/A;for(let O=x;O<S;O+=1)if(!(O>=n))for(let z=k;z<_;z+=1){if(z>=r)continue;const L=(n*z+O)*4;a[L+0]=d,a[L+1]=p,a[L+2]=g,a[L+3]=b}}};Q.addGetterSetter(ze,"pixelSize",8,Oe(),Q.afterSetFilter);const d$=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};Q.addGetterSetter(ze,"levels",.5,Oe(),Q.afterSetFilter);const h$=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let a=0;a<n;a+=4){const l=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=l*r,e[a+1]=l*i,e[a+2]=l*s,e[a+3]=e[a+3]}};Q.addGetterSetter(ze,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Q.addGetterSetter(ze,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Q.addGetterSetter(ze,"blue",0,V9,Q.afterSetFilter);const p$=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),a=this.alpha();for(let l=0;l<n;l+=4){const u=1-a;e[l]=r*a+e[l]*u,e[l+1]=i*a+e[l+1]*u,e[l+2]=s*a+e[l+2]*u}};Q.addGetterSetter(ze,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Q.addGetterSetter(ze,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Q.addGetterSetter(ze,"blue",0,V9,Q.afterSetFilter);Q.addGetterSetter(ze,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const m$=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],a=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+a*.189),e[r+1]=Math.min(255,i*.349+s*.686+a*.168),e[r+2]=Math.min(255,i*.272+s*.534+a*.131)}},g$=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const i=n[r],s=n[r+1],a=n[r+2];.2126*i+.7152*s+.0722*a>=128&&(n[r]=255-i,n[r+1]=255-s,n[r+2]=255-a)}return t},y$=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};Q.addGetterSetter(ze,"threshold",.5,Oe(),Q.afterSetFilter);Dp.Util._assign(Dp,{Arc:vc,Arrow:Nd,Circle:Vp,Ellipse:$u,Image:oa,Label:YE,Tag:Rd,Line:xc,Path:bn,Rect:oy,RegularPolygon:Zu,Ring:Od,Sprite:gl,Star:ef,Text:An,TextPath:Vr,Transformer:Bt,Wedge:Sc,Filters:{Blur:qJ,Brightness:YJ,Brighten:VJ,Contrast:KJ,Emboss:XJ,Enhance:QJ,Grayscale:WJ,HSL:JJ,HSV:$J,Invert:ZJ,Kaleidoscope:n$,Mask:c$,Noise:u$,Pixelate:f$,Posterize:d$,RGB:h$,RGBA:p$,Sepia:m$,Solarize:g$,Threshold:y$}});var cw={exports:{}},uw={exports:{}};/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function b$(){return L_||(L_=1,(function(t){t.exports=function(e){function n(f,h,v,w){return new _m(f,h,v,w)}function r(){}function i(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){var h=f,v=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(v=h.return),f=h.return;while(f)}return h.tag===3?v:null}function a(f){if(s(f)!==f)throw Error(i(188))}function l(f){var h=f.alternate;if(!h){if(h=s(f),h===null)throw Error(i(188));return h!==f?null:f}for(var v=f,w=h;;){var M=v.return;if(M===null)break;var R=M.alternate;if(R===null){if(w=M.return,w!==null){v=w;continue}break}if(M.child===R.child){for(R=M.child;R;){if(R===v)return a(M),f;if(R===w)return a(M),h;R=R.sibling}throw Error(i(188))}if(v.return!==w.return)v=M,w=R;else{for(var B=!1,Z=M.child;Z;){if(Z===v){B=!0,v=M,w=R;break}if(Z===w){B=!0,w=M,v=R;break}Z=Z.sibling}if(!B){for(Z=R.child;Z;){if(Z===v){B=!0,v=R,w=M;break}if(Z===w){B=!0,w=R,v=M;break}Z=Z.sibling}if(!B)throw Error(i(189))}}if(v.alternate!==w)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?f:h}function u(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(h=u(f),h!==null)return h;f=f.sibling}return null}function d(f){var h=f.tag;if(h===5||h===26||h===27||h===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(h=d(f),h!==null))return h;f=f.sibling}return null}function p(f){return f===null||typeof f!="object"?null:(f=ro&&f[ro]||f["@@iterator"],typeof f=="function"?f:null)}function g(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Vo?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case zl:return"Fragment";case Ll:return"Profiler";case jl:return"StrictMode";case vh:return"Suspense";case no:return"SuspenseList";case Mf:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case Dl:return"Portal";case Ms:return f.displayName||"Context";case _f:return(f._context.displayName||"Context")+".Consumer";case Xc:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case xh:return h=f.displayName||null,h!==null?h:g(f.type)||"Memo";case hi:h=f._payload,f=f._init;try{return g(f(h))}catch{}}return null}function b(f){return{current:f}}function x(f){0>Ul||(f.current=Dh[Ul],Dh[Ul]=null,Ul--)}function S(f,h){Ul++,Dh[Ul]=f.current,f.current=h}function k(f){return f>>>=0,f===0?32:31-(zh(f)/j1|0)|0}function _(f){var h=f&42;if(h!==0)return h;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function A(f,h,v){var w=f.pendingLanes;if(w===0)return 0;var M=0,R=f.suspendedLanes,B=f.pingedLanes;f=f.warmLanes;var Z=w&134217727;return Z!==0?(w=Z&~R,w!==0?M=_(w):(B&=Z,B!==0?M=_(B):v||(v=Z&~f,v!==0&&(M=_(v))))):(Z=w&~R,Z!==0?M=_(Z):B!==0?M=_(B):v||(v=w&~f,v!==0&&(M=_(v)))),M===0?0:h!==0&&h!==M&&(h&R)===0&&(R=M&-M,v=h&-h,R>=v||R===32&&(v&4194048)!==0)?h:M}function O(f,h){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&h)===0}function z(f,h){switch(f){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var f=tu;return tu<<=1,(tu&62914560)===0&&(tu=4194304),f}function H(f){for(var h=[],v=0;31>v;v++)h.push(f);return h}function j(f,h){f.pendingLanes|=h,h!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function P(f,h,v,w,M,R){var B=f.pendingLanes;f.pendingLanes=v,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=v,f.entangledLanes&=v,f.errorRecoveryDisabledLanes&=v,f.shellSuspendCounter=0;var Z=f.entanglements,me=f.expirationTimes,Ce=f.hiddenUpdates;for(v=B&~v;0<v;){var Re=31-Oi(v),Ee=1<<Re;Z[Re]=0,me[Re]=-1;var Pe=Ce[Re];if(Pe!==null)for(Ce[Re]=null,Re=0;Re<Pe.length;Re++){var ct=Pe[Re];ct!==null&&(ct.lane&=-536870913)}v&=~Ee}w!==0&&I(f,w,0),R!==0&&M===0&&f.tag!==0&&(f.suspendedLanes|=R&~(B&~h))}function I(f,h,v){f.pendingLanes|=h,f.suspendedLanes&=~h;var w=31-Oi(h);f.entangledLanes|=h,f.entanglements[w]=f.entanglements[w]|1073741824|v&261930}function Y(f,h){var v=f.entangledLanes|=h;for(f=f.entanglements;v;){var w=31-Oi(v),M=1<<w;M&h|f[w]&h&&(f[w]|=h),v&=~M}}function G(f,h){var v=h&-h;return v=(v&42)!==0?1:X(v),(v&(f.suspendedLanes|h))!==0?0:v}function X(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function W(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function le(f){if(typeof dg=="function"&&B1(f),Di&&typeof Di.setStrictMode=="function")try{Di.setStrictMode(Gl,f)}catch{}}function ee(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}function te(f){if(Hh===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);Hh=h&&h[1]||"",Ea=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hh+f+Ea}function V(f,h){if(!f||Pf)return"";Pf=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(ct){var Pe=ct}Reflect.construct(f,[],Ee)}else{try{Ee.call()}catch(ct){Pe=ct}f.call(Ee.prototype)}}else{try{throw Error()}catch(ct){Pe=ct}(Ee=f())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(ct){if(ct&&Pe&&typeof ct.stack=="string")return[ct.stack,Pe.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=w.DetermineComponentFrameRoot(),B=R[0],Z=R[1];if(B&&Z){var me=B.split(`
`),Ce=Z.split(`
`);for(M=w=0;w<me.length&&!me[w].includes("DetermineComponentFrameRoot");)w++;for(;M<Ce.length&&!Ce[M].includes("DetermineComponentFrameRoot");)M++;if(w===me.length||M===Ce.length)for(w=me.length-1,M=Ce.length-1;1<=w&&0<=M&&me[w]!==Ce[M];)M--;for(;1<=w&&0<=M;w--,M--)if(me[w]!==Ce[M]){if(w!==1||M!==1)do if(w--,M--,0>M||me[w]!==Ce[M]){var Re=`
`+me[w].replace(" at new "," at ");return f.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",f.displayName)),Re}while(1<=w&&0<=M);break}}}finally{Pf=!1,Error.prepareStackTrace=v}return(v=f?f.displayName||f.name:"")?te(v):""}function re(f,h){switch(f.tag){case 26:case 27:case 5:return te(f.type);case 16:return te("Lazy");case 13:return f.child!==h&&h!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return V(f.type,!1);case 11:return V(f.type.render,!1);case 1:return V(f.type,!0);case 31:return te("Activity");default:return""}}function J(f){try{var h="",v=null;do h+=re(f,v),v=f,f=f.return;while(f);return h}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function fe(f,h){if(typeof f=="object"&&f!==null){var v=hg.get(f);return v!==void 0?v:(h={value:f,source:h,stack:J(h)},hg.set(f,h),h)}return{value:f,source:h,stack:J(h)}}function q(f,h){ao[ka++]=Bf,ao[ka++]=Wt,Wt=f,Bf=h}function K(f,h,v){Rs[ns++]=jr,Rs[ns++]=Ks,Rs[ns++]=Os,Os=f;var w=jr;f=Ks;var M=32-Oi(w)-1;w&=~(1<<M),v+=1;var R=32-Oi(h)+M;if(30<R){var B=M-M%5;R=(w&(1<<B)-1).toString(32),w>>=B,M-=B,jr=1<<32-Oi(h)+M|v<<M|w,Ks=R+f}else jr=1<<R|v<<M|w,Ks=f}function ie(f){f.return!==null&&(q(f,1),K(f,1,0))}function F(f){for(;f===Wt;)Wt=ao[--ka],ao[ka]=null,Bf=ao[--ka],ao[ka]=null;for(;f===Os;)Os=Rs[--ns],Rs[ns]=null,Ks=Rs[--ns],Rs[ns]=null,jr=Rs[--ns],Rs[ns]=null}function we(f,h){Rs[ns++]=jr,Rs[ns++]=Ks,Rs[ns++]=Os,jr=h.id,Ks=h.overflow,Os=f}function Be(f,h){S(Lr,h),S(oo,f),S(Cr,null),f=Jy(h),x(Cr),S(Cr,f)}function De(){x(Cr),x(oo),x(Lr)}function je(f){f.memoizedState!==null&&S(If,f);var h=Cr.current,v=Jc(h,f.type);h!==v&&(S(oo,f),S(Cr,v))}function ot(f){oo.current===f&&(x(Cr),x(oo)),If.current===f&&(x(If),Yn?Il._currentValue=Bl:Il._currentValue2=Bl)}function Ke(f){var h=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dr(fe(h,f)),Uh}function nt(f,h){if(!hn)throw Error(i(175));C1(f.stateNode,f.type,f.memoizedProps,h,f)||Ke(f,!0)}function Nn(f){for(mr=f.return;mr;)switch(mr.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:mr=mr.return}}function Xt(f){if(!hn||f!==mr)return!1;if(!Tt)return Nn(f),Tt=!0,!1;var h=f.tag;if(pr?h!==3&&h!==27&&(h!==5||eu(f.type)&&!pi(f.type,f.memoizedProps))&&pn&&Ke(f):h!==3&&(h!==5||eu(f.type)&&!pi(f.type,f.memoizedProps))&&pn&&Ke(f),Nn(f),h===13){if(!hn)throw Error(i(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));pn=tg(f)}else if(h===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));pn=k1(f)}else pn=pr&&h===27?m1(f.type,pn):mr?p1(f.stateNode):null;return!0}function Rn(){hn&&(pn=mr=null,Tt=!1)}function Gn(){var f=Ta;return f!==null&&(ji===null?ji=f:ji.push.apply(ji,f),Ta=null),f}function Dr(f){Ta===null?Ta=[f]:Ta.push(f)}function tr(f,h,v){Yn?(S(Ds,h._currentValue),h._currentValue=v):(S(Ds,h._currentValue2),h._currentValue2=v)}function si(f){var h=Ds.current;Yn?f._currentValue=h:f._currentValue2=h,x(Ds)}function Va(f,h,v){for(;f!==null;){var w=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),f===v)break;f=f.return}}function ys(f,h,v,w){var M=f.child;for(M!==null&&(M.return=f);M!==null;){var R=M.dependencies;if(R!==null){var B=M.child;R=R.firstContext;e:for(;R!==null;){var Z=R;R=M;for(var me=0;me<h.length;me++)if(Z.context===h[me]){R.lanes|=v,Z=R.alternate,Z!==null&&(Z.lanes|=v),Va(R.return,v,f),w||(B=null);break e}R=Z.next}}else if(M.tag===18){if(B=M.return,B===null)throw Error(i(341));B.lanes|=v,R=B.alternate,R!==null&&(R.lanes|=v),Va(B,v,f),B=null}else B=M.child;if(B!==null)B.return=M;else for(B=M;B!==null;){if(B===f){B=null;break}if(M=B.sibling,M!==null){M.return=B.return,B=M;break}B=B.return}M=B}}function nr(f,h,v,w){f=null;for(var M=h,R=!1;M!==null;){if(!R){if((M.flags&524288)!==0)R=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var B=M.alternate;if(B===null)throw Error(i(387));if(B=B.memoizedProps,B!==null){var Z=M.type;Xn(M.pendingProps.value,B.value)||(f!==null?f.push(Z):f=[Z])}}else if(M===If.current){if(B=M.alternate,B===null)throw Error(i(387));B.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(f!==null?f.push(Il):f=[Il])}M=M.return}f!==null&&ys(h,f,v,w),h.flags|=262144}function Gi(f){for(f=f.firstContext;f!==null;){var h=f.context;if(!Xn(Yn?h._currentValue:h._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Ei(f){tn=f,Xs=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function On(f){return Cc(tn,f)}function qn(f,h){return tn===null&&Ei(f),Cc(f,h)}function Cc(f,h){var v=Yn?h._currentValue:h._currentValue2;if(h={context:h,memoizedValue:v,next:null},Xs===null){if(f===null)throw Error(i(308));Xs=h,f.dependencies={lanes:0,firstContext:h},f.flags|=524288}else Xs=Xs.next=h;return v}function ye(){return{controller:new I1,data:new Map,refCount:0}}function _e(f){f.refCount--,f.refCount===0&&Er(R2,function(){f.controller.abort()})}function qe(){}function Je(f){f!==qt&&f.next===null&&(qt===null?Hf=qt=f:qt=qt.next=f),zs=!0,$r||($r=!0,Ut())}function xt(f,h){if(!Fh&&zs){Fh=!0;do for(var v=!1,w=Hf;w!==null;){if(f!==0){var M=w.pendingLanes;if(M===0)var R=0;else{var B=w.suspendedLanes,Z=w.pingedLanes;R=(1<<31-Oi(42|f)+1)-1,R&=M&~(B&~Z),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(v=!0,dr(w,R))}else R=_t,R=A(w,w===yt?R:0,w.cancelPendingCommit!==null||w.timeoutHandle!==Ri),(R&3)===0||O(w,R)||(v=!0,dr(w,R));w=w.next}while(v);Fh=!1}}function vn(){qi()}function qi(){zs=$r=!1;var f=0;Wo!==0&&Pl()&&(f=Wo);for(var h=Jr(),v=null,w=Hf;w!==null;){var M=w.next,R=vr(w,h);R===0?(w.next=null,v===null?Hf=M:v.next=M,M===null&&(qt=v)):(v=w,(f!==0||(R&3)!==0)&&(zs=!0)),w=M}lr!==0&&lr!==5||xt(f),Wo!==0&&(Wo=0)}function vr(f,h){for(var v=f.suspendedLanes,w=f.pingedLanes,M=f.expirationTimes,R=f.pendingLanes&-62914561;0<R;){var B=31-Oi(R),Z=1<<B,me=M[B];me===-1?((Z&v)===0||(Z&w)!==0)&&(M[B]=z(Z,h)):me<=h&&(f.expiredLanes|=Z),R&=~Z}if(h=yt,v=_t,v=A(f,f===h?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==Ri),w=f.callbackNode,v===0||f===h&&(Yt===2||Yt===9)||f.cancelPendingCommit!==null)return w!==null&&w!==null&&Lh(w),f.callbackNode=null,f.callbackPriority=0;if((v&3)===0||O(f,v)){if(h=v&-v,h===f.callbackPriority)return h;switch(w!==null&&Lh(w),W(v)){case 2:case 8:v=P1;break;case 32:v=Lf;break;case 268435456:v=Bh;break;default:v=Lf}return w=Dn.bind(null,f),v=jf(v,w),f.callbackPriority=h,f.callbackNode=v,h}return w!==null&&w!==null&&Lh(w),f.callbackPriority=2,f.callbackNode=null,2}function Dn(f,h){if(lr!==0&&lr!==5)return f.callbackNode=null,f.callbackPriority=0,null;var v=f.callbackNode;if(Sa()&&f.callbackNode!==v)return null;var w=_t;return w=A(f,f===yt?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==Ri),w===0?null:(Ys(f,w,h),vr(f,Jr()),f.callbackNode!=null&&f.callbackNode===v?Dn.bind(null,f):null)}function dr(f,h){if(Sa())return null;Ys(f,h,!0)}function Ut(){Im?Hm(function(){(St&6)!==0?jf(Ph,vn):qi()}):jf(Ph,vn)}function bs(){if(Wo===0){var f=lo;f===0&&(f=jh,jh<<=1,(jh&261888)===0&&(jh=256)),Wo=f}return Wo}function ki(f,h){if(nu===null){var v=nu=[];pg=0,lo=bs(),gr={status:"pending",value:void 0,then:function(w){v.push(w)}}}return pg++,h.then(Ld,Ld),h}function Ld(){if(--pg===0&&nu!==null){gr!==null&&(gr.status="fulfilled");var f=nu;nu=null,lo=0,gr=null;for(var h=0;h<f.length;h++)(0,f[h])()}}function Ec(f,h){var v=[],w={status:"pending",value:null,reason:null,then:function(M){v.push(M)}};return f.then(function(){w.status="fulfilled",w.value=h;for(var M=0;M<v.length;M++)(0,v[M])(h)},function(M){for(w.status="rejected",w.reason=M,M=0;M<v.length;M++)(0,v[M])(void 0)}),w}function Mo(){var f=Jo.current;return f!==null?f:yt.pooledCache}function un(f,h){h===null?S(Jo,Jo.current):S(Jo,h.pool)}function zn(){var f=Mo();return f===null?null:{parent:Yn?mn._currentValue:mn._currentValue2,pool:f}}function Vn(f,h){if(Xn(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var v=Object.keys(f),w=Object.keys(h);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var M=v[w];if(!N2.call(h,M)||!Xn(f[M],h[M]))return!1}return!0}function ai(f){return f=f.status,f==="fulfilled"||f==="rejected"}function oi(f,h,v){switch(v=f[v],v===void 0?f.push(h):v!==h&&(h.then(qe,qe),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Vi(f),f;default:if(typeof h.status=="string")h.then(qe,qe);else{if(f=yt,f!==null&&100<f.shellSuspendCounter)throw Error(i(482));f=h,f.status="pending",f.then(function(w){if(h.status==="pending"){var M=h;M.status="fulfilled",M.value=w}},function(w){if(h.status==="pending"){var M=h;M.status="rejected",M.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw f=h.reason,Vi(f),f}throw gi=h,yr}}function jn(f){try{var h=f._init;return h(f._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(gi=v,yr):v}}function li(){if(gi===null)throw Error(i(459));var f=gi;return gi=null,f}function Vi(f){if(f===yr||f===Ls)throw Error(i(483))}function Ln(f){var h=ql;return ql+=1,$o===null&&($o=[]),oi($o,f,h)}function ci(f,h){h=h.props.ref,f.ref=h!==void 0?h:null}function Yr(f,h){throw h.$$typeof===Ol?Error(i(525)):(f=Object.prototype.toString.call(h),Error(i(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f)))}function Yi(f){function h(de,ae){if(f){var pe=de.deletions;pe===null?(de.deletions=[ae],de.flags|=16):pe.push(ae)}}function v(de,ae){if(!f)return null;for(;ae!==null;)h(de,ae),ae=ae.sibling;return null}function w(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function M(de,ae){return de=es(de,ae),de.index=0,de.sibling=null,de}function R(de,ae,pe){return de.index=pe,f?(pe=de.alternate,pe!==null?(pe=pe.index,pe<ae?(de.flags|=67108866,ae):pe):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function B(de){return f&&de.alternate===null&&(de.flags|=67108866),de}function Z(de,ae,pe,Ae){return ae===null||ae.tag!==6?(ae=Mm(pe,de.mode,Ae),ae.return=de,ae):(ae=M(ae,pe),ae.return=de,ae)}function me(de,ae,pe,Ae){var $e=pe.type;return $e===zl?Re(de,ae,pe.props.children,Ae,pe.key):ae!==null&&(ae.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===hi&&jn($e)===ae.type)?(ae=M(ae,pe.props),ci(ae,pe),ae.return=de,ae):(ae=to(pe.type,pe.key,pe.props,null,de.mode,Ae),ci(ae,pe),ae.return=de,ae)}function Ce(de,ae,pe,Ae){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=Nm(pe,de.mode,Ae),ae.return=de,ae):(ae=M(ae,pe.children||[]),ae.return=de,ae)}function Re(de,ae,pe,Ae,$e){return ae===null||ae.tag!==7?(ae=_s(pe,de.mode,Ae,$e),ae.return=de,ae):(ae=M(ae,pe),ae.return=de,ae)}function Ee(de,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Mm(""+ae,de.mode,pe),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case wa:return pe=to(ae.type,ae.key,ae.props,null,de.mode,pe),ci(pe,ae),pe.return=de,pe;case Dl:return ae=Nm(ae,de.mode,pe),ae.return=de,ae;case hi:return ae=jn(ae),Ee(de,ae,pe)}if(Yo(ae)||p(ae))return ae=_s(ae,de.mode,pe,null),ae.return=de,ae;if(typeof ae.then=="function")return Ee(de,Ln(ae),pe);if(ae.$$typeof===Ms)return Ee(de,qn(de,ae),pe);Yr(de,ae)}return null}function Pe(de,ae,pe,Ae){var $e=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return $e!==null?null:Z(de,ae,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case wa:return pe.key===$e?me(de,ae,pe,Ae):null;case Dl:return pe.key===$e?Ce(de,ae,pe,Ae):null;case hi:return pe=jn(pe),Pe(de,ae,pe,Ae)}if(Yo(pe)||p(pe))return $e!==null?null:Re(de,ae,pe,Ae,null);if(typeof pe.then=="function")return Pe(de,ae,Ln(pe),Ae);if(pe.$$typeof===Ms)return Pe(de,ae,qn(de,pe),Ae);Yr(de,pe)}return null}function ct(de,ae,pe,Ae,$e){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return de=de.get(pe)||null,Z(ae,de,""+Ae,$e);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case wa:return de=de.get(Ae.key===null?pe:Ae.key)||null,me(ae,de,Ae,$e);case Dl:return de=de.get(Ae.key===null?pe:Ae.key)||null,Ce(ae,de,Ae,$e);case hi:return Ae=jn(Ae),ct(de,ae,pe,Ae,$e)}if(Yo(Ae)||p(Ae))return de=de.get(pe)||null,Re(ae,de,Ae,$e,null);if(typeof Ae.then=="function")return ct(de,ae,pe,Ln(Ae),$e);if(Ae.$$typeof===Ms)return ct(de,ae,pe,qn(ae,Ae),$e);Yr(ae,Ae)}return null}function kr(de,ae,pe,Ae){for(var $e=null,_n=null,et=ae,zt=ae=0,Tr=null;et!==null&&zt<pe.length;zt++){et.index>zt?(Tr=et,et=null):Tr=et.sibling;var It=Pe(de,et,pe[zt],Ae);if(It===null){et===null&&(et=Tr);break}f&&et&&It.alternate===null&&h(de,et),ae=R(It,ae,zt),_n===null?$e=It:_n.sibling=It,_n=It,et=Tr}if(zt===pe.length)return v(de,et),Tt&&q(de,zt),$e;if(et===null){for(;zt<pe.length;zt++)et=Ee(de,pe[zt],Ae),et!==null&&(ae=R(et,ae,zt),_n===null?$e=et:_n.sibling=et,_n=et);return Tt&&q(de,zt),$e}for(et=w(et);zt<pe.length;zt++)Tr=ct(et,de,zt,pe[zt],Ae),Tr!==null&&(f&&Tr.alternate!==null&&et.delete(Tr.key===null?zt:Tr.key),ae=R(Tr,ae,zt),_n===null?$e=Tr:_n.sibling=Tr,_n=Tr);return f&&et.forEach(function(Is){return h(de,Is)}),Tt&&q(de,zt),$e}function uu(de,ae,pe,Ae){if(pe==null)throw Error(i(151));for(var $e=null,_n=null,et=ae,zt=ae=0,Tr=null,It=pe.next();et!==null&&!It.done;zt++,It=pe.next()){et.index>zt?(Tr=et,et=null):Tr=et.sibling;var Is=Pe(de,et,It.value,Ae);if(Is===null){et===null&&(et=Tr);break}f&&et&&Is.alternate===null&&h(de,et),ae=R(Is,ae,zt),_n===null?$e=Is:_n.sibling=Is,_n=Is,et=Tr}if(It.done)return v(de,et),Tt&&q(de,zt),$e;if(et===null){for(;!It.done;zt++,It=pe.next())It=Ee(de,It.value,Ae),It!==null&&(ae=R(It,ae,zt),_n===null?$e=It:_n.sibling=It,_n=It);return Tt&&q(de,zt),$e}for(et=w(et);!It.done;zt++,It=pe.next())It=ct(et,de,zt,It.value,Ae),It!==null&&(f&&It.alternate!==null&&et.delete(It.key===null?zt:It.key),ae=R(It,ae,zt),_n===null?$e=It:_n.sibling=It,_n=It);return f&&et.forEach(function(O2){return h(de,O2)}),Tt&&q(de,zt),$e}function al(de,ae,pe,Ae){if(typeof pe=="object"&&pe!==null&&pe.type===zl&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case wa:e:{for(var $e=pe.key;ae!==null;){if(ae.key===$e){if($e=pe.type,$e===zl){if(ae.tag===7){v(de,ae.sibling),Ae=M(ae,pe.props.children),Ae.return=de,de=Ae;break e}}else if(ae.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===hi&&jn($e)===ae.type){v(de,ae.sibling),Ae=M(ae,pe.props),ci(Ae,pe),Ae.return=de,de=Ae;break e}v(de,ae);break}else h(de,ae);ae=ae.sibling}pe.type===zl?(Ae=_s(pe.props.children,de.mode,Ae,pe.key),Ae.return=de,de=Ae):(Ae=to(pe.type,pe.key,pe.props,null,de.mode,Ae),ci(Ae,pe),Ae.return=de,de=Ae)}return B(de);case Dl:e:{for($e=pe.key;ae!==null;){if(ae.key===$e)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){v(de,ae.sibling),Ae=M(ae,pe.children||[]),Ae.return=de,de=Ae;break e}else{v(de,ae);break}else h(de,ae);ae=ae.sibling}Ae=Nm(pe,de.mode,Ae),Ae.return=de,de=Ae}return B(de);case hi:return pe=jn(pe),al(de,ae,pe,Ae)}if(Yo(pe))return kr(de,ae,pe,Ae);if(p(pe)){if($e=p(pe),typeof $e!="function")throw Error(i(150));return pe=$e.call(pe),uu(de,ae,pe,Ae)}if(typeof pe.then=="function")return al(de,ae,Ln(pe),Ae);if(pe.$$typeof===Ms)return al(de,ae,qn(de,pe),Ae);Yr(de,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(v(de,ae.sibling),Ae=M(ae,pe),Ae.return=de,de=Ae):(v(de,ae),Ae=Mm(pe,de.mode,Ae),Ae.return=de,de=Ae),B(de)):v(de,ae)}return function(de,ae,pe,Ae){try{ql=0;var $e=al(de,ae,pe,Ae);return $o=null,$e}catch(et){if(et===yr||et===Ls)throw et;var _n=n(29,et,null,de.mode);return _n.lanes=Ae,_n.return=de,_n}finally{}}}function vs(){for(var f=Ma,h=Vl=Ma=0;h<f;){var v=Br[h];Br[h++]=null;var w=Br[h];Br[h++]=null;var M=Br[h];Br[h++]=null;var R=Br[h];if(Br[h++]=null,w!==null&&M!==null){var B=w.pending;B===null?M.next=M:(M.next=B.next,B.next=M),w.pending=M}R!==0&&Xi(v,M,R)}}function xs(f,h,v,w){Br[Ma++]=f,Br[Ma++]=h,Br[Ma++]=v,Br[Ma++]=w,Vl|=w,f.lanes|=w,f=f.alternate,f!==null&&(f.lanes|=w)}function Ki(f,h,v,w){return xs(f,h,v,w),rr(f)}function Ti(f,h){return xs(f,null,null,h),rr(f)}function Xi(f,h,v){f.lanes|=v;var w=f.alternate;w!==null&&(w.lanes|=v);for(var M=!1,R=f.return;R!==null;)R.childLanes|=v,w=R.alternate,w!==null&&(w.childLanes|=v),R.tag===22&&(f=R.stateNode,f===null||f._visibility&1||(M=!0)),f=R,R=R.return;return f.tag===3?(R=f.stateNode,M&&h!==null&&(M=31-Oi(v),f=R.hiddenUpdates,w=f[M],w===null?f[M]=[h]:w.push(h),h.lane=v|536870912),R):null}function rr(f){if(50<Lt)throw Lt=0,Yf=null,Error(i(185));for(var h=f.return;h!==null;)f=h,h=f.return;return f.tag===3?f.stateNode:null}function Kr(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ao(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function la(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function No(f,h,v){var w=f.updateQueue;if(w===null)return null;if(w=w.shared,(St&2)!==0){var M=w.pending;return M===null?h.next=h:(h.next=M.next,M.next=h),w.pending=h,h=rr(f),Xi(f,null,v),h}return xs(f,w,h,v),rr(f)}function rf(f,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194048)!==0)){var w=h.lanes;w&=f.pendingLanes,v|=w,h.lanes=v,Y(f,v)}}function Pd(f,h){var v=f.updateQueue,w=f.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var M=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var B={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};R===null?M=R=B:R=R.next=B,v=v.next}while(v!==null);R===null?M=R=h:R=R.next=h}else M=R=h;v={baseState:w.baseState,firstBaseUpdate:M,lastBaseUpdate:R,shared:w.shared,callbacks:w.callbacks},f.updateQueue=v;return}f=v.lastBaseUpdate,f===null?v.firstBaseUpdate=h:f.next=h,v.lastBaseUpdate=h}function Ya(){if(qh){var f=gr;if(f!==null)throw f}}function vl(f,h,v,w){qh=!1;var M=f.updateQueue;rs=!1;var R=M.firstBaseUpdate,B=M.lastBaseUpdate,Z=M.shared.pending;if(Z!==null){M.shared.pending=null;var me=Z,Ce=me.next;me.next=null,B===null?R=Ce:B.next=Ce,B=me;var Re=f.alternate;Re!==null&&(Re=Re.updateQueue,Z=Re.lastBaseUpdate,Z!==B&&(Z===null?Re.firstBaseUpdate=Ce:Z.next=Ce,Re.lastBaseUpdate=me))}if(R!==null){var Ee=M.baseState;B=0,Re=Ce=me=null,Z=R;do{var Pe=Z.lane&-536870913,ct=Pe!==Z.lane;if(ct?(_t&Pe)===Pe:(w&Pe)===Pe){Pe!==0&&Pe===lo&&(qh=!0),Re!==null&&(Re=Re.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var kr=f,uu=Z;Pe=h;var al=v;switch(uu.tag){case 1:if(kr=uu.payload,typeof kr=="function"){Ee=kr.call(al,Ee,Pe);break e}Ee=kr;break e;case 3:kr.flags=kr.flags&-65537|128;case 0:if(kr=uu.payload,Pe=typeof kr=="function"?kr.call(al,Ee,Pe):kr,Pe==null)break e;Ee=bh({},Ee,Pe);break e;case 2:rs=!0}}Pe=Z.callback,Pe!==null&&(f.flags|=64,ct&&(f.flags|=8192),ct=M.callbacks,ct===null?M.callbacks=[Pe]:ct.push(Pe))}else ct={lane:Pe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Re===null?(Ce=Re=ct,me=Ee):Re=Re.next=ct,B|=Pe;if(Z=Z.next,Z===null){if(Z=M.shared.pending,Z===null)break;ct=Z,Z=ct.next,ct.next=null,M.lastBaseUpdate=ct,M.shared.pending=null}}while(!0);Re===null&&(me=Ee),M.baseState=me,M.firstBaseUpdate=Ce,M.lastBaseUpdate=Re,R===null&&(M.shared.lanes=0),uo|=B,f.lanes=B,f.memoizedState=Ee}}function xl(f,h){if(typeof f!="function")throw Error(i(191,f));f.call(h)}function Sl(f,h){var v=f.callbacks;if(v!==null)for(f.callbacks=null,f=0;f<v.length;f++)xl(v[f],h)}function kc(f,h){f=Na,S(Zo,f),S(Yl,h),Na=f|h.baseLanes}function Ro(){S(Zo,Na),S(Yl,Yl.current)}function ir(){Na=Zo.current,x(Yl),x(Zo)}function Ka(f){var h=f.alternate;S(Bn,Bn.current&1),S(zi,f),yi===null&&(h===null||Yl.current!==null||h.memoizedState!==null)&&(yi=f)}function Bd(f){S(Bn,Bn.current),S(zi,f),yi===null&&(yi=f)}function Oo(f){f.tag===22?(S(Bn,Bn.current),S(zi,f),yi===null&&(yi=f)):Qi()}function Qi(){S(Bn,Bn.current),S(zi,zi.current)}function Wi(f){x(zi),yi===f&&(yi=null),x(Bn)}function sf(f){for(var h=f;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Xo(v)||Th(v)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function xn(){throw Error(i(321))}function Zp(f,h){if(h===null)return!1;for(var v=0;v<h.length&&v<f.length;v++)if(!Xn(f[v],h[v]))return!1;return!0}function Tc(f,h,v,w,M,R){return co=R,ft=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Xe.H=f===null||f.memoizedState===null?En:Aa,Rt=!1,R=v(w,M),Rt=!1,ht&&(R=ca(h,v,w,M)),af(f),R}function af(f){Xe.H=is;var h=Ve!==null&&Ve.next!==null;if(co=0,at=Ve=ft=null,gt=!1,Ps=0,Qs=null,h)throw Error(i(300));f===null||sn||(f=f.dependencies,f!==null&&Gi(f)&&(sn=!0))}function ca(f,h,v,w){ft=f;var M=0;do{if(ht&&(Qs=null),Ps=0,ht=!1,25<=M)throw Error(i(301));if(M+=1,at=Ve=null,f.updateQueue!=null){var R=f.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}Xe.H=el,R=h(v,w)}while(ht);return R}function Ss(){var f=Xe.H,h=f.useState()[0];return h=typeof h.then=="function"?Qr(h):h,f=f.useState()[0],(Ve!==null?Ve.memoizedState:null)!==f&&(ft.flags|=1024),h}function Id(){var f=Zr!==0;return Zr=0,f}function em(f,h,v){h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~v}function of(f){if(gt){for(f=f.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}gt=!1}co=0,at=Ve=ft=null,ht=!1,Ps=Zr=0,Qs=null}function Xr(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ft.memoizedState=at=f:at=at.next=f,at}function fn(){if(Ve===null){var f=ft.alternate;f=f!==null?f.memoizedState:null}else f=Ve.next;var h=at===null?ft.memoizedState:at.next;if(h!==null)at=h,Ve=f;else{if(f===null)throw ft.alternate===null?Error(i(467)):Error(i(310));Ve=f,f={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},at===null?ft.memoizedState=at=f:at=at.next=f}return at}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qr(f){var h=Ps;return Ps+=1,Qs===null&&(Qs=[]),f=oi(Qs,f,h),h=ft,(at===null?h.memoizedState:at.next)===null&&(h=h.alternate,Xe.H=h===null||h.memoizedState===null?En:Aa),f}function _c(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Qr(f);if(f.$$typeof===Ms)return On(f)}throw Error(i(438,String(f)))}function Ud(f){var h=null,v=ft.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var w=ft.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(M){return M.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=Hd(),ft.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(f),w=0;w<f;w++)v[w]=Om;return h.index++,v}function Vs(f,h){return typeof h=="function"?h(f):h}function Xa(f){var h=fn();return Fd(h,Ve,f)}function Fd(f,h,v){var w=f.queue;if(w===null)throw Error(i(311));w.lastRenderedReducer=v;var M=f.baseQueue,R=w.pending;if(R!==null){if(M!==null){var B=M.next;M.next=R.next,R.next=B}h.baseQueue=M=R,w.pending=null}if(R=f.baseState,M===null)f.memoizedState=R;else{h=M.next;var Z=B=null,me=null,Ce=h,Re=!1;do{var Ee=Ce.lane&-536870913;if(Ee!==Ce.lane?(_t&Ee)===Ee:(co&Ee)===Ee){var Pe=Ce.revertLane;if(Pe===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Ee===lo&&(Re=!0);else if((co&Pe)===Pe){Ce=Ce.next,Pe===lo&&(Re=!0);continue}else Ee={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},me===null?(Z=me=Ee,B=R):me=me.next=Ee,ft.lanes|=Pe,uo|=Pe;Ee=Ce.action,Rt&&v(R,Ee),R=Ce.hasEagerState?Ce.eagerState:v(R,Ee)}else Pe={lane:Ee,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},me===null?(Z=me=Pe,B=R):me=me.next=Pe,ft.lanes|=Ee,uo|=Ee;Ce=Ce.next}while(Ce!==null&&Ce!==h);if(me===null?B=R:me.next=Z,!Xn(R,f.memoizedState)&&(sn=!0,Re&&(v=gr,v!==null)))throw v;f.memoizedState=R,f.baseState=B,f.baseQueue=me,w.lastRenderedState=R}return M===null&&(w.lanes=0),[f.memoizedState,w.dispatch]}function Gd(f){var h=fn(),v=h.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=f;var w=v.dispatch,M=v.pending,R=h.memoizedState;if(M!==null){v.pending=null;var B=M=M.next;do R=f(R,B.action),B=B.next;while(B!==M);Xn(R,h.memoizedState)||(sn=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),v.lastRenderedState=R}return[R,w]}function wl(f,h,v){var w=ft,M=fn(),R=Tt;if(R){if(v===void 0)throw Error(i(407));v=v()}else v=h();var B=!Xn((Ve||M).memoizedState,v);if(B&&(M.memoizedState=v,sn=!0),M=M.queue,Nc(nm.bind(null,w,M,f),[f]),M.getSnapshot!==h||B||at!==null&&at.memoizedState.tag&1){if(w.flags|=2048,Ji(9,{destroy:void 0},tm.bind(null,w,M,v,h),null),yt===null)throw Error(i(349));R||(co&127)!==0||by(w,h,v)}return v}function by(f,h,v){f.flags|=16384,f={getSnapshot:h,value:v},h=ft.updateQueue,h===null?(h=Hd(),ft.updateQueue=h,h.stores=[f]):(v=h.stores,v===null?h.stores=[f]:v.push(f))}function tm(f,h,v,w){h.value=v,h.getSnapshot=w,qd(h)&&vy(f)}function nm(f,h,v){return v(function(){qd(h)&&vy(f)})}function qd(f){var h=f.getSnapshot;f=f.value;try{var v=h();return!Xn(f,v)}catch{return!0}}function vy(f){var h=Ti(f,2);h!==null&&wn(h,f,2)}function rm(f){var h=Xr();if(typeof f=="function"){var v=f;if(f=v(),Rt){le(!0);try{v()}finally{le(!1)}}}return h.memoizedState=h.baseState=f,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:f},h}function lf(f,h,v,w){return f.baseState=v,Fd(f,Ve,typeof w=="function"?w:Vs)}function Qa(f,h,v,w,M){if($d(f))throw Error(i(485));if(f=h.action,f!==null){var R={payload:M,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){R.listeners.push(B)}};Xe.T!==null?v(!0):R.isTransition=!1,w(R),v=h.pending,v===null?(R.next=h.pending=R,Vd(h,R)):(R.next=v.next,h.pending=v.next=R)}}function Vd(f,h){var v=h.action,w=h.payload,M=f.state;if(h.isTransition){var R=Xe.T,B={};Xe.T=B;try{var Z=v(M,w),me=Xe.S;me!==null&&me(B,Z),Yd(f,h,Z)}catch(Ce){Do(f,h,Ce)}finally{R!==null&&B.types!==null&&(R.types=B.types),Xe.T=R}}else try{R=v(M,w),Yd(f,h,R)}catch(Ce){Do(f,h,Ce)}}function Yd(f,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(w){Cl(f,h,w)},function(w){return Do(f,h,w)}):Cl(f,h,v)}function Cl(f,h,v){h.status="fulfilled",h.value=v,im(h),f.state=v,h=f.pending,h!==null&&(v=h.next,v===h?f.pending=null:(v=v.next,h.next=v,Vd(f,v)))}function Do(f,h,v){var w=f.pending;if(f.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=v,im(h),h=h.next;while(h!==w)}f.action=null}function im(f){f=f.listeners;for(var h=0;h<f.length;h++)(0,f[h])()}function Kd(f,h){return h}function sm(f,h){if(Tt){var v=yt.formState;if(v!==null){e:{var w=ft;if(Tt){if(pn){var M=h1(pn,mi);if(M){pn=p1(M),w=Jm(M);break e}}Ke(w)}w=!1}w&&(h=v[0])}}v=Xr(),v.memoizedState=v.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kd,lastRenderedState:h},v.queue=w,v=ky.bind(null,ft,w),w.dispatch=v,w=rm(!1);var R=Jd.bind(null,ft,!1,w.queue);return w=Xr(),M={state:h,dispatch:null,action:f,pending:null},w.queue=M,v=Qa.bind(null,ft,M,R,v),M.dispatch=v,w.memoizedState=f,[h,v,!1]}function Mc(f){var h=fn();return ua(h,Ve,f)}function ua(f,h,v){if(h=Fd(f,h,Kd)[0],f=Xa(Vs)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=Qr(h)}catch(B){throw B===yr?Ls:B}else w=h;h=fn();var M=h.queue,R=M.dispatch;return v!==h.memoizedState&&(ft.flags|=2048,Ji(9,{destroy:void 0},am.bind(null,M,v),null)),[w,R,f]}function am(f,h){f.action=h}function Ac(f){var h=fn(),v=Ve;if(v!==null)return ua(h,v,f);fn(),h=h.memoizedState,v=fn();var w=v.queue.dispatch;return v.memoizedState=f,[h,w,!1]}function Ji(f,h,v,w){return f={tag:f,create:v,deps:w,inst:h,next:null},h=ft.updateQueue,h===null&&(h=Hd(),ft.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=f.next=f:(w=v.next,v.next=f,f.next=w,h.lastEffect=f),f}function Xd(){return fn().memoizedState}function El(f,h,v,w){var M=Xr();ft.flags|=f,M.memoizedState=Ji(1|h,{destroy:void 0},v,w===void 0?null:w)}function cf(f,h,v,w){var M=fn();w=w===void 0?null:w;var R=M.memoizedState.inst;Ve!==null&&w!==null&&Zp(w,Ve.memoizedState.deps)?M.memoizedState=Ji(h,R,v,w):(ft.flags|=f,M.memoizedState=Ji(1|h,R,v,w))}function uf(f,h){El(8390656,8,f,h)}function Nc(f,h){cf(2048,8,f,h)}function xy(f){ft.flags|=4;var h=ft.updateQueue;if(h===null)h=Hd(),ft.updateQueue=h,h.events=[f];else{var v=h.events;v===null?h.events=[f]:v.push(f)}}function ui(f){var h=fn().memoizedState;return xy({ref:h,nextImpl:f}),function(){if((St&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}function zo(f,h){return cf(4,2,f,h)}function ff(f,h){return cf(4,4,f,h)}function Rc(f,h){if(typeof h=="function"){f=f();var v=h(f);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function Sy(f,h,v){v=v!=null?v.concat([f]):null,cf(4,4,Rc.bind(null,h,f),v)}function df(){}function Qd(f,h){var v=fn();h=h===void 0?null:h;var w=v.memoizedState;return h!==null&&Zp(h,w[1])?w[0]:(v.memoizedState=[f,h],f)}function Oc(f,h){var v=fn();h=h===void 0?null:h;var w=v.memoizedState;if(h!==null&&Zp(h,w[1]))return w[0];if(w=f(),Rt){le(!0);try{f()}finally{le(!1)}}return v.memoizedState=[w,h],w}function Dc(f,h,v){return v===void 0||(co&1073741824)!==0&&(_t&261930)===0?f.memoizedState=h:(f.memoizedState=v,f=$a(),ft.lanes|=f,uo|=f,v)}function om(f,h,v,w){return Xn(v,h)?v:Yl.current!==null?(f=Dc(f,v,w),Xn(f,h)||(sn=!0),f):(co&42)===0||(co&1073741824)!==0&&(_t&261930)===0?(sn=!0,f.memoizedState=v):(f=$a(),ft.lanes|=f,uo|=f,h)}function wy(f,h,v,w,M){var R=As();kt(R!==0&&8>R?R:8);var B=Xe.T,Z={};Xe.T=Z,Jd(f,!1,h,v);try{var me=M(),Ce=Xe.S;if(Ce!==null&&Ce(Z,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Re=Ec(me,w);hf(f,h,Re,dn(f))}else hf(f,h,w,dn(f))}catch(Ee){hf(f,h,{then:function(){},status:"rejected",reason:Ee},dn())}finally{kt(R),B!==null&&Z.types!==null&&(B.types=Z.types),Xe.T=B}}function Cy(f){var h=f.memoizedState;if(h!==null)return h;h={memoizedState:Bl,baseState:Bl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:Bl},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:v},next:null},f.memoizedState=h,f=f.alternate,f!==null&&(f.memoizedState=h),h}function lm(){return On(Il)}function Wd(){return fn().memoizedState}function Ey(){return fn().memoizedState}function x2(f){for(var h=f.return;h!==null;){switch(h.tag){case 24:case 3:var v=dn();f=la(v);var w=No(h,f,v);w!==null&&(wn(w,h,v),rf(w,h,v)),h={cache:ye()},f.payload=h;return}h=h.return}}function S2(f,h,v){var w=dn();v={lane:w,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},$d(f)?Ty(h,v):(v=Ki(f,h,v,w),v!==null&&(wn(v,f,w),_y(v,h,w)))}function ky(f,h,v){var w=dn();hf(f,h,v,w)}function hf(f,h,v,w){var M={lane:w,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if($d(f))Ty(h,M);else{var R=f.alternate;if(f.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var B=h.lastRenderedState,Z=R(B,v);if(M.hasEagerState=!0,M.eagerState=Z,Xn(Z,B))return xs(f,h,M,0),yt===null&&vs(),!1}catch{}finally{}if(v=Ki(f,h,M,w),v!==null)return wn(v,f,w),_y(v,h,w),!0}return!1}function Jd(f,h,v,w){if(w={lane:2,revertLane:bs(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},$d(f)){if(h)throw Error(i(479))}else h=Ki(f,v,w,2),h!==null&&wn(h,f,2)}function $d(f){var h=f.alternate;return f===ft||h!==null&&h===ft}function Ty(f,h){ht=gt=!0;var v=f.pending;v===null?h.next=h:(h.next=v.next,v.next=h),f.pending=h}function _y(f,h,v){if((v&4194048)!==0){var w=h.lanes;w&=f.pendingLanes,v|=w,h.lanes=v,Y(f,v)}}function cm(f,h,v,w){h=f.memoizedState,v=v(w,h),v=v==null?h:bh({},h,v),f.memoizedState=v,f.lanes===0&&(f.updateQueue.baseState=v)}function Zd(f,h,v,w,M,R,B){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(w,R,B):h.prototype&&h.prototype.isPureReactComponent?!Vn(v,w)||!Vn(M,R):!0}function My(f,h,v,w){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,w),h.state!==f&&Uf.enqueueReplaceState(h,h.state,null)}function kl(f,h){var v=h;if("ref"in h){v={};for(var w in h)w!=="ref"&&(v[w]=h[w])}if(f=f.defaultProps){v===h&&(v=bh({},v));for(var M in f)v[M]===void 0&&(v[M]=f[M])}return v}function eh(f,h){try{var v=f.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function um(f,h,v){try{var w=f.onCaughtError;w(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function fm(f,h,v){return v=la(v),v.tag=3,v.payload={element:null},v.callback=function(){eh(f,h)},v}function Ay(f){return f=la(f),f.tag=3,f}function Ny(f,h,v,w){var M=v.type.getDerivedStateFromError;if(typeof M=="function"){var R=w.value;f.payload=function(){return M(R)},f.callback=function(){um(h,v,w)}}var B=v.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(f.callback=function(){um(h,v,w),typeof M!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var Z=w.stack;this.componentDidCatch(w.value,{componentStack:Z!==null?Z:""})})}function w2(f,h,v,w,M){if(v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=v.alternate,h!==null&&nr(h,v,M,!0),v=zi.current,v!==null){switch(v.tag){case 31:case 13:return yi===null?qc():v.alternate===null&&Tn===0&&(Tn=3),v.flags&=-257,v.flags|=65536,v.lanes=M,w===_a?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([w]):h.add(w),Kc(f,w,M)),!1;case 22:return v.flags|=65536,w===_a?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([w]):v.add(w)),Kc(f,w,M)),!1}throw Error(i(435,v.tag))}return Kc(f,w,M),qc(),!1}if(Tt)return h=zi.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=M,w!==Uh&&(f=Error(i(422),{cause:w}),Dr(fe(f,v)))):(w!==Uh&&(h=Error(i(423),{cause:w}),Dr(fe(h,v))),f=f.current.alternate,f.flags|=65536,M&=-M,f.lanes|=M,w=fe(w,v),M=fm(f.stateNode,w,M),Pd(f,M),Tn!==4&&(Tn=2)),!1;var R=Error(i(520),{cause:w});if(R=fe(R,v),Gf===null?Gf=[R]:Gf.push(R),Tn!==4&&(Tn=2),h===null)return!0;w=fe(w,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,f=M&-M,v.lanes|=f,f=fm(v.stateNode,w,f),Pd(v,f),!1;case 1:if(h=v.type,R=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(fo===null||!fo.has(R))))return v.flags|=65536,M&=-M,v.lanes|=M,M=Ay(M),Ny(M,f,v,w),Pd(v,M),!1}v=v.return}while(v!==null);return!1}function zr(f,h,v,w){h.child=f===null?mg(h,null,v,w):Pr(h,f.child,v,w)}function Ry(f,h,v,w,M){v=v.render;var R=h.ref;if("ref"in w){var B={};for(var Z in w)Z!=="ref"&&(B[Z]=w[Z])}else B=w;return Ei(h),w=Tc(f,h,v,B,R,M),Z=Id(),f!==null&&!sn?(em(f,h,M),fa(f,h,M)):(Tt&&Z&&ie(h),h.flags|=1,zr(f,h,w,M),h.child)}function Oy(f,h,v,w,M){if(f===null){var R=v.type;return typeof R=="function"&&!Nl(R)&&R.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=R,Dy(f,h,R,w,M)):(f=to(v.type,null,w,h,h.mode,M),f.ref=h.ref,f.return=h,h.child=f)}if(R=f.child,!mf(f,M)){var B=R.memoizedProps;if(v=v.compare,v=v!==null?v:Vn,v(B,w)&&f.ref===h.ref)return fa(f,h,M)}return h.flags|=1,f=es(R,w),f.ref=h.ref,f.return=h,h.child=f}function Dy(f,h,v,w,M){if(f!==null){var R=f.memoizedProps;if(Vn(R,w)&&f.ref===h.ref)if(sn=!1,h.pendingProps=w=R,mf(f,M))(f.flags&131072)!==0&&(sn=!0);else return h.lanes=f.lanes,fa(f,h,M)}return nh(f,h,v,w,M)}function zy(f,h,v,w){var M=w.children,R=f!==null?f.memoizedState:null;if(f===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode==="hidden"){if((h.flags&128)!==0){if(R=R!==null?R.baseLanes|v:v,f!==null){for(w=h.child=f.child,M=0;w!==null;)M=M|w.lanes|w.childLanes,w=w.sibling;w=M&~R}else w=0,h.child=null;return zc(f,h,R,v,w)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},f!==null&&un(h,R!==null?R.cachePool:null),R!==null?kc(h,R):Ro(),Oo(h);else return w=h.lanes=536870912,zc(f,h,R!==null?R.baseLanes|v:v,v,w)}else R!==null?(un(h,R.cachePool),kc(h,R),Qi(),h.memoizedState=null):(f!==null&&un(h,null),Ro(),Qi());return zr(f,h,M,v),h.child}function Tl(f,h){return f!==null&&f.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function zc(f,h,v,w,M){var R=Mo();return R=R===null?null:{parent:Yn?mn._currentValue:mn._currentValue2,pool:R},h.memoizedState={baseLanes:v,cachePool:R},f!==null&&un(h,null),Ro(),Oo(h),f!==null&&nr(f,h,w,!0),h.childLanes=M,null}function th(f,h){return h=jo({mode:h.mode,children:h.children},f.mode),h.ref=f.ref,f.child=h,h.return=f,h}function dm(f,h,v){return Pr(h,f.child,null,v),f=th(h,h.pendingProps),f.flags|=2,Wi(h),h.memoizedState=null,f}function jy(f,h,v){var w=h.pendingProps,M=(h.flags&128)!==0;if(h.flags&=-129,f===null){if(Tt){if(w.mode==="hidden")return f=th(h,w),h.lanes=536870912,Tl(null,f);if(Bd(h),(f=pn)?(f=Zm(f,mi),f!==null&&(h.memoizedState={dehydrated:f,treeContext:Os!==null?{id:jr,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},v=Am(f),v.return=h,h.child=v,mr=h,pn=null)):f=null,f===null)throw Ke(h);return h.lanes=536870912,null}return th(h,w)}var R=f.memoizedState;if(R!==null){var B=R.dehydrated;if(Bd(h),M)if(h.flags&256)h.flags&=-257,h=dm(f,h,v);else if(h.memoizedState!==null)h.child=f.child,h.flags|=128,h=null;else throw Error(i(558));else if(sn||nr(f,h,v,!1),M=(v&f.childLanes)!==0,sn||M){if(w=yt,w!==null&&(B=G(w,v),B!==0&&B!==R.retryLane))throw R.retryLane=B,Ti(f,B),wn(w,f,B),bi;qc(),h=dm(f,h,v)}else f=R.treeContext,hn&&(pn=b1(B),mr=h,Tt=!0,Ta=null,mi=!1,f!==null&&we(h,f)),h=th(h,w),h.flags|=4096;return h}return f=es(f.child,{mode:w.mode,children:w.children}),f.ref=h.ref,h.child=f,f.return=h,f}function pf(f,h){var v=h.ref;if(v===null)f!==null&&f.ref!==null&&(h.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(f===null||f.ref!==v)&&(h.flags|=4194816)}}function nh(f,h,v,w,M){return Ei(h),v=Tc(f,h,v,w,void 0,M),w=Id(),f!==null&&!sn?(em(f,h,M),fa(f,h,M)):(Tt&&w&&ie(h),h.flags|=1,zr(f,h,v,M),h.child)}function hm(f,h,v,w,M,R){return Ei(h),h.updateQueue=null,v=ca(h,w,v,M),af(f),w=Id(),f!==null&&!sn?(em(f,h,R),fa(f,h,R)):(Tt&&w&&ie(h),h.flags|=1,zr(f,h,v,R),h.child)}function _l(f,h,v,w,M){if(Ei(h),h.stateNode===null){var R=Ca,B=v.contextType;typeof B=="object"&&B!==null&&(R=On(B)),R=new v(w,R),h.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=Uf,h.stateNode=R,R._reactInternals=h,R=h.stateNode,R.props=w,R.state=h.memoizedState,R.refs={},Kr(h),B=v.contextType,R.context=typeof B=="object"&&B!==null?On(B):Ca,R.state=h.memoizedState,B=v.getDerivedStateFromProps,typeof B=="function"&&(cm(h,v,B,w),R.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(B=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),B!==R.state&&Uf.enqueueReplaceState(R,R.state,null),vl(h,w,R,M),Ya(),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(f===null){R=h.stateNode;var Z=h.memoizedProps,me=kl(v,Z);R.props=me;var Ce=R.context,Re=v.contextType;B=Ca,typeof Re=="object"&&Re!==null&&(B=On(Re));var Ee=v.getDerivedStateFromProps;Re=typeof Ee=="function"||typeof R.getSnapshotBeforeUpdate=="function",Z=h.pendingProps!==Z,Re||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Z||Ce!==B)&&My(h,R,w,B),rs=!1;var Pe=h.memoizedState;R.state=Pe,vl(h,w,R,M),Ya(),Ce=h.memoizedState,Z||Pe!==Ce||rs?(typeof Ee=="function"&&(cm(h,v,Ee,w),Ce=h.memoizedState),(me=rs||Zd(h,v,me,w,Pe,Ce,B))?(Re||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(h.flags|=4194308)):(typeof R.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Ce),R.props=w,R.state=Ce,R.context=B,w=me):(typeof R.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{R=h.stateNode,Ao(f,h),B=h.memoizedProps,Re=kl(v,B),R.props=Re,Ee=h.pendingProps,Pe=R.context,Ce=v.contextType,me=Ca,typeof Ce=="object"&&Ce!==null&&(me=On(Ce)),Z=v.getDerivedStateFromProps,(Ce=typeof Z=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==Ee||Pe!==me)&&My(h,R,w,me),rs=!1,Pe=h.memoizedState,R.state=Pe,vl(h,w,R,M),Ya();var ct=h.memoizedState;B!==Ee||Pe!==ct||rs||f!==null&&f.dependencies!==null&&Gi(f.dependencies)?(typeof Z=="function"&&(cm(h,v,Z,w),ct=h.memoizedState),(Re=rs||Zd(h,v,Re,w,Pe,ct,me)||f!==null&&f.dependencies!==null&&Gi(f.dependencies))?(Ce||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(w,ct,me),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(w,ct,me)),typeof R.componentDidUpdate=="function"&&(h.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof R.componentDidUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=ct),R.props=w,R.state=ct,R.context=me,w=Re):(typeof R.componentDidUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===f.memoizedProps&&Pe===f.memoizedState||(h.flags|=1024),w=!1)}return R=w,pf(f,h),w=(h.flags&128)!==0,R||w?(R=h.stateNode,v=w&&typeof v.getDerivedStateFromError!="function"?null:R.render(),h.flags|=1,f!==null&&w?(h.child=Pr(h,f.child,null,M),h.child=Pr(h,null,v,M)):zr(f,h,v,M),h.memoizedState=R.state,f=h.child):f=fa(f,h,M),f}function Ly(f,h,v,w){return Rn(),h.flags|=256,zr(f,h,v,w),h.child}function pm(f){return{baseLanes:f,cachePool:zn()}}function mm(f,h,v){return f=f!==null?f.childLanes&~v:0,h&&(f|=vi),f}function gm(f,h,v){var w=h.pendingProps,M=!1,R=(h.flags&128)!==0,B;if((B=R)||(B=f!==null&&f.memoizedState===null?!1:(Bn.current&2)!==0),B&&(M=!0,h.flags&=-129),B=(h.flags&32)!==0,h.flags&=-33,f===null){if(Tt){if(M?Ka(h):Qi(),(f=pn)?(f=w1(f,mi),f!==null&&(h.memoizedState={dehydrated:f,treeContext:Os!==null?{id:jr,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},v=Am(f),v.return=h,h.child=v,mr=h,pn=null)):f=null,f===null)throw Ke(h);return Th(f)?h.lanes=32:h.lanes=536870912,null}var Z=w.children;return w=w.fallback,M?(Qi(),M=h.mode,Z=jo({mode:"hidden",children:Z},M),w=_s(w,M,v,null),Z.return=h,w.return=h,Z.sibling=w,h.child=Z,w=h.child,w.memoizedState=pm(v),w.childLanes=mm(f,B,v),h.memoizedState=Kl,Tl(null,w)):(Ka(h),rh(h,Z))}var me=f.memoizedState;if(me!==null&&(Z=me.dehydrated,Z!==null)){if(R)h.flags&256?(Ka(h),h.flags&=-257,h=Ml(f,h,v)):h.memoizedState!==null?(Qi(),h.child=f.child,h.flags|=128,h=null):(Qi(),Z=w.fallback,M=h.mode,w=jo({mode:"visible",children:w.children},M),Z=_s(Z,M,v,null),Z.flags|=2,w.return=h,Z.return=h,w.sibling=Z,h.child=w,Pr(h,f.child,null,v),w=h.child,w.memoizedState=pm(v),w.childLanes=mm(f,B,v),h.memoizedState=Kl,h=Tl(null,w));else if(Ka(h),Th(Z))B=_h(Z).digest,w=Error(i(419)),w.stack="",w.digest=B,Dr({value:w,source:null,stack:null}),h=Ml(f,h,v);else if(sn||nr(f,h,v,!1),B=(v&f.childLanes)!==0,sn||B){if(B=yt,B!==null&&(w=G(B,v),w!==0&&w!==me.retryLane))throw me.retryLane=w,Ti(f,w),wn(B,f,w),bi;Xo(Z)||qc(),h=Ml(f,h,v)}else Xo(Z)?(h.flags|=192,h.child=f.child,h=null):(f=me.treeContext,hn&&(pn=v1(Z),mr=h,Tt=!0,Ta=null,mi=!1,f!==null&&we(h,f)),h=rh(h,w.children),h.flags|=4096);return h}return M?(Qi(),Z=w.fallback,M=h.mode,me=f.child,R=me.sibling,w=es(me,{mode:"hidden",children:w.children}),w.subtreeFlags=me.subtreeFlags&65011712,R!==null?Z=es(R,Z):(Z=_s(Z,M,v,null),Z.flags|=2),Z.return=h,w.return=h,w.sibling=Z,h.child=w,Tl(null,w),w=h.child,Z=f.child.memoizedState,Z===null?Z=pm(v):(M=Z.cachePool,M!==null?(me=Yn?mn._currentValue:mn._currentValue2,M=M.parent!==me?{parent:me,pool:me}:M):M=zn(),Z={baseLanes:Z.baseLanes|v,cachePool:M}),w.memoizedState=Z,w.childLanes=mm(f,B,v),h.memoizedState=Kl,Tl(f.child,w)):(Ka(h),v=f.child,f=v.sibling,v=es(v,{mode:"visible",children:w.children}),v.return=h,v.sibling=null,f!==null&&(B=h.deletions,B===null?(h.deletions=[f],h.flags|=16):B.push(f)),h.child=v,h.memoizedState=null,v)}function rh(f,h){return h=jo({mode:"visible",children:h},f.mode),h.return=f,f.child=h}function jo(f,h){return f=n(22,f,null,h),f.lanes=0,f}function Ml(f,h,v){return Pr(h,f.child,null,v),f=rh(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function Py(f,h,v){f.lanes|=h;var w=f.alternate;w!==null&&(w.lanes|=h),Va(f.return,h,v)}function jc(f,h,v,w,M,R){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:M,treeForkCount:R}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=w,B.tail=v,B.tailMode=M,B.treeForkCount=R)}function ym(f,h,v){var w=h.pendingProps,M=w.revealOrder,R=w.tail;w=w.children;var B=Bn.current,Z=(B&2)!==0;if(Z?(B=B&1|2,h.flags|=128):B&=1,S(Bn,B),zr(f,h,w,v),w=Tt?Bf:0,!Z&&f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Py(f,v,h);else if(f.tag===19)Py(f,v,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(M){case"forwards":for(v=h.child,M=null;v!==null;)f=v.alternate,f!==null&&sf(f)===null&&(M=v),v=v.sibling;v=M,v===null?(M=h.child,h.child=null):(M=v.sibling,v.sibling=null),jc(h,!1,M,v,R,w);break;case"backwards":case"unstable_legacy-backwards":for(v=null,M=h.child,h.child=null;M!==null;){if(f=M.alternate,f!==null&&sf(f)===null){h.child=M;break}f=M.sibling,M.sibling=v,v=M,M=f}jc(h,!0,v,null,R,w);break;case"together":jc(h,!1,null,null,void 0,w);break;default:h.memoizedState=null}return h.child}function fa(f,h,v){if(f!==null&&(h.dependencies=f.dependencies),uo|=h.lanes,(v&h.childLanes)===0)if(f!==null){if(nr(f,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(f!==null&&h.child!==f.child)throw Error(i(153));if(h.child!==null){for(f=h.child,v=es(f,f.pendingProps),h.child=v,v.return=h;f.sibling!==null;)f=f.sibling,v=v.sibling=es(f,f.pendingProps),v.return=h;v.sibling=null}return h.child}function mf(f,h){return(f.lanes&h)!==0?!0:(f=f.dependencies,!!(f!==null&&Gi(f)))}function bm(f,h,v){switch(h.tag){case 3:Be(h,h.stateNode.containerInfo),tr(h,mn,f.memoizedState.cache),Rn();break;case 27:case 5:je(h);break;case 4:Be(h,h.stateNode.containerInfo);break;case 10:tr(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Bd(h),null;break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Ka(h),h.flags|=128,null):(v&h.child.childLanes)!==0?gm(f,h,v):(Ka(h),f=fa(f,h,v),f!==null?f.sibling:null);Ka(h);break;case 19:var M=(f.flags&128)!==0;if(w=(v&h.childLanes)!==0,w||(nr(f,h,v,!1),w=(v&h.childLanes)!==0),M){if(w)return ym(f,h,v);h.flags|=128}if(M=h.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),S(Bn,Bn.current),w)break;return null;case 22:return h.lanes=0,zy(f,h,v,h.pendingProps);case 24:tr(h,mn,f.memoizedState.cache)}return fa(f,h,v)}function vm(f,h,v){if(f!==null)if(f.memoizedProps!==h.pendingProps)sn=!0;else{if(!mf(f,v)&&(h.flags&128)===0)return sn=!1,bm(f,h,v);sn=(f.flags&131072)!==0}else sn=!1,Tt&&(h.flags&1048576)!==0&&K(h,Bf,h.index);switch(h.lanes=0,h.tag){case 16:e:{var w=h.pendingProps;if(f=jn(h.elementType),h.type=f,typeof f=="function")Nl(f)?(w=kl(f,w),h.tag=1,h=_l(null,h,f,w,v)):(h.tag=0,h=nh(null,h,f,w,v));else{if(f!=null){var M=f.$$typeof;if(M===Xc){h.tag=11,h=Ry(null,h,f,w,v);break e}else if(M===xh){h.tag=14,h=Oy(null,h,f,w,v);break e}}throw h=g(f)||f,Error(i(306,h,""))}}return h;case 0:return nh(f,h,h.type,h.pendingProps,v);case 1:return w=h.type,M=kl(w,h.pendingProps),_l(f,h,w,M,v);case 3:e:{if(Be(h,h.stateNode.containerInfo),f===null)throw Error(i(387));var R=h.pendingProps;M=h.memoizedState,w=M.element,Ao(f,h),vl(h,R,null,v);var B=h.memoizedState;if(R=B.cache,tr(h,mn,R),R!==M.cache&&ys(h,[mn],v,!0),Ya(),R=B.element,hn&&M.isDehydrated)if(M={element:R,isDehydrated:!1,cache:B.cache},h.updateQueue.baseState=M,h.memoizedState=M,h.flags&256){h=Ly(f,h,R,v);break e}else if(R!==w){w=fe(Error(i(424)),h),Dr(w),h=Ly(f,h,R,v);break e}else for(hn&&(pn=y1(h.stateNode.containerInfo),mr=h,Tt=!0,Ta=null,mi=!0),v=mg(h,null,R,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Rn(),R===w){h=fa(f,h,v);break e}zr(f,h,R,v)}h=h.child}return h;case 26:if(Ns)return pf(f,h),f===null?(v=ig(h.type,null,h.pendingProps,null))?h.memoizedState=v:Tt||(h.stateNode=Rh(h.type,h.pendingProps,Lr.current,h)):h.memoizedState=ig(h.type,f.memoizedProps,h.pendingProps,f.memoizedState),null;case 27:if(pr)return je(h),f===null&&pr&&Tt&&(w=h.stateNode=Oh(h.type,h.pendingProps,Lr.current,Cr.current,!1),mr=h,mi=!0,pn=$m(h.type,w,pn)),zr(f,h,h.pendingProps.children,v),pf(f,h),f===null&&(h.flags|=4194304),h.child;case 5:return f===null&&Tt&&(R1(h.type,h.pendingProps,Cr.current),(M=w=pn)&&(w=x1(w,h.type,h.pendingProps,mi),w!==null?(h.stateNode=w,mr=h,pn=g1(w),mi=!1,M=!0):M=!1),M||Ke(h)),je(h),M=h.type,R=h.pendingProps,B=f!==null?f.memoizedProps:null,w=R.children,pi(M,R)?w=null:B!==null&&pi(M,B)&&(h.flags|=32),h.memoizedState!==null&&(M=Tc(f,h,Ss,null,null,v),Yn?Il._currentValue=M:Il._currentValue2=M),pf(f,h),zr(f,h,w,v),h.child;case 6:return f===null&&Tt&&(rg(h.pendingProps,Cr.current),(f=v=pn)&&(v=S1(v,h.pendingProps,mi),v!==null?(h.stateNode=v,mr=h,pn=null,f=!0):f=!1),f||Ke(h)),null;case 13:return gm(f,h,v);case 4:return Be(h,h.stateNode.containerInfo),w=h.pendingProps,f===null?h.child=Pr(h,null,w,v):zr(f,h,w,v),h.child;case 11:return Ry(f,h,h.type,h.pendingProps,v);case 7:return zr(f,h,h.pendingProps,v),h.child;case 8:return zr(f,h,h.pendingProps.children,v),h.child;case 12:return zr(f,h,h.pendingProps.children,v),h.child;case 10:return w=h.pendingProps,tr(h,h.type,w.value),zr(f,h,w.children,v),h.child;case 9:return M=h.type._context,w=h.pendingProps.children,Ei(h),M=On(M),w=w(M),h.flags|=1,zr(f,h,w,v),h.child;case 14:return Oy(f,h,h.type,h.pendingProps,v);case 15:return Dy(f,h,h.type,h.pendingProps,v);case 19:return ym(f,h,v);case 31:return jy(f,h,v);case 22:return zy(f,h,v,h.pendingProps);case 24:return Ei(h),w=On(mn),f===null?(M=Mo(),M===null&&(M=yt,R=ye(),M.pooledCache=R,R.refCount++,R!==null&&(M.pooledCacheLanes|=v),M=R),h.memoizedState={parent:w,cache:M},Kr(h),tr(h,mn,M)):((f.lanes&v)!==0&&(Ao(f,h),vl(h,null,null,v),Ya()),M=f.memoizedState,R=h.memoizedState,M.parent!==w?(M={parent:w,cache:w},h.memoizedState=M,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=M),tr(h,mn,w)):(w=R.cache,tr(h,mn,w),w!==M.cache&&ys(h,[mn],v,!0))),zr(f,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(i(156,h.tag))}function ws(f){f.flags|=4}function gf(f){ts&&(f.flags|=8)}function By(f,h){if(f!==null&&f.child===h.child)return!1;if((h.flags&16)!==0)return!0;for(f=h.child;f!==null;){if((f.flags&8218)!==0||(f.subtreeFlags&8218)!==0)return!0;f=f.sibling}return!1}function xm(f,h,v,w){if(Nt)for(v=h.child;v!==null;){if(v.tag===5||v.tag===6)Nf(f,v.stateNode);else if(!(v.tag===4||pr&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(ts)for(var M=h.child;M!==null;){if(M.tag===5){var R=M.stateNode;v&&w&&(R=d1(R,M.type,M.memoizedProps)),Nf(f,R)}else if(M.tag===6)R=M.stateNode,v&&w&&(R=Wm(R,M.memoizedProps)),Nf(f,R);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)R=M.child,R!==null&&(R.return=M),xm(f,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===h)break;for(;M.sibling===null;){if(M.return===null||M.return===h)return;M=M.return}M.sibling.return=M.return,M=M.sibling}}function Iy(f,h,v,w){var M=!1;if(ts)for(var R=h.child;R!==null;){if(R.tag===5){var B=R.stateNode;v&&w&&(B=d1(B,R.type,R.memoizedProps)),Xm(f,B)}else if(R.tag===6)B=R.stateNode,v&&w&&(B=Wm(B,R.memoizedProps)),Xm(f,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)M=R.child,M!==null&&(M.return=R),Iy(f,R,!0,!0),M=!0;else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===h)break;for(;R.sibling===null;){if(R.return===null||R.return===h)return M;R=R.return}R.sibling.return=R.return,R=R.sibling}return M}function Hy(f,h){if(ts&&By(f,h)){f=h.stateNode;var v=f.containerInfo,w=Km();Iy(w,h,!1,!1),f.pendingChildren=w,ws(h),f1(v,w)}}function Sm(f,h,v,w){if(Nt)f.memoizedProps!==w&&ws(h);else if(ts){var M=f.stateNode,R=f.memoizedProps;if((f=By(f,h))||R!==w){var B=Cr.current;R=u1(M,v,R,w,!f,null),R===M?h.stateNode=M:(gf(h),Ni(R,v,w,B)&&ws(h),h.stateNode=R,f&&xm(R,h,!1,!1))}else h.stateNode=M}}function fi(f,h,v,w,M){if((f.mode&32)!==0&&(v===null?Rf(h,w):Zc(h,v,w))){if(f.flags|=16777216,(M&335544128)===M||Lm(h,w))if(Cn(f.stateNode,h,w))f.flags|=8192;else if(At())f.flags|=8192;else throw gi=_a,Gh}else f.flags&=-16777217}function Lc(f,h){if(lg(h)){if(f.flags|=16777216,!cg(h))if(At())f.flags|=8192;else throw gi=_a,Gh}else f.flags&=-16777217}function yf(f,h){h!==null&&(f.flags|=4),f.flags&16384&&(h=f.tag!==22?L():536870912,f.lanes|=h,lu|=h)}function Pc(f,h){if(!Tt)switch(f.tailMode){case"hidden":h=f.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?f.tail=null:v.sibling=null;break;case"collapsed":v=f.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:w.sibling=null}}function Zt(f){var h=f.alternate!==null&&f.alternate.child===f.child,v=0,w=0;if(h)for(var M=f.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags&65011712,w|=M.flags&65011712,M.return=f,M=M.sibling;else for(M=f.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags,w|=M.flags,M.return=f,M=M.sibling;return f.subtreeFlags|=w,f.childLanes=v,h}function Uy(f,h,v){var w=h.pendingProps;switch(F(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(h),null;case 1:return Zt(h),null;case 3:return v=h.stateNode,w=null,f!==null&&(w=f.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),si(mn),De(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(f===null||f.child===null)&&(Xt(h)?ws(h):f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Gn())),Hy(f,h),Zt(h),null;case 26:if(Ns){var M=h.type,R=h.memoizedState;return f===null?(ws(h),R!==null?(Zt(h),Lc(h,R)):(Zt(h),fi(h,M,null,w,v))):R?R!==f.memoizedState?(ws(h),Zt(h),Lc(h,R)):(Zt(h),h.flags&=-16777217):(R=f.memoizedProps,Nt?R!==w&&ws(h):Sm(f,h,M,w),Zt(h),fi(h,M,R,w,v)),null}case 27:if(pr){if(ot(h),v=Lr.current,M=h.type,f!==null&&h.stateNode!=null)Nt?f.memoizedProps!==w&&ws(h):Sm(f,h,M,w);else{if(!w){if(h.stateNode===null)throw Error(i(166));return Zt(h),null}f=Cr.current,Xt(h)?nt(h,f):(f=Oh(M,w,v,f,!0),h.stateNode=f,ws(h))}return Zt(h),null}case 5:if(ot(h),M=h.type,f!==null&&h.stateNode!=null)Sm(f,h,M,w);else{if(!w){if(h.stateNode===null)throw Error(i(166));return Zt(h),null}if(R=Cr.current,Xt(h))nt(h,R),M1(h.stateNode,M,w,R)&&(h.flags|=64);else{var B=zm(M,w,Lr.current,R,h);gf(h),xm(B,h,!1,!1),h.stateNode=B,Ni(B,M,w,R)&&ws(h)}}return Zt(h),fi(h,h.type,f===null?null:f.memoizedProps,h.pendingProps,v),null;case 6:if(f&&h.stateNode!=null)v=f.memoizedProps,Nt?v!==w&&ws(h):ts&&(v!==w?(f=Lr.current,v=Cr.current,gf(h),h.stateNode=io(w,f,v,h)):h.stateNode=f.stateNode);else{if(typeof w!="string"&&h.stateNode===null)throw Error(i(166));if(f=Lr.current,v=Cr.current,Xt(h)){if(!hn)throw Error(i(176));if(f=h.stateNode,v=h.memoizedProps,w=null,M=mr,M!==null)switch(M.tag){case 27:case 5:w=M.memoizedProps}_2(f,v,h,w)||Ke(h,!0)}else gf(h),h.stateNode=io(w,f,v,h)}return Zt(h),null;case 31:if(v=h.memoizedState,f===null||f.memoizedState!==null){if(w=Xt(h),v!==null){if(f===null){if(!w)throw Error(i(318));if(!hn)throw Error(i(556));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(557));eg(f,h)}else Rn(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zt(h),f=!1}else v=Gn(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=v),f=!0;if(!f)return h.flags&256?(Wi(h),h):(Wi(h),null);if((h.flags&128)!==0)throw Error(i(558))}return Zt(h),null;case 13:if(w=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(M=Xt(h),w!==null&&w.dehydrated!==null){if(f===null){if(!M)throw Error(i(318));if(!hn)throw Error(i(344));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(i(317));E1(M,h)}else Rn(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zt(h),M=!1}else M=Gn(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=M),M=!0;if(!M)return h.flags&256?(Wi(h),h):(Wi(h),null)}return Wi(h),(h.flags&128)!==0?(h.lanes=v,h):(v=w!==null,f=f!==null&&f.memoizedState!==null,v&&(w=h.child,M=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(M=w.alternate.memoizedState.cachePool.pool),R=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(R=w.memoizedState.cachePool.pool),R!==M&&(w.flags|=2048)),v!==f&&v&&(h.child.flags|=8192),yf(h,h.updateQueue),Zt(h),null);case 4:return De(),Hy(f,h),f===null&&Qt(h.stateNode.containerInfo),Zt(h),null;case 10:return si(h.type),Zt(h),null;case 19:if(x(Bn),w=h.memoizedState,w===null)return Zt(h),null;if(M=(h.flags&128)!==0,R=w.rendering,R===null)if(M)Pc(w,!1);else{if(Tn!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(R=sf(f),R!==null){for(h.flags|=128,Pc(w,!1),f=R.updateQueue,h.updateQueue=f,yf(h,f),h.subtreeFlags=0,f=v,v=h.child;v!==null;)mh(v,f),v=v.sibling;return S(Bn,Bn.current&1|2),Tt&&q(h,w.treeForkCount),h.child}f=f.sibling}w.tail!==null&&Jr()>sl&&(h.flags|=128,M=!0,Pc(w,!1),h.lanes=4194304)}else{if(!M)if(f=sf(R),f!==null){if(h.flags|=128,M=!0,f=f.updateQueue,h.updateQueue=f,yf(h,f),Pc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!R.alternate&&!Tt)return Zt(h),null}else 2*Jr()-w.renderingStartTime>sl&&v!==536870912&&(h.flags|=128,M=!0,Pc(w,!1),h.lanes=4194304);w.isBackwards?(R.sibling=h.child,h.child=R):(f=w.last,f!==null?f.sibling=R:h.child=R,w.last=R)}return w.tail!==null?(f=w.tail,w.rendering=f,w.tail=f.sibling,w.renderingStartTime=Jr(),f.sibling=null,v=Bn.current,S(Bn,M?v&1|2:v&1),Tt&&q(h,w.treeForkCount),f):(Zt(h),null);case 22:case 23:return Wi(h),ir(),w=h.memoizedState!==null,f!==null?f.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(v&536870912)!==0&&(h.flags&128)===0&&(Zt(h),h.subtreeFlags&6&&(h.flags|=8192)):Zt(h),v=h.updateQueue,v!==null&&yf(h,v.retryQueue),v=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048),f!==null&&x(Jo),null;case 24:return v=null,f!==null&&(v=f.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),si(mn),Zt(h),null;case 25:return null;case 30:return null}throw Error(i(156,h.tag))}function wm(f,h){switch(F(h),h.tag){case 1:return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return si(mn),De(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 26:case 27:case 5:return ot(h),null;case 31:if(h.memoizedState!==null){if(Wi(h),h.alternate===null)throw Error(i(340));Rn()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 13:if(Wi(h),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(i(340));Rn()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return x(Bn),null;case 4:return De(),null;case 10:return si(h.type),null;case 22:case 23:return Wi(h),ir(),f!==null&&x(Jo),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 24:return si(mn),null;case 25:return null;default:return null}}function Fy(f,h){switch(F(h),h.tag){case 3:si(mn),De();break;case 26:case 27:case 5:ot(h);break;case 4:De();break;case 31:h.memoizedState!==null&&Wi(h);break;case 13:Wi(h);break;case 19:x(Bn);break;case 10:si(h.type);break;case 22:case 23:Wi(h),ir(),f!==null&&x(Jo);break;case 24:si(mn)}}function da(f,h){try{var v=h.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var M=w.next;v=M;do{if((v.tag&f)===f){w=void 0;var R=v.create,B=v.inst;w=R(),B.destroy=w}v=v.next}while(v!==M)}}catch(Z){it(h,h.return,Z)}}function ha(f,h,v){try{var w=h.updateQueue,M=w!==null?w.lastEffect:null;if(M!==null){var R=M.next;w=R;do{if((w.tag&f)===f){var B=w.inst,Z=B.destroy;if(Z!==void 0){B.destroy=void 0,M=h;var me=v,Ce=Z;try{Ce()}catch(Re){it(M,me,Re)}}}w=w.next}while(w!==R)}}catch(Re){it(h,h.return,Re)}}function Bc(f){var h=f.updateQueue;if(h!==null){var v=f.stateNode;try{Sl(h,v)}catch(w){it(f,f.return,w)}}}function ih(f,h,v){v.props=kl(f.type,f.memoizedProps),v.state=f.memoizedState;try{v.componentWillUnmount()}catch(w){it(f,h,w)}}function Ic(f,h){try{var v=f.ref;if(v!==null){switch(f.tag){case 26:case 27:case 5:var w=Wc(f.stateNode);break;case 30:w=f.stateNode;break;default:w=f.stateNode}typeof v=="function"?f.refCleanup=v(w):v.current=w}}catch(M){it(f,h,M)}}function Wr(f,h){var v=f.ref,w=f.refCleanup;if(v!==null)if(typeof w=="function")try{w()}catch(M){it(f,h,M)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(M){it(f,h,M)}else v.current=null}function Al(f){var h=f.type,v=f.memoizedProps,w=f.stateNode;try{n1(w,h,v,f)}catch(M){it(f,f.return,M)}}function bf(f,h,v){try{r1(f.stateNode,f.type,v,h,f)}catch(w){it(f,f.return,w)}}function Cm(f){return f.tag===5||f.tag===3||(Ns?f.tag===26:!1)||(pr?f.tag===27&&Hl(f.type):!1)||f.tag===4}function Wa(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||Cm(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(pr&&f.tag===27&&Hl(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function sh(f,h,v){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?s1(v,f,h):Gm(v,f);else if(w!==4&&(pr&&w===27&&Hl(f.type)&&(v=f.stateNode,h=null),f=f.child,f!==null))for(sh(f,h,v),f=f.sibling;f!==null;)sh(f,h,v),f=f.sibling}function vf(f,h,v){var w=f.tag;if(w===5||w===6)f=f.stateNode,h?i1(v,f,h):Fm(v,f);else if(w!==4&&(pr&&w===27&&Hl(f.type)&&(v=f.stateNode),f=f.child,f!==null))for(vf(f,h,v),f=f.sibling;f!==null;)vf(f,h,v),f=f.sibling}function Em(f,h,v){f=f.containerInfo;try{Qm(f,v)}catch(w){it(h,h.return,w)}}function Gy(f){var h=f.stateNode,v=f.memoizedProps;try{ar(f.type,v,h,f)}catch(w){it(f,f.return,w)}}function C2(f,h){for(Sh(f.containerInfo),Qn=h;Qn!==null;)if(f=Qn,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,Qn=h;else for(;Qn!==null;){f=Qn;var v=f.alternate;switch(h=f.flags,f.tag){case 0:if((h&4)!==0&&(h=f.updateQueue,h=h!==null?h.events:null,h!==null))for(var w=0;w<h.length;w++){var M=h[w];M.ref.impl=M.nextImpl}break;case 11:case 15:break;case 1:if((h&1024)!==0&&v!==null){h=void 0,w=f,M=v.memoizedProps,v=v.memoizedState;var R=w.stateNode;try{var B=kl(w.type,M);h=R.getSnapshotBeforeUpdate(B,v),R.__reactInternalSnapshotBeforeUpdate=h}catch(Z){it(w,w.return,Z)}}break;case 3:(h&1024)!==0&&Nt&&Ym(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(i(163))}if(h=f.sibling,h!==null){h.return=f.return,Qn=h;break}Qn=f.return}}function qy(f,h,v){var w=v.flags;switch(v.tag){case 0:case 11:case 15:di(f,v),w&4&&da(5,v);break;case 1:if(di(f,v),w&4)if(f=v.stateNode,h===null)try{f.componentDidMount()}catch(B){it(v,v.return,B)}else{var M=kl(v.type,h.memoizedProps);h=h.memoizedState;try{f.componentDidUpdate(M,h,f.__reactInternalSnapshotBeforeUpdate)}catch(B){it(v,v.return,B)}}w&64&&Bc(v),w&512&&Ic(v,v.return);break;case 3:if(di(f,v),w&64&&(w=v.updateQueue,w!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=Wc(v.child.stateNode);break;case 1:f=v.child.stateNode}try{Sl(w,f)}catch(B){it(v,v.return,B)}}break;case 27:pr&&h===null&&w&4&&Gy(v);case 26:case 5:if(di(f,v),h===null){if(w&4)Al(v);else if(w&64){f=v.type,h=v.memoizedProps,M=v.stateNode;try{T1(M,f,h,v)}catch(B){it(v,v.return,B)}}}w&512&&Ic(v,v.return);break;case 12:di(f,v);break;case 31:di(f,v),w&4&&Es(f,v);break;case 13:di(f,v),w&4&&Sf(f,v),w&64&&(w=v.memoizedState,w!==null&&(w=w.dehydrated,w!==null&&(v=E2.bind(null,v),Mh(w,v))));break;case 22:if(w=v.memoizedState!==null||In,!w){h=h!==null&&h.memoizedState!==null||Hn,M=In;var R=Hn;In=w,(Hn=h)&&!R?Ts(f,v,(v.subtreeFlags&8772)!==0):di(f,v),In=M,Hn=R}break;case 30:break;default:di(f,v)}}function km(f){var h=f.alternate;h!==null&&(f.alternate=null,km(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&wh(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Cs(f,h,v){for(v=v.child;v!==null;)xf(f,h,v),v=v.sibling}function xf(f,h,v){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(Gl,v)}catch{}switch(v.tag){case 26:if(Ns){Hn||Wr(v,h),Cs(f,h,v),v.memoizedState?Qo(v.memoizedState):v.stateNode&&og(v.stateNode);break}case 27:if(pr){Hn||Wr(v,h);var w=kn,M=Wn;Hl(v.type)&&(kn=v.stateNode,Wn=!1),Cs(f,h,v),wr(v.stateNode),kn=w,Wn=M;break}case 5:Hn||Wr(v,h);case 6:if(Nt){if(w=kn,M=Wn,kn=null,Cs(f,h,v),kn=w,Wn=M,kn!==null)if(Wn)try{qm(kn,v.stateNode)}catch(R){it(v,h,R)}else try{a1(kn,v.stateNode)}catch(R){it(v,h,R)}}else Cs(f,h,v);break;case 18:Nt&&kn!==null&&(Wn?Ah(kn,v.stateNode):ng(kn,v.stateNode));break;case 4:Nt?(w=kn,M=Wn,kn=v.stateNode.containerInfo,Wn=!0,Cs(f,h,v),kn=w,Wn=M):(ts&&Em(v.stateNode,v,Km()),Cs(f,h,v));break;case 0:case 11:case 14:case 15:ha(2,v,h),Hn||ha(4,v,h),Cs(f,h,v);break;case 1:Hn||(Wr(v,h),w=v.stateNode,typeof w.componentWillUnmount=="function"&&ih(v,h,w)),Cs(f,h,v);break;case 21:Cs(f,h,v);break;case 22:Hn=(w=Hn)||v.memoizedState!==null,Cs(f,h,v),Hn=w;break;default:Cs(f,h,v)}}function Es(f,h){if(hn&&h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{M2(f)}catch(v){it(h,h.return,v)}}}function Sf(f,h){if(hn&&h.memoizedState===null&&(f=h.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{A2(f)}catch(v){it(h,h.return,v)}}function ks(f){switch(f.tag){case 31:case 13:case 19:var h=f.stateNode;return h===null&&(h=f.stateNode=new yg),h;case 22:return f=f.stateNode,h=f._retryCache,h===null&&(h=f._retryCache=new yg),h;default:throw Error(i(435,f.tag))}}function Ja(f,h){var v=ks(f);h.forEach(function(w){if(!v.has(w)){v.add(w);var M=k2.bind(null,f,w);w.then(M,M)}})}function xr(f,h){var v=h.deletions;if(v!==null)for(var w=0;w<v.length;w++){var M=v[w],R=f,B=h;if(Nt){var Z=B;e:for(;Z!==null;){switch(Z.tag){case 27:if(pr){if(Hl(Z.type)){kn=Z.stateNode,Wn=!1;break e}break}case 5:kn=Z.stateNode,Wn=!1;break e;case 3:case 4:kn=Z.stateNode.containerInfo,Wn=!0;break e}Z=Z.return}if(kn===null)throw Error(i(160));xf(R,B,M),kn=null,Wn=!1}else xf(R,B,M);R=M.alternate,R!==null&&(R.return=null),M.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)wf(h,f),h=h.sibling}function wf(f,h){var v=f.alternate,w=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:xr(h,f),Sr(f),w&4&&(ha(3,f,f.return),da(3,f),ha(5,f,f.return));break;case 1:xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),w&64&&In&&(f=f.updateQueue,f!==null&&(w=f.callbacks,w!==null&&(v=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=v===null?w:v.concat(w))));break;case 26:if(Ns){var M=Vt;if(xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),w&4){w=v!==null?v.memoizedState:null;var R=f.memoizedState;v===null?R===null?f.stateNode===null?f.stateNode=O1(M,f.type,f.memoizedProps,f):ag(M,f.type,f.stateNode):f.stateNode=sg(M,R,f.memoizedProps):w!==R?(w===null?v.stateNode!==null&&og(v.stateNode):Qo(w),R===null?ag(M,f.type,f.stateNode):sg(M,R,f.memoizedProps)):R===null&&f.stateNode!==null&&bf(f,f.memoizedProps,v.memoizedProps)}break}case 27:if(pr){xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),v!==null&&w&4&&bf(f,f.memoizedProps,v.memoizedProps);break}case 5:if(xr(h,f),Sr(f),w&512&&(Hn||v===null||Wr(v,v.return)),Nt){if(f.flags&32){M=f.stateNode;try{Vm(M)}catch(Ee){it(f,f.return,Ee)}}w&4&&f.stateNode!=null&&(M=f.memoizedProps,bf(f,M,v!==null?v.memoizedProps:M)),w&1024&&(ru=!0)}else ts&&f.alternate!==null&&(f.alternate.stateNode=f.stateNode);break;case 6:if(xr(h,f),Sr(f),w&4&&Nt){if(f.stateNode===null)throw Error(i(162));w=f.memoizedProps,v=v!==null?v.memoizedProps:w,M=f.stateNode;try{t1(M,v,w)}catch(Ee){it(f,f.return,Ee)}}break;case 3:if(Ns?(D1(),M=Vt,Vt=zf(h.containerInfo),xr(h,f),Vt=M):xr(h,f),Sr(f),w&4){if(Nt&&hn&&v!==null&&v.memoizedState.isDehydrated)try{_1(h.containerInfo)}catch(Ee){it(f,f.return,Ee)}if(ts){w=h.containerInfo,v=h.pendingChildren;try{Qm(w,v)}catch(Ee){it(f,f.return,Ee)}}}ru&&(ru=!1,ah(f));break;case 4:Ns?(v=Vt,Vt=zf(f.stateNode.containerInfo),xr(h,f),Sr(f),Vt=v):(xr(h,f),Sr(f)),w&4&&ts&&Em(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:xr(h,f),Sr(f);break;case 31:xr(h,f),Sr(f),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,Ja(f,w)));break;case 13:xr(h,f),Sr(f),f.child.flags&8192&&f.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(qf=Jr()),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,Ja(f,w)));break;case 22:M=f.memoizedState!==null;var B=v!==null&&v.memoizedState!==null,Z=In,me=Hn;if(In=Z||M,Hn=me||B,xr(h,f),Hn=me,In=Z,Sr(f),w&8192&&(h=f.stateNode,h._visibility=M?h._visibility&-2:h._visibility|1,M&&(v===null||B||In||Hn||Lo(f)),Nt)){e:if(v=null,Nt)for(h=f;;){if(h.tag===5||Ns&&h.tag===26){if(v===null){B=v=h;try{R=B.stateNode,M?T2(R):l1(B.stateNode,B.memoizedProps)}catch(Ee){it(B,B.return,Ee)}}}else if(h.tag===6){if(v===null){B=h;try{var Ce=B.stateNode;M?o1(Ce):c1(Ce,B.memoizedProps)}catch(Ee){it(B,B.return,Ee)}}}else if(h.tag===18){if(v===null){B=h;try{var Re=B.stateNode;M?A1(Re):N1(B.stateNode)}catch(Ee){it(B,B.return,Ee)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===f)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}}w&4&&(w=f.updateQueue,w!==null&&(v=w.retryQueue,v!==null&&(w.retryQueue=null,Ja(f,v))));break;case 19:xr(h,f),Sr(f),w&4&&(w=f.updateQueue,w!==null&&(f.updateQueue=null,Ja(f,w)));break;case 30:break;case 21:break;default:xr(h,f),Sr(f)}}function Sr(f){var h=f.flags;if(h&2){try{for(var v,w=f.return;w!==null;){if(Cm(w)){v=w;break}w=w.return}if(Nt){if(v==null)throw Error(i(160));switch(v.tag){case 27:if(pr){var M=v.stateNode,R=Wa(f);vf(f,R,M);break}case 5:var B=v.stateNode;v.flags&32&&(Vm(B),v.flags&=-33);var Z=Wa(f);vf(f,Z,B);break;case 3:case 4:var me=v.stateNode.containerInfo,Ce=Wa(f);sh(f,Ce,me);break;default:throw Error(i(161))}}}catch(Re){it(f,f.return,Re)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function ah(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var h=f;ah(h),h.tag===5&&h.flags&1024&&Bm(h.stateNode),f=f.sibling}}function di(f,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)qy(f,h.alternate,h),h=h.sibling}function Lo(f){for(f=f.child;f!==null;){var h=f;switch(h.tag){case 0:case 11:case 14:case 15:ha(4,h,h.return),Lo(h);break;case 1:Wr(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&ih(h,h.return,v),Lo(h);break;case 27:pr&&wr(h.stateNode);case 26:case 5:Wr(h,h.return),Lo(h);break;case 22:h.memoizedState===null&&Lo(h);break;case 30:Lo(h);break;default:Lo(h)}f=f.sibling}}function Ts(f,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,M=f,R=h,B=R.flags;switch(R.tag){case 0:case 11:case 15:Ts(M,R,v),da(4,R);break;case 1:if(Ts(M,R,v),w=R,M=w.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Ce){it(w,w.return,Ce)}if(w=R,M=w.updateQueue,M!==null){var Z=w.stateNode;try{var me=M.shared.hiddenCallbacks;if(me!==null)for(M.shared.hiddenCallbacks=null,M=0;M<me.length;M++)xl(me[M],Z)}catch(Ce){it(w,w.return,Ce)}}v&&B&64&&Bc(R),Ic(R,R.return);break;case 27:pr&&Gy(R);case 26:case 5:Ts(M,R,v),v&&w===null&&B&4&&Al(R),Ic(R,R.return);break;case 12:Ts(M,R,v);break;case 31:Ts(M,R,v),v&&B&4&&Es(M,R);break;case 13:Ts(M,R,v),v&&B&4&&Sf(M,R);break;case 22:R.memoizedState===null&&Ts(M,R,v),Ic(R,R.return);break;case 30:break;default:Ts(M,R,v)}h=h.sibling}}function Po(f,h){var v=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),f=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(f=h.memoizedState.cachePool.pool),f!==v&&(f!=null&&f.refCount++,v!=null&&_e(v))}function Tm(f,h){f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&_e(f))}function Sn(f,h,v,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)oh(f,h,v,w),h=h.sibling}function oh(f,h,v,w){var M=h.flags;switch(h.tag){case 0:case 11:case 15:Sn(f,h,v,w),M&2048&&da(9,h);break;case 1:Sn(f,h,v,w);break;case 3:Sn(f,h,v,w),M&2048&&(f=null,h.alternate!==null&&(f=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==f&&(h.refCount++,f!=null&&_e(f)));break;case 12:if(M&2048){Sn(f,h,v,w),f=h.stateNode;try{var R=h.memoizedProps,B=R.id,Z=R.onPostCommit;typeof Z=="function"&&Z(B,h.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(me){it(h,h.return,me)}}else Sn(f,h,v,w);break;case 31:Sn(f,h,v,w);break;case 13:Sn(f,h,v,w);break;case 23:break;case 22:R=h.stateNode,B=h.alternate,h.memoizedState!==null?R._visibility&2?Sn(f,h,v,w):Hc(f,h):R._visibility&2?Sn(f,h,v,w):(R._visibility|=2,_i(f,h,v,w,(h.subtreeFlags&10256)!==0||!1)),M&2048&&Po(B,h);break;case 24:Sn(f,h,v,w),M&2048&&Tm(h.alternate,h);break;default:Sn(f,h,v,w)}}function _i(f,h,v,w,M){for(M=M&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var R=f,B=h,Z=v,me=w,Ce=B.flags;switch(B.tag){case 0:case 11:case 15:_i(R,B,Z,me,M),da(8,B);break;case 23:break;case 22:var Re=B.stateNode;B.memoizedState!==null?Re._visibility&2?_i(R,B,Z,me,M):Hc(R,B):(Re._visibility|=2,_i(R,B,Z,me,M)),M&&Ce&2048&&Po(B.alternate,B);break;case 24:_i(R,B,Z,me,M),M&&Ce&2048&&Tm(B.alternate,B);break;default:_i(R,B,Z,me,M)}h=h.sibling}}function Hc(f,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=f,w=h,M=w.flags;switch(w.tag){case 22:Hc(v,w),M&2048&&Po(w.alternate,w);break;case 24:Hc(v,w),M&2048&&Tm(w.alternate,w);break;default:Hc(v,w)}h=h.sibling}}function pa(f,h,v){if(f.subtreeFlags&ss)for(f=f.child;f!==null;)Bo(f,h,v),f=f.sibling}function Bo(f,h,v){switch(f.tag){case 26:if(pa(f,h,v),f.flags&ss)if(f.memoizedState!==null)z1(v,Vt,f.memoizedState,f.memoizedProps);else{var w=f.stateNode,M=f.type;f=f.memoizedProps,((h&335544128)===h||Lm(M,f))&&Ch(v,w,M,f)}break;case 5:pa(f,h,v),f.flags&ss&&(w=f.stateNode,M=f.type,f=f.memoizedProps,((h&335544128)===h||Lm(M,f))&&Ch(v,w,M,f));break;case 3:case 4:Ns?(w=Vt,Vt=zf(f.stateNode.containerInfo),pa(f,h,v),Vt=w):pa(f,h,v);break;case 22:f.memoizedState===null&&(w=f.alternate,w!==null&&w.memoizedState!==null?(w=ss,ss=16777216,pa(f,h,v),ss=w):pa(f,h,v));break;default:pa(f,h,v)}}function lh(f){var h=f.alternate;if(h!==null&&(f=h.child,f!==null)){h.child=null;do h=f.sibling,f.sibling=null,f=h;while(f!==null)}}function Uc(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Qn=w,$i(w,f)}lh(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)ch(f),f=f.sibling}function ch(f){switch(f.tag){case 0:case 11:case 15:Uc(f),f.flags&2048&&ha(9,f,f.return);break;case 3:Uc(f);break;case 12:Uc(f);break;case 22:var h=f.stateNode;f.memoizedState!==null&&h._visibility&2&&(f.return===null||f.return.tag!==13)?(h._visibility&=-3,Cf(f)):Uc(f);break;default:Uc(f)}}function Cf(f){var h=f.deletions;if((f.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Qn=w,$i(w,f)}lh(f)}for(f=f.child;f!==null;){switch(h=f,h.tag){case 0:case 11:case 15:ha(8,h,h.return),Cf(h);break;case 22:v=h.stateNode,v._visibility&2&&(v._visibility&=-3,Cf(h));break;default:Cf(h)}f=f.sibling}}function $i(f,h){for(;Qn!==null;){var v=Qn;switch(v.tag){case 0:case 11:case 15:ha(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var w=v.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:_e(v.memoizedState.cache)}if(w=v.child,w!==null)w.return=v,Qn=w;else e:for(v=f;Qn!==null;){w=Qn;var M=w.sibling,R=w.return;if(km(w),w===v){Qn=null;break e}if(M!==null){M.return=R,Qn=M;break e}Qn=R}}}function Io(f){var h=ut(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(i(364));return h}if(f=Kn(f),f===null)throw Error(i(362));return f.stateNode.current}function Ho(f,h){var v=f.tag;switch(h.$$typeof){case Bs:if(f.type===h.value)return!0;break;case su:e:{for(h=h.value,f=[f,0],v=0;v<f.length;){var w=f[v++],M=w.tag,R=f[v++],B=h[R];if(M!==5&&M!==26&&M!==27||!Ko(w)){for(;B!=null&&Ho(w,B);)R++,B=h[R];if(R===h.length){h=!0;break e}else for(w=w.child;w!==null;)f.push(w,R),w=w.sibling}}h=!1}return h;case au:if((v===5||v===26||v===27)&&Um(f.stateNode,h.value))return!0;break;case tl:if((v===5||v===6||v===26||v===27)&&(f=Of(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case Ff:if((v===5||v===26||v===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Fc(f){switch(f.$$typeof){case Bs:return"<"+(g(f.value)||"Unknown")+">";case su:return":has("+(Fc(f)||"")+")";case au:return'[role="'+f.value+'"]';case tl:return'"'+f.value+'"';case Ff:return'[data-testname="'+f.value+'"]';default:throw Error(i(365))}}function Gc(f,h){var v=[];f=[f,0];for(var w=0;w<f.length;){var M=f[w++],R=M.tag,B=f[w++],Z=h[B];if(R!==5&&R!==26&&R!==27||!Ko(M)){for(;Z!=null&&Ho(M,Z);)B++,Z=h[B];if(B===h.length)v.push(M);else for(M=M.child;M!==null;)f.push(M,B),M=M.sibling}}return v}function Mi(f,h){if(!hr)throw Error(i(363));f=Io(f),f=Gc(f,h),h=[],f=Array.from(f);for(var v=0;v<f.length;){var w=f[v++],M=w.tag;if(M===5||M===26||M===27)Ko(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)f.push(w),w=w.sibling}return h}function dn(){return(St&2)!==0&&_t!==0?_t&-_t:Xe.T!==null?bs():$c()}function $a(){if(vi===0)if((_t&536870912)===0||Tt){var f=Fl;Fl<<=1,(Fl&3932160)===0&&(Fl=262144),vi=f}else vi=536870912;return f=zi.current,f!==null&&(f.flags|=32),vi}function wn(f,h,v){(f===yt&&(Yt===2||Yt===9)||f.cancelPendingCommit!==null)&&(Pn(f,0),ga(f,_t,vi,!1)),j(f,v),((St&2)===0||f!==yt)&&(f===yt&&((St&2)===0&&(il|=v),Tn===4&&ga(f,_t,vi,!1)),Je(f))}function Ys(f,h,v){if((St&6)!==0)throw Error(i(327));var w=!v&&(h&127)===0&&(h&f.expiredLanes)===0||O(f,h),M=w?Ky(f,h):ya(f,h,!0),R=w;do{if(M===0){nl&&!w&&ga(f,h,0,!1);break}else{if(v=f.current.alternate,R&&!Vy(v)){M=ya(f,h,!1),R=!1;continue}if(M===2){if(R=h,f.errorRecoveryDisabledLanes&R)var B=0;else B=f.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){h=B;e:{var Z=f;M=Gf;var me=hn&&Z.current.memoizedState.isDehydrated;if(me&&(Pn(Z,B).flags|=256),B=ya(Z,B,!1),B!==2){if(rl&&!me){Z.errorRecoveryDisabledLanes|=R,il|=R,M=4;break e}R=ji,ji=M,R!==null&&(ji===null?ji=R:ji.push.apply(ji,R))}M=B}if(R=!1,M!==2)continue}}if(M===1){Pn(f,0),ga(f,h,0,!0);break}e:{switch(w=f,R=M,R){case 0:case 1:throw Error(i(345));case 4:if((h&4194048)!==h)break;case 6:ga(w,h,vi,!Ws);break e;case 2:ji=null;break;case 3:case 5:break;default:throw Error(i(329))}if((h&62914560)===h&&(M=qf+300-Jr(),10<M)){if(ga(w,h,vi,!Ws),A(w,0,!0)!==0)break e;Ra=h,w.timeoutHandle=jm(ma.bind(null,w,v,ji,Vf,Vh,h,vi,il,lu,Ws,R,"Throttled",-0,0),M);break e}ma(w,v,ji,Vf,Vh,h,vi,il,lu,Ws,R,null,-0,0)}}break}while(!0);Je(f)}function ma(f,h,v,w,M,R,B,Z,me,Ce,Re,Ee,Pe,ct){if(f.timeoutHandle=Ri,Ee=h.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee=Pm(),Bo(h,R,Ee);var kr=(R&62914560)===R?qf-Jr():(R&4194048)===R?Ql-Jr():0;if(kr=e1(Ee,kr),kr!==null){Ra=R,f.cancelPendingCommit=kr(va.bind(null,f,h,R,v,w,M,B,Z,me,Re,Ee,null,Pe,ct)),ga(f,R,B,!Ce);return}}va(f,h,R,v,w,M,B,Z,me)}function Vy(f){for(var h=f;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var w=0;w<v.length;w++){var M=v[w],R=M.getSnapshot;M=M.value;try{if(!Xn(R(),M))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ga(f,h,v,w){h&=~ou,h&=~il,f.suspendedLanes|=h,f.pingedLanes&=~h,w&&(f.warmLanes|=h),w=f.expirationTimes;for(var M=h;0<M;){var R=31-Oi(M),B=1<<R;w[R]=-1,M&=~B}v!==0&&I(f,v,h)}function uh(){return(St&6)===0?(xt(0),!1):!0}function fh(){if(wt!==null){if(Yt===0)var f=wt.return;else f=wt,Xs=tn=null,of(f),$o=null,ql=0,f=wt;for(;f!==null;)Fy(f.alternate,f),f=f.return;wt=null}}function Pn(f,h){var v=f.timeoutHandle;v!==Ri&&(f.timeoutHandle=Ri,Zy(v)),v=f.cancelPendingCommit,v!==null&&(f.cancelPendingCommit=null,v()),Ra=0,fh(),yt=f,wt=v=es(f.current,null),_t=h,Yt=0,or=null,Ws=!1,nl=O(f,h),rl=!1,lu=vi=ou=il=uo=Tn=0,ji=Gf=null,Vh=!1,(h&8)!==0&&(h|=h&32);var w=f.entangledLanes;if(w!==0)for(f=f.entanglements,w&=h;0<w;){var M=31-Oi(w),R=1<<M;h|=f[M],w&=~R}return Na=h,vs(),v}function en(f,h){ft=null,Xe.H=is,h===yr||h===Ls?(h=li(),Yt=3):h===Gh?(h=li(),Yt=4):Yt=h===bi?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,or=h,wt===null&&(Tn=1,eh(f,fe(h,f.current)))}function At(){var f=zi.current;return f===null?!0:(_t&4194048)===_t?yi===null:(_t&62914560)===_t||(_t&536870912)!==0?f===yi:!1}function Za(){var f=Xe.H;return Xe.H=is,f===null?is:f}function Zi(){var f=Xe.A;return Xe.A=iu,f}function qc(){Tn=4,Ws||(_t&4194048)!==_t&&zi.current!==null||(nl=!0),(uo&134217727)===0&&(il&134217727)===0||yt===null||ga(yt,_t,vi,!1)}function ya(f,h,v){var w=St;St|=2;var M=Za(),R=Zi();(yt!==f||_t!==h)&&(Vf=null,Pn(f,h)),h=!1;var B=Tn;e:do try{if(Yt!==0&&wt!==null){var Z=wt,me=or;switch(Yt){case 8:fh(),B=6;break e;case 3:case 2:case 9:case 6:zi.current===null&&(h=!0);var Ce=Yt;if(Yt=0,or=null,ba(f,Z,me,Ce),v&&nl){B=0;break e}break;default:Ce=Yt,Yt=0,or=null,ba(f,Z,me,Ce)}}Yy(),B=Tn;break}catch(Re){en(f,Re)}while(!0);return h&&f.shellSuspendCounter++,Xs=tn=null,St=w,Xe.H=M,Xe.A=R,wt===null&&(yt=null,_t=0,vs()),B}function Yy(){for(;wt!==null;)Uo(wt)}function Ky(f,h){var v=St;St|=2;var w=Za(),M=Zi();yt!==f||_t!==h?(Vf=null,sl=Jr()+500,Pn(f,h)):nl=O(f,h);e:do try{if(Yt!==0&&wt!==null){h=wt;var R=or;t:switch(Yt){case 1:Yt=0,or=null,ba(f,h,R,1);break;case 2:case 9:if(ai(R)){Yt=0,or=null,dh(h);break}h=function(){Yt!==2&&Yt!==9||yt!==f||(Yt=7),Je(f)},R.then(h,h);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:ai(R)?(Yt=0,or=null,dh(h)):(Yt=0,or=null,ba(f,h,R,7));break;case 5:var B=null;switch(wt.tag){case 26:B=wt.memoizedState;case 5:case 27:var Z=wt,me=Z.type,Ce=Z.pendingProps;if(B?cg(B):Cn(Z.stateNode,me,Ce)){Yt=0,or=null;var Re=Z.sibling;if(Re!==null)wt=Re;else{var Ee=Z.return;Ee!==null?(wt=Ee,Yc(Ee)):wt=null}break t}}Yt=0,or=null,ba(f,h,R,5);break;case 6:Yt=0,or=null,ba(f,h,R,6);break;case 8:fh(),Tn=6;break e;default:throw Error(i(462))}}Vc();break}catch(Pe){en(f,Pe)}while(!0);return Xs=tn=null,Xe.H=w,Xe.A=M,St=v,wt!==null?0:(yt=null,_t=0,vs(),Tn)}function Vc(){for(;wt!==null&&!L1();)Uo(wt)}function Uo(f){var h=vm(f.alternate,f,Na);f.memoizedProps=f.pendingProps,h===null?Yc(f):wt=h}function dh(f){var h=f,v=h.alternate;switch(h.tag){case 15:case 0:h=hm(v,h,h.pendingProps,h.type,void 0,_t);break;case 11:h=hm(v,h,h.pendingProps,h.type.render,h.ref,_t);break;case 5:of(h);default:Fy(v,h),h=wt=mh(h,Na),h=vm(v,h,Na)}f.memoizedProps=f.pendingProps,h===null?Yc(f):wt=h}function ba(f,h,v,w){Xs=tn=null,of(h),$o=null,ql=0;var M=h.return;try{if(w2(f,M,h,v,_t)){Tn=1,eh(f,fe(v,f.current)),wt=null;return}}catch(R){if(M!==null)throw wt=M,R;Tn=1,eh(f,fe(v,f.current)),wt=null;return}h.flags&32768?(Tt||w===1?f=!0:nl||(_t&536870912)!==0?f=!1:(Ws=f=!0,(w===2||w===9||w===3||w===6)&&(w=zi.current,w!==null&&w.tag===13&&(w.flags|=16384))),Fo(h,f)):Yc(h)}function Yc(f){var h=f;do{if((h.flags&32768)!==0){Fo(h,Ws);return}f=h.return;var v=Uy(h.alternate,h,Na);if(v!==null){wt=v;return}if(h=h.sibling,h!==null){wt=h;return}wt=h=f}while(h!==null);Tn===0&&(Tn=5)}function Fo(f,h){do{var v=wm(f.alternate,f);if(v!==null){v.flags&=32767,wt=v;return}if(v=f.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(f=f.sibling,f!==null)){wt=f;return}wt=f=v}while(f!==null);Tn=6,wt=null}function va(f,h,v,w,M,R,B,Z,me){f.cancelPendingCommit=null;do Sa();while(lr!==0);if((St&6)!==0)throw Error(i(327));if(h!==null){if(h===f.current)throw Error(i(177));if(R=h.lanes|h.childLanes,R|=Vl,P(f,v,R,B,Z,me),f===yt&&(wt=yt=null,_t=0),Wl=h,ho=f,Ra=v,cu=R,Yh=M,bg=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,sr(Lf,function(){return Ef(),null})):(f.callbackNode=null,f.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=Xe.T,Xe.T=null,M=As(),kt(2),B=St,St|=4;try{C2(f,h,v)}finally{St=B,kt(M),Xe.T=w}}lr=1,eo(),xa(),hh()}}function eo(){if(lr===1){lr=0;var f=ho,h=Wl,v=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||v){v=Xe.T,Xe.T=null;var w=As();kt(2);var M=St;St|=4;try{wf(h,f),$y(f.containerInfo)}finally{St=M,kt(w),Xe.T=v}}f.current=h,lr=2}}function xa(){if(lr===2){lr=0;var f=ho,h=Wl,v=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||v){v=Xe.T,Xe.T=null;var w=As();kt(2);var M=St;St|=4;try{qy(f,h.alternate,h)}finally{St=M,kt(w),Xe.T=v}}lr=3}}function hh(){if(lr===4||lr===3){lr=0,fg();var f=ho,h=Wl,v=Ra,w=bg;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?lr=5:(lr=0,Wl=ho=null,ph(f,f.pendingLanes));var M=f.pendingLanes;if(M===0&&(fo=null),W(v),h=h.stateNode,Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(Gl,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=Xe.T,M=As(),kt(2),Xe.T=null;try{for(var R=f.onRecoverableError,B=0;B<w.length;B++){var Z=w[B];R(Z.value,{componentStack:Z.stack})}}finally{Xe.T=h,kt(M)}}(Ra&3)!==0&&Sa(),Je(f),M=f.pendingLanes,(v&261930)!==0&&(M&42)!==0?f===Yf?Lt++:(Lt=0,Yf=f):Lt=0,hn&&Df(),xt(0)}}function ph(f,h){(f.pooledCacheLanes&=h)===0&&(h=f.pooledCache,h!=null&&(f.pooledCache=null,_e(h)))}function Sa(){return eo(),xa(),hh(),Ef()}function Ef(){if(lr!==5)return!1;var f=ho,h=cu;cu=0;var v=W(Ra),w=32>v?32:v;v=Xe.T;var M=As();try{kt(w),Xe.T=null,w=Yh,Yh=null;var R=ho,B=Ra;if(lr=0,Wl=ho=null,Ra=0,(St&6)!==0)throw Error(i(331));var Z=St;if(St|=4,ch(R.current),oh(R,R.current,B,w),St=Z,xt(0,!1),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(Gl,R)}catch{}return!0}finally{kt(M),Xe.T=v,ph(f,h)}}function Go(f,h,v){h=fe(v,h),h=fm(f.stateNode,h,2),f=No(f,h,2),f!==null&&(j(f,2),Je(f))}function it(f,h,v){if(f.tag===3)Go(f,f,v);else for(;h!==null;){if(h.tag===3){Go(h,f,v);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(fo===null||!fo.has(w))){f=fe(v,f),v=Ay(2),w=No(h,v,2),w!==null&&(Ny(v,w,h,f),j(w,2),Je(w));break}}h=h.return}}function Kc(f,h,v){var w=f.pingCache;if(w===null){w=f.pingCache=new as;var M=new Set;w.set(h,M)}else M=w.get(h),M===void 0&&(M=new Set,w.set(h,M));M.has(v)||(rl=!0,M.add(v),f=Xy.bind(null,f,h,v),h.then(f,f))}function Xy(f,h,v){var w=f.pingCache;w!==null&&w.delete(h),f.pingedLanes|=f.suspendedLanes&v,f.warmLanes&=~v,yt===f&&(_t&v)===v&&(Tn===4||Tn===3&&(_t&62914560)===_t&&300>Jr()-qf?(St&2)===0&&Pn(f,0):ou|=v,lu===_t&&(lu=0)),Je(f)}function Qy(f,h){h===0&&(h=L()),f=Ti(f,h),f!==null&&(j(f,h),Je(f))}function E2(f){var h=f.memoizedState,v=0;h!==null&&(v=h.retryLane),Qy(f,v)}function k2(f,h){var v=0;switch(f.tag){case 31:case 13:var w=f.stateNode,M=f.memoizedState;M!==null&&(v=M.retryLane);break;case 19:w=f.stateNode;break;case 22:w=f.stateNode._retryCache;break;default:throw Error(i(314))}w!==null&&w.delete(h),Qy(f,v)}function sr(f,h){return jf(f,h)}function _m(f,h,v,w){this.tag=f,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(f){return f=f.prototype,!(!f||!f.isReactComponent)}function es(f,h){var v=f.alternate;return v===null?(v=n(f.tag,h,f.key,f.mode),v.elementType=f.elementType,v.type=f.type,v.stateNode=f.stateNode,v.alternate=f,f.alternate=v):(v.pendingProps=h,v.type=f.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=f.flags&65011712,v.childLanes=f.childLanes,v.lanes=f.lanes,v.child=f.child,v.memoizedProps=f.memoizedProps,v.memoizedState=f.memoizedState,v.updateQueue=f.updateQueue,h=f.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=f.sibling,v.index=f.index,v.ref=f.ref,v.refCleanup=f.refCleanup,v}function mh(f,h){f.flags&=65011714;var v=f.alternate;return v===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,h=v.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),f}function to(f,h,v,w,M,R){var B=0;if(w=f,typeof f=="function")Nl(f)&&(B=1);else if(typeof f=="string")B=Ns&&pr?Nh(f,v,Cr.current)?26:ug(f)?27:5:Ns?Nh(f,v,Cr.current)?26:5:pr&&ug(f)?27:5;else e:switch(f){case Mf:return f=n(31,v,h,M),f.elementType=Mf,f.lanes=R,f;case zl:return _s(v.children,M,R,h);case jl:B=8,M|=24;break;case Ll:return f=n(12,v,h,M|2),f.elementType=Ll,f.lanes=R,f;case vh:return f=n(13,v,h,M),f.elementType=vh,f.lanes=R,f;case no:return f=n(19,v,h,M),f.elementType=no,f.lanes=R,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Ms:B=10;break e;case _f:B=9;break e;case Xc:B=11;break e;case xh:B=14;break e;case hi:B=16,w=null;break e}B=29,v=Error(i(130,f===null?"null":typeof f,"")),w=null}return h=n(B,v,h,M),h.elementType=f,h.type=w,h.lanes=R,h}function _s(f,h,v,w){return f=n(7,f,w,h),f.lanes=v,f}function Mm(f,h,v){return f=n(6,f,null,h),f.lanes=v,f}function Am(f){var h=n(18,null,null,0);return h.stateNode=f,h}function Nm(f,h,v){return h=n(4,f.children!==null?f.children:[],f.key,h),h.lanes=v,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Wy(f,h,v,w,M,R,B,Z,me){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ri,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=H(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H(0),this.hiddenUpdates=H(null),this.identifierPrefix=w,this.onUncaughtError=M,this.onCaughtError=R,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function qo(f,h,v,w,M,R,B,Z,me,Ce,Re,Ee){return f=new Wy(f,h,v,B,me,Ce,Re,Ee,Z),h=1,R===!0&&(h|=24),R=n(3,null,null,h),f.current=R,R.stateNode=f,h=ye(),h.refCount++,f.pooledCache=h,h.refCount++,R.memoizedState={element:w,isDehydrated:v,cache:h},Kr(R),f}function gh(f){return f?(f=Ca,f):Ca}function kf(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(i(188)):(f=Object.keys(f).join(","),Error(i(268,f)));return f=l(h),f=f!==null?u(f):null,f===null?null:Wc(f.stateNode)}function Rm(f,h,v,w,M,R){M=gh(M),w.context===null?w.context=M:w.pendingContext=M,w=la(h),w.payload={element:v},R=R===void 0?null:R,R!==null&&(w.callback=R),v=No(f,w,h),v!==null&&(wn(v,f,h),rf(v,f,h))}function Rl(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var v=f.retryLane;f.retryLane=v!==0&&v<h?v:h}}function Tf(f,h){Rl(f,h),(f=f.alternate)&&Rl(f,h)}var mt={},yh=Pp(),Ai=m3(),bh=Object.assign,Ol=Symbol.for("react.element"),wa=Symbol.for("react.transitional.element"),Dl=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),jl=Symbol.for("react.strict_mode"),Ll=Symbol.for("react.profiler"),_f=Symbol.for("react.consumer"),Ms=Symbol.for("react.context"),Xc=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),no=Symbol.for("react.suspense_list"),xh=Symbol.for("react.memo"),hi=Symbol.for("react.lazy"),Mf=Symbol.for("react.activity"),Om=Symbol.for("react.memo_cache_sentinel"),ro=Symbol.iterator,Vo=Symbol.for("react.client.reference"),Yo=Array.isArray,Xe=yh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dm=e.rendererVersion,Af=e.rendererPackageName,Qc=e.extraDevToolsConfig,Wc=e.getPublicInstance,Jy=e.getRootHostContext,Jc=e.getChildHostContext,Sh=e.prepareForCommit,$y=e.resetAfterCommit,zm=e.createInstance;e.cloneMutableInstance;var Nf=e.appendInitialChild,Ni=e.finalizeInitialChildren,pi=e.shouldSetTextContent,io=e.createTextInstance;e.cloneMutableTextInstance;var jm=e.scheduleTimeout,Zy=e.cancelTimeout,Ri=e.noTimeout,Yn=e.isPrimaryRenderer;e.warnsIfNotActing;var Nt=e.supportsMutation,ts=e.supportsPersistence,hn=e.supportsHydration,ut=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Qt=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var kt=e.setCurrentUpdatePriority,As=e.getCurrentUpdatePriority,$c=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Pl=e.shouldAttemptEagerTransition,wh=e.detachDeletedInstance;e.requestPostPaintCallback;var Rf=e.maySuspendCommit,Zc=e.maySuspendCommitOnUpdate,Lm=e.maySuspendCommitInSyncRender,Cn=e.preloadInstance,Pm=e.startSuspendingCommit,Ch=e.suspendInstance;e.suspendOnActiveViewTransition;var e1=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Bl=e.NotPendingTransition,Il=e.HostTransitionContext,Bm=e.resetFormInstance;e.bindToConsole;var Im=e.supportsMicrotasks,Hm=e.scheduleMicrotask,hr=e.supportsTestSelectors,Kn=e.findFiberRoot,Eh=e.getBoundingRect,Of=e.getTextContent,Ko=e.isHiddenSubtree,Um=e.matchAccessibilityRole,so=e.setFocusIfFocusable,kh=e.setupIntersectionObserver,Fm=e.appendChild,Gm=e.appendChildToContainer,t1=e.commitTextUpdate,n1=e.commitMount,r1=e.commitUpdate,i1=e.insertBefore,s1=e.insertInContainerBefore,a1=e.removeChild,qm=e.removeChildFromContainer,Vm=e.resetTextContent,T2=e.hideInstance,o1=e.hideTextInstance,l1=e.unhideInstance,c1=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Ym=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var u1=e.cloneInstance,Km=e.createContainerChildSet,Xm=e.appendChildToContainerChildSet,f1=e.finalizeContainerChildren,Qm=e.replaceContainerChildren,d1=e.cloneHiddenInstance,Wm=e.cloneHiddenTextInstance,Xo=e.isSuspenseInstancePending,Th=e.isSuspenseInstanceFallback,_h=e.getSuspenseInstanceFallbackErrorDetails,Mh=e.registerSuspenseInstanceRetry,h1=e.canHydrateFormStateMarker,Jm=e.isFormStateMarkerMatching,p1=e.getNextHydratableSibling,m1=e.getNextHydratableSiblingAfterSingleton,g1=e.getFirstHydratableChild,y1=e.getFirstHydratableChildWithinContainer,b1=e.getFirstHydratableChildWithinActivityInstance,v1=e.getFirstHydratableChildWithinSuspenseInstance,$m=e.getFirstHydratableChildWithinSingleton,x1=e.canHydrateInstance,S1=e.canHydrateTextInstance,Zm=e.canHydrateActivityInstance,w1=e.canHydrateSuspenseInstance,C1=e.hydrateInstance,_2=e.hydrateTextInstance,eg=e.hydrateActivityInstance,E1=e.hydrateSuspenseInstance,k1=e.getNextHydratableInstanceAfterActivityInstance,tg=e.getNextHydratableInstanceAfterSuspenseInstance,T1=e.commitHydratedInstance,_1=e.commitHydratedContainer,M2=e.commitHydratedActivityInstance,A2=e.commitHydratedSuspenseInstance,M1=e.finalizeHydratedChildren,Df=e.flushHydrationEvents;e.clearActivityBoundary;var ng=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Ah=e.clearSuspenseBoundaryFromContainer,A1=e.hideDehydratedBoundary,N1=e.unhideDehydratedBoundary,eu=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var R1=e.validateHydratableInstance,rg=e.validateHydratableTextInstance,Ns=e.supportsResources,Nh=e.isHostHoistableType,zf=e.getHoistableRoot,ig=e.getResource,sg=e.acquireResource,Qo=e.releaseResource,O1=e.hydrateHoistable,ag=e.mountHoistable,og=e.unmountHoistable,Rh=e.createHoistableInstance,D1=e.prepareToCommitHoistables,lg=e.mayResourceSuspendCommit,cg=e.preloadResource,z1=e.suspendResource,pr=e.supportsSingletons,Oh=e.resolveSingletonInstance,ar=e.acquireSingletonInstance,wr=e.releaseSingletonInstance,ug=e.isHostSingletonType,Hl=e.isSingletonScope,Dh=[],Ul=-1,Ca={},Oi=Math.clz32?Math.clz32:k,zh=Math.log,j1=Math.LN2,jh=256,Fl=262144,tu=4194304,jf=Ai.unstable_scheduleCallback,Lh=Ai.unstable_cancelCallback,L1=Ai.unstable_shouldYield,fg=Ai.unstable_requestPaint,Jr=Ai.unstable_now,Ph=Ai.unstable_ImmediatePriority,P1=Ai.unstable_UserBlockingPriority,Lf=Ai.unstable_NormalPriority,Bh=Ai.unstable_IdlePriority,dg=Ai.log,B1=Ai.unstable_setDisableYieldValue,Gl=null,Di=null,Xn=typeof Object.is=="function"?Object.is:ee,Ih=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},N2=Object.prototype.hasOwnProperty,Hh,Ea,Pf=!1,hg=new WeakMap,ao=[],ka=0,Wt=null,Bf=0,Rs=[],ns=0,Os=null,jr=1,Ks="",Cr=b(null),oo=b(null),Lr=b(null),If=b(null),mr=null,pn=null,Tt=!1,Ta=null,mi=!1,Uh=Error(i(519)),Ds=b(null),tn=null,Xs=null,I1=typeof AbortController<"u"?AbortController:function(){var f=[],h=this.signal={aborted:!1,addEventListener:function(v,w){f.push(w)}};this.abort=function(){h.aborted=!0,f.forEach(function(v){return v()})}},Er=Ai.unstable_scheduleCallback,R2=Ai.unstable_NormalPriority,mn={$$typeof:Ms,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Hf=null,qt=null,$r=!1,zs=!1,Fh=!1,Wo=0,nu=null,pg=0,lo=0,gr=null,js=Xe.S;Xe.S=function(f,h){Ql=Jr(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&ki(f,h),js!==null&&js(f,h)};var Jo=b(null),yr=Error(i(460)),Gh=Error(i(474)),Ls=Error(i(542)),_a={then:function(){}},gi=null,$o=null,ql=0,Pr=Yi(!0),mg=Yi(!1),Br=[],Ma=0,Vl=0,rs=!1,qh=!1,Yl=b(null),Zo=b(0),zi=b(null),yi=null,Bn=b(0),co=0,ft=null,Ve=null,at=null,gt=!1,ht=!1,Rt=!1,Zr=0,Ps=0,Qs=null,gg=0,is={readContext:On,use:_c,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn};is.useEffectEvent=xn;var En={readContext:On,use:_c,useCallback:function(f,h){return Xr().memoizedState=[f,h===void 0?null:h],f},useContext:On,useEffect:uf,useImperativeHandle:function(f,h,v){v=v!=null?v.concat([f]):null,El(4194308,4,Rc.bind(null,h,f),v)},useLayoutEffect:function(f,h){return El(4194308,4,f,h)},useInsertionEffect:function(f,h){El(4,2,f,h)},useMemo:function(f,h){var v=Xr();h=h===void 0?null:h;var w=f();if(Rt){le(!0);try{f()}finally{le(!1)}}return v.memoizedState=[w,h],w},useReducer:function(f,h,v){var w=Xr();if(v!==void 0){var M=v(h);if(Rt){le(!0);try{v(h)}finally{le(!1)}}}else M=h;return w.memoizedState=w.baseState=M,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:M},w.queue=f,f=f.dispatch=S2.bind(null,ft,f),[w.memoizedState,f]},useRef:function(f){var h=Xr();return f={current:f},h.memoizedState=f},useState:function(f){f=rm(f);var h=f.queue,v=ky.bind(null,ft,h);return h.dispatch=v,[f.memoizedState,v]},useDebugValue:df,useDeferredValue:function(f,h){var v=Xr();return Dc(v,f,h)},useTransition:function(){var f=rm(!1);return f=wy.bind(null,ft,f.queue,!0,!1),Xr().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,h,v){var w=ft,M=Xr();if(Tt){if(v===void 0)throw Error(i(407));v=v()}else{if(v=h(),yt===null)throw Error(i(349));(_t&127)!==0||by(w,h,v)}M.memoizedState=v;var R={value:v,getSnapshot:h};return M.queue=R,uf(nm.bind(null,w,R,f),[f]),w.flags|=2048,Ji(9,{destroy:void 0},tm.bind(null,w,R,v,h),null),v},useId:function(){var f=Xr(),h=yt.identifierPrefix;if(Tt){var v=Ks,w=jr;v=(w&~(1<<32-Oi(w)-1)).toString(32)+v,h="_"+h+"R_"+v,v=Zr++,0<v&&(h+="H"+v.toString(32)),h+="_"}else v=gg++,h="_"+h+"r_"+v.toString(32)+"_";return f.memoizedState=h},useHostTransitionStatus:lm,useFormState:sm,useActionState:sm,useOptimistic:function(f){var h=Xr();h.memoizedState=h.baseState=f;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=Jd.bind(null,ft,!0,v),v.dispatch=h,[f,h]},useMemoCache:Ud,useCacheRefresh:function(){return Xr().memoizedState=x2.bind(null,ft)},useEffectEvent:function(f){var h=Xr(),v={impl:f};return h.memoizedState=v,function(){if((St&2)!==0)throw Error(i(440));return v.impl.apply(void 0,arguments)}}},Aa={readContext:On,use:_c,useCallback:Qd,useContext:On,useEffect:Nc,useImperativeHandle:Sy,useInsertionEffect:zo,useLayoutEffect:ff,useMemo:Oc,useReducer:Xa,useRef:Xd,useState:function(){return Xa(Vs)},useDebugValue:df,useDeferredValue:function(f,h){var v=fn();return om(v,Ve.memoizedState,f,h)},useTransition:function(){var f=Xa(Vs)[0],h=fn().memoizedState;return[typeof f=="boolean"?f:Qr(f),h]},useSyncExternalStore:wl,useId:Wd,useHostTransitionStatus:lm,useFormState:Mc,useActionState:Mc,useOptimistic:function(f,h){var v=fn();return lf(v,Ve,f,h)},useMemoCache:Ud,useCacheRefresh:Ey};Aa.useEffectEvent=ui;var el={readContext:On,use:_c,useCallback:Qd,useContext:On,useEffect:Nc,useImperativeHandle:Sy,useInsertionEffect:zo,useLayoutEffect:ff,useMemo:Oc,useReducer:Gd,useRef:Xd,useState:function(){return Gd(Vs)},useDebugValue:df,useDeferredValue:function(f,h){var v=fn();return Ve===null?Dc(v,f,h):om(v,Ve.memoizedState,f,h)},useTransition:function(){var f=Gd(Vs)[0],h=fn().memoizedState;return[typeof f=="boolean"?f:Qr(f),h]},useSyncExternalStore:wl,useId:Wd,useHostTransitionStatus:lm,useFormState:Ac,useActionState:Ac,useOptimistic:function(f,h){var v=fn();return Ve!==null?lf(v,Ve,f,h):(v.baseState=f,[f,v.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:Ey};el.useEffectEvent=ui;var Uf={enqueueSetState:function(f,h,v){f=f._reactInternals;var w=dn(),M=la(w);M.payload=h,v!=null&&(M.callback=v),h=No(f,M,w),h!==null&&(wn(h,f,w),rf(h,f,w))},enqueueReplaceState:function(f,h,v){f=f._reactInternals;var w=dn(),M=la(w);M.tag=1,M.payload=h,v!=null&&(M.callback=v),h=No(f,M,w),h!==null&&(wn(h,f,w),rf(h,f,w))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var v=dn(),w=la(v);w.tag=2,h!=null&&(w.callback=h),h=No(f,w,v),h!==null&&(wn(h,f,v),rf(h,f,v))}},bi=Error(i(461)),sn=!1,Kl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},In=!1,Hn=!1,ru=!1,yg=typeof WeakSet=="function"?WeakSet:Set,Qn=null,kn=null,Wn=!1,Vt=null,ss=8192,iu={getCacheForType:function(f){var h=On(mn),v=h.data.get(f);return v===void 0&&(v=f(),h.data.set(f,v)),v},cacheSignal:function(){return On(mn).controller.signal}},Bs=0,su=1,au=2,Ff=3,tl=4;if(typeof Symbol=="function"&&Symbol.for){var Xl=Symbol.for;Bs=Xl("selector.component"),su=Xl("selector.has_pseudo_class"),au=Xl("selector.role"),Ff=Xl("selector.test_id"),tl=Xl("selector.text")}var as=typeof WeakMap=="function"?WeakMap:Map,St=0,yt=null,wt=null,_t=0,Yt=0,or=null,Ws=!1,nl=!1,rl=!1,Na=0,Tn=0,uo=0,il=0,ou=0,vi=0,lu=0,Gf=null,ji=null,Vh=!1,qf=0,Ql=0,sl=1/0,Vf=null,fo=null,lr=0,ho=null,Wl=null,Ra=0,cu=0,Yh=null,bg=null,Lt=0,Yf=null;return mt.attemptContinuousHydration=function(f){if(f.tag===13||f.tag===31){var h=Ti(f,67108864);h!==null&&wn(h,f,67108864),Tf(f,67108864)}},mt.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13||f.tag===31){var h=dn();h=X(h);var v=Ti(f,h);v!==null&&wn(v,f,h),Tf(f,h)}},mt.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var h=_(f.pendingLanes);if(h!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;h;){var v=1<<31-Oi(h);f.entanglements[1]|=v,h&=~v}Je(f),(St&6)===0&&(sl=Jr()+500,xt(0))}}break;case 31:case 13:h=Ti(f,2),h!==null&&wn(h,f,2),uh(),Tf(f,2)}},mt.batchedUpdates=function(f,h){return f(h)},mt.createComponentSelector=function(f){return{$$typeof:Bs,value:f}},mt.createContainer=function(f,h,v,w,M,R,B,Z,me,Ce){return qo(f,h,!1,null,v,w,R,null,B,Z,me,Ce)},mt.createHasPseudoClassSelector=function(f){return{$$typeof:su,value:f}},mt.createHydrationContainer=function(f,h,v,w,M,R,B,Z,me,Ce,Re,Ee,Pe,ct){return f=qo(v,w,!0,f,M,R,Z,ct,me,Ce,Re,Ee),f.context=gh(null),v=f.current,w=dn(),w=X(w),M=la(w),M.callback=h??null,No(v,M,w),h=w,f.current.lanes=h,j(f,h),Je(f),f},mt.createPortal=function(f,h,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dl,key:w==null?null:""+w,children:f,containerInfo:h,implementation:v}},mt.createRoleSelector=function(f){return{$$typeof:au,value:f}},mt.createTestNameSelector=function(f){return{$$typeof:Ff,value:f}},mt.createTextSelector=function(f){return{$$typeof:tl,value:f}},mt.defaultOnCaughtError=function(f){console.error(f)},mt.defaultOnRecoverableError=function(f){Ih(f)},mt.defaultOnUncaughtError=function(f){Ih(f)},mt.deferredUpdates=function(f){var h=Xe.T,v=As();try{return kt(32),Xe.T=null,f()}finally{kt(v),Xe.T=h}},mt.discreteUpdates=function(f,h,v,w,M){var R=Xe.T,B=As();try{return kt(2),Xe.T=null,f(h,v,w,M)}finally{kt(B),Xe.T=R,St===0&&(sl=Jr()+500)}},mt.findAllNodes=Mi,mt.findBoundingRects=function(f,h){if(!hr)throw Error(i(363));h=Mi(f,h),f=[];for(var v=0;v<h.length;v++)f.push(Eh(h[v]));for(h=f.length-1;0<h;h--){v=f[h];for(var w=v.x,M=w+v.width,R=v.y,B=R+v.height,Z=h-1;0<=Z;Z--)if(h!==Z){var me=f[Z],Ce=me.x,Re=Ce+me.width,Ee=me.y,Pe=Ee+me.height;if(w>=Ce&&R>=Ee&&M<=Re&&B<=Pe){f.splice(h,1);break}else if(w!==Ce||v.width!==me.width||Pe<R||Ee>B){if(!(R!==Ee||v.height!==me.height||Re<w||Ce>M)){Ce>w&&(me.width+=Ce-w,me.x=w),Re<M&&(me.width=M-Ce),f.splice(h,1);break}}else{Ee>R&&(me.height+=Ee-R,me.y=R),Pe<B&&(me.height=B-Ee),f.splice(h,1);break}}}return f},mt.findHostInstance=kf,mt.findHostInstanceWithNoPortals=function(f){return f=l(f),f=f!==null?d(f):null,f===null?null:Wc(f.stateNode)},mt.findHostInstanceWithWarning=function(f){return kf(f)},mt.flushPassiveEffects=Sa,mt.flushSyncFromReconciler=function(f){var h=St;St|=1;var v=Xe.T,w=As();try{if(kt(2),Xe.T=null,f)return f()}finally{kt(w),Xe.T=v,St=h,(St&6)===0&&xt(0)}},mt.flushSyncWork=uh,mt.focusWithin=function(f,h){if(!hr)throw Error(i(363));for(f=Io(f),h=Gc(f,h),h=Array.from(h),f=0;f<h.length;){var v=h[f++],w=v.tag;if(!Ko(v)){if((w===5||w===26||w===27)&&so(v.stateNode))return!0;for(v=v.child;v!==null;)h.push(v),v=v.sibling}}return!1},mt.getFindAllNodesFailureDescription=function(f,h){if(!hr)throw Error(i(363));var v=0,w=[];f=[Io(f),0];for(var M=0;M<f.length;){var R=f[M++],B=R.tag,Z=f[M++],me=h[Z];if((B!==5&&B!==26&&B!==27||!Ko(R))&&(Ho(R,me)&&(w.push(Fc(me)),Z++,Z>v&&(v=Z)),Z<h.length))for(R=R.child;R!==null;)f.push(R,Z),R=R.sibling}if(v<h.length){for(f=[];v<h.length;v++)f.push(Fc(h[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},mt.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return Wc(f.child.stateNode);default:return f.child.stateNode}},mt.injectIntoDevTools=function(){var f={bundleType:0,version:Dm,rendererPackageName:Af,currentDispatcherRef:Xe,reconcilerVersion:"19.2.0"};if(Qc!==null&&(f.rendererConfig=Qc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{Gl=h.inject(f),Di=h}catch{}f=!!h.checkDCE}}return f},mt.isAlreadyRendering=function(){return(St&6)!==0},mt.observeVisibleRects=function(f,h,v,w){if(!hr)throw Error(i(363));f=Mi(f,h);var M=kh(f,v,w).disconnect;return{disconnect:function(){M()}}},mt.shouldError=function(){return null},mt.shouldSuspend=function(){return!1},mt.startHostTransition=function(f,h,v,w){if(f.tag!==5)throw Error(i(476));var M=Cy(f).queue;wy(f,M,h,Bl,v===null?r:function(){var R=Cy(f);return R.next===null&&(R=f.alternate.memoizedState),hf(f,R.next.queue,{},dn()),v(w)})},mt.updateContainer=function(f,h,v,w){var M=h.current,R=dn();return Rm(M,R,f,h,v,w),R},mt.updateContainerSync=function(f,h,v,w){return Rm(h.current,2,f,h,v,w),2},mt},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(uw)),uw.exports}var P_;function v$(){return P_||(P_=1,cw.exports=b$()),cw.exports}var x$=v$();const S$=Lp(x$);var fw={exports:{}},rc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function w$(){return B_||(B_=1,rc.ConcurrentRoot=1,rc.ContinuousEventPriority=8,rc.DefaultEventPriority=32,rc.DiscreteEventPriority=2,rc.IdleEventPriority=268435456,rc.LegacyRoot=0,rc.NoEventPriority=0),rc}var I_;function C$(){return I_||(I_=1,fw.exports=w$()),fw.exports}var s2=C$();const H_={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let U_=!1,F_=!1;const fx=".react-konva-event",E$=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,k$=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,T$={};function a2(t,e,n=T$){if(!U_&&"zIndex"in e&&(console.warn(k$),U_=!0),!F_&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(E$),F_=!0)}for(var s in n)if(!H_[s]){var a=s.slice(0,2)==="on",l=n[s]!==e[s];if(a&&l){var u=s.substr(2).toLowerCase();u.substr(0,7)==="content"&&(u="content"+u.substr(7,1).toUpperCase()+u.substr(8)),t.off(u,n[s])}var d=!e.hasOwnProperty(s);d&&t.setAttr(s,void 0)}var p=e._useStrictMode,g={},b=!1;const x={};for(var s in e)if(!H_[s]){var a=s.slice(0,2)==="on",S=n[s]!==e[s];if(a&&S){var u=s.substr(2).toLowerCase();u.substr(0,7)==="content"&&(u="content"+u.substr(7,1).toUpperCase()+u.substr(8)),e[s]&&(x[u]=e[s])}!a&&(e[s]!==n[s]||p&&e[s]!==t.getAttr(s))&&(b=!0,g[s]=e[s])}b&&(t.setAttrs(g),tf(t));for(var u in x)t.off(u+fx),t.on(u+fx,x[u])}function tf(t){if(!Le.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var dw=m3();const wR={},_$={};Dp.Node.prototype._applyProps=a2;let CR=s2.DefaultEventPriority;function M$(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),tf(t)}function A$(t,e,n){let r=Dp[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Dp.Group);const i={},s={};for(var a in e)if(a!=="ref"){var l=a.slice(0,2)==="on";l?s[a]=e[a]:i[a]=e[a]}const u=new r(i);return a2(u,s),u}function N$(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function R$(t,e,n){return!1}function O$(t){return t}function D$(){return null}function z$(){return null}function j$(t,e,n,r){return _$}function L$(){}function P$(t){}function B$(t,e){return!1}function I$(){return wR}function H$(){return wR}const U$=setTimeout,F$=clearTimeout,G$=!0,q$=t=>{t()},V$=-1;function Y$(t,e){return!1}const K$=!1,X$=!1,Q$=!0,W$=!1,J$=!1;function $$(t,e){e.parent===t?e.moveToTop():t.add(e),tf(t)}function Z$(t,e){e.parent===t?e.moveToTop():t.add(e),tf(t)}function ER(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),tf(t)}function eZ(t,e,n){ER(t,e,n)}function tZ(t,e){e.destroy(),e.off(fx),tf(t)}function nZ(t,e){e.destroy(),e.off(fx),tf(t)}function rZ(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function iZ(t,e,n){}function sZ(t,e,n,r){a2(t,r,n)}function aZ(t){t.hide(),tf(t)}function oZ(t){}function lZ(t,e){(e.visible==null||e.visible)&&t.show()}function cZ(t,e){}function uZ(t){}function fZ(){}function dZ(){return null}function hZ(){}function pZ(){}function mZ(){return s2.DefaultEventPriority}function gZ(){}function yZ(){return null}function bZ(t){CR=t}function vZ(){return CR}function xZ(){return s2.DiscreteEventPriority}function SZ(){return!1}function wZ(){}function CZ(){return null}function EZ(){return-1.1}function kZ(){}function TZ(){return!1}function _Z(){return!0}function MZ(){}function AZ(){}function NZ(){return null}const RZ=null,OZ=Ye.createContext(null);function DZ(){}const zZ=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:OZ,NotPendingTransition:RZ,afterActiveInstanceBlur:pZ,appendChild:$$,appendChildToContainer:Z$,appendInitialChild:M$,beforeActiveInstanceBlur:hZ,cancelTimeout:F$,clearContainer:uZ,commitMount:iZ,commitTextUpdate:rZ,commitUpdate:sZ,createInstance:A$,createTextInstance:N$,detachDeletedInstance:fZ,finalizeInitialChildren:R$,getChildHostContext:H$,getCurrentEventPriority:mZ,getCurrentUpdatePriority:vZ,getInstanceFromNode:dZ,getInstanceFromScope:yZ,getPublicInstance:O$,getRootHostContext:I$,hideInstance:aZ,hideTextInstance:oZ,idlePriority:dw.unstable_IdlePriority,insertBefore:ER,insertInContainerBefore:eZ,isPrimaryRenderer:K$,maySuspendCommit:TZ,noTimeout:V$,now:dw.unstable_now,preloadInstance:_Z,prepareForCommit:D$,preparePortalMount:z$,prepareScopeUpdate:gZ,prepareUpdate:j$,removeChild:tZ,removeChildFromContainer:nZ,requestPostPaintCallback:kZ,resetAfterCommit:L$,resetFormInstance:DZ,resetTextContent:P$,resolveEventTimeStamp:EZ,resolveEventType:CZ,resolveUpdatePriority:xZ,run:dw.unstable_runWithPriority,scheduleMicrotask:q$,scheduleTimeout:U$,setCurrentUpdatePriority:bZ,shouldAttemptEagerTransition:SZ,shouldDeprioritizeSubtree:B$,shouldSetTextContent:Y$,startSuspendingCommit:MZ,supportsHydration:J$,supportsMicrotasks:G$,supportsMutation:Q$,supportsPersistence:W$,suspendInstance:AZ,trackSchedulerEvent:wZ,unhideInstance:lZ,unhideTextInstance:cZ,waitForCommitToBeReady:NZ,warnsIfNotActing:X$},Symbol.toStringTag,{value:"Module"}));function kR(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=kR(r,e,n);if(i)return i;r=r.sibling}}function TR(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const KE=TR(N.createContext(null));class _R extends N.Component{render(){return N.createElement(KE.Provider,{value:this._reactInternals},this.props.children)}}function jZ(){const t=N.useContext(KE);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const r=kR(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[t,e])}const LZ=Symbol.for("react.context"),PZ=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===LZ;function BZ(){const t=jZ(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){const r=n.type;PZ(r)&&r!==KE&&!e.has(r)&&e.set(r,N.use(TR(r))),n=n.return}return e}function IZ(){const t=BZ();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>N.createElement(e,null,N.createElement(n.Provider,{...r,value:t.get(n)})),e=>N.createElement(_R,{...e})),[t])}if(Ye.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function HZ(t){const e=Ye.useRef({});return Ye.useLayoutEffect(()=>{e.current=t}),Ye.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const UZ=()=>{const t=Ye.useRef(0);return Ye.useMemo(()=>{t.current++},[]),t.current>1},FZ=t=>{const e=Ye.useRef(null),n=Ye.useRef(null),r=Ye.useRef(null),i=HZ(t),s=IZ(),a=Ye.useRef(null),l=p=>{const{forwardedRef:g}=t;g&&(typeof g=="function"?g(p):g.current=p)},u=UZ(),d=()=>{l(null),Bb.updateContainer(null,r.current,null),n.current?.destroy(),n.current=null};return Ye.useLayoutEffect(()=>(a.current&&(clearTimeout(a.current),a.current=null),n.current?l(n.current):(n.current=new Dp.Stage({width:t.width,height:t.height,container:e.current}),l(n.current),r.current=Bb.createContainer(n.current,s2.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),Bb.updateContainer(Ye.createElement(s,{},t.children),r.current,null,()=>{})),()=>{u?a.current=setTimeout(d,0):d()}),[]),Ye.useLayoutEffect(()=>{l(n.current),a2(n.current,t,i),Bb.updateContainer(Ye.createElement(s,{},t.children),r.current,null)}),Ye.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},GZ="Layer",qZ="Rect",VZ="Circle",YZ="Line",Bb=S$(zZ),KZ=Ye.forwardRef((t,e)=>Ye.createElement(_R,{},Ye.createElement(FZ,{...t,forwardedRef:e}))),MR=()=>{const[t,e]=N.useState("pen"),[n,r]=N.useState("#000000"),[i,s]=N.useState([]),a=N.useRef(!1),l=g=>{a.current=!0;const b=g.target.getStage().getPointerPosition();t==="pen"||t==="eraser"?s([...i,{id:Date.now().toString(),tool:t,points:[b.x,b.y],color:t==="eraser"?"#ffffff":n}]):t==="rect"?s([...i,{id:Date.now().toString(),tool:"rect",x:b.x,y:b.y,width:0,height:0,color:n}]):t==="circle"&&s([...i,{id:Date.now().toString(),tool:"circle",x:b.x,y:b.y,radius:0,color:n}])},u=g=>{if(!a.current)return;const x=g.target.getStage().getPointerPosition();let S=i[i.length-1];if(t==="pen"||t==="eraser")S.points=S.points.concat([x.x,x.y]);else if(t==="rect")S.width=x.x-S.x,S.height=x.y-S.y;else if(t==="circle"){const k=x.x-S.x,_=x.y-S.y;S.radius=Math.sqrt(k*k+_*_)}i.splice(i.length-1,1,S),s(i.concat())},d=()=>{a.current=!1},p=()=>{confirm("Clear whiteboard?")&&s([])};return E.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-900 relative",children:[E.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 shadow-lg rounded-full px-4 py-2 flex items-center gap-4 z-10 border border-gray-200 dark:border-gray-700",children:[E.jsx("button",{onClick:()=>e("pen"),className:`p-2 rounded-full transition-colors ${t==="pen"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(oV,{size:20})}),E.jsx("button",{onClick:()=>e("eraser"),className:`p-2 rounded-full transition-colors ${t==="eraser"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(Vq,{size:20})}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),E.jsx("button",{onClick:()=>e("rect"),className:`p-2 rounded-full transition-colors ${t==="rect"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(hV,{size:20})}),E.jsx("button",{onClick:()=>e("circle"),className:`p-2 rounded-full transition-colors ${t==="circle"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E.jsx(Uq,{size:20})}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),E.jsx("input",{type:"color",value:n,onChange:g=>r(g.target.value),className:"w-8 h-8 rounded-full border-none cursor-pointer bg-transparent"}),E.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),E.jsx("button",{onClick:p,className:"p-2 rounded-full text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:E.jsx(RC,{size:20})})]}),E.jsx(KZ,{width:window.innerWidth,height:window.innerHeight,onMouseDown:l,onMousemove:u,onMouseup:d,className:"bg-dot-pattern",style:{cursor:t==="pen"?"crosshair":"default"},children:E.jsx(GZ,{children:i.map((g,b)=>g.tool==="pen"||g.tool==="eraser"?E.jsx(YZ,{points:g.points,stroke:g.color,strokeWidth:g.tool==="eraser"?20:5,tension:.5,lineCap:"round",lineJoin:"round",globalCompositeOperation:g.tool==="eraser"?"destination-out":"source-over"},b):g.tool==="rect"?E.jsx(qZ,{x:g.x,y:g.y,width:g.width,height:g.height,stroke:g.color,strokeWidth:4},b):g.tool==="circle"?E.jsx(VZ,{x:g.x,y:g.y,radius:g.radius,stroke:g.color,strokeWidth:4},b):null)})})]})};function XZ(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const QZ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,WZ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JZ={};function G_(t,e){return(JZ.jsx?WZ:QZ).test(t)}const $Z=/[ \t\n\f\r]/g;function ZZ(t){return typeof t=="object"?t.type==="text"?q_(t.value):!1:q_(t)}function q_(t){return t.replace($Z,"")===""}class ly{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}ly.prototype.normal={};ly.prototype.property={};ly.prototype.space=void 0;function AR(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new ly(n,r,e)}function XC(t){return t.toLowerCase()}class qs{constructor(e,n){this.attribute=n,this.property=e}}qs.prototype.attribute="";qs.prototype.booleanish=!1;qs.prototype.boolean=!1;qs.prototype.commaOrSpaceSeparated=!1;qs.prototype.commaSeparated=!1;qs.prototype.defined=!1;qs.prototype.mustUseProperty=!1;qs.prototype.number=!1;qs.prototype.overloadedBoolean=!1;qs.prototype.property="";qs.prototype.spaceSeparated=!1;qs.prototype.space=void 0;let eee=0;const vt=Dd(),_r=Dd(),QC=Dd(),Ne=Dd(),yn=Dd(),xp=Dd(),Js=Dd();function Dd(){return 2**++eee}const WC=Object.freeze(Object.defineProperty({__proto__:null,boolean:vt,booleanish:_r,commaOrSpaceSeparated:Js,commaSeparated:xp,number:Ne,overloadedBoolean:QC,spaceSeparated:yn},Symbol.toStringTag,{value:"Module"})),hw=Object.keys(WC);class XE extends qs{constructor(e,n,r,i){let s=-1;if(super(e,n),V_(this,"space",i),typeof r=="number")for(;++s<hw.length;){const a=hw[s];V_(this,hw[s],(r&WC[a])===WC[a])}}}XE.prototype.defined=!0;function V_(t,e,n){n&&(t[e]=n)}function Yp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new XE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[XC(r)]=r,n[XC(s.attribute)]=r}return new ly(e,n,t.space)}const NR=Yp({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:Ne,ariaColIndex:Ne,ariaColSpan:Ne,ariaControls:yn,ariaCurrent:null,ariaDescribedBy:yn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:yn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:yn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yn,ariaLevel:Ne,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:yn,ariaPlaceholder:null,ariaPosInSet:Ne,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:yn,ariaRowCount:Ne,ariaRowIndex:Ne,ariaRowSpan:Ne,ariaSelected:_r,ariaSetSize:Ne,ariaSort:null,ariaValueMax:Ne,ariaValueMin:Ne,ariaValueNow:Ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function RR(t,e){return e in t?t[e]:e}function OR(t,e){return RR(t,e.toLowerCase())}const tee=Yp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xp,acceptCharset:yn,accessKey:yn,action:null,allow:null,allowFullScreen:vt,allowPaymentRequest:vt,allowUserMedia:vt,alt:null,as:null,async:vt,autoCapitalize:null,autoComplete:yn,autoFocus:vt,autoPlay:vt,blocking:yn,capture:null,charSet:null,checked:vt,cite:null,className:yn,cols:Ne,colSpan:null,content:null,contentEditable:_r,controls:vt,controlsList:yn,coords:Ne|xp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vt,defer:vt,dir:null,dirName:null,disabled:vt,download:QC,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vt,formTarget:null,headers:yn,height:Ne,hidden:QC,high:Ne,href:null,hrefLang:null,htmlFor:yn,httpEquiv:yn,id:null,imageSizes:null,imageSrcSet:null,inert:vt,inputMode:null,integrity:null,is:null,isMap:vt,itemId:null,itemProp:yn,itemRef:yn,itemScope:vt,itemType:yn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vt,low:Ne,manifest:null,max:null,maxLength:Ne,media:null,method:null,min:null,minLength:Ne,multiple:vt,muted:vt,name:null,nonce:null,noModule:vt,noValidate:vt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vt,optimum:Ne,pattern:null,ping:yn,placeholder:null,playsInline:vt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vt,referrerPolicy:null,rel:yn,required:vt,reversed:vt,rows:Ne,rowSpan:Ne,sandbox:yn,scope:null,scoped:vt,seamless:vt,selected:vt,shadowRootClonable:vt,shadowRootDelegatesFocus:vt,shadowRootMode:null,shape:null,size:Ne,sizes:null,slot:null,span:Ne,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ne,step:null,style:null,tabIndex:Ne,target:null,title:null,translate:null,type:null,typeMustMatch:vt,useMap:null,value:_r,width:Ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yn,axis:null,background:null,bgColor:null,border:Ne,borderColor:null,bottomMargin:Ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vt,declare:vt,event:null,face:null,frame:null,frameBorder:null,hSpace:Ne,leftMargin:Ne,link:null,longDesc:null,lowSrc:null,marginHeight:Ne,marginWidth:Ne,noResize:vt,noHref:vt,noShade:vt,noWrap:vt,object:null,profile:null,prompt:null,rev:null,rightMargin:Ne,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:Ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vt,disableRemotePlayback:vt,prefix:null,property:null,results:Ne,security:null,unselectable:null},space:"html",transform:OR}),nee=Yp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Js,accentHeight:Ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ne,amplitude:Ne,arabicForm:null,ascent:Ne,attributeName:null,attributeType:null,azimuth:Ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ne,by:null,calcMode:null,capHeight:Ne,className:yn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ne,diffuseConstant:Ne,direction:null,display:null,dur:null,divisor:Ne,dominantBaseline:null,download:vt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ne,enableBackground:null,end:null,event:null,exponent:Ne,externalResourcesRequired:null,fill:null,fillOpacity:Ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xp,g2:xp,glyphName:xp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ne,horizOriginX:Ne,horizOriginY:Ne,id:null,ideographic:Ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ne,k:Ne,k1:Ne,k2:Ne,k3:Ne,k4:Ne,kernelMatrix:Js,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ne,overlineThickness:Ne,paintOrder:null,panose1:null,path:null,pathLength:Ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ne,pointsAtY:Ne,pointsAtZ:Ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Js,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Js,rev:Js,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Js,requiredFeatures:Js,requiredFonts:Js,requiredFormats:Js,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ne,specularExponent:Ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ne,strikethroughThickness:Ne,string:null,stroke:null,strokeDashArray:Js,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ne,strokeOpacity:Ne,strokeWidth:null,style:null,surfaceScale:Ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Js,tabIndex:Ne,tableValues:null,target:null,targetX:Ne,targetY:Ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Js,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ne,underlineThickness:Ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ne,values:null,vAlphabetic:Ne,vMathematical:Ne,vectorEffect:null,vHanging:Ne,vIdeographic:Ne,version:null,vertAdvY:Ne,vertOriginX:Ne,vertOriginY:Ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:RR}),DR=Yp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),zR=Yp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:OR}),jR=Yp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ree={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iee=/[A-Z]/g,Y_=/-[a-z]/g,see=/^data[-\w.:]+$/i;function aee(t,e){const n=XC(e);let r=e,i=qs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&see.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Y_,lee);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Y_.test(s)){let a=s.replace(iee,oee);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=XE}return new i(r,e)}function oee(t){return"-"+t.toLowerCase()}function lee(t){return t.charAt(1).toUpperCase()}const cee=AR([NR,tee,DR,zR,jR],"html"),QE=AR([NR,nee,DR,zR,jR],"svg");function uee(t){return t.join(" ").trim()}var ap={},pw,K_;function fee(){if(K_)return pw;K_=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,d="/",p="*",g="",b="comment",x="declaration";function S(_,A){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];A=A||{};var O=1,z=1;function L(ee){var te=ee.match(e);te&&(O+=te.length);var V=ee.lastIndexOf(u);z=~V?ee.length-V:z+ee.length}function H(){var ee={line:O,column:z};return function(te){return te.position=new j(ee),Y(),te}}function j(ee){this.start=ee,this.end={line:O,column:z},this.source=A.source}j.prototype.content=_;function P(ee){var te=new Error(A.source+":"+O+":"+z+": "+ee);if(te.reason=ee,te.filename=A.source,te.line=O,te.column=z,te.source=_,!A.silent)throw te}function I(ee){var te=ee.exec(_);if(te){var V=te[0];return L(V),_=_.slice(V.length),te}}function Y(){I(n)}function G(ee){var te;for(ee=ee||[];te=X();)te!==!1&&ee.push(te);return ee}function X(){var ee=H();if(!(d!=_.charAt(0)||p!=_.charAt(1))){for(var te=2;g!=_.charAt(te)&&(p!=_.charAt(te)||d!=_.charAt(te+1));)++te;if(te+=2,g===_.charAt(te-1))return P("End of comment missing");var V=_.slice(2,te-2);return z+=2,L(V),_=_.slice(te),z+=2,ee({type:b,comment:V})}}function W(){var ee=H(),te=I(r);if(te){if(X(),!I(i))return P("property missing ':'");var V=I(s),re=ee({type:x,property:k(te[0].replace(t,g)),value:V?k(V[0].replace(t,g)):g});return I(a),re}}function le(){var ee=[];G(ee);for(var te;te=W();)te!==!1&&(ee.push(te),G(ee));return ee}return Y(),le()}function k(_){return _?_.replace(l,g):g}return pw=S,pw}var X_;function dee(){if(X_)return ap;X_=1;var t=ap&&ap.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ap,"__esModule",{value:!0}),ap.default=n;const e=t(fee());function n(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,e.default)(r),l=typeof i=="function";return a.forEach(u=>{if(u.type!=="declaration")return;const{property:d,value:p}=u;l?i(d,p,u):p&&(s=s||{},s[d]=p)}),s}return ap}var Hg={},Q_;function hee(){if(Q_)return Hg;Q_=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(d){return!d||n.test(d)||t.test(d)},a=function(d,p){return p.toUpperCase()},l=function(d,p){return"".concat(p,"-")},u=function(d,p){return p===void 0&&(p={}),s(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(i,l):d=d.replace(r,l),d.replace(e,a))};return Hg.camelCase=u,Hg}var Ug,W_;function pee(){if(W_)return Ug;W_=1;var t=Ug&&Ug.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(dee()),n=hee();function r(i,s){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(l,u){l&&u&&(a[(0,n.camelCase)(l,s)]=u)}),a}return r.default=r,Ug=r,Ug}var mee=pee();const gee=Lp(mee),LR=PR("end"),WE=PR("start");function PR(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function yee(t){const e=WE(t),n=LR(t);if(e&&n)return{start:e,end:n}}function v0(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?J_(t.position):"start"in t||"end"in t?J_(t):"line"in t||"column"in t?JC(t):""}function JC(t){return $_(t&&t.line)+":"+$_(t&&t.column)}function J_(t){return JC(t&&t.start)+"-"+JC(t&&t.end)}function $_(t){return t&&typeof t=="number"?t:1}class Fi extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=v0(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fi.prototype.file="";Fi.prototype.name="";Fi.prototype.reason="";Fi.prototype.message="";Fi.prototype.stack="";Fi.prototype.column=void 0;Fi.prototype.line=void 0;Fi.prototype.ancestors=void 0;Fi.prototype.cause=void 0;Fi.prototype.fatal=void 0;Fi.prototype.place=void 0;Fi.prototype.ruleId=void 0;Fi.prototype.source=void 0;const JE={}.hasOwnProperty,bee=new Map,vee=/[A-Z]/g,xee=new Set(["table","tbody","thead","tfoot","tr"]),See=new Set(["td","th"]),BR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wee(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Nee(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Aee(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?QE:cee,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=IR(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function IR(t,e,n){if(e.type==="element")return Cee(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Eee(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Tee(t,e,n);if(e.type==="mdxjsEsm")return kee(t,e);if(e.type==="root")return _ee(t,e,n);if(e.type==="text")return Mee(t,e)}function Cee(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=QE,t.schema=i),t.ancestors.push(e);const s=UR(t,e.tagName,!1),a=Ree(t,e);let l=ZE(t,e);return xee.has(e.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!ZZ(u):!0})),HR(t,a,s,e),$E(a,l),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function Eee(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}F0(t,e.position)}function kee(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);F0(t,e.position)}function Tee(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=QE,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:UR(t,e.name,!0),a=Oee(t,e),l=ZE(t,e);return HR(t,a,s,e),$E(a,l),t.ancestors.pop(),t.schema=r,t.create(e,s,a,n)}function _ee(t,e,n){const r={};return $E(r,ZE(t,e)),t.create(e,t.Fragment,r,n)}function Mee(t,e){return e.value}function HR(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function $E(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function Aee(t,e,n){return r;function r(i,s,a,l){const d=Array.isArray(a.children)?n:e;return l?d(s,a,l):d(s,a)}}function Nee(t,e){return n;function n(r,i,s,a){const l=Array.isArray(s.children),u=WE(r);return e(i,s,a,l,{columnNumber:u?u.column-1:void 0,fileName:t,lineNumber:u?u.line:void 0},void 0)}}function Ree(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&JE.call(e.properties,i)){const s=Dee(t,i,e.properties[i]);if(s){const[a,l]=s;t.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&See.has(e.tagName)?r=l:n[a]=l}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Oee(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else F0(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,s=t.evaluater.evaluateExpression(l.expression)}else F0(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function ZE(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:bee;for(;++r<e.children.length;){const s=e.children[r];let a;if(t.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const d=i.get(u)||0;a=u+"-"+d,i.set(u,d+1)}}const l=IR(t,s,a);l!==void 0&&n.push(l)}return n}function Dee(t,e,n){const r=aee(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?XZ(n):uee(n)),r.property==="style"){let i=typeof n=="object"?n:zee(t,String(n));return t.stylePropertyNameCase==="css"&&(i=jee(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?ree[r.property]||r.property:r.attribute,n]}}function zee(t,e){try{return gee(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Fi("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=BR+"#cannot-parse-style-attribute",i}}function UR(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const l=G_(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}r=a}else r=G_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return JE.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);F0(t)}function F0(t,e){const n=new Fi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=BR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function jee(t){const e={};let n;for(n in t)JE.call(t,n)&&(e[Lee(n)]=t[n]);return e}function Lee(t){let e=t.replace(vee,Pee);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Pee(t){return"-"+t.toLowerCase()}const mw={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Bee={};function e4(t,e){const n=Bee,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return FR(t,r,i)}function FR(t,e,n){if(Iee(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Z_(t.children,e,n)}return Array.isArray(t)?Z_(t,e,n):""}function Z_(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=FR(t[i],e,n);return r.join("")}function Iee(t){return!!(t&&typeof t=="object")}const e6=document.createElement("i");function t4(t){const e="&"+t+";";e6.innerHTML=e;const n=e6.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ia(t,e,n,r){const i=t.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Ia(t,e){return t.length>0?(ia(t,t.length,0,e),t):e}const t6={}.hasOwnProperty;function GR(t){const e={};let n=-1;for(;++n<t.length;)Hee(e,t[n]);return e}function Hee(t,e){let n;for(n in e){const i=(t6.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){t6.call(i,a)||(i[a]=[]);const l=s[a];Uee(i[a],Array.isArray(l)?l:l?[l]:[])}}}function Uee(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ia(t,0,0,r)}function qR(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function yo(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const us=nf(/[A-Za-z]/),Hi=nf(/[\dA-Za-z]/),Fee=nf(/[#-'*+\--9=?A-Z^-~]/);function dx(t){return t!==null&&(t<32||t===127)}const $C=nf(/\d/),Gee=nf(/[\dA-Fa-f]/),qee=nf(/[!-/:-@[-`{-~]/);function tt(t){return t!==null&&t<-2}function on(t){return t!==null&&(t<0||t===32)}function Dt(t){return t===-2||t===-1||t===32}const o2=nf(new RegExp("\\p{P}|\\p{S}","u")),wd=nf(/\s/);function nf(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Kp(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&Hi(t.charCodeAt(n+1))&&Hi(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=t.charCodeAt(n+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ht(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(u){return Dt(u)?(t.enter(n),l(u)):e(u)}function l(u){return Dt(u)&&s++<i?(t.consume(u),l):(t.exit(n),e(u))}}const Vee={tokenize:Yee};function Yee(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Ht(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){const u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return tt(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),a)}}const Kee={tokenize:Xee},n6={tokenize:Qee};function Xee(t){const e=this,n=[];let r=0,i,s,a;return l;function l(z){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,u,d)(z)}return d(z)}function u(z){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&O();const L=e.events.length;let H=L,j;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){j=e.events[H][1].end;break}A(r);let P=L;for(;P<e.events.length;)e.events[P][1].end={...j},P++;return ia(e.events,H+1,0,e.events.slice(L)),e.events.length=P,d(z)}return l(z)}function d(z){if(r===n.length){if(!i)return b(z);if(i.currentConstruct&&i.currentConstruct.concrete)return S(z);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(n6,p,g)(z)}function p(z){return i&&O(),A(r),b(z)}function g(z){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,S(z)}function b(z){return e.containerState={},t.attempt(n6,x,S)(z)}function x(z){return r++,n.push([e.currentConstruct,e.containerState]),b(z)}function S(z){if(z===null){i&&O(),A(0),t.consume(z);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(z)}function k(z){if(z===null){_(t.exit("chunkFlow"),!0),A(0),t.consume(z);return}return tt(z)?(t.consume(z),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(z),k)}function _(z,L){const H=e.sliceStream(z);if(L&&H.push(null),z.previous=s,s&&(s.next=z),s=z,i.defineSkip(z.start),i.write(H),e.parser.lazy[z.start.line]){let j=i.events.length;for(;j--;)if(i.events[j][1].start.offset<a&&(!i.events[j][1].end||i.events[j][1].end.offset>a))return;const P=e.events.length;let I=P,Y,G;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(Y){G=e.events[I][1].end;break}Y=!0}for(A(r),j=P;j<e.events.length;)e.events[j][1].end={...G},j++;ia(e.events,I+1,0,e.events.slice(P)),e.events.length=j}}function A(z){let L=n.length;for(;L-- >z;){const H=n[L];e.containerState=H[1],H[0].exit.call(e,t)}n.length=z}function O(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Qee(t,e,n){return Ht(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zp(t){if(t===null||on(t)||wd(t))return 1;if(o2(t))return 2}function l2(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const ZC={name:"attention",resolveAll:Wee,tokenize:Jee};function Wee(t,e){let n=-1,r,i,s,a,l,u,d,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const g={...t[r][1].end},b={...t[n][1].start};r6(g,-u),r6(b,u),a={type:u>1?"strongSequence":"emphasisSequence",start:g,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ia(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ia(d,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),d=Ia(d,l2(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ia(d,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,d=Ia(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,ia(t,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Jee(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zp(r);let s;return a;function a(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;const d=t.exit("attentionSequence"),p=zp(u),g=!p||p===2&&i||n.includes(u),b=!i||i===2&&p||n.includes(r);return d._open=!!(s===42?g:g&&(i||!b)),d._close=!!(s===42?b:b&&(p||!g)),e(u)}}function r6(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const $ee={name:"autolink",tokenize:Zee};function Zee(t,e,n){let r=0;return i;function i(x){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(x){return us(x)?(t.consume(x),a):x===64?n(x):d(x)}function a(x){return x===43||x===45||x===46||Hi(x)?(r=1,l(x)):d(x)}function l(x){return x===58?(t.consume(x),r=0,u):(x===43||x===45||x===46||Hi(x))&&r++<32?(t.consume(x),l):(r=0,d(x))}function u(x){return x===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):x===null||x===32||x===60||dx(x)?n(x):(t.consume(x),u)}function d(x){return x===64?(t.consume(x),p):Fee(x)?(t.consume(x),d):n(x)}function p(x){return Hi(x)?g(x):n(x)}function g(x){return x===46?(t.consume(x),r=0,p):x===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(x),t.exit("autolinkMarker"),t.exit("autolink"),e):b(x)}function b(x){if((x===45||Hi(x))&&r++<63){const S=x===45?b:g;return t.consume(x),S}return n(x)}}const cy={partial:!0,tokenize:ete};function ete(t,e,n){return r;function r(s){return Dt(s)?Ht(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||tt(s)?e(s):n(s)}}const VR={continuation:{tokenize:nte},exit:rte,name:"blockQuote",tokenize:tte};function tte(t,e,n){const r=this;return i;function i(a){if(a===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return Dt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function nte(t,e,n){const r=this;return i;function i(a){return Dt(a)?Ht(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(VR,e,n)(a)}}function rte(t){t.exit("blockQuote")}const YR={name:"characterEscape",tokenize:ite};function ite(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return qee(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const KR={name:"characterReference",tokenize:ste};function ste(t,e,n){const r=this;let i=0,s,a;return l;function l(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),u}function u(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,a=Hi,p(g))}function d(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=Gee,p):(t.enter("characterReferenceValue"),s=7,a=$C,p(g))}function p(g){if(g===59&&i){const b=t.exit("characterReferenceValue");return a===Hi&&!t4(r.sliceSerialize(b))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(g)&&i++<s?(t.consume(g),p):n(g)}}const i6={partial:!0,tokenize:ote},s6={concrete:!0,name:"codeFenced",tokenize:ate};function ate(t,e,n){const r=this,i={partial:!0,tokenize:H};let s=0,a=0,l;return u;function u(j){return d(j)}function d(j){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(j)}function p(j){return j===l?(a++,t.consume(j),p):a<3?n(j):(t.exit("codeFencedFenceSequence"),Dt(j)?Ht(t,g,"whitespace")(j):g(j))}function g(j){return j===null||tt(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(i6,k,L)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(j))}function b(j){return j===null||tt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(j)):Dt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ht(t,x,"whitespace")(j)):j===96&&j===l?n(j):(t.consume(j),b)}function x(j){return j===null||tt(j)?g(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),S(j))}function S(j){return j===null||tt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(j)):j===96&&j===l?n(j):(t.consume(j),S)}function k(j){return t.attempt(i,L,_)(j)}function _(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),A}function A(j){return s>0&&Dt(j)?Ht(t,O,"linePrefix",s+1)(j):O(j)}function O(j){return j===null||tt(j)?t.check(i6,k,L)(j):(t.enter("codeFlowValue"),z(j))}function z(j){return j===null||tt(j)?(t.exit("codeFlowValue"),O(j)):(t.consume(j),z)}function L(j){return t.exit("codeFenced"),e(j)}function H(j,P,I){let Y=0;return G;function G(te){return j.enter("lineEnding"),j.consume(te),j.exit("lineEnding"),X}function X(te){return j.enter("codeFencedFence"),Dt(te)?Ht(j,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):W(te)}function W(te){return te===l?(j.enter("codeFencedFenceSequence"),le(te)):I(te)}function le(te){return te===l?(Y++,j.consume(te),le):Y>=a?(j.exit("codeFencedFenceSequence"),Dt(te)?Ht(j,ee,"whitespace")(te):ee(te)):I(te)}function ee(te){return te===null||tt(te)?(j.exit("codeFencedFence"),P(te)):I(te)}}}function ote(t,e,n){const r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}const gw={name:"codeIndented",tokenize:cte},lte={partial:!0,tokenize:ute};function cte(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Ht(t,s,"linePrefix",5)(d)}function s(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?u(d):tt(d)?t.attempt(lte,a,u)(d):(t.enter("codeFlowValue"),l(d))}function l(d){return d===null||tt(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),l)}function u(d){return t.exit("codeIndented"),e(d)}}function ute(t,e,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):tt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):Ht(t,s,"linePrefix",5)(a)}function s(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):tt(a)?i(a):n(a)}}const fte={name:"codeText",previous:hte,resolve:dte,tokenize:pte};function dte(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function hte(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pte(t,e,n){let r=0,i,s;return a;function a(g){return t.enter("codeText"),t.enter("codeTextSequence"),l(g)}function l(g){return g===96?(t.consume(g),r++,l):(t.exit("codeTextSequence"),u(g))}function u(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),u):g===96?(s=t.enter("codeTextSequence"),i=0,p(g)):tt(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),u):(t.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||tt(g)?(t.exit("codeTextData"),u(g)):(t.consume(g),d)}function p(g){return g===96?(t.consume(g),i++,p):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(s.type="codeTextData",d(g))}}class mte{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Fg(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fg(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fg(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Fg(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fg(this.left,n.reverse())}}}function Fg(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function XR(t){const e={};let n=-1,r,i,s,a,l,u,d;const p=new mte(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,gte(p,n)),n=e[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=p.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(p.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...p.get(i)[1].start},l=p.slice(i,n),l.unshift(r),p.splice(i,n-i+1,l))}}return ia(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function gte(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,u=[],d={};let p,g,b=-1,x=n,S=0,k=0;const _=[k];for(;x;){for(;t.get(++i)[1]!==x;);s.push(i),x._tokenizer||(p=r.sliceStream(x),x.next||p.push(null),g&&a.defineSkip(x.start),x._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(p),x._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=n;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(k=b+1,_.push(k),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(a.events=[],x?(x._tokenizer=void 0,x.previous=void 0):_.pop(),b=_.length;b--;){const A=l.slice(_[b],_[b+1]),O=s.pop();u.push([O,O+A.length-1]),t.splice(O,2,A)}for(u.reverse(),b=-1;++b<u.length;)d[S+u[b][0]]=S+u[b][1],S+=u[b][1]-u[b][0]-1;return d}const yte={resolve:vte,tokenize:xte},bte={partial:!0,tokenize:Ste};function vte(t){return XR(t),t}function xte(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):tt(l)?t.check(bte,a,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Ste(t,e,n){const r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ht(t,s,"linePrefix")}function s(a){if(a===null||tt(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function QR(t,e,n,r,i,s,a,l,u){const d=u||Number.POSITIVE_INFINITY;let p=0;return g;function g(A){return A===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(A),t.exit(s),b):A===null||A===32||A===41||dx(A)?n(A):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),k(A))}function b(A){return A===62?(t.enter(s),t.consume(A),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),x(A))}function x(A){return A===62?(t.exit("chunkString"),t.exit(l),b(A)):A===null||A===60||tt(A)?n(A):(t.consume(A),A===92?S:x)}function S(A){return A===60||A===62||A===92?(t.consume(A),x):x(A)}function k(A){return!p&&(A===null||A===41||on(A))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(A)):p<d&&A===40?(t.consume(A),p++,k):A===41?(t.consume(A),p--,k):A===null||A===32||A===40||dx(A)?n(A):(t.consume(A),A===92?_:k)}function _(A){return A===40||A===41||A===92?(t.consume(A),k):k(A)}}function WR(t,e,n,r,i,s){const a=this;let l=0,u;return d;function d(x){return t.enter(r),t.enter(i),t.consume(x),t.exit(i),t.enter(s),p}function p(x){return l>999||x===null||x===91||x===93&&!u||x===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(x):x===93?(t.exit(s),t.enter(i),t.consume(x),t.exit(i),t.exit(r),e):tt(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||tt(x)||l++>999?(t.exit("chunkString"),p(x)):(t.consume(x),u||(u=!Dt(x)),x===92?b:g)}function b(x){return x===91||x===92||x===93?(t.consume(x),l++,g):g(x)}}function JR(t,e,n,r,i,s){let a;return l;function l(b){return b===34||b===39||b===40?(t.enter(r),t.enter(i),t.consume(b),t.exit(i),a=b===40?41:b,u):n(b)}function u(b){return b===a?(t.enter(i),t.consume(b),t.exit(i),t.exit(r),e):(t.enter(s),d(b))}function d(b){return b===a?(t.exit(s),u(a)):b===null?n(b):tt(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),Ht(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===a||b===null||tt(b)?(t.exit("chunkString"),d(b)):(t.consume(b),b===92?g:p)}function g(b){return b===a||b===92?(t.consume(b),p):p(b)}}function x0(t,e){let n;return r;function r(i){return tt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Dt(i)?Ht(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const wte={name:"definition",tokenize:Ete},Cte={partial:!0,tokenize:kte};function Ete(t,e,n){const r=this;let i;return s;function s(x){return t.enter("definition"),a(x)}function a(x){return WR.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function l(x){return i=yo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(t.enter("definitionMarker"),t.consume(x),t.exit("definitionMarker"),u):n(x)}function u(x){return on(x)?x0(t,d)(x):d(x)}function d(x){return QR(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function p(x){return t.attempt(Cte,g,g)(x)}function g(x){return Dt(x)?Ht(t,b,"whitespace")(x):b(x)}function b(x){return x===null||tt(x)?(t.exit("definition"),r.parser.defined.push(i),e(x)):n(x)}}function kte(t,e,n){return r;function r(l){return on(l)?x0(t,i)(l):n(l)}function i(l){return JR(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Dt(l)?Ht(t,a,"whitespace")(l):a(l)}function a(l){return l===null||tt(l)?e(l):n(l)}}const Tte={name:"hardBreakEscape",tokenize:_te};function _te(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return tt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Mte={name:"headingAtx",resolve:Ate,tokenize:Nte};function Ate(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ia(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function Nte(t,e,n){let r=0;return i;function i(p){return t.enter("atxHeading"),s(p)}function s(p){return t.enter("atxHeadingSequence"),a(p)}function a(p){return p===35&&r++<6?(t.consume(p),a):p===null||on(p)?(t.exit("atxHeadingSequence"),l(p)):n(p)}function l(p){return p===35?(t.enter("atxHeadingSequence"),u(p)):p===null||tt(p)?(t.exit("atxHeading"),e(p)):Dt(p)?Ht(t,l,"whitespace")(p):(t.enter("atxHeadingText"),d(p))}function u(p){return p===35?(t.consume(p),u):(t.exit("atxHeadingSequence"),l(p))}function d(p){return p===null||p===35||on(p)?(t.exit("atxHeadingText"),l(p)):(t.consume(p),d)}}const Rte=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],a6=["pre","script","style","textarea"],Ote={concrete:!0,name:"htmlFlow",resolveTo:jte,tokenize:Lte},Dte={partial:!0,tokenize:Bte},zte={partial:!0,tokenize:Pte};function jte(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Lte(t,e,n){const r=this;let i,s,a,l,u;return d;function d(F){return p(F)}function p(F){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(F),g}function g(F){return F===33?(t.consume(F),b):F===47?(t.consume(F),s=!0,k):F===63?(t.consume(F),i=3,r.interrupt?e:q):us(F)?(t.consume(F),a=String.fromCharCode(F),_):n(F)}function b(F){return F===45?(t.consume(F),i=2,x):F===91?(t.consume(F),i=5,l=0,S):us(F)?(t.consume(F),i=4,r.interrupt?e:q):n(F)}function x(F){return F===45?(t.consume(F),r.interrupt?e:q):n(F)}function S(F){const we="CDATA[";return F===we.charCodeAt(l++)?(t.consume(F),l===we.length?r.interrupt?e:W:S):n(F)}function k(F){return us(F)?(t.consume(F),a=String.fromCharCode(F),_):n(F)}function _(F){if(F===null||F===47||F===62||on(F)){const we=F===47,Be=a.toLowerCase();return!we&&!s&&a6.includes(Be)?(i=1,r.interrupt?e(F):W(F)):Rte.includes(a.toLowerCase())?(i=6,we?(t.consume(F),A):r.interrupt?e(F):W(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):s?O(F):z(F))}return F===45||Hi(F)?(t.consume(F),a+=String.fromCharCode(F),_):n(F)}function A(F){return F===62?(t.consume(F),r.interrupt?e:W):n(F)}function O(F){return Dt(F)?(t.consume(F),O):G(F)}function z(F){return F===47?(t.consume(F),G):F===58||F===95||us(F)?(t.consume(F),L):Dt(F)?(t.consume(F),z):G(F)}function L(F){return F===45||F===46||F===58||F===95||Hi(F)?(t.consume(F),L):H(F)}function H(F){return F===61?(t.consume(F),j):Dt(F)?(t.consume(F),H):z(F)}function j(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),u=F,P):Dt(F)?(t.consume(F),j):I(F)}function P(F){return F===u?(t.consume(F),u=null,Y):F===null||tt(F)?n(F):(t.consume(F),P)}function I(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||on(F)?H(F):(t.consume(F),I)}function Y(F){return F===47||F===62||Dt(F)?z(F):n(F)}function G(F){return F===62?(t.consume(F),X):n(F)}function X(F){return F===null||tt(F)?W(F):Dt(F)?(t.consume(F),X):n(F)}function W(F){return F===45&&i===2?(t.consume(F),V):F===60&&i===1?(t.consume(F),re):F===62&&i===4?(t.consume(F),K):F===63&&i===3?(t.consume(F),q):F===93&&i===5?(t.consume(F),fe):tt(F)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Dte,ie,le)(F)):F===null||tt(F)?(t.exit("htmlFlowData"),le(F)):(t.consume(F),W)}function le(F){return t.check(zte,ee,ie)(F)}function ee(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),te}function te(F){return F===null||tt(F)?le(F):(t.enter("htmlFlowData"),W(F))}function V(F){return F===45?(t.consume(F),q):W(F)}function re(F){return F===47?(t.consume(F),a="",J):W(F)}function J(F){if(F===62){const we=a.toLowerCase();return a6.includes(we)?(t.consume(F),K):W(F)}return us(F)&&a.length<8?(t.consume(F),a+=String.fromCharCode(F),J):W(F)}function fe(F){return F===93?(t.consume(F),q):W(F)}function q(F){return F===62?(t.consume(F),K):F===45&&i===2?(t.consume(F),q):W(F)}function K(F){return F===null||tt(F)?(t.exit("htmlFlowData"),ie(F)):(t.consume(F),K)}function ie(F){return t.exit("htmlFlow"),e(F)}}function Pte(t,e,n){const r=this;return i;function i(a){return tt(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function Bte(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(cy,e,n)}}const Ite={name:"htmlText",tokenize:Hte};function Hte(t,e,n){const r=this;let i,s,a;return l;function l(q){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(q),u}function u(q){return q===33?(t.consume(q),d):q===47?(t.consume(q),H):q===63?(t.consume(q),z):us(q)?(t.consume(q),I):n(q)}function d(q){return q===45?(t.consume(q),p):q===91?(t.consume(q),s=0,S):us(q)?(t.consume(q),O):n(q)}function p(q){return q===45?(t.consume(q),x):n(q)}function g(q){return q===null?n(q):q===45?(t.consume(q),b):tt(q)?(a=g,re(q)):(t.consume(q),g)}function b(q){return q===45?(t.consume(q),x):g(q)}function x(q){return q===62?V(q):q===45?b(q):g(q)}function S(q){const K="CDATA[";return q===K.charCodeAt(s++)?(t.consume(q),s===K.length?k:S):n(q)}function k(q){return q===null?n(q):q===93?(t.consume(q),_):tt(q)?(a=k,re(q)):(t.consume(q),k)}function _(q){return q===93?(t.consume(q),A):k(q)}function A(q){return q===62?V(q):q===93?(t.consume(q),A):k(q)}function O(q){return q===null||q===62?V(q):tt(q)?(a=O,re(q)):(t.consume(q),O)}function z(q){return q===null?n(q):q===63?(t.consume(q),L):tt(q)?(a=z,re(q)):(t.consume(q),z)}function L(q){return q===62?V(q):z(q)}function H(q){return us(q)?(t.consume(q),j):n(q)}function j(q){return q===45||Hi(q)?(t.consume(q),j):P(q)}function P(q){return tt(q)?(a=P,re(q)):Dt(q)?(t.consume(q),P):V(q)}function I(q){return q===45||Hi(q)?(t.consume(q),I):q===47||q===62||on(q)?Y(q):n(q)}function Y(q){return q===47?(t.consume(q),V):q===58||q===95||us(q)?(t.consume(q),G):tt(q)?(a=Y,re(q)):Dt(q)?(t.consume(q),Y):V(q)}function G(q){return q===45||q===46||q===58||q===95||Hi(q)?(t.consume(q),G):X(q)}function X(q){return q===61?(t.consume(q),W):tt(q)?(a=X,re(q)):Dt(q)?(t.consume(q),X):Y(q)}function W(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),i=q,le):tt(q)?(a=W,re(q)):Dt(q)?(t.consume(q),W):(t.consume(q),ee)}function le(q){return q===i?(t.consume(q),i=void 0,te):q===null?n(q):tt(q)?(a=le,re(q)):(t.consume(q),le)}function ee(q){return q===null||q===34||q===39||q===60||q===61||q===96?n(q):q===47||q===62||on(q)?Y(q):(t.consume(q),ee)}function te(q){return q===47||q===62||on(q)?Y(q):n(q)}function V(q){return q===62?(t.consume(q),t.exit("htmlTextData"),t.exit("htmlText"),e):n(q)}function re(q){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),J}function J(q){return Dt(q)?Ht(t,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):fe(q)}function fe(q){return t.enter("htmlTextData"),a(q)}}const n4={name:"labelEnd",resolveAll:qte,resolveTo:Vte,tokenize:Yte},Ute={tokenize:Kte},Fte={tokenize:Xte},Gte={tokenize:Qte};function qte(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ia(t,0,t.length,n),t}function Vte(t,e){let n=t.length,r=0,i,s,a,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},p={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",d,e]],l=Ia(l,t.slice(s+1,s+r+3)),l=Ia(l,[["enter",p,e]]),l=Ia(l,l2(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),l=Ia(l,[["exit",p,e],t[a-2],t[a-1],["exit",d,e]]),l=Ia(l,t.slice(a+1)),l=Ia(l,[["exit",u,e]]),ia(t,s,t.length,l),t}function Yte(t,e,n){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(b){return s?s._inactive?g(b):(a=r.parser.defined.includes(yo(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),u):n(b)}function u(b){return b===40?t.attempt(Ute,p,a?p:g)(b):b===91?t.attempt(Fte,p,a?d:g)(b):a?p(b):g(b)}function d(b){return t.attempt(Gte,p,g)(b)}function p(b){return e(b)}function g(b){return s._balanced=!0,n(b)}}function Kte(t,e,n){return r;function r(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),i}function i(g){return on(g)?x0(t,s)(g):s(g)}function s(g){return g===41?p(g):QR(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function a(g){return on(g)?x0(t,u)(g):p(g)}function l(g){return n(g)}function u(g){return g===34||g===39||g===40?JR(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function d(g){return on(g)?x0(t,p)(g):p(g)}function p(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}function Xte(t,e,n){const r=this;return i;function i(l){return WR.call(r,t,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(yo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}function Qte(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const Wte={name:"labelStartImage",resolveAll:n4.resolveAll,tokenize:Jte};function Jte(t,e,n){const r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const $te={name:"labelStartLink",resolveAll:n4.resolveAll,tokenize:Zte};function Zte(t,e,n){const r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const yw={name:"lineEnding",tokenize:ene};function ene(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ht(t,e,"linePrefix")}}const iv={name:"thematicBreak",tokenize:tne};function tne(t,e,n){let r=0,i;return s;function s(d){return t.enter("thematicBreak"),a(d)}function a(d){return i=d,l(d)}function l(d){return d===i?(t.enter("thematicBreakSequence"),u(d)):r>=3&&(d===null||tt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function u(d){return d===i?(t.consume(d),r++,u):(t.exit("thematicBreakSequence"),Dt(d)?Ht(t,l,"whitespace")(d):l(d))}}const Hs={continuation:{tokenize:sne},exit:one,name:"list",tokenize:ine},nne={partial:!0,tokenize:lne},rne={partial:!0,tokenize:ane};function ine(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(x){const S=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:$C(x)){if(r.containerState.type||(r.containerState.type=S,t.enter(S,{_container:!0})),S==="listUnordered")return t.enter("listItemPrefix"),x===42||x===45?t.check(iv,n,d)(x):d(x);if(!r.interrupt||x===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(x)}return n(x)}function u(x){return $C(x)&&++a<10?(t.consume(x),u):(!r.interrupt||a<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(t.exit("listItemValue"),d(x)):n(x)}function d(x){return t.enter("listItemMarker"),t.consume(x),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,t.check(cy,r.interrupt?n:p,t.attempt(nne,b,g))}function p(x){return r.containerState.initialBlankLine=!0,s++,b(x)}function g(x){return Dt(x)?(t.enter("listItemPrefixWhitespace"),t.consume(x),t.exit("listItemPrefixWhitespace"),b):n(x)}function b(x){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(x)}}function sne(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(cy,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ht(t,e,"listItemIndent",r.containerState.size+1)(l)}function s(l){return r.containerState.furtherBlankLines||!Dt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(rne,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ht(t,t.attempt(Hs,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function ane(t,e,n){const r=this;return Ht(t,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function one(t){t.exit(this.containerState.type)}function lne(t,e,n){const r=this;return Ht(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Dt(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const o6={name:"setextUnderline",resolveTo:cne,tokenize:une};function cne(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function une(t,e,n){const r=this;let i;return s;function s(d){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(t.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(t.consume(d),l):(t.exit("setextHeadingLineSequence"),Dt(d)?Ht(t,u,"lineSuffix")(d):u(d))}function u(d){return d===null||tt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const fne={tokenize:dne};function dne(t){const e=this,n=t.attempt(cy,r,t.attempt(this.parser.constructs.flowInitial,i,Ht(t,t.attempt(this.parser.constructs.flow,i,t.attempt(yte,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const hne={resolveAll:ZR()},pne=$R("string"),mne=$R("text");function $R(t){return{resolveAll:ZR(t==="text"?gne:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,a,l);return a;function a(p){return d(p)?s(p):l(p)}function l(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return d(p)?(n.exit("data"),s(p)):(n.consume(p),u)}function d(p){if(p===null)return!0;const g=i[p];let b=-1;if(g)for(;++b<g.length;){const x=g[b];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function ZR(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function gne(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,a=-1,l=0,u;for(;s--;){const d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(d===-2)u=!0,l++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){const d={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const yne={42:Hs,43:Hs,45:Hs,48:Hs,49:Hs,50:Hs,51:Hs,52:Hs,53:Hs,54:Hs,55:Hs,56:Hs,57:Hs,62:VR},bne={91:wte},vne={[-2]:gw,[-1]:gw,32:gw},xne={35:Mte,42:iv,45:[o6,iv],60:Ote,61:o6,95:iv,96:s6,126:s6},Sne={38:KR,92:YR},wne={[-5]:yw,[-4]:yw,[-3]:yw,33:Wte,38:KR,42:ZC,60:[$ee,Ite],91:$te,92:[Tte,YR],93:n4,95:ZC,96:fte},Cne={null:[ZC,hne]},Ene={null:[42,95]},kne={null:[]},Tne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ene,contentInitial:bne,disable:kne,document:yne,flow:xne,flowInitial:vne,insideSpan:Cne,string:Sne,text:wne},Symbol.toStringTag,{value:"Module"}));function _ne(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let a=[],l=[];const u={attempt:P(H),check:P(j),consume:O,enter:z,exit:L,interrupt:P(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:S,parser:t,previous:null,sliceSerialize:b,sliceStream:x,write:g};let p=e.tokenize.call(d,u);return e.resolveAll&&s.push(e),d;function g(X){return a=Ia(a,X),_(),a[a.length-1]!==null?[]:(I(e,0),d.events=l2(s,d.events,d),d.events)}function b(X,W){return Ane(x(X),W)}function x(X){return Mne(a,X)}function S(){const{_bufferIndex:X,_index:W,line:le,column:ee,offset:te}=r;return{_bufferIndex:X,_index:W,line:le,column:ee,offset:te}}function k(X){i[X.line]=X.column,G()}function _(){let X;for(;r._index<a.length;){const W=a[r._index];if(typeof W=="string")for(X=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===X&&r._bufferIndex<W.length;)A(W.charCodeAt(r._bufferIndex));else A(W)}}function A(X){p=p(X)}function O(X){tt(X)?(r.line++,r.column=1,r.offset+=X===-3?2:1,G()):X!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=X}function z(X,W){const le=W||{};return le.type=X,le.start=S(),d.events.push(["enter",le,d]),l.push(le),le}function L(X){const W=l.pop();return W.end=S(),d.events.push(["exit",W,d]),W}function H(X,W){I(X,W.from)}function j(X,W){W.restore()}function P(X,W){return le;function le(ee,te,V){let re,J,fe,q;return Array.isArray(ee)?ie(ee):"tokenize"in ee?ie([ee]):K(ee);function K(De){return je;function je(ot){const Ke=ot!==null&&De[ot],nt=ot!==null&&De.null,Nn=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(nt)?nt:nt?[nt]:[]];return ie(Nn)(ot)}}function ie(De){return re=De,J=0,De.length===0?V:F(De[J])}function F(De){return je;function je(ot){return q=Y(),fe=De,De.partial||(d.currentConstruct=De),De.name&&d.parser.constructs.disable.null.includes(De.name)?Be():De.tokenize.call(W?Object.assign(Object.create(d),W):d,u,we,Be)(ot)}}function we(De){return X(fe,q),te}function Be(De){return q.restore(),++J<re.length?F(re[J]):V}}}function I(X,W){X.resolveAll&&!s.includes(X)&&s.push(X),X.resolve&&ia(d.events,W,d.events.length-W,X.resolve(d.events.slice(W),d)),X.resolveTo&&(d.events=X.resolveTo(d.events,d))}function Y(){const X=S(),W=d.previous,le=d.currentConstruct,ee=d.events.length,te=Array.from(l);return{from:ee,restore:V};function V(){r=X,d.previous=W,d.currentConstruct=le,d.events.length=ee,l=te,G()}}function G(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Mne(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function Ane(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function Nne(t){const r={constructs:GR([Tne,...(t||{}).extensions||[]]),content:i(Vee),defined:[],document:i(Kee),flow:i(fne),lazy:{},string:i(pne),text:i(mne)};return r;function i(s){return a;function a(l){return _ne(r,s,l)}}}function Rne(t){for(;!XR(t););return t}const l6=/[\0\t\n\r]/g;function One(){let t=1,e="",n=!0,r;return i;function i(s,a,l){const u=[];let d,p,g,b,x;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),g=0,e="",n&&(s.charCodeAt(0)===65279&&g++,n=void 0);g<s.length;){if(l6.lastIndex=g,d=l6.exec(s),b=d&&d.index!==void 0?d.index:s.length,x=s.charCodeAt(b),!d){e=s.slice(g);break}if(x===10&&g===b&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),g<b&&(u.push(s.slice(g,b)),t+=b-g),x){case 0:{u.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,u.push(-2);t++<p;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}g=b+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}const Dne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function zne(t){return t.replace(Dne,jne)}function jne(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return qR(n.slice(s?2:1),s?16:10)}return t4(n)||t}const e7={}.hasOwnProperty;function Lne(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Pne(n)(Rne(Nne(n).document().write(One()(t,e,!0))))}function Pne(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ys),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:s(Dr),blockQuote:s(nt),characterEscape:Y,characterReference:Y,codeFenced:s(Nn),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Nn,a),codeText:s(Xt,a),codeTextData:Y,data:Y,codeFlowValue:Y,definition:s(Rn),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Gn),hardBreakEscape:s(tr),hardBreakTrailing:s(tr),htmlFlow:s(si,a),htmlFlowData:Y,htmlText:s(si,a),htmlTextData:Y,image:s(Va),label:a,link:s(ys),listItem:s(Gi),listItemValue:b,listOrdered:s(nr,g),listUnordered:s(nr),paragraph:s(Ei),reference:F,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Dr),strong:s(On),thematicBreak:s(Cc)},exit:{atxHeading:u(),atxHeadingSequence:H,autolink:u(),autolinkEmail:Ke,autolinkProtocol:ot,blockQuote:u(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:Be,characterReferenceMarkerNumeric:Be,characterReferenceValue:De,characterReference:je,codeFenced:u(_),codeFencedFence:k,codeFencedFenceInfo:x,codeFencedFenceMeta:S,codeFlowValue:G,codeIndented:u(A),codeText:u(te),codeTextData:G,data:G,definition:u(),definitionDestinationString:L,definitionLabelString:O,definitionTitleString:z,emphasis:u(),hardBreakEscape:u(W),hardBreakTrailing:u(W),htmlFlow:u(le),htmlFlowData:G,htmlText:u(ee),htmlTextData:G,image:u(re),label:fe,labelText:J,lineEnding:X,link:u(V),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:we,resourceDestinationString:q,resourceTitleString:K,resource:ie,setextHeading:u(I),setextHeadingLineSequence:P,setextHeadingText:j,strong:u(),thematicBreak:u()}};t7(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ye){let _e={type:"root",children:[]};const qe={stack:[_e],tokenStack:[],config:e,enter:l,exit:d,buffer:a,resume:p,data:n},Je=[];let xt=-1;for(;++xt<ye.length;)if(ye[xt][1].type==="listOrdered"||ye[xt][1].type==="listUnordered")if(ye[xt][0]==="enter")Je.push(xt);else{const vn=Je.pop();xt=i(ye,vn,xt)}for(xt=-1;++xt<ye.length;){const vn=e[ye[xt][0]];e7.call(vn,ye[xt][1].type)&&vn[ye[xt][1].type].call(Object.assign({sliceSerialize:ye[xt][2].sliceSerialize},qe),ye[xt][1])}if(qe.tokenStack.length>0){const vn=qe.tokenStack[qe.tokenStack.length-1];(vn[1]||c6).call(qe,void 0,vn[0])}for(_e.position={start:Su(ye.length>0?ye[0][1].start:{line:1,column:1,offset:0}),end:Su(ye.length>0?ye[ye.length-2][1].end:{line:1,column:1,offset:0})},xt=-1;++xt<e.transforms.length;)_e=e.transforms[xt](_e)||_e;return _e}function i(ye,_e,qe){let Je=_e-1,xt=-1,vn=!1,qi,vr,Dn,dr;for(;++Je<=qe;){const Ut=ye[Je];switch(Ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ut[0]==="enter"?xt++:xt--,dr=void 0;break}case"lineEndingBlank":{Ut[0]==="enter"&&(qi&&!dr&&!xt&&!Dn&&(Dn=Je),dr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dr=void 0}if(!xt&&Ut[0]==="enter"&&Ut[1].type==="listItemPrefix"||xt===-1&&Ut[0]==="exit"&&(Ut[1].type==="listUnordered"||Ut[1].type==="listOrdered")){if(qi){let bs=Je;for(vr=void 0;bs--;){const ki=ye[bs];if(ki[1].type==="lineEnding"||ki[1].type==="lineEndingBlank"){if(ki[0]==="exit")continue;vr&&(ye[vr][1].type="lineEndingBlank",vn=!0),ki[1].type="lineEnding",vr=bs}else if(!(ki[1].type==="linePrefix"||ki[1].type==="blockQuotePrefix"||ki[1].type==="blockQuotePrefixWhitespace"||ki[1].type==="blockQuoteMarker"||ki[1].type==="listItemIndent"))break}Dn&&(!vr||Dn<vr)&&(qi._spread=!0),qi.end=Object.assign({},vr?ye[vr][1].start:Ut[1].end),ye.splice(vr||Je,0,["exit",qi,Ut[2]]),Je++,qe++}if(Ut[1].type==="listItemPrefix"){const bs={type:"listItem",_spread:!1,start:Object.assign({},Ut[1].start),end:void 0};qi=bs,ye.splice(Je,0,["enter",bs,Ut[2]]),Je++,qe++,Dn=void 0,dr=!0}}}return ye[_e][1]._spread=vn,qe}function s(ye,_e){return qe;function qe(Je){l.call(this,ye(Je),Je),_e&&_e.call(this,Je)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(ye,_e,qe){this.stack[this.stack.length-1].children.push(ye),this.stack.push(ye),this.tokenStack.push([_e,qe||void 0]),ye.position={start:Su(_e.start),end:void 0}}function u(ye){return _e;function _e(qe){ye&&ye.call(this,qe),d.call(this,qe)}}function d(ye,_e){const qe=this.stack.pop(),Je=this.tokenStack.pop();if(Je)Je[0].type!==ye.type&&(_e?_e.call(this,ye,Je[0]):(Je[1]||c6).call(this,ye,Je[0]));else throw new Error("Cannot close `"+ye.type+"` ("+v0({start:ye.start,end:ye.end})+"): its not open");qe.position.end=Su(ye.end)}function p(){return e4(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function b(ye){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(ye),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=ye}function S(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=ye}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye.replace(/(\r?\n|\r)$/g,"")}function O(ye){const _e=this.resume(),qe=this.stack[this.stack.length-1];qe.label=_e,qe.identifier=yo(this.sliceSerialize(ye)).toLowerCase()}function z(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ye}function L(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ye}function H(ye){const _e=this.stack[this.stack.length-1];if(!_e.depth){const qe=this.sliceSerialize(ye).length;_e.depth=qe}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function P(ye){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(ye).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(ye){const qe=this.stack[this.stack.length-1].children;let Je=qe[qe.length-1];(!Je||Je.type!=="text")&&(Je=qn(),Je.position={start:Su(ye.start),end:void 0},qe.push(Je)),this.stack.push(Je)}function G(ye){const _e=this.stack.pop();_e.value+=this.sliceSerialize(ye),_e.position.end=Su(ye.end)}function X(ye){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const qe=_e.children[_e.children.length-1];qe.position.end=Su(ye.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(_e.type)&&(Y.call(this,ye),G.call(this,ye))}function W(){this.data.atHardBreak=!0}function le(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function ee(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function te(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function V(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=_e,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function re(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=_e,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function J(ye){const _e=this.sliceSerialize(ye),qe=this.stack[this.stack.length-2];qe.label=zne(_e),qe.identifier=yo(_e).toLowerCase()}function fe(){const ye=this.stack[this.stack.length-1],_e=this.resume(),qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,qe.type==="link"){const Je=ye.children;qe.children=Je}else qe.alt=_e}function q(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ye}function K(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ye}function ie(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function we(ye){const _e=this.resume(),qe=this.stack[this.stack.length-1];qe.label=_e,qe.identifier=yo(this.sliceSerialize(ye)).toLowerCase(),this.data.referenceType="full"}function Be(ye){this.data.characterReferenceType=ye.type}function De(ye){const _e=this.sliceSerialize(ye),qe=this.data.characterReferenceType;let Je;qe?(Je=qR(_e,qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Je=t4(_e);const xt=this.stack[this.stack.length-1];xt.value+=Je}function je(ye){const _e=this.stack.pop();_e.position.end=Su(ye.end)}function ot(ye){G.call(this,ye);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(ye)}function Ke(ye){G.call(this,ye);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(ye)}function nt(){return{type:"blockquote",children:[]}}function Nn(){return{type:"code",lang:null,meta:null,value:""}}function Xt(){return{type:"inlineCode",value:""}}function Rn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Gn(){return{type:"emphasis",children:[]}}function Dr(){return{type:"heading",depth:0,children:[]}}function tr(){return{type:"break"}}function si(){return{type:"html",value:""}}function Va(){return{type:"image",title:null,url:"",alt:null}}function ys(){return{type:"link",title:null,url:"",children:[]}}function nr(ye){return{type:"list",ordered:ye.type==="listOrdered",start:null,spread:ye._spread,children:[]}}function Gi(ye){return{type:"listItem",spread:ye._spread,checked:null,children:[]}}function Ei(){return{type:"paragraph",children:[]}}function On(){return{type:"strong",children:[]}}function qn(){return{type:"text",value:""}}function Cc(){return{type:"thematicBreak"}}}function Su(t){return{line:t.line,column:t.column,offset:t.offset}}function t7(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?t7(t,r):Bne(t,r)}}function Bne(t,e){let n;for(n in e)if(e7.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function c6(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+v0({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+v0({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+v0({start:e.start,end:e.end})+") is still open")}function Ine(t){const e=this;e.parser=n;function n(r){return Lne(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Hne(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Une(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Fne(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Gne(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qne(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vne(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Kp(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let a,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),a=t.footnoteOrder.length):a=s+1,l+=1,t.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,u);const d={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,d),t.applyData(e,d)}function Yne(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Kne(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function n7(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function Xne(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return n7(t,e);const i={src:Kp(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Qne(t,e){const n={src:Kp(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Wne(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Jne(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return n7(t,e);const i={href:Kp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function $ne(t,e){const n={href:Kp(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Zne(t,e,n){const r=t.all(e),i=n?ere(n):r7(e),s={},a=[];if(typeof e.checked=="boolean"){const p=r[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(i||l!==0||p.type!=="element"||p.tagName!=="p")&&a.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!i?a.push(...p.children):a.push(p)}const u=r[r.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,d),t.applyData(e,d)}function ere(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=r7(n[r])}return e}function r7(t){const e=t.spread;return e??t.children.length>1}function tre(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function nre(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rre(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function ire(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function sre(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=WE(e.children[1]),u=LR(e.children[e.children.length-1]);l&&u&&(a.position={start:l,end:u}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function are(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:e.children.length;let u=-1;const d=[];for(;++u<l;){const g=e.children[u],b={},x=a?a[u]:void 0;x&&(b.align=x);let S={type:"element",tagName:s,properties:b,children:[]};g&&(S.children=t.all(g),t.patch(g,S),S=t.applyData(g,S)),d.push(S)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,p),t.applyData(e,p)}function ore(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const u6=9,f6=32;function lre(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(d6(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(d6(e.slice(i),i>0,!1)),s.join("")}function d6(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===u6||s===f6;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===u6||s===f6;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function cre(t,e){const n={type:"text",value:lre(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function ure(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const fre={blockquote:Hne,break:Une,code:Fne,delete:Gne,emphasis:qne,footnoteReference:Vne,heading:Yne,html:Kne,imageReference:Xne,image:Qne,inlineCode:Wne,linkReference:Jne,link:$ne,listItem:Zne,list:tre,paragraph:nre,root:rre,strong:ire,table:sre,tableCell:ore,tableRow:are,text:cre,thematicBreak:ure,toml:Ib,yaml:Ib,definition:Ib,footnoteDefinition:Ib};function Ib(){}const i7=-1,c2=0,S0=1,hx=2,r4=3,i4=4,s4=5,a4=6,s7=7,a7=8,h6=typeof self=="object"?self:globalThis,dre=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,a]=e[i];switch(s){case c2:case i7:return n(a,i);case S0:{const l=n([],i);for(const u of a)l.push(r(u));return l}case hx:{const l=n({},i);for(const[u,d]of a)l[r(u)]=r(d);return l}case r4:return n(new Date(a),i);case i4:{const{source:l,flags:u}=a;return n(new RegExp(l,u),i)}case s4:{const l=n(new Map,i);for(const[u,d]of a)l.set(r(u),r(d));return l}case a4:{const l=n(new Set,i);for(const u of a)l.add(r(u));return l}case s7:{const{name:l,message:u}=a;return n(new h6[l](u),i)}case a7:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new h6[s](a),i)};return r},p6=t=>dre(new Map,t)(0),op="",{toString:hre}={},{keys:pre}=Object,Gg=t=>{const e=typeof t;if(e!=="object"||!t)return[c2,e];const n=hre.call(t).slice(8,-1);switch(n){case"Array":return[S0,op];case"Object":return[hx,op];case"Date":return[r4,op];case"RegExp":return[i4,op];case"Map":return[s4,op];case"Set":return[a4,op];case"DataView":return[S0,n]}return n.includes("Array")?[S0,n]:n.includes("Error")?[s7,n]:[hx,n]},Hb=([t,e])=>t===c2&&(e==="function"||e==="symbol"),mre=(t,e,n,r)=>{const i=(a,l)=>{const u=r.push(a)-1;return n.set(l,u),u},s=a=>{if(n.has(a))return n.get(a);let[l,u]=Gg(a);switch(l){case c2:{let p=a;switch(u){case"bigint":l=a7,p=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return i([i7],a)}return i([l,p],a)}case S0:{if(u){let b=a;return u==="DataView"?b=new Uint8Array(a.buffer):u==="ArrayBuffer"&&(b=new Uint8Array(a)),i([u,[...b]],a)}const p=[],g=i([l,p],a);for(const b of a)p.push(s(b));return g}case hx:{if(u)switch(u){case"BigInt":return i([u,a.toString()],a);case"Boolean":case"Number":case"String":return i([u,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const p=[],g=i([l,p],a);for(const b of pre(a))(t||!Hb(Gg(a[b])))&&p.push([s(b),s(a[b])]);return g}case r4:return i([l,a.toISOString()],a);case i4:{const{source:p,flags:g}=a;return i([l,{source:p,flags:g}],a)}case s4:{const p=[],g=i([l,p],a);for(const[b,x]of a)(t||!(Hb(Gg(b))||Hb(Gg(x))))&&p.push([s(b),s(x)]);return g}case a4:{const p=[],g=i([l,p],a);for(const b of a)(t||!Hb(Gg(b)))&&p.push(s(b));return g}}const{message:d}=a;return i([l,{name:u,message:d}],a)};return s},m6=(t,{json:e,lossy:n}={})=>{const r=[];return mre(!(e||n),!!e,new Map,r)(t),r},px=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?p6(m6(t,e)):structuredClone(t):(t,e)=>p6(m6(t,e));function gre(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function yre(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function bre(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||gre,r=t.options.footnoteBackLabel||yre,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[u]);if(!d)continue;const p=t.all(d),g=String(d.identifier).toUpperCase(),b=Kp(g.toLowerCase());let x=0;const S=[],k=t.footnoteCounts.get(g);for(;k!==void 0&&++x<=k;){S.length>0&&S.push({type:"text",value:" "});let O=typeof n=="string"?n:n(u,x);typeof O=="string"&&(O={type:"text",value:O}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,x),className:["data-footnote-backref"]},children:Array.isArray(O)?O:[O]})}const _=p[p.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const O=_.children[_.children.length-1];O&&O.type==="text"?O.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...S)}else p.push(...S);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(p,!0)};t.patch(d,A),l.push(A)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...px(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:`
`}]}}const u2=(function(t){if(t==null)return wre;if(typeof t=="function")return f2(t);if(typeof t=="object")return Array.isArray(t)?vre(t):xre(t);if(typeof t=="string")return Sre(t);throw new Error("Expected function, string, or object as test")});function vre(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=u2(t[n]);return f2(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function xre(t){const e=t;return f2(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function Sre(t){return f2(e);function e(n){return n&&n.type===t}}function f2(t){return e;function e(n,r,i){return!!(Cre(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function wre(){return!0}function Cre(t){return t!==null&&typeof t=="object"&&"type"in t}const o7=[],Ere=!0,e3=!1,kre="skip";function l7(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=u2(i),a=r?-1:1;l(t,void 0,[])();function l(u,d,p){const g=u&&typeof u=="object"?u:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(u.type+(x?"<"+x+">":""))+")"})}return b;function b(){let x=o7,S,k,_;if((!e||s(u,d,p[p.length-1]||void 0))&&(x=Tre(n(u,p)),x[0]===e3))return x;if("children"in u&&u.children){const A=u;if(A.children&&x[0]!==kre)for(k=(r?A.children.length:-1)+a,_=p.concat(A);k>-1&&k<A.children.length;){const O=A.children[k];if(S=l(O,k,_)(),S[0]===e3)return S;k=typeof S[1]=="number"?S[1]:k+a}}return x}}}function Tre(t){return Array.isArray(t)?t:typeof t=="number"?[Ere,t]:t==null?o7:[t]}function o4(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),l7(t,s,l,i);function l(u,d){const p=d[d.length-1],g=p?p.children.indexOf(u):void 0;return a(u,g,p)}}const t3={}.hasOwnProperty,_re={};function Mre(t,e){const n=e||_re,r=new Map,i=new Map,s=new Map,a={...fre,...n.handlers},l={all:d,applyData:Nre,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:u,options:n,patch:Are,wrap:Ore};return o4(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?r:i,b=String(p.identifier).toUpperCase();g.has(b)||g.set(b,p)}}),l;function u(p,g){const b=p.type,x=l.handlers[b];if(t3.call(l.handlers,b)&&x)return x(l,p,g);if(l.options.passThrough&&l.options.passThrough.includes(b)){if("children"in p){const{children:k,..._}=p,A=px(_);return A.children=l.all(p),A}return px(p)}return(l.options.unknownHandler||Rre)(l,p,g)}function d(p){const g=[];if("children"in p){const b=p.children;let x=-1;for(;++x<b.length;){const S=l.one(b[x],p);if(S){if(x&&b[x-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=g6(S.value)),!Array.isArray(S)&&S.type==="element")){const k=S.children[0];k&&k.type==="text"&&(k.value=g6(k.value))}Array.isArray(S)?g.push(...S):g.push(S)}}}return g}}function Are(t,e){t.position&&(e.position=yee(t))}function Nre(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,px(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Rre(t,e){const n=e.data||{},r="value"in e&&!(t3.call(n,"hProperties")||t3.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Ore(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function g6(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function y6(t,e){const n=Mre(t,e),r=n.one(t,void 0),i=bre(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Dre(t,e){return t&&"run"in t?async function(n,r){const i=y6(n,{file:r,...e});await t.run(i,r)}:function(n,r){return y6(n,{file:r,...t||e})}}function b6(t){if(t)throw t}var bw,v6;function zre(){if(v6)return bw;v6=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},s=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=t.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!g)return!1;var b;for(b in d);return typeof b>"u"||t.call(d,b)},a=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},l=function(d,p){if(p==="__proto__")if(t.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return bw=function u(){var d,p,g,b,x,S,k=arguments[0],_=1,A=arguments.length,O=!1;for(typeof k=="boolean"&&(O=k,k=arguments[1]||{},_=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});_<A;++_)if(d=arguments[_],d!=null)for(p in d)g=l(k,p),b=l(d,p),k!==b&&(O&&b&&(s(b)||(x=i(b)))?(x?(x=!1,S=g&&i(g)?g:[]):S=g&&s(g)?g:{},a(k,{name:p,newValue:u(O,S,b)})):typeof b<"u"&&a(k,{name:p,newValue:b}));return k},bw}var jre=zre();const vw=Lp(jre);function n3(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Lre(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...d){const p=t[++s];let g=-1;if(u){a(u);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,p?Pre(p,l)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Pre(t,e){let n;return r;function r(...a){const l=t.length>a.length;let u;l&&a.push(i);try{u=t.apply(this,a)}catch(d){const p=d;if(l&&n)throw p;return i(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...l){n||(n=!0,e(a,...l))}function s(a){i(null,a)}}const cl={basename:Bre,dirname:Ire,extname:Hre,join:Ure,sep:"/"};function Bre(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');uy(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let a=-1,l=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(t.codePointAt(i)===e.codePointAt(l--)?l<0&&(r=i):(l=-1,r=a));return n===r?r=a:r<0&&(r=t.length),t.slice(n,r)}function Ire(t){if(uy(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Hre(t){uy(t);let e=t.length,n=-1,r=0,i=-1,s=0,a;for(;e--;){const l=t.codePointAt(e);if(l===47){if(a){r=e+1;break}continue}n<0&&(a=!0,n=e+1),l===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Ure(...t){let e=-1,n;for(;++e<t.length;)uy(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Fre(n)}function Fre(t){uy(t);const e=t.codePointAt(0)===47;let n=Gre(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Gre(t,e){let n="",r=0,i=-1,s=0,a=-1,l,u;for(;++a<=t.length;){if(a<t.length)l=t.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length>0){n="",r=0,i=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return n}function uy(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const qre={cwd:Vre};function Vre(){return"/"}function r3(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Yre(t){if(typeof t=="string")t=new URL(t);else if(!r3(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Kre(t)}function Kre(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const xw=["history","path","basename","stem","extname","dirname"];class c7{constructor(e){let n;e?r3(e)?n={path:e}:typeof e=="string"||Xre(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":qre.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<xw.length;){const s=xw[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)xw.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?cl.basename(this.path):void 0}set basename(e){ww(e,"basename"),Sw(e,"basename"),this.path=cl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?cl.dirname(this.path):void 0}set dirname(e){x6(this.basename,"dirname"),this.path=cl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?cl.extname(this.path):void 0}set extname(e){if(Sw(e,"extname"),x6(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=cl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){r3(e)&&(e=Yre(e)),ww(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?cl.basename(this.path,this.extname):void 0}set stem(e){ww(e,"stem"),Sw(e,"stem"),this.path=cl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Fi(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Sw(t,e){if(t&&t.includes(cl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+cl.sep+"`")}function ww(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function x6(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Xre(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Qre=(function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),Wre={}.hasOwnProperty;class l4 extends Qre{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Lre()}copy(){const e=new l4;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(vw(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(kw("data",this.frozen),this.namespace[e]=n,this):Wre.call(this.namespace,e)&&this.namespace[e]||void 0:e?(kw("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ub(e),r=this.parser||this.Parser;return Cw("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Cw("process",this.parser||this.Parser),Ew("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){const l=Ub(e),u=r.parse(l);r.run(u,l,function(p,g,b){if(p||!g||!b)return d(p);const x=g,S=r.stringify(x,b);Zre(S)?b.value=S:b.result=S,d(p,b)});function d(p,g){p||!g?a(p):s?s(g):n(void 0,g)}}}processSync(e){let n=!1,r;return this.freeze(),Cw("processSync",this.parser||this.Parser),Ew("processSync",this.compiler||this.Compiler),this.process(e,i),w6("processSync","process",n),r;function i(s,a){n=!0,b6(s),r=a}}run(e,n,r){S6(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){const u=Ub(n);i.run(e,u,d);function d(p,g,b){const x=g||e;p?l(p):a?a(x):r(void 0,x,b)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),w6("runSync","run",r),i;function s(a,l){b6(a),i=l,r=!0}}stringify(e,n){this.freeze();const r=Ub(n),i=this.compiler||this.Compiler;return Ew("stringify",i),S6(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(kw("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")u(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...g]=d;u(p,g)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(d.plugins),d.settings&&(i.settings=vw(!0,i.settings,d.settings))}function l(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const g=d[p];s(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function u(d,p){let g=-1,b=-1;for(;++g<r.length;)if(r[g][0]===d){b=g;break}if(b===-1)r.push([d,...p]);else if(p.length>0){let[x,...S]=p;const k=r[b][1];n3(k)&&n3(x)&&(x=vw(!0,k,x)),r[b]=[d,x,...S]}}}}const Jre=new l4().freeze();function Cw(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ew(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function kw(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function S6(t){if(!n3(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function w6(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ub(t){return $re(t)?t:new c7(t)}function $re(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Zre(t){return typeof t=="string"||eie(t)}function eie(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tie="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",C6=[],E6={allowDangerousHtml:!0},nie=/^(https?|ircs?|mailto|xmpp)$/i,rie=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function iie(t){const e=sie(t),n=aie(t);return oie(e.runSync(e.parse(n),n),t)}function sie(t){const e=t.rehypePlugins||C6,n=t.remarkPlugins||C6,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...E6}:E6;return Jre().use(Ine).use(n).use(Dre,r).use(e)}function aie(t){const e=t.children||"",n=new c7;return typeof e=="string"&&(n.value=e),n}function oie(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,l=e.unwrapDisallowed,u=e.urlTransform||lie;for(const p of rie)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+tie+p.id,void 0);return o4(t,d),wee(t,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function d(p,g,b){if(p.type==="raw"&&b&&typeof g=="number")return a?b.children.splice(g,1):b.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let x;for(x in mw)if(Object.hasOwn(mw,x)&&Object.hasOwn(p.properties,x)){const S=p.properties[x],k=mw[x];(k===null||k.includes(p.tagName))&&(p.properties[x]=u(String(S||""),x,p))}}if(p.type==="element"){let x=n?!n.includes(p.tagName):s?s.includes(p.tagName):!1;if(!x&&r&&typeof g=="number"&&(x=!r(p,g,b)),x&&b&&typeof g=="number")return l&&p.children?b.children.splice(g,1,...p.children):b.children.splice(g,1),g}}}function lie(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||nie.test(t.slice(0,e))?t:""}function k6(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function cie(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function uie(t,e,n){const i=u2((n||{}).ignore||[]),s=fie(e);let a=-1;for(;++a<s.length;)l7(t,"text",l);function l(d,p){let g=-1,b;for(;++g<p.length;){const x=p[g],S=b?b.children:void 0;if(i(x,S?S.indexOf(x):void 0,b))return;b=x}if(b)return u(d,p)}function u(d,p){const g=p[p.length-1],b=s[a][0],x=s[a][1];let S=0;const _=g.children.indexOf(d);let A=!1,O=[];b.lastIndex=0;let z=b.exec(d.value);for(;z;){const L=z.index,H={index:z.index,input:z.input,stack:[...p,d]};let j=x(...z,H);if(typeof j=="string"&&(j=j.length>0?{type:"text",value:j}:void 0),j===!1?b.lastIndex=L+1:(S!==L&&O.push({type:"text",value:d.value.slice(S,L)}),Array.isArray(j)?O.push(...j):j&&O.push(j),S=L+z[0].length,A=!0),!b.global)break;z=b.exec(d.value)}return A?(S<d.value.length&&O.push({type:"text",value:d.value.slice(S)}),g.children.splice(_,1,...O)):O=[d],_+O.length}}function fie(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([die(i[0]),hie(i[1])])}return e}function die(t){return typeof t=="string"?new RegExp(cie(t),"g"):t}function hie(t){return typeof t=="function"?t:function(){return t}}const Tw="phrasing",_w=["autolink","link","image","label"];function pie(){return{transforms:[Sie],enter:{literalAutolink:gie,literalAutolinkEmail:Mw,literalAutolinkHttp:Mw,literalAutolinkWww:Mw},exit:{literalAutolink:xie,literalAutolinkEmail:vie,literalAutolinkHttp:yie,literalAutolinkWww:bie}}}function mie(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Tw,notInConstruct:_w},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Tw,notInConstruct:_w},{character:":",before:"[ps]",after:"\\/",inConstruct:Tw,notInConstruct:_w}]}}function gie(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Mw(t){this.config.enter.autolinkProtocol.call(this,t)}function yie(t){this.config.exit.autolinkProtocol.call(this,t)}function bie(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function vie(t){this.config.exit.autolinkEmail.call(this,t)}function xie(t){this.exit(t)}function Sie(t){uie(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,wie],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Cie]],{ignore:["link","linkReference"]})}function wie(t,e,n,r,i){let s="";if(!u7(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!Eie(n)))return!1;const a=kie(n+r);if(!a[0])return!1;const l={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function Cie(t,e,n,r){return!u7(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Eie(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function kie(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=k6(t,"(");let s=k6(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function u7(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||wd(n)||o2(n))&&(!e||n!==47)}f7.peek=zie;function Tie(){this.buffer()}function _ie(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function Mie(){this.buffer()}function Aie(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Nie(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Rie(t){this.exit(t)}function Oie(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yo(this.sliceSerialize(t)).toLowerCase(),n.label=e}function Die(t){this.exit(t)}function zie(){return"["}function f7(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const a=n.enter("footnoteReference"),l=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),l(),a(),s+=i.move("]"),s}function jie(){return{enter:{gfmFootnoteCallString:Tie,gfmFootnoteCall:_ie,gfmFootnoteDefinitionLabelString:Mie,gfmFootnoteDefinition:Aie},exit:{gfmFootnoteCallString:Nie,gfmFootnoteCall:Rie,gfmFootnoteDefinitionLabelString:Oie,gfmFootnoteDefinition:Die}}}function Lie(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:f7},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,a){const l=s.createTracker(a);let u=l.move("[^");const d=s.enter("footnoteDefinition"),p=s.enter("label");return u+=l.move(s.safe(s.associationId(r),{before:u,after:"]"})),p(),u+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),u+=l.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,l.current()),e?d7:Pie))),d(),u}}function Pie(t,e,n){return e===0?t:d7(t,e,n)}function d7(t,e,n){return(n?"":"    ")+t}const Bie=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];h7.peek=Gie;function Iie(){return{canContainEols:["delete"],enter:{strikethrough:Uie},exit:{strikethrough:Fie}}}function Hie(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Bie}],handlers:{delete:h7}}}function Uie(t){this.enter({type:"delete",children:[]},t)}function Fie(t){this.exit(t)}function h7(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(t,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function Gie(){return"~"}function qie(t){return t.length}function Vie(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||qie,s=[],a=[],l=[],u=[];let d=0,p=-1;for(;++p<t.length;){const k=[],_=[];let A=-1;for(t[p].length>d&&(d=t[p].length);++A<t[p].length;){const O=Yie(t[p][A]);if(n.alignDelimiters!==!1){const z=i(O);_[A]=z,(u[A]===void 0||z>u[A])&&(u[A]=z)}k.push(O)}a[p]=k,l[p]=_}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<d;)s[g]=T6(r[g]);else{const k=T6(r);for(;++g<d;)s[g]=k}g=-1;const b=[],x=[];for(;++g<d;){const k=s[g];let _="",A="";k===99?(_=":",A=":"):k===108?_=":":k===114&&(A=":");let O=n.alignDelimiters===!1?1:Math.max(1,u[g]-_.length-A.length);const z=_+"-".repeat(O)+A;n.alignDelimiters!==!1&&(O=_.length+O+A.length,O>u[g]&&(u[g]=O),x[g]=O),b[g]=z}a.splice(1,0,b),l.splice(1,0,x),p=-1;const S=[];for(;++p<a.length;){const k=a[p],_=l[p];g=-1;const A=[];for(;++g<d;){const O=k[g]||"";let z="",L="";if(n.alignDelimiters!==!1){const H=u[g]-(_[g]||0),j=s[g];j===114?z=" ".repeat(H):j===99?H%2?(z=" ".repeat(H/2+.5),L=" ".repeat(H/2-.5)):(z=" ".repeat(H/2),L=z):L=" ".repeat(H)}n.delimiterStart!==!1&&!g&&A.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&O==="")&&(n.delimiterStart!==!1||g)&&A.push(" "),n.alignDelimiters!==!1&&A.push(z),A.push(O),n.alignDelimiters!==!1&&A.push(L),n.padding!==!1&&A.push(" "),(n.delimiterEnd!==!1||g!==d-1)&&A.push("|")}S.push(n.delimiterEnd===!1?A.join("").replace(/ +$/,""):A.join(""))}return S.join(`
`)}function Yie(t){return t==null?"":String(t)}function T6(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Kie(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),Xie);return i(),a}function Xie(t,e,n){return">"+(n?"":" ")+t}function Qie(t,e){return _6(t,e.inConstruct,!0)&&!_6(t,e.notInConstruct,!1)}function _6(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function M6(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Qie(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Wie(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function Jie(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function $ie(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Zie(t,e,n,r){const i=$ie(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Jie(t,n)){const g=n.enter("codeIndented"),b=n.indentLines(s,ese);return g(),b}const l=n.createTracker(r),u=i.repeat(Math.max(Wie(s,i)+1,3)),d=n.enter("codeFenced");let p=l.move(u);if(t.lang){const g=n.enter(`codeFencedLang${a}`);p+=l.move(n.safe(t.lang,{before:p,after:" ",encode:["`"],...l.current()})),g()}if(t.lang&&t.meta){const g=n.enter(`codeFencedMeta${a}`);p+=l.move(" "),p+=l.move(n.safe(t.meta,{before:p,after:`
`,encode:["`"],...l.current()})),g()}return p+=l.move(`
`),s&&(p+=l.move(s+`
`)),p+=l.move(u),d(),p}function ese(t,e,n){return(n?"":"    ")+t}function c4(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function tse(t,e,n,r){const i=c4(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("[");return d+=u.move(n.safe(n.associationId(t),{before:d,after:"]",...u.current()})),d+=u.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(n.safe(t.title,{before:d,after:i,...u.current()})),d+=u.move(i),l()),a(),d}function nse(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function G0(t){return"&#x"+t.toString(16).toUpperCase()+";"}function mx(t,e,n){const r=zp(t),i=zp(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}p7.peek=rse;function p7(t,e,n,r){const i=nse(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i);let u=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()}));const d=u.charCodeAt(0),p=mx(r.before.charCodeAt(r.before.length-1),d,i);p.inside&&(u=G0(d)+u.slice(1));const g=u.charCodeAt(u.length-1),b=mx(r.after.charCodeAt(0),g,i);b.inside&&(u=u.slice(0,-1)+G0(g));const x=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},l+u+x}function rse(t,e,n){return n.options.emphasis||"*"}function ise(t,e){let n=!1;return o4(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,e3}),!!((!t.depth||t.depth<3)&&e4(t)&&(e.options.setext||n))}function sse(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(ise(t,n)){const p=n.enter("headingSetext"),g=n.enter("phrasing"),b=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return g(),p(),b+`
`+(i===1?"=":"-").repeat(b.length-(Math.max(b.lastIndexOf("\r"),b.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=G0(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,n.options.closeAtx&&(d+=" "+a),u(),l(),d}m7.peek=ase;function m7(t){return t.value||""}function ase(){return"<"}g7.peek=ose;function g7(t,e,n,r){const i=c4(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let l=n.enter("label");const u=n.createTracker(r);let d=u.move("![");return d+=u.move(n.safe(t.alt,{before:d,after:"]",...u.current()})),d+=u.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),d+=u.move("<"),d+=u.move(n.safe(t.url,{before:d,after:">",...u.current()})),d+=u.move(">")):(l=n.enter("destinationRaw"),d+=u.move(n.safe(t.url,{before:d,after:t.title?" ":")",...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),d+=u.move(" "+i),d+=u.move(n.safe(t.title,{before:d,after:i,...u.current()})),d+=u.move(i),l()),d+=u.move(")"),a(),d}function ose(){return"!"}y7.peek=lse;function y7(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");const d=n.safe(t.alt,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const g=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=p,s(),i==="full"||!d||d!==g?u+=l.move(g+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function lse(){return"!"}b7.peek=cse;function b7(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const a=n.unsafe[s],l=n.compilePattern(a);let u;if(a.atBreak)for(;u=l.exec(r);){let d=u.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(u.index+1)}}return i+r+i}function cse(){return"`"}function v7(t,e){const n=e4(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}x7.peek=use;function x7(t,e,n,r){const i=c4(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r);let l,u;if(v7(t,n)){const p=n.stack;n.stack=[],l=n.enter("autolink");let g=a.move("<");return g+=a.move(n.containerPhrasing(t,{before:g,after:">",...a.current()})),g+=a.move(">"),l(),n.stack=p,g}l=n.enter("link"),u=n.enter("label");let d=a.move("[");return d+=a.move(n.containerPhrasing(t,{before:d,after:"](",...a.current()})),d+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(n.safe(t.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(u=n.enter("destinationRaw"),d+=a.move(n.safe(t.url,{before:d,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${s}`),d+=a.move(" "+i),d+=a.move(n.safe(t.title,{before:d,after:i,...a.current()})),d+=a.move(i),u()),d+=a.move(")"),l(),d}function use(t,e,n){return v7(t,n)?"<":"["}S7.peek=fse;function S7(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");const d=n.containerPhrasing(t,{before:u,after:"]",...l.current()});u+=l.move(d+"]["),a();const p=n.stack;n.stack=[],a=n.enter("reference");const g=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=p,s(),i==="full"||!d||d!==g?u+=l.move(g+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function fse(){return"["}function u4(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function dse(t){const e=u4(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function hse(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function w7(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function pse(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?hse(n):u4(n);const l=t.ordered?a==="."?")":".":dse(n);let u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const p=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),w7(n)===a&&p){let g=-1;for(;++g<t.children.length;){const b=t.children[g];if(b&&b.type==="listItem"&&b.children&&b.children[0]&&b.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),n.bulletCurrent=a;const d=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),d}function mse(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function gse(t,e,n,r){const i=mse(n);let s=n.bulletCurrent||u4(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);const u=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,l.current()),p);return u(),d;function p(g,b,x){return b?(x?"":" ".repeat(a))+g:(x?s:s+" ".repeat(a-s.length))+g}}function yse(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}const bse=u2(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function vse(t,e,n,r){return(t.children.some(function(a){return bse(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function xse(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}C7.peek=Sse;function C7(t,e,n,r){const i=xse(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i);let u=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()}));const d=u.charCodeAt(0),p=mx(r.before.charCodeAt(r.before.length-1),d,i);p.inside&&(u=G0(d)+u.slice(1));const g=u.charCodeAt(u.length-1),b=mx(r.after.charCodeAt(0),g,i);b.inside&&(u=u.slice(0,-1)+G0(g));const x=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:b.outside,before:p.outside},l+u+x}function Sse(t,e,n){return n.options.strong||"*"}function wse(t,e,n,r){return n.safe(t.value,r)}function Cse(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Ese(t,e,n){const r=(w7(n)+(n.options.ruleSpaces?" ":"")).repeat(Cse(n));return n.options.ruleSpaces?r.slice(0,-1):r}const E7={blockquote:Kie,break:M6,code:Zie,definition:tse,emphasis:p7,hardBreak:M6,heading:sse,html:m7,image:g7,imageReference:y7,inlineCode:b7,link:x7,linkReference:S7,list:pse,listItem:gse,paragraph:yse,root:vse,strong:C7,text:wse,thematicBreak:Ese};function kse(){return{enter:{table:Tse,tableData:A6,tableHeader:A6,tableRow:Mse},exit:{codeText:Ase,table:_se,tableData:Aw,tableHeader:Aw,tableRow:Aw}}}function Tse(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function _se(t){this.exit(t),this.data.inTable=void 0}function Mse(t){this.enter({type:"tableRow",children:[]},t)}function Aw(t){this.exit(t)}function A6(t){this.enter({type:"tableCell",children:[]},t)}function Ase(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Nse));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Nse(t,e){return e==="|"?e:t}function Rse(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:b,table:a,tableCell:u,tableRow:l}};function a(x,S,k,_){return d(p(x,k,_),x.align)}function l(x,S,k,_){const A=g(x,k,_),O=d([A]);return O.slice(0,O.indexOf(`
`))}function u(x,S,k,_){const A=k.enter("tableCell"),O=k.enter("phrasing"),z=k.containerPhrasing(x,{..._,before:s,after:s});return O(),A(),z}function d(x,S){return Vie(x,{align:S,alignDelimiters:r,padding:n,stringLength:i})}function p(x,S,k){const _=x.children;let A=-1;const O=[],z=S.enter("table");for(;++A<_.length;)O[A]=g(_[A],S,k);return z(),O}function g(x,S,k){const _=x.children;let A=-1;const O=[],z=S.enter("tableRow");for(;++A<_.length;)O[A]=u(_[A],x,S,k);return z(),O}function b(x,S,k){let _=E7.inlineCode(x,S,k);return k.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function Ose(){return{exit:{taskListCheckValueChecked:N6,taskListCheckValueUnchecked:N6,paragraph:zse}}}function Dse(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:jse}}}function N6(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function zse(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,a;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){a=l;break}}a===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function jse(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);s&&l.move(a);let u=E7.listItem(t,e,n,{...r,...l.current()});return s&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),u;function d(p){return p+a}}function Lse(){return[pie(),jie(),Iie(),kse(),Ose()]}function Pse(t){return{extensions:[mie(),Lie(t),Hie(),Rse(t),Dse()]}}const Bse={tokenize:qse,partial:!0},k7={tokenize:Vse,partial:!0},T7={tokenize:Yse,partial:!0},_7={tokenize:Kse,partial:!0},Ise={tokenize:Xse,partial:!0},M7={name:"wwwAutolink",tokenize:Fse,previous:N7},A7={name:"protocolAutolink",tokenize:Gse,previous:R7},wc={name:"emailAutolink",tokenize:Use,previous:O7},yl={};function Hse(){return{text:yl}}let Wf=48;for(;Wf<123;)yl[Wf]=wc,Wf++,Wf===58?Wf=65:Wf===91&&(Wf=97);yl[43]=wc;yl[45]=wc;yl[46]=wc;yl[95]=wc;yl[72]=[wc,A7];yl[104]=[wc,A7];yl[87]=[wc,M7];yl[119]=[wc,M7];function Use(t,e,n){const r=this;let i,s;return a;function a(g){return!i3(g)||!O7.call(r,r.previous)||f4(r.events)?n(g):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(g))}function l(g){return i3(g)?(t.consume(g),l):g===64?(t.consume(g),u):n(g)}function u(g){return g===46?t.check(Ise,p,d)(g):g===45||g===95||Hi(g)?(s=!0,t.consume(g),u):p(g)}function d(g){return t.consume(g),i=!0,u}function p(g){return s&&i&&us(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(g)):n(g)}}function Fse(t,e,n){const r=this;return i;function i(a){return a!==87&&a!==119||!N7.call(r,r.previous)||f4(r.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(Bse,t.attempt(k7,t.attempt(T7,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Gse(t,e,n){const r=this;let i="",s=!1;return a;function a(g){return(g===72||g===104)&&R7.call(r,r.previous)&&!f4(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(g),t.consume(g),l):n(g)}function l(g){if(us(g)&&i.length<5)return i+=String.fromCodePoint(g),t.consume(g),l;if(g===58){const b=i.toLowerCase();if(b==="http"||b==="https")return t.consume(g),u}return n(g)}function u(g){return g===47?(t.consume(g),s?d:(s=!0,u)):n(g)}function d(g){return g===null||dx(g)||on(g)||wd(g)||o2(g)?n(g):t.attempt(k7,t.attempt(T7,p),n)(g)}function p(g){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(g)}}function qse(t,e,n){let r=0;return i;function i(a){return(a===87||a===119)&&r<3?(r++,t.consume(a),i):a===46&&r===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function Vse(t,e,n){let r,i,s;return a;function a(d){return d===46||d===95?t.check(_7,u,l)(d):d===null||on(d)||wd(d)||d!==45&&o2(d)?u(d):(s=!0,t.consume(d),a)}function l(d){return d===95?r=!0:(i=r,r=void 0),t.consume(d),a}function u(d){return i||r||!s?n(d):e(d)}}function Yse(t,e){let n=0,r=0;return i;function i(a){return a===40?(n++,t.consume(a),i):a===41&&r<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(_7,e,s)(a):a===null||on(a)||wd(a)?e(a):(t.consume(a),i)}function s(a){return a===41&&r++,t.consume(a),i}}function Kse(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),s):l===93?(t.consume(l),i):l===60||l===null||on(l)||wd(l)?e(l):n(l)}function i(l){return l===null||l===40||l===91||on(l)||wd(l)?e(l):r(l)}function s(l){return us(l)?a(l):n(l)}function a(l){return l===59?(t.consume(l),r):us(l)?(t.consume(l),a):n(l)}}function Xse(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Hi(s)?n(s):e(s)}}function N7(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||on(t)}function R7(t){return!us(t)}function O7(t){return!(t===47||i3(t))}function i3(t){return t===43||t===45||t===46||t===95||Hi(t)}function f4(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Qse={tokenize:rae,partial:!0};function Wse(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:eae,continuation:{tokenize:tae},exit:nae}},text:{91:{name:"gfmFootnoteCall",tokenize:Zse},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Jse,resolveTo:$se}}}}function Jse(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const u=r.events[i][1];if(u.type==="labelImage"){a=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!a||!a._balanced)return n(u);const d=yo(r.sliceSerialize({start:a.end,end:r.now()}));return d.codePointAt(0)!==94||!s.includes(d.slice(1))?n(u):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(u),t.exit("gfmFootnoteCallLabelMarker"),e(u))}}function $se(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function Zse(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,a;return l;function l(g){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),u}function u(g){return g!==94?n(g):(t.enter("gfmFootnoteCallMarker"),t.consume(g),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(g){if(s>999||g===93&&!a||g===null||g===91||on(g))return n(g);if(g===93){t.exit("chunkString");const b=t.exit("gfmFootnoteCallString");return i.includes(yo(r.sliceSerialize(b)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(g),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(g)}return on(g)||(a=!0),s++,t.consume(g),g===92?p:d}function p(g){return g===91||g===92||g===93?(t.consume(g),s++,d):d(g)}}function eae(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,a=0,l;return u;function u(S){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(S){return S===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",p):n(S)}function p(S){if(a>999||S===93&&!l||S===null||S===91||on(S))return n(S);if(S===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return s=yo(r.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(S),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),b}return on(S)||(l=!0),a++,t.consume(S),S===92?g:p}function g(S){return S===91||S===92||S===93?(t.consume(S),a++,p):p(S)}function b(S){return S===58?(t.enter("definitionMarker"),t.consume(S),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ht(t,x,"gfmFootnoteDefinitionWhitespace")):n(S)}function x(S){return e(S)}}function tae(t,e,n){return t.check(cy,e,t.attempt(Qse,e,n))}function nae(t){t.exit("gfmFootnoteDefinition")}function rae(t,e,n){const r=this;return Ht(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function iae(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(a,l){let u=-1;for(;++u<a.length;)if(a[u][0]==="enter"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._close){let d=u;for(;d--;)if(a[d][0]==="exit"&&a[d][1].type==="strikethroughSequenceTemporary"&&a[d][1]._open&&a[u][1].end.offset-a[u][1].start.offset===a[d][1].end.offset-a[d][1].start.offset){a[u][1].type="strikethroughSequence",a[d][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},a[d][1].start),end:Object.assign({},a[u][1].end)},g={type:"strikethroughText",start:Object.assign({},a[d][1].end),end:Object.assign({},a[u][1].start)},b=[["enter",p,l],["enter",a[d][1],l],["exit",a[d][1],l],["enter",g,l]],x=l.parser.constructs.insideSpan.null;x&&ia(b,b.length,0,l2(x,a.slice(d+1,u),l)),ia(b,b.length,0,[["exit",g,l],["enter",a[u][1],l],["exit",a[u][1],l],["exit",p,l]]),ia(a,d-1,u-d+3,b),u=d+b.length-2;break}}for(u=-1;++u<a.length;)a[u][1].type==="strikethroughSequenceTemporary"&&(a[u][1].type="data");return a}function s(a,l,u){const d=this.previous,p=this.events;let g=0;return b;function b(S){return d===126&&p[p.length-1][1].type!=="characterEscape"?u(S):(a.enter("strikethroughSequenceTemporary"),x(S))}function x(S){const k=zp(d);if(S===126)return g>1?u(S):(a.consume(S),g++,x);if(g<2&&!n)return u(S);const _=a.exit("strikethroughSequenceTemporary"),A=zp(S);return _._open=!A||A===2&&!!k,_._close=!k||k===2&&!!A,l(S)}}}class sae{constructor(){this.map=[]}add(e,n,r){aae(this,e,n,r)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function aae(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function oae(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function lae(){return{flow:{null:{name:"table",tokenize:cae,resolveAll:uae}}}}function cae(t,e,n){const r=this;let i=0,s=0,a;return l;function l(G){let X=r.events.length-1;for(;X>-1;){const ee=r.events[X][1].type;if(ee==="lineEnding"||ee==="linePrefix")X--;else break}const W=X>-1?r.events[X][1].type:null,le=W==="tableHead"||W==="tableRow"?j:u;return le===j&&r.parser.lazy[r.now().line]?n(G):le(G)}function u(G){return t.enter("tableHead"),t.enter("tableRow"),d(G)}function d(G){return G===124||(a=!0,s+=1),p(G)}function p(G){return G===null?n(G):tt(G)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),x):n(G):Dt(G)?Ht(t,p,"whitespace")(G):(s+=1,a&&(a=!1,i+=1),G===124?(t.enter("tableCellDivider"),t.consume(G),t.exit("tableCellDivider"),a=!0,p):(t.enter("data"),g(G)))}function g(G){return G===null||G===124||on(G)?(t.exit("data"),p(G)):(t.consume(G),G===92?b:g)}function b(G){return G===92||G===124?(t.consume(G),g):g(G)}function x(G){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(G):(t.enter("tableDelimiterRow"),a=!1,Dt(G)?Ht(t,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):S(G))}function S(G){return G===45||G===58?_(G):G===124?(a=!0,t.enter("tableCellDivider"),t.consume(G),t.exit("tableCellDivider"),k):H(G)}function k(G){return Dt(G)?Ht(t,_,"whitespace")(G):_(G)}function _(G){return G===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(G),t.exit("tableDelimiterMarker"),A):G===45?(s+=1,A(G)):G===null||tt(G)?L(G):H(G)}function A(G){return G===45?(t.enter("tableDelimiterFiller"),O(G)):H(G)}function O(G){return G===45?(t.consume(G),O):G===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(G),t.exit("tableDelimiterMarker"),z):(t.exit("tableDelimiterFiller"),z(G))}function z(G){return Dt(G)?Ht(t,L,"whitespace")(G):L(G)}function L(G){return G===124?S(G):G===null||tt(G)?!a||i!==s?H(G):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(G)):H(G)}function H(G){return n(G)}function j(G){return t.enter("tableRow"),P(G)}function P(G){return G===124?(t.enter("tableCellDivider"),t.consume(G),t.exit("tableCellDivider"),P):G===null||tt(G)?(t.exit("tableRow"),e(G)):Dt(G)?Ht(t,P,"whitespace")(G):(t.enter("data"),I(G))}function I(G){return G===null||G===124||on(G)?(t.exit("data"),P(G)):(t.consume(G),G===92?Y:I)}function Y(G){return G===92||G===124?(t.consume(G),I):I(G)}}function uae(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],l=!1,u=0,d,p,g;const b=new sae;for(;++n<t.length;){const x=t[n],S=x[1];x[0]==="enter"?S.type==="tableHead"?(l=!1,u!==0&&(R6(b,e,u,d,p),p=void 0,u=0),d={type:"table",start:Object.assign({},S.start),end:Object.assign({},S.end)},b.add(n,0,[["enter",d,e]])):S.type==="tableRow"||S.type==="tableDelimiterRow"?(r=!0,g=void 0,s=[0,0,0,0],a=[0,n+1,0,0],l&&(l=!1,p={type:"tableBody",start:Object.assign({},S.start),end:Object.assign({},S.end)},b.add(n,0,[["enter",p,e]])),i=S.type==="tableDelimiterRow"?2:p?3:1):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")?(r=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],g=Fb(b,e,s,i,void 0,g),s=[0,0,0,0]),a[2]=n)):S.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(a[0]=a[1],g=Fb(b,e,s,i,void 0,g)),s=a,a=[s[1],n,0,0])):S.type==="tableHead"?(l=!0,u=n):S.type==="tableRow"||S.type==="tableDelimiterRow"?(u=n,s[1]!==0?(a[0]=a[1],g=Fb(b,e,s,i,n,g)):a[1]!==0&&(g=Fb(b,e,a,i,n,g)),i=0):i&&(S.type==="data"||S.type==="tableDelimiterMarker"||S.type==="tableDelimiterFiller")&&(a[3]=n)}for(u!==0&&R6(b,e,u,d,p),b.consume(e.events),n=-1;++n<e.events.length;){const x=e.events[n];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=oae(e.events,n))}return t}function Fb(t,e,n,r,i,s){const a=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(s.end=Object.assign({},hp(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const u=hp(e.events,n[1]);if(s={type:a,start:Object.assign({},u),end:Object.assign({},u)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const d=hp(e.events,n[2]),p=hp(e.events,n[3]),g={type:l,start:Object.assign({},d),end:Object.assign({},p)};if(t.add(n[2],0,[["enter",g,e]]),r!==2){const b=e.events[n[2]],x=e.events[n[3]];if(b[1].end=Object.assign({},x[1].end),b[1].type="chunkText",b[1].contentType="text",n[3]>n[2]+1){const S=n[2]+1,k=n[3]-n[2]-1;t.add(S,k,[])}}t.add(n[3]+1,0,[["exit",g,e]])}return i!==void 0&&(s.end=Object.assign({},hp(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function R6(t,e,n,r,i){const s=[],a=hp(e.events,n);i&&(i.end=Object.assign({},a),s.push(["exit",i,e])),r.end=Object.assign({},a),s.push(["exit",r,e]),t.add(n+1,0,s)}function hp(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const fae={name:"tasklistCheck",tokenize:hae};function dae(){return{text:{91:fae}}}function hae(t,e,n){const r=this;return i;function i(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),s)}function s(u){return on(u)?(t.enter("taskListCheckValueUnchecked"),t.consume(u),t.exit("taskListCheckValueUnchecked"),a):u===88||u===120?(t.enter("taskListCheckValueChecked"),t.consume(u),t.exit("taskListCheckValueChecked"),a):n(u)}function a(u){return u===93?(t.enter("taskListCheckMarker"),t.consume(u),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(u)}function l(u){return tt(u)?e(u):Dt(u)?t.check({tokenize:pae},e,n)(u):n(u)}}function pae(t,e,n){return Ht(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function mae(t){return GR([Hse(),Wse(),iae(t),lae(),dae()])}const gae={};function yae(t){const e=this,n=t||gae,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),a=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(mae(n)),s.push(Lse()),a.push(Pse(n))}const D7=({message:t})=>{const e=t.role==="user";return E.jsx("div",{className:Nr("flex w-full mb-4",e?"justify-end":"justify-start"),children:E.jsxs("div",{className:Nr("max-w-[80%] rounded-2xl px-4 py-3 shadow-sm text-sm",e?"bg-accent-blue text-white rounded-br-none":"bg-surface-100 text-ink border border-border rounded-bl-none dark:bg-gray-800 dark:text-gray-100"),children:[E.jsx("div",{className:"markdown-body",children:E.jsx(iie,{remarkPlugins:[yae],children:t.content})}),E.jsx("div",{className:Nr("text-[10px] mt-1 opacity-70",e?"text-blue-100 text-right":"text-gray-400 text-left"),children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},lp={general:{label:"General Chat",icon:"fa-comments",description:"Helpful assistant for any task"},coding:{label:"Code Companion",icon:"fa-code",description:"Optimized for programming queries"},email:{label:"Email Drafter",icon:"fa-envelope-open-text",description:"Assistance with writing emails"},brainstorming:{label:"Brainstorming",icon:"fa-lightbulb",description:"Generate creative ideas"}},bae=()=>{const[t,e]=N.useState([{id:"1",role:"system",content:"Hello! I am Jarvis. How can I help you today?",timestamp:new Date}]),[n,r]=N.useState(""),[i,s]=N.useState("general"),[a,l]=N.useState(!0),u=N.useRef(null),d=()=>{u.current?.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{d()},[t]);const p=()=>{if(!n.trim())return;const b={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};e(x=>[...x,b]),r(""),setTimeout(()=>{const x={id:(Date.now()+1).toString(),role:"system",content:`**[${lp[i].label}]** I received: "${b.content}". 

Here is a *markdown* example:
\`\`\`javascript
console.log("Hello World");
\`\`\``,timestamp:new Date};e(S=>[...S,x])},1e3)},g=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),p())};return E.jsxs("div",{className:"flex h-full bg-paper dark:bg-gray-900 text-ink dark:text-white",children:[E.jsxs("div",{className:Nr("w-64 bg-surface-50 dark:bg-gray-800 border-r border-border dark:border-gray-700 flex flex-col transition-all duration-300",!a&&"w-0 overflow-hidden border-0"),children:[E.jsx("div",{className:"p-4 border-b border-border dark:border-gray-700 bg-subtle dark:bg-gray-800",children:E.jsx("h3",{className:"font-bold text-sm uppercase text-gray-500 tracking-wider",children:"Context Mode"})}),E.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:Object.keys(lp).map(b=>E.jsxs("button",{onClick:()=>s(b),className:Nr("w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors",i===b?"bg-accent-blue/10 text-accent-blue border border-accent-blue/20":"hover:bg-surface-100 dark:hover:bg-gray-700 text-ink dark:text-gray-300"),children:[E.jsx("div",{className:Nr("w-8 h-8 rounded-full flex items-center justify-center shrink-0",i===b?"bg-accent-blue text-white":"bg-gray-200 dark:bg-gray-600 text-gray-500"),children:E.jsx("i",{className:`fa-solid ${lp[b].icon} text-xs`})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold text-sm leading-none mb-1",children:lp[b].label}),E.jsx("div",{className:"text-[10px] opacity-70 leading-tight",children:lp[b].description})]})]},b))})]}),E.jsxs("div",{className:"flex-1 flex flex-col relative",children:[E.jsx("button",{onClick:()=>l(!a),className:"absolute top-4 left-4 z-10 p-2 bg-white/50 dark:bg-black/50 backdrop-blur rounded-md hover:bg-white dark:hover:bg-gray-700 shadow-sm border border-border transition-all",title:"Toggle Context Menu",children:E.jsx("i",{className:`fa-solid ${a?"fa-chevron-left":"fa-list"}`})}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:E.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.map(b=>E.jsx(D7,{message:b},b.id)),E.jsx("div",{ref:u})]})}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface-50 dark:bg-gray-800",children:[E.jsxs("div",{className:"max-w-3xl mx-auto flex gap-2",children:[E.jsxs("div",{className:"flex-1 relative",children:[E.jsx("textarea",{value:n,onChange:b=>r(b.target.value),onKeyDown:g,placeholder:`Message Jarvis in ${lp[i].label}...`,className:"w-full pl-4 pr-12 py-3 rounded-xl border border-border bg-white dark:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-accent-blue/50 resize-none h-[52px] max-h-32",style:{minHeight:"52px"}}),E.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-ink",children:E.jsx("i",{className:"fa-solid fa-paperclip"})})]}),E.jsx("button",{onClick:p,disabled:!n.trim(),className:"w-[52px] h-[52px] rounded-xl bg-accent-blue text-white flex items-center justify-center hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:E.jsx("i",{className:"fa-solid fa-paper-plane"})})]}),E.jsx("div",{className:"text-center mt-2 text-xs text-gray-400",children:"Jarvis can make mistakes. Please verify important information."})]})]})]})},vae=[{id:"d1",title:"Computer Science 101",cards:[{id:"c1",front:"What is a bit?",back:"The basic unit of information in computing (0 or 1).",nextReview:new Date},{id:"c2",front:"What is RAM?",back:"Random Access Memory - volatile memory used for currently running programs.",nextReview:new Date}]},{id:"d2",title:"Spanish Vocabulary",cards:[{id:"c3",front:"Hola",back:"Hello",nextReview:new Date},{id:"c4",front:"Gracias",back:"Thank you",nextReview:new Date}]}],z7=()=>{const[t,e]=N.useState(vae),[n,r]=N.useState(null),[i,s]=N.useState(!1),[a,l]=N.useState(0),[u,d]=N.useState(!1),p=x=>{r(x),s(!0),l(0),d(!1)},g=()=>{d(!1),n&&a<n.cards.length-1?l(a+1):(alert("Session Complete!"),s(!1),r(null))},b=()=>{const x={id:Date.now().toString(),title:"New Deck",cards:[]};e([...t,x])};if(i&&n){const x=n.cards[a];return E.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-900 p-8",children:[E.jsxs("div",{className:"w-full max-w-2xl flex justify-between items-center mb-8",children:[E.jsxs("button",{onClick:()=>s(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400",children:[E.jsx("i",{className:"fa-solid fa-arrow-left"})," Back to Decks"]}),E.jsxs("span",{className:"font-mono text-sm text-gray-400",children:[a+1," / ",n.cards.length]})]}),E.jsx("div",{className:"w-full max-w-2xl aspect-[3/2] perspective-1000 cursor-pointer group",onClick:()=>d(!u),children:E.jsxs("div",{className:`relative w-full h-full transition-transform duration-500 transform-style-3d ${u?"rotate-y-180":""}`,style:{transformStyle:"preserve-3d"},children:[E.jsxs("div",{className:"absolute w-full h-full bg-surface border-2 border-border rounded-2xl shadow-xl flex items-center justify-center p-12 text-center",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:[E.jsx("h2",{className:"text-3xl font-bold text-ink",children:x.front}),E.jsx("div",{className:"absolute bottom-6 text-xs text-gray-400 uppercase tracking-widest",children:"Click to Flip"})]}),E.jsx("div",{className:"absolute w-full h-full bg-subtle border-2 border-accent-blue rounded-2xl shadow-xl flex items-center justify-center p-12 text-center rotate-y-180",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:E.jsx("h2",{className:"text-2xl font-medium text-ink",children:x.back})})]})}),u&&E.jsxs("div",{className:"flex gap-4 mt-8",children:[E.jsx("button",{onClick:()=>g(),className:"px-8 py-3 bg-red-100 text-red-700 rounded-lg font-bold hover:bg-red-200 transition-colors",children:"Hard"}),E.jsx("button",{onClick:()=>g(),className:"px-8 py-3 bg-green-100 text-green-700 rounded-lg font-bold hover:bg-green-200 transition-colors",children:"Easy"})]})]})}return E.jsxs("div",{className:"h-full bg-white dark:bg-gray-900 p-8 overflow-y-auto",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("h1",{className:"text-2xl font-bold text-ink",children:"Flashcards"}),E.jsxs("button",{onClick:b,className:"px-4 py-2 bg-accent-blue text-white rounded-lg hover:bg-blue-600 transition-colors font-medium",children:[E.jsx("i",{className:"fa-solid fa-plus mr-2"})," New Deck"]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(x=>E.jsxs("div",{className:"bg-surface rounded-xl p-6 border border-border hover:shadow-lg transition-all group",children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 text-xl",children:E.jsx("i",{className:"fa-solid fa-layer-group"})}),E.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:E.jsx("i",{className:"fa-solid fa-ellipsis"})})]}),E.jsx("h3",{className:"text-lg font-bold text-ink mb-2",children:x.title}),E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:[x.cards.length," cards  Due today"]}),E.jsx("button",{onClick:()=>p(x),className:"w-full py-2 bg-subtle border border-border rounded-lg text-ink font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Study Now"})]},x.id))})]})};var xae=N.createContext(void 0);function j7(t){const e=N.useContext(xae);return t||e||"ltr"}const Sae=["top","right","bottom","left"],Ku=Math.min,$s=Math.max,gx=Math.round,Gb=Math.floor,dl=t=>({x:t,y:t}),wae={left:"right",right:"left",bottom:"top",top:"bottom"},Cae={start:"end",end:"start"};function s3(t,e,n){return $s(t,Ku(e,n))}function pc(t,e){return typeof t=="function"?t(e):t}function mc(t){return t.split("-")[0]}function Xp(t){return t.split("-")[1]}function d4(t){return t==="x"?"y":"x"}function h4(t){return t==="y"?"height":"width"}const Eae=new Set(["top","bottom"]);function fl(t){return Eae.has(mc(t))?"y":"x"}function p4(t){return d4(fl(t))}function kae(t,e,n){n===void 0&&(n=!1);const r=Xp(t),i=p4(t),s=h4(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=yx(a)),[a,yx(a)]}function Tae(t){const e=yx(t);return[a3(t),e,a3(e)]}function a3(t){return t.replace(/start|end/g,e=>Cae[e])}const O6=["left","right"],D6=["right","left"],_ae=["top","bottom"],Mae=["bottom","top"];function Aae(t,e,n){switch(t){case"top":case"bottom":return n?e?D6:O6:e?O6:D6;case"left":case"right":return e?_ae:Mae;default:return[]}}function Nae(t,e,n,r){const i=Xp(t);let s=Aae(mc(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(a3)))),s}function yx(t){return t.replace(/left|right|bottom|top/g,e=>wae[e])}function Rae(t){return{top:0,right:0,bottom:0,left:0,...t}}function L7(t){return typeof t!="number"?Rae(t):{top:t,right:t,bottom:t,left:t}}function bx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function z6(t,e,n){let{reference:r,floating:i}=t;const s=fl(e),a=p4(e),l=h4(a),u=mc(e),d=s==="y",p=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(u){case"top":x={x:p,y:r.y-i.height};break;case"bottom":x={x:p,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:g};break;case"left":x={x:r.x-i.width,y:g};break;default:x={x:r.x,y:r.y}}switch(Xp(e)){case"start":x[a]-=b*(n&&d?-1:1);break;case"end":x[a]+=b*(n&&d?-1:1);break}return x}const Oae=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=z6(d,r,u),b=r,x={},S=0;for(let k=0;k<l.length;k++){const{name:_,fn:A}=l[k],{x:O,y:z,data:L,reset:H}=await A({x:p,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:a,elements:{reference:t,floating:e}});p=O??p,g=z??g,x={...x,[_]:{...x[_],...L}},H&&S<=50&&(S++,typeof H=="object"&&(H.placement&&(b=H.placement),H.rects&&(d=H.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):H.rects),{x:p,y:g}=z6(d,b,u)),k=-1)}return{x:p,y:g,placement:b,strategy:i,middlewareData:x}};async function q0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:b=!1,padding:x=0}=pc(e,t),S=L7(x),_=l[b?g==="floating"?"reference":"floating":g],A=bx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:u})),O=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,z=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),L=await(s.isElement==null?void 0:s.isElement(z))?await(s.getScale==null?void 0:s.getScale(z))||{x:1,y:1}:{x:1,y:1},H=bx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:O,offsetParent:z,strategy:u}):O);return{top:(A.top-H.top+S.top)/L.y,bottom:(H.bottom-A.bottom+S.bottom)/L.y,left:(A.left-H.left+S.left)/L.x,right:(H.right-A.right+S.right)/L.x}}const Dae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=e,{element:d,padding:p=0}=pc(t,e)||{};if(d==null)return{};const g=L7(p),b={x:n,y:r},x=p4(i),S=h4(x),k=await a.getDimensions(d),_=x==="y",A=_?"top":"left",O=_?"bottom":"right",z=_?"clientHeight":"clientWidth",L=s.reference[S]+s.reference[x]-b[x]-s.floating[S],H=b[x]-s.reference[x],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let P=j?j[z]:0;(!P||!await(a.isElement==null?void 0:a.isElement(j)))&&(P=l.floating[z]||s.floating[S]);const I=L/2-H/2,Y=P/2-k[S]/2-1,G=Ku(g[A],Y),X=Ku(g[O],Y),W=G,le=P-k[S]-X,ee=P/2-k[S]/2+I,te=s3(W,ee,le),V=!u.arrow&&Xp(i)!=null&&ee!==te&&s.reference[S]/2-(ee<W?G:X)-k[S]/2<0,re=V?ee<W?ee-W:ee-le:0;return{[x]:b[x]+re,data:{[x]:te,centerOffset:ee-te-re,...V&&{alignmentOffset:re}},reset:V}}}),zae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:k=!0,..._}=pc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const A=mc(i),O=fl(l),z=mc(l)===l,L=await(u.isRTL==null?void 0:u.isRTL(d.floating)),H=b||(z||!k?[yx(l)]:Tae(l)),j=S!=="none";!b&&j&&H.push(...Nae(l,k,S,L));const P=[l,...H],I=await q0(e,_),Y=[];let G=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&Y.push(I[A]),g){const ee=kae(i,a,L);Y.push(I[ee[0]],I[ee[1]])}if(G=[...G,{placement:i,overflows:Y}],!Y.every(ee=>ee<=0)){var X,W;const ee=(((X=s.flip)==null?void 0:X.index)||0)+1,te=P[ee];if(te&&(!(g==="alignment"?O!==fl(te):!1)||G.every(J=>fl(J.placement)===O?J.overflows[0]>0:!0)))return{data:{index:ee,overflows:G},reset:{placement:te}};let V=(W=G.filter(re=>re.overflows[0]<=0).sort((re,J)=>re.overflows[1]-J.overflows[1])[0])==null?void 0:W.placement;if(!V)switch(x){case"bestFit":{var le;const re=(le=G.filter(J=>{if(j){const fe=fl(J.placement);return fe===O||fe==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(fe=>fe>0).reduce((fe,q)=>fe+q,0)]).sort((J,fe)=>J[1]-fe[1])[0])==null?void 0:le[0];re&&(V=re);break}case"initialPlacement":V=l;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function j6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function L6(t){return Sae.some(e=>t[e]>=0)}const jae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=pc(t,e);switch(r){case"referenceHidden":{const s=await q0(e,{...i,elementContext:"reference"}),a=j6(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:L6(a)}}}case"escaped":{const s=await q0(e,{...i,altBoundary:!0}),a=j6(s,n.floating);return{data:{escapedOffsets:a,escaped:L6(a)}}}default:return{}}}}},P7=new Set(["left","top"]);async function Lae(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=mc(n),l=Xp(n),u=fl(n)==="y",d=P7.has(a)?-1:1,p=s&&u?-1:1,g=pc(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof S=="number"&&(x=l==="end"?S*-1:S),u?{x:x*p,y:b*d}:{x:b*d,y:x*p}}const Pae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,u=await Lae(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},Bae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:A,y:O}=_;return{x:A,y:O}}},...u}=pc(t,e),d={x:n,y:r},p=await q0(e,u),g=fl(mc(i)),b=d4(g);let x=d[b],S=d[g];if(s){const _=b==="y"?"top":"left",A=b==="y"?"bottom":"right",O=x+p[_],z=x-p[A];x=s3(O,x,z)}if(a){const _=g==="y"?"top":"left",A=g==="y"?"bottom":"right",O=S+p[_],z=S-p[A];S=s3(O,S,z)}const k=l.fn({...e,[b]:x,[g]:S});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[b]:s,[g]:a}}}}}},Iae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=pc(t,e),p={x:n,y:r},g=fl(i),b=d4(g);let x=p[b],S=p[g];const k=pc(l,e),_=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(u){const z=b==="y"?"height":"width",L=s.reference[b]-s.floating[z]+_.mainAxis,H=s.reference[b]+s.reference[z]-_.mainAxis;x<L?x=L:x>H&&(x=H)}if(d){var A,O;const z=b==="y"?"width":"height",L=P7.has(mc(i)),H=s.reference[g]-s.floating[z]+(L&&((A=a.offset)==null?void 0:A[g])||0)+(L?0:_.crossAxis),j=s.reference[g]+s.reference[z]+(L?0:((O=a.offset)==null?void 0:O[g])||0)-(L?_.crossAxis:0);S<H?S=H:S>j&&(S=j)}return{[b]:x,[g]:S}}}},Hae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:u=()=>{},...d}=pc(t,e),p=await q0(e,d),g=mc(i),b=Xp(i),x=fl(i)==="y",{width:S,height:k}=s.floating;let _,A;g==="top"||g==="bottom"?(_=g,A=b===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(A=g,_=b==="end"?"top":"bottom");const O=k-p.top-p.bottom,z=S-p.left-p.right,L=Ku(k-p[_],O),H=Ku(S-p[A],z),j=!e.middlewareData.shift;let P=L,I=H;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=O),j&&!b){const G=$s(p.left,0),X=$s(p.right,0),W=$s(p.top,0),le=$s(p.bottom,0);x?I=S-2*(G!==0||X!==0?G+X:$s(p.left,p.right)):P=k-2*(W!==0||le!==0?W+le:$s(p.top,p.bottom))}await u({...e,availableWidth:I,availableHeight:P});const Y=await a.getDimensions(l.floating);return S!==Y.width||k!==Y.height?{reset:{rects:!0}}:{}}}};function d2(){return typeof window<"u"}function Qp(t){return B7(t)?(t.nodeName||"").toLowerCase():"#document"}function sa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bl(t){var e;return(e=(B7(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B7(t){return d2()?t instanceof Node||t instanceof sa(t).Node:!1}function xo(t){return d2()?t instanceof Element||t instanceof sa(t).Element:!1}function ml(t){return d2()?t instanceof HTMLElement||t instanceof sa(t).HTMLElement:!1}function P6(t){return!d2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof sa(t).ShadowRoot}const Uae=new Set(["inline","contents"]);function fy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=So(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Uae.has(i)}const Fae=new Set(["table","td","th"]);function Gae(t){return Fae.has(Qp(t))}const qae=[":popover-open",":modal"];function h2(t){return qae.some(e=>{try{return t.matches(e)}catch{return!1}})}const Vae=["transform","translate","scale","rotate","perspective"],Yae=["transform","translate","scale","rotate","perspective","filter"],Kae=["paint","layout","strict","content"];function m4(t){const e=g4(),n=xo(t)?So(t):t;return Vae.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Yae.some(r=>(n.willChange||"").includes(r))||Kae.some(r=>(n.contain||"").includes(r))}function Xae(t){let e=Xu(t);for(;ml(e)&&!jp(e);){if(m4(e))return e;if(h2(e))return null;e=Xu(e)}return null}function g4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Qae=new Set(["html","body","#document"]);function jp(t){return Qae.has(Qp(t))}function So(t){return sa(t).getComputedStyle(t)}function p2(t){return xo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xu(t){if(Qp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||P6(t)&&t.host||bl(t);return P6(e)?e.host:e}function I7(t){const e=Xu(t);return jp(e)?t.ownerDocument?t.ownerDocument.body:t.body:ml(e)&&fy(e)?e:I7(e)}function V0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=I7(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=sa(i);if(s){const l=o3(a);return e.concat(a,a.visualViewport||[],fy(i)?i:[],l&&n?V0(l):[])}return e.concat(i,V0(i,[],n))}function o3(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H7(t){const e=So(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ml(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=gx(n)!==s||gx(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function y4(t){return xo(t)?t:t.contextElement}function Sp(t){const e=y4(t);if(!ml(e))return dl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=H7(e);let a=(s?gx(n.width):n.width)/r,l=(s?gx(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Wae=dl(0);function U7(t){const e=sa(t);return!g4()||!e.visualViewport?Wae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==sa(t)?!1:e}function Cd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=y4(t);let a=dl(1);e&&(r?xo(r)&&(a=Sp(r)):a=Sp(t));const l=Jae(s,n,r)?U7(s):dl(0);let u=(i.left+l.x)/a.x,d=(i.top+l.y)/a.y,p=i.width/a.x,g=i.height/a.y;if(s){const b=sa(s),x=r&&xo(r)?sa(r):r;let S=b,k=o3(S);for(;k&&r&&x!==S;){const _=Sp(k),A=k.getBoundingClientRect(),O=So(k),z=A.left+(k.clientLeft+parseFloat(O.paddingLeft))*_.x,L=A.top+(k.clientTop+parseFloat(O.paddingTop))*_.y;u*=_.x,d*=_.y,p*=_.x,g*=_.y,u+=z,d+=L,S=sa(k),k=o3(S)}}return bx({width:p,height:g,x:u,y:d})}function m2(t,e){const n=p2(t).scrollLeft;return e?e.left+n:Cd(bl(t)).left+n}function F7(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-m2(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function $ae(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=bl(r),l=e?h2(e.floating):!1;if(r===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=dl(1);const p=dl(0),g=ml(r);if((g||!g&&!s)&&((Qp(r)!=="body"||fy(a))&&(u=p2(r)),ml(r))){const x=Cd(r);d=Sp(r),p.x=x.x+r.clientLeft,p.y=x.y+r.clientTop}const b=a&&!g&&!s?F7(a,u):dl(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+p.x+b.x,y:n.y*d.y-u.scrollTop*d.y+p.y+b.y}}function Zae(t){return Array.from(t.getClientRects())}function eoe(t){const e=bl(t),n=p2(t),r=t.ownerDocument.body,i=$s(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$s(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+m2(t);const l=-n.scrollTop;return So(r).direction==="rtl"&&(a+=$s(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const B6=25;function toe(t,e){const n=sa(t),r=bl(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,u=0;if(i){s=i.width,a=i.height;const p=g4();(!p||p&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}const d=m2(r);if(d<=0){const p=r.ownerDocument,g=p.body,b=getComputedStyle(g),x=p.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,S=Math.abs(r.clientWidth-g.clientWidth-x);S<=B6&&(s-=S)}else d<=B6&&(s+=d);return{width:s,height:a,x:l,y:u}}const noe=new Set(["absolute","fixed"]);function roe(t,e){const n=Cd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ml(t)?Sp(t):dl(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:a,height:l,x:u,y:d}}function I6(t,e,n){let r;if(e==="viewport")r=toe(t,n);else if(e==="document")r=eoe(bl(t));else if(xo(e))r=roe(e,n);else{const i=U7(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return bx(r)}function G7(t,e){const n=Xu(t);return n===e||!xo(n)||jp(n)?!1:So(n).position==="fixed"||G7(n,e)}function ioe(t,e){const n=e.get(t);if(n)return n;let r=V0(t,[],!1).filter(l=>xo(l)&&Qp(l)!=="body"),i=null;const s=So(t).position==="fixed";let a=s?Xu(t):t;for(;xo(a)&&!jp(a);){const l=So(a),u=m4(a);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&noe.has(i.position)||fy(a)&&!u&&G7(t,a))?r=r.filter(p=>p!==a):i=l,a=Xu(a)}return e.set(t,r),r}function soe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?h2(e)?[]:ioe(e,this._c):[].concat(n),r],l=a[0],u=a.reduce((d,p)=>{const g=I6(e,p,i);return d.top=$s(g.top,d.top),d.right=Ku(g.right,d.right),d.bottom=Ku(g.bottom,d.bottom),d.left=$s(g.left,d.left),d},I6(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function aoe(t){const{width:e,height:n}=H7(t);return{width:e,height:n}}function ooe(t,e,n){const r=ml(e),i=bl(e),s=n==="fixed",a=Cd(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=dl(0);function d(){u.x=m2(i)}if(r||!r&&!s)if((Qp(e)!=="body"||fy(i))&&(l=p2(e)),r){const x=Cd(e,!0,s,e);u.x=x.x+e.clientLeft,u.y=x.y+e.clientTop}else i&&d();s&&!r&&i&&d();const p=i&&!r&&!s?F7(i,l):dl(0),g=a.left+l.scrollLeft-u.x-p.x,b=a.top+l.scrollTop-u.y-p.y;return{x:g,y:b,width:a.width,height:a.height}}function Nw(t){return So(t).position==="static"}function H6(t,e){if(!ml(t)||So(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bl(t)===n&&(n=n.ownerDocument.body),n}function q7(t,e){const n=sa(t);if(h2(t))return n;if(!ml(t)){let i=Xu(t);for(;i&&!jp(i);){if(xo(i)&&!Nw(i))return i;i=Xu(i)}return n}let r=H6(t,e);for(;r&&Gae(r)&&Nw(r);)r=H6(r,e);return r&&jp(r)&&Nw(r)&&!m4(r)?n:r||Xae(t)||n}const loe=async function(t){const e=this.getOffsetParent||q7,n=this.getDimensions,r=await n(t.floating);return{reference:ooe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function coe(t){return So(t).direction==="rtl"}const uoe={convertOffsetParentRelativeRectToViewportRelativeRect:$ae,getDocumentElement:bl,getClippingRect:soe,getOffsetParent:q7,getElementRects:loe,getClientRects:Zae,getDimensions:aoe,getScale:Sp,isElement:xo,isRTL:coe};function V7(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function foe(t,e){let n=null,r;const i=bl(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:p,top:g,width:b,height:x}=d;if(l||e(),!b||!x)return;const S=Gb(g),k=Gb(i.clientWidth-(p+b)),_=Gb(i.clientHeight-(g+x)),A=Gb(p),z={rootMargin:-S+"px "+-k+"px "+-_+"px "+-A+"px",threshold:$s(0,Ku(1,u))||1};let L=!0;function H(j){const P=j[0].intersectionRatio;if(P!==u){if(!L)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!V7(d,t.getBoundingClientRect())&&a(),L=!1}try{n=new IntersectionObserver(H,{...z,root:i.ownerDocument})}catch{n=new IntersectionObserver(H,z)}n.observe(t)}return a(!0),s}function doe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=y4(t),p=i||s?[...d?V0(d):[],...V0(e)]:[];p.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),s&&A.addEventListener("resize",n)});const g=d&&l?foe(d,n):null;let b=-1,x=null;a&&(x=new ResizeObserver(A=>{let[O]=A;O&&O.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var z;(z=x)==null||z.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let S,k=u?Cd(t):null;u&&_();function _(){const A=Cd(t);k&&!V7(k,A)&&n(),k=A,S=requestAnimationFrame(_)}return n(),()=>{var A;p.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),g?.(),(A=x)==null||A.disconnect(),x=null,u&&cancelAnimationFrame(S)}}const hoe=Pae,poe=Bae,moe=zae,goe=Hae,yoe=jae,U6=Dae,boe=Iae,voe=(t,e,n)=>{const r=new Map,i={platform:uoe,...n},s={...i.platform,_c:r};return Oae(t,e,{...i,platform:s})};var xoe=typeof document<"u",Soe=function(){},sv=xoe?N.useLayoutEffect:Soe;function vx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!vx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Y7(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function F6(t,e){const n=Y7(t);return Math.round(e*n)/n}function Rw(t){const e=N.useRef(t);return sv(()=>{e.current=t}),e}function woe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[p,g]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=N.useState(r);vx(b,r)||x(r);const[S,k]=N.useState(null),[_,A]=N.useState(null),O=N.useCallback(J=>{J!==j.current&&(j.current=J,k(J))},[]),z=N.useCallback(J=>{J!==P.current&&(P.current=J,A(J))},[]),L=s||S,H=a||_,j=N.useRef(null),P=N.useRef(null),I=N.useRef(p),Y=u!=null,G=Rw(u),X=Rw(i),W=Rw(d),le=N.useCallback(()=>{if(!j.current||!P.current)return;const J={placement:e,strategy:n,middleware:b};X.current&&(J.platform=X.current),voe(j.current,P.current,J).then(fe=>{const q={...fe,isPositioned:W.current!==!1};ee.current&&!vx(I.current,q)&&(I.current=q,oc.flushSync(()=>{g(q)}))})},[b,e,n,X,W]);sv(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(J=>({...J,isPositioned:!1})))},[d]);const ee=N.useRef(!1);sv(()=>(ee.current=!0,()=>{ee.current=!1}),[]),sv(()=>{if(L&&(j.current=L),H&&(P.current=H),L&&H){if(G.current)return G.current(L,H,le);le()}},[L,H,le,G,Y]);const te=N.useMemo(()=>({reference:j,floating:P,setReference:O,setFloating:z}),[O,z]),V=N.useMemo(()=>({reference:L,floating:H}),[L,H]),re=N.useMemo(()=>{const J={position:n,left:0,top:0};if(!V.floating)return J;const fe=F6(V.floating,p.x),q=F6(V.floating,p.y);return l?{...J,transform:"translate("+fe+"px, "+q+"px)",...Y7(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:fe,top:q}},[n,l,V.floating,p.x,p.y]);return N.useMemo(()=>({...p,update:le,refs:te,elements:V,floatingStyles:re}),[p,le,te,V,re])}const Coe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?U6({element:r.current,padding:i}).fn(n):{}:r?U6({element:r,padding:i}).fn(n):{}}}},Eoe=(t,e)=>({...hoe(t),options:[t,e]}),koe=(t,e)=>({...poe(t),options:[t,e]}),Toe=(t,e)=>({...boe(t),options:[t,e]}),_oe=(t,e)=>({...moe(t),options:[t,e]}),Moe=(t,e)=>({...goe(t),options:[t,e]}),Aoe=(t,e)=>({...yoe(t),options:[t,e]}),Noe=(t,e)=>({...Coe(t),options:[t,e]});var Roe="Arrow",K7=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return E.jsx(ln.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});K7.displayName=Roe;var Ooe=K7;function Doe(t){const[e,n]=N.useState(void 0);return dc(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,l=d.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var b4="Popper",[X7,Q7]=Ed(b4),[zoe,W7]=X7(b4),J7=t=>{const{__scopePopper:e,children:n}=t,[r,i]=N.useState(null);return E.jsx(zoe,{scope:e,anchor:r,onAnchorChange:i,children:n})};J7.displayName=b4;var $7="PopperAnchor",Z7=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=W7($7,n),a=N.useRef(null),l=Gr(e,a),u=N.useRef(null);return N.useEffect(()=>{const d=u.current;u.current=r?.current||a.current,d!==u.current&&s.onAnchorChange(u.current)}),r?null:E.jsx(ln.div,{...i,ref:l})});Z7.displayName=$7;var v4="PopperContent",[joe,Loe]=X7(v4),eO=N.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:S,...k}=t,_=W7(v4,n),[A,O]=N.useState(null),z=Gr(e,je=>O(je)),[L,H]=N.useState(null),j=Doe(L),P=j?.width??0,I=j?.height??0,Y=r+(s!=="center"?"-"+s:""),G=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},X=Array.isArray(d)?d:[d],W=X.length>0,le={padding:G,boundary:X.filter(Boe),altBoundary:W},{refs:ee,floatingStyles:te,placement:V,isPositioned:re,middlewareData:J}=woe({strategy:"fixed",placement:Y,whileElementsMounted:(...je)=>doe(...je,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[Eoe({mainAxis:i+I,alignmentAxis:a}),u&&koe({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Toe():void 0,...le}),u&&_oe({...le}),Moe({...le,apply:({elements:je,rects:ot,availableWidth:Ke,availableHeight:nt})=>{const{width:Nn,height:Xt}=ot.reference,Rn=je.floating.style;Rn.setProperty("--radix-popper-available-width",`${Ke}px`),Rn.setProperty("--radix-popper-available-height",`${nt}px`),Rn.setProperty("--radix-popper-anchor-width",`${Nn}px`),Rn.setProperty("--radix-popper-anchor-height",`${Xt}px`)}}),L&&Noe({element:L,padding:l}),Ioe({arrowWidth:P,arrowHeight:I}),b&&Aoe({strategy:"referenceHidden",...le})]}),[fe,q]=rO(V),K=Gs(S);dc(()=>{re&&K?.()},[re,K]);const ie=J.arrow?.x,F=J.arrow?.y,we=J.arrow?.centerOffset!==0,[Be,De]=N.useState();return dc(()=>{A&&De(window.getComputedStyle(A).zIndex)},[A]),E.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:re?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[J.transformOrigin?.x,J.transformOrigin?.y].join(" "),...J.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:E.jsx(joe,{scope:n,placedSide:fe,onArrowChange:H,arrowX:ie,arrowY:F,shouldHideArrow:we,children:E.jsx(ln.div,{"data-side":fe,"data-align":q,...k,ref:z,style:{...k.style,animation:re?void 0:"none"}})})})});eO.displayName=v4;var tO="PopperArrow",Poe={top:"bottom",right:"left",bottom:"top",left:"right"},nO=N.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Loe(tO,r),a=Poe[s.placedSide];return E.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:E.jsx(Ooe,{...i,ref:n,style:{...i.style,display:"block"}})})});nO.displayName=tO;function Boe(t){return t!==null}var Ioe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[d,p]=rO(n),g={start:"0%",center:"50%",end:"100%"}[p],b=(i.arrow?.x??0)+l/2,x=(i.arrow?.y??0)+u/2;let S="",k="";return d==="bottom"?(S=a?g:`${b}px`,k=`${-u}px`):d==="top"?(S=a?g:`${b}px`,k=`${r.floating.height+u}px`):d==="right"?(S=`${-u}px`,k=a?g:`${x}px`):d==="left"&&(S=`${r.floating.width+u}px`,k=a?g:`${x}px`),{data:{x:S,y:k}}}});function rO(t){const[e,n="center"]=t.split("-");return[e,n]}var Hoe=J7,Uoe=Z7,Foe=eO,Goe=nO,Ow="rovingFocusGroup.onEntryFocus",qoe={bubbles:!1,cancelable:!0},dy="RovingFocusGroup",[l3,iO,Voe]=y3(dy),[Yoe,sO]=Ed(dy,[Voe]),[Koe,Xoe]=Yoe(dy),aO=N.forwardRef((t,e)=>E.jsx(l3.Provider,{scope:t.__scopeRovingFocusGroup,children:E.jsx(l3.Slot,{scope:t.__scopeRovingFocusGroup,children:E.jsx(Qoe,{...t,ref:e})})}));aO.displayName=dy;var Qoe=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...g}=t,b=N.useRef(null),x=Gr(e,b),S=j7(s),[k,_]=v3({prop:a,defaultProp:l??null,onChange:u,caller:dy}),[A,O]=N.useState(!1),z=Gs(d),L=iO(n),H=N.useRef(!1),[j,P]=N.useState(0);return N.useEffect(()=>{const I=b.current;if(I)return I.addEventListener(Ow,z),()=>I.removeEventListener(Ow,z)},[z]),E.jsx(Koe,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:k,onItemFocus:N.useCallback(I=>_(I),[_]),onItemShiftTab:N.useCallback(()=>O(!0),[]),onFocusableItemAdd:N.useCallback(()=>P(I=>I+1),[]),onFocusableItemRemove:N.useCallback(()=>P(I=>I-1),[]),children:E.jsx(ln.div,{tabIndex:A||j===0?-1:0,"data-orientation":r,...g,ref:x,style:{outline:"none",...t.style},onMouseDown:st(t.onMouseDown,()=>{H.current=!0}),onFocus:st(t.onFocus,I=>{const Y=!H.current;if(I.target===I.currentTarget&&Y&&!A){const G=new CustomEvent(Ow,qoe);if(I.currentTarget.dispatchEvent(G),!G.defaultPrevented){const X=L().filter(V=>V.focusable),W=X.find(V=>V.active),le=X.find(V=>V.id===k),te=[W,le,...X].filter(Boolean).map(V=>V.ref.current);cO(te,p)}}H.current=!1}),onBlur:st(t.onBlur,()=>O(!1))})})}),oO="RovingFocusGroupItem",lO=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,u=Zb(),d=s||u,p=Xoe(oO,n),g=p.currentTabStopId===d,b=iO(n),{onFocusableItemAdd:x,onFocusableItemRemove:S,currentTabStopId:k}=p;return N.useEffect(()=>{if(r)return x(),()=>S()},[r,x,S]),E.jsx(l3.ItemSlot,{scope:n,id:d,focusable:r,active:i,children:E.jsx(ln.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:st(t.onMouseDown,_=>{r?p.onItemFocus(d):_.preventDefault()}),onFocus:st(t.onFocus,()=>p.onItemFocus(d)),onKeyDown:st(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const A=$oe(_,p.orientation,p.dir);if(A!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let z=b().filter(L=>L.focusable).map(L=>L.ref.current);if(A==="last")z.reverse();else if(A==="prev"||A==="next"){A==="prev"&&z.reverse();const L=z.indexOf(_.currentTarget);z=p.loop?Zoe(z,L+1):z.slice(L+1)}setTimeout(()=>cO(z))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:k!=null}):a})})});lO.displayName=oO;var Woe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Joe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $oe(t,e,n){const r=Joe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Woe[r]}function cO(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Zoe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ele=aO,tle=lO,c3=["Enter"," "],nle=["ArrowDown","PageUp","Home"],uO=["ArrowUp","PageDown","End"],rle=[...nle,...uO],ile={ltr:[...c3,"ArrowRight"],rtl:[...c3,"ArrowLeft"]},sle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hy="Menu",[Y0,ale,ole]=y3(hy),[zd,fO]=Ed(hy,[ole,Q7,sO]),g2=Q7(),dO=sO(),[lle,jd]=zd(hy),[cle,py]=zd(hy),hO=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=g2(e),[u,d]=N.useState(null),p=N.useRef(!1),g=Gs(s),b=j7(i);return N.useEffect(()=>{const x=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),E.jsx(Hoe,{...l,children:E.jsx(lle,{scope:e,open:n,onOpenChange:g,content:u,onContentChange:d,children:E.jsx(cle,{scope:e,onClose:N.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:b,modal:a,children:r})})})};hO.displayName=hy;var ule="MenuAnchor",x4=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=g2(n);return E.jsx(Uoe,{...i,...r,ref:e})});x4.displayName=ule;var S4="MenuPortal",[fle,pO]=zd(S4,{forceMount:void 0}),mO=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=jd(S4,e);return E.jsx(fle,{scope:e,forceMount:n,children:E.jsx(yc,{present:n||s.open,children:E.jsx(_x,{asChild:!0,container:i,children:r})})})};mO.displayName=S4;var qa="MenuContent",[dle,w4]=zd(qa),gO=N.forwardRef((t,e)=>{const n=pO(qa,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=jd(qa,t.__scopeMenu),a=py(qa,t.__scopeMenu);return E.jsx(Y0.Provider,{scope:t.__scopeMenu,children:E.jsx(yc,{present:r||s.open,children:E.jsx(Y0.Slot,{scope:t.__scopeMenu,children:a.modal?E.jsx(hle,{...i,ref:e}):E.jsx(ple,{...i,ref:e})})})})}),hle=N.forwardRef((t,e)=>{const n=jd(qa,t.__scopeMenu),r=N.useRef(null),i=Gr(e,r);return N.useEffect(()=>{const s=r.current;if(s)return w9(s)},[]),E.jsx(C4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ple=N.forwardRef((t,e)=>{const n=jd(qa,t.__scopeMenu);return E.jsx(C4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mle=C0("MenuContent.ScrollLock"),C4=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:x,disableOutsideScroll:S,...k}=t,_=jd(qa,n),A=py(qa,n),O=g2(n),z=dO(n),L=ale(n),[H,j]=N.useState(null),P=N.useRef(null),I=Gr(e,P,_.onContentChange),Y=N.useRef(0),G=N.useRef(""),X=N.useRef(0),W=N.useRef(null),le=N.useRef("right"),ee=N.useRef(0),te=S?DE:N.Fragment,V=S?{as:mle,allowPinchZoom:!0}:void 0,re=fe=>{const q=G.current+fe,K=L().filter(je=>!je.disabled),ie=document.activeElement,F=K.find(je=>je.ref.current===ie)?.textValue,we=K.map(je=>je.textValue),Be=_le(we,q,F),De=K.find(je=>je.textValue===Be)?.ref.current;(function je(ot){G.current=ot,window.clearTimeout(Y.current),ot!==""&&(Y.current=window.setTimeout(()=>je(""),1e3))})(q),De&&setTimeout(()=>De.focus())};N.useEffect(()=>()=>window.clearTimeout(Y.current),[]),h9();const J=N.useCallback(fe=>le.current===W.current?.side&&Ale(fe,W.current?.area),[]);return E.jsx(dle,{scope:n,searchRef:G,onItemEnter:N.useCallback(fe=>{J(fe)&&fe.preventDefault()},[J]),onItemLeave:N.useCallback(fe=>{J(fe)||(P.current?.focus(),j(null))},[J]),onTriggerLeave:N.useCallback(fe=>{J(fe)&&fe.preventDefault()},[J]),pointerGraceTimerRef:X,onPointerGraceIntentChange:N.useCallback(fe=>{W.current=fe},[]),children:E.jsx(te,{...V,children:E.jsx(OE,{asChild:!0,trapped:i,onMountAutoFocus:st(s,fe=>{fe.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:E.jsx(Tx,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:b,onDismiss:x,children:E.jsx(ele,{asChild:!0,...z,dir:A.dir,orientation:"vertical",loop:r,currentTabStopId:H,onCurrentTabStopIdChange:j,onEntryFocus:st(u,fe=>{A.isUsingKeyboardRef.current||fe.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(Foe,{role:"menu","aria-orientation":"vertical","data-state":OO(_.open),"data-radix-menu-content":"",dir:A.dir,...O,...k,ref:I,style:{outline:"none",...k.style},onKeyDown:st(k.onKeyDown,fe=>{const K=fe.target.closest("[data-radix-menu-content]")===fe.currentTarget,ie=fe.ctrlKey||fe.altKey||fe.metaKey,F=fe.key.length===1;K&&(fe.key==="Tab"&&fe.preventDefault(),!ie&&F&&re(fe.key));const we=P.current;if(fe.target!==we||!rle.includes(fe.key))return;fe.preventDefault();const De=L().filter(je=>!je.disabled).map(je=>je.ref.current);uO.includes(fe.key)&&De.reverse(),kle(De)}),onBlur:st(t.onBlur,fe=>{fe.currentTarget.contains(fe.target)||(window.clearTimeout(Y.current),G.current="")}),onPointerMove:st(t.onPointerMove,K0(fe=>{const q=fe.target,K=ee.current!==fe.clientX;if(fe.currentTarget.contains(q)&&K){const ie=fe.clientX>ee.current?"right":"left";le.current=ie,ee.current=fe.clientX}}))})})})})})})});gO.displayName=qa;var gle="MenuGroup",E4=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(ln.div,{role:"group",...r,ref:e})});E4.displayName=gle;var yle="MenuLabel",yO=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(ln.div,{...r,ref:e})});yO.displayName=yle;var xx="MenuItem",G6="menu.itemSelect",y2=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=N.useRef(null),a=py(xx,t.__scopeMenu),l=w4(xx,t.__scopeMenu),u=Gr(e,s),d=N.useRef(!1),p=()=>{const g=s.current;if(!n&&g){const b=new CustomEvent(G6,{bubbles:!0,cancelable:!0});g.addEventListener(G6,x=>r?.(x),{once:!0}),b3(g,b),b.defaultPrevented?d.current=!1:a.onClose()}};return E.jsx(bO,{...i,ref:u,disabled:n,onClick:st(t.onClick,p),onPointerDown:g=>{t.onPointerDown?.(g),d.current=!0},onPointerUp:st(t.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:st(t.onKeyDown,g=>{const b=l.searchRef.current!=="";n||b&&g.key===" "||c3.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});y2.displayName=xx;var bO=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=w4(xx,n),l=dO(n),u=N.useRef(null),d=Gr(e,u),[p,g]=N.useState(!1),[b,x]=N.useState("");return N.useEffect(()=>{const S=u.current;S&&x((S.textContent??"").trim())},[s.children]),E.jsx(Y0.ItemSlot,{scope:n,disabled:r,textValue:i??b,children:E.jsx(tle,{asChild:!0,...l,focusable:!r,children:E.jsx(ln.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:st(t.onPointerMove,K0(S=>{r?a.onItemLeave(S):(a.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(t.onPointerLeave,K0(S=>a.onItemLeave(S))),onFocus:st(t.onFocus,()=>g(!0)),onBlur:st(t.onBlur,()=>g(!1))})})})}),ble="MenuCheckboxItem",vO=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return E.jsx(EO,{scope:t.__scopeMenu,checked:n,children:E.jsx(y2,{role:"menuitemcheckbox","aria-checked":Sx(n)?"mixed":n,...i,ref:e,"data-state":T4(n),onSelect:st(i.onSelect,()=>r?.(Sx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vO.displayName=ble;var xO="MenuRadioGroup",[vle,xle]=zd(xO,{value:void 0,onValueChange:()=>{}}),SO=N.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Gs(r);return E.jsx(vle,{scope:t.__scopeMenu,value:n,onValueChange:s,children:E.jsx(E4,{...i,ref:e})})});SO.displayName=xO;var wO="MenuRadioItem",CO=N.forwardRef((t,e)=>{const{value:n,...r}=t,i=xle(wO,t.__scopeMenu),s=n===i.value;return E.jsx(EO,{scope:t.__scopeMenu,checked:s,children:E.jsx(y2,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":T4(s),onSelect:st(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});CO.displayName=wO;var k4="MenuItemIndicator",[EO,Sle]=zd(k4,{checked:!1}),kO=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Sle(k4,n);return E.jsx(yc,{present:r||Sx(s.checked)||s.checked===!0,children:E.jsx(ln.span,{...i,ref:e,"data-state":T4(s.checked)})})});kO.displayName=k4;var wle="MenuSeparator",TO=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return E.jsx(ln.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});TO.displayName=wle;var Cle="MenuArrow",_O=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=g2(n);return E.jsx(Goe,{...i,...r,ref:e})});_O.displayName=Cle;var Ele="MenuSub",[Hfe,MO]=zd(Ele),e0="MenuSubTrigger",AO=N.forwardRef((t,e)=>{const n=jd(e0,t.__scopeMenu),r=py(e0,t.__scopeMenu),i=MO(e0,t.__scopeMenu),s=w4(e0,t.__scopeMenu),a=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=s,d={__scopeMenu:t.__scopeMenu},p=N.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return N.useEffect(()=>p,[p]),N.useEffect(()=>{const g=l.current;return()=>{window.clearTimeout(g),u(null)}},[l,u]),E.jsx(x4,{asChild:!0,...d,children:E.jsx(bO,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":OO(n.open),...t,ref:g3(e,i.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:st(t.onPointerMove,K0(g=>{s.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:st(t.onPointerLeave,K0(g=>{p();const b=n.content?.getBoundingClientRect();if(b){const x=n.content?.dataset.side,S=x==="right",k=S?-5:5,_=b[S?"left":"right"],A=b[S?"right":"left"];s.onPointerGraceIntentChange({area:[{x:g.clientX+k,y:g.clientY},{x:_,y:b.top},{x:A,y:b.top},{x:A,y:b.bottom},{x:_,y:b.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(g),g.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:st(t.onKeyDown,g=>{const b=s.searchRef.current!=="";t.disabled||b&&g.key===" "||ile[r.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});AO.displayName=e0;var NO="MenuSubContent",RO=N.forwardRef((t,e)=>{const n=pO(qa,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=jd(qa,t.__scopeMenu),a=py(qa,t.__scopeMenu),l=MO(NO,t.__scopeMenu),u=N.useRef(null),d=Gr(e,u);return E.jsx(Y0.Provider,{scope:t.__scopeMenu,children:E.jsx(yc,{present:r||s.open,children:E.jsx(Y0.Slot,{scope:t.__scopeMenu,children:E.jsx(C4,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{a.isUsingKeyboardRef.current&&u.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:st(t.onFocusOutside,p=>{p.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:st(t.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:st(t.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),b=sle[a.dir].includes(p.key);g&&b&&(s.onOpenChange(!1),l.trigger?.focus(),p.preventDefault())})})})})})});RO.displayName=NO;function OO(t){return t?"open":"closed"}function Sx(t){return t==="indeterminate"}function T4(t){return Sx(t)?"indeterminate":t?"checked":"unchecked"}function kle(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Tle(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function _le(t,e,n){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Tle(t,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function Mle(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],u=e[a],d=l.x,p=l.y,g=u.x,b=u.y;p>r!=b>r&&n<(g-d)*(r-p)/(b-p)+d&&(i=!i)}return i}function Ale(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Mle(n,e)}function K0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Nle=hO,Rle=x4,Ole=mO,Dle=gO,zle=E4,jle=yO,Lle=y2,Ple=vO,Ble=SO,Ile=CO,Hle=kO,Ule=TO,Fle=_O,Gle=AO,qle=RO,_4="ContextMenu",[Vle]=Ed(_4,[fO]),gs=fO(),[Yle,DO]=Vle(_4),zO=t=>{const{__scopeContextMenu:e,children:n,onOpenChange:r,dir:i,modal:s=!0}=t,[a,l]=N.useState(!1),u=gs(e),d=Gs(r),p=N.useCallback(g=>{l(g),d(g)},[d]);return E.jsx(Yle,{scope:e,open:a,onOpenChange:p,modal:s,children:E.jsx(Nle,{...u,dir:i,open:a,onOpenChange:p,modal:s,children:n})})};zO.displayName=_4;var jO="ContextMenuTrigger",LO=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,s=DO(jO,n),a=gs(n),l=N.useRef({x:0,y:0}),u=N.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),d=N.useRef(0),p=N.useCallback(()=>window.clearTimeout(d.current),[]),g=b=>{l.current={x:b.clientX,y:b.clientY},s.onOpenChange(!0)};return N.useEffect(()=>p,[p]),N.useEffect(()=>void(r&&p()),[r,p]),E.jsxs(E.Fragment,{children:[E.jsx(Rle,{...a,virtualRef:u}),E.jsx(ln.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:st(t.onContextMenu,b=>{p(),g(b),b.preventDefault()}),onPointerDown:r?t.onPointerDown:st(t.onPointerDown,qb(b=>{p(),d.current=window.setTimeout(()=>g(b),700)})),onPointerMove:r?t.onPointerMove:st(t.onPointerMove,qb(p)),onPointerCancel:r?t.onPointerCancel:st(t.onPointerCancel,qb(p)),onPointerUp:r?t.onPointerUp:st(t.onPointerUp,qb(p))})]})});LO.displayName=jO;var Kle="ContextMenuPortal",PO=t=>{const{__scopeContextMenu:e,...n}=t,r=gs(e);return E.jsx(Ole,{...r,...n})};PO.displayName=Kle;var BO="ContextMenuContent",IO=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=DO(BO,n),s=gs(n),a=N.useRef(!1);return E.jsx(Dle,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),!l.defaultPrevented&&a.current&&l.preventDefault(),a.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),!l.defaultPrevented&&!i.modal&&(a.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IO.displayName=BO;var Xle="ContextMenuGroup",Qle=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(zle,{...i,...r,ref:e})});Qle.displayName=Xle;var Wle="ContextMenuLabel",Jle=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(jle,{...i,...r,ref:e})});Jle.displayName=Wle;var $le="ContextMenuItem",HO=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Lle,{...i,...r,ref:e})});HO.displayName=$le;var Zle="ContextMenuCheckboxItem",ece=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ple,{...i,...r,ref:e})});ece.displayName=Zle;var tce="ContextMenuRadioGroup",nce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ble,{...i,...r,ref:e})});nce.displayName=tce;var rce="ContextMenuRadioItem",ice=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ile,{...i,...r,ref:e})});ice.displayName=rce;var sce="ContextMenuItemIndicator",ace=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Hle,{...i,...r,ref:e})});ace.displayName=sce;var oce="ContextMenuSeparator",lce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Ule,{...i,...r,ref:e})});lce.displayName=oce;var cce="ContextMenuArrow",uce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Fle,{...i,...r,ref:e})});uce.displayName=cce;var fce="ContextMenuSubTrigger",dce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(Gle,{...i,...r,ref:e})});dce.displayName=fce;var hce="ContextMenuSubContent",pce=N.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=gs(n);return E.jsx(qle,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pce.displayName=hce;function qb(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var mce=zO,gce=LO,yce=PO,bce=IO,q6=HO;const vce=t=>({note:"fa-note-sticky",board:"fa-list-check",canvas:"fa-pen-nib",flashcard:"fa-layer-group"})[t]||"fa-file",xce=({files:t,currentWorkspace:e,onOpenFile:n,onBack:r,activeFile:i,onCreateNew:s})=>{const[a,l]=N.useState("grid"),u=p=>{const g=prompt("Rename file:",p.name);g&&(p.name=g)},d=p=>{confirm(`Are you sure you want to delete ${p.name}?`)&&console.log("Delete",p)};return E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"bg-subtle px-4 py-2 border-b border-border text-sm flex gap-2 text-gray-500 dark:text-gray-400 shrink-0 items-center justify-between",children:[E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx("span",{children:"Computer"})," ",E.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] mt-1"})," ",E.jsx("span",{className:"text-ink font-medium",children:e==="work"?"Work":"School"}),i&&E.jsxs(E.Fragment,{children:[E.jsx("i",{className:"fa-solid fa-chevron-right text-[10px] mt-1"}),E.jsx("span",{className:"text-ink font-medium",children:i.name})]})]}),!i&&E.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-800 rounded-lg p-0.5",children:[E.jsx("button",{onClick:()=>l("grid"),className:`p-1.5 rounded-md text-xs transition-colors ${a==="grid"?"bg-white dark:bg-gray-700 shadow-sm text-ink":"text-gray-500 hover:text-ink"}`,title:"Grid View",children:E.jsx("i",{className:"fa-solid fa-border-all"})}),E.jsx("button",{onClick:()=>l("list"),className:`p-1.5 rounded-md text-xs transition-colors ${a==="list"?"bg-white dark:bg-gray-700 shadow-sm text-ink":"text-gray-500 hover:text-ink"}`,title:"List View",children:E.jsx("i",{className:"fa-solid fa-list"})})]})]}),E.jsx("div",{className:"flex-1 bg-paper relative overflow-hidden",children:i?E.jsxs("div",{className:"h-full w-full absolute top-0 left-0 bg-paper z-10 flex flex-col",children:[E.jsxs("div",{className:"flex items-center gap-2 p-2 border-b border-border bg-subtle",children:[E.jsxs("button",{onClick:r,className:"px-3 py-1 bg-surface border border-border rounded text-xs font-bold hover:bg-subtle text-ink",children:[E.jsx("i",{className:"fa-solid fa-chevron-left mr-1"})," Back"]}),E.jsx("span",{className:"text-xs font-bold text-ink",children:i.name})]}),E.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[i.targetContent==="win-notes"&&E.jsx(PN,{}),i.targetContent==="win-kanban"&&E.jsx(q9,{}),i.targetContent==="win-whiteboard"&&E.jsx(MR,{}),i.targetContent==="win-flashcards"&&E.jsx(z7,{})]})]}):E.jsx("div",{className:"p-4 overflow-y-auto h-full",children:E.jsxs("div",{className:a==="grid"?"grid grid-cols-2 md:grid-cols-4 gap-4":"flex flex-col gap-2",children:[E.jsxs("div",{onClick:s,className:`flex ${a==="grid"?"flex-col items-center justify-center h-32":"flex-row items-center h-16"} p-4 bg-surface border-2 border-dashed border-border hover:border-accent-blue hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl cursor-pointer transition-all group`,children:[E.jsx("div",{className:`w-10 h-10 rounded-full bg-subtle flex items-center justify-center ${a==="grid"?"mb-2":"mr-4"} group-hover:bg-blue-200 dark:group-hover:bg-blue-800 group-hover:text-blue-700 dark:group-hover:text-blue-200`,children:E.jsx("i",{className:"fa-solid fa-plus text-xl text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-300"})}),E.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-300",children:"Create New"})]}),t[e].map((p,g)=>E.jsxs(mce,{children:[E.jsx(gce,{children:E.jsxs("div",{onClick:()=>n(p),className:`flex ${a==="grid"?"flex-col items-center justify-center h-32":"flex-row items-center h-16 px-4"} p-4 bg-surface border border-transparent hover:border-border hover:shadow-md rounded-xl cursor-pointer transition-all group relative`,children:[E.jsx("i",{className:`fa-solid ${vce(p.type)} ${a==="grid"?"text-4xl mb-2":"text-2xl mr-4"} group-hover:scale-110 transition-transform text-ink`}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("span",{className:"text-xs font-bold text-ink break-all line-clamp-2",children:p.name}),a==="list"&&E.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5 capitalize",children:[p.type,"  Modified just now"]})]})]})}),E.jsx(yce,{children:E.jsxs(bce,{className:"min-w-[160px] bg-white dark:bg-gray-800 rounded-md overflow-hidden p-[5px] shadow-[0px_10px_38px_-10px_rgba(22,_23,_24,_0.35),_0px_10px_20px_-15px_rgba(22,_23,_24,_0.2)] border border-gray-200 dark:border-gray-700 z-50",children:[E.jsxs(q6,{className:"group text-[13px] leading-none text-violet11 rounded-[3px] flex items-center h-[25px] px-[5px] relative pl-[25px] select-none outline-none data-[highlighted]:bg-violet9 data-[highlighted]:text-violet1 cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:text-blue-600",onSelect:()=>u(p),children:[E.jsx("i",{className:"fa-solid fa-pen-to-square absolute left-[5px] w-4 text-center"}),"Rename"]}),E.jsxs(q6,{className:"group text-[13px] leading-none text-red-500 rounded-[3px] flex items-center h-[25px] px-[5px] relative pl-[25px] select-none outline-none data-[highlighted]:bg-red-100 data-[highlighted]:text-red-700 cursor-pointer hover:bg-red-50 dark:hover:bg-red-900/20",onSelect:()=>d(p),children:[E.jsx("i",{className:"fa-solid fa-trash absolute left-[5px] w-4 text-center"}),"Delete"]})]})})]},g))]})})})]})},Sce=()=>{const[t,e]=N.useState({}),[n,r]=N.useState(!0),[i,s]=N.useState(!1),[a,l]=N.useState(null),[u,d]=N.useState(!1);async function p(){r(!0),l(null);try{const x=await cs("/v1/user/settings");if(!x.ok)throw new Error("Failed to load settings");const S=await x.json();e(S||{})}catch(x){l(x.message||"Load failed")}finally{r(!1)}}async function g(x){x.preventDefault(),s(!0),l(null),d(!1);try{const S=await cs("/v1/user/settings",{method:"POST",body:JSON.stringify(t)});if(!S.ok)throw new Error("Save failed");const k=await S.json();e(k),d(!0),setTimeout(()=>d(!1),2e3)}catch(S){l(S.message||"Save failed")}finally{s(!1)}}N.useEffect(()=>{p()},[]);const b=x=>({value:t[x]||"",onChange:S=>e(k=>({...k,[x]:S.target.value}))});return E.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-900 text-ink dark:text-gray-100",children:[E.jsxs("div",{className:"px-4 py-3 border-b-2 border-ink dark:border-gray-700 bg-subtle dark:bg-gray-800 flex items-center justify-between",children:[E.jsxs("h2",{className:"font-display text-lg font-bold flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-gears"})," Account Settings"]}),n&&E.jsxs("span",{className:"text-xs flex items-center gap-2",children:[E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"})," Loading..."]}),u&&!i&&E.jsxs("span",{className:"text-xs text-green-600 font-semibold flex items-center gap-1",children:[E.jsx("i",{className:"fa-solid fa-circle-check"})," Saved"]})]}),E.jsxs("form",{onSubmit:g,className:"flex-1 overflow-y-auto p-4 space-y-6 bg-paper dark:bg-gray-900",children:[a&&E.jsxs("div",{className:"border-2 border-red-600 bg-red-100 text-red-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation mt-0.5"}),E.jsx("div",{className:"flex-1",children:a}),E.jsx("button",{type:"button",onClick:()=>l(null),className:"text-red-700 hover:text-red-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-sm font-bold tracking-wide uppercase",children:"AI Providers"}),E.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"OpenAI API Key"}),E.jsx("input",{type:"text",placeholder:"sk-...",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("openAiKey")})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Anthropic API Key"}),E.jsx("input",{type:"text",placeholder:"anth-...",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("anthropicKey")})]})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-sm font-bold tracking-wide uppercase",children:"Learning Platforms"}),E.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Canvas API Token"}),E.jsx("input",{type:"text",placeholder:"canvas token",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("canvasApiToken")})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Google API Key"}),E.jsx("input",{type:"text",placeholder:"AIza...",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("googleApiKey")})]})]})]}),E.jsxs("section",{className:"space-y-4",children:[E.jsx("h3",{className:"text-sm font-bold tracking-wide uppercase",children:"Home Automation"}),E.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[E.jsxs("div",{className:"flex flex-col gap-2 md:col-span-1",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Home Assistant URL"}),E.jsx("input",{type:"text",placeholder:"https://homeassistant.local",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("homeAssistantUrl")})]}),E.jsxs("div",{className:"flex flex-col gap-2 md:col-span-1",children:[E.jsx("label",{className:"text-xs font-semibold",children:"Home Assistant Token"}),E.jsx("input",{type:"text",placeholder:"long-lived token",className:"px-3 py-2 rounded-lg border-2 border-ink bg-white dark:bg-gray-950 font-mono text-xs",...b("homeAssistantToken")})]})]})]}),E.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[E.jsxs("div",{className:"text-xs text-gray-500",children:["Last updated: ",t.updatedAt?new Date(t.updatedAt).toLocaleString():"Never"]}),E.jsxs("button",{disabled:i,type:"submit",className:"px-6 py-2 rounded-lg bg-ink text-white font-bold text-sm tracking-wide flex items-center gap-2 disabled:opacity-50",children:[i&&E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),i?"Saving":"Save Settings"]})]})]})]})},wce={work:[{name:"Q4_Strategy.note",type:"note",targetContent:"win-notes"},{name:"Launch_Plan.board",type:"board",targetContent:"win-kanban"},{name:"UI_Concepts.canvas",type:"canvas",targetContent:"win-whiteboard"}],school:[{name:"History_Essay.note",type:"note",targetContent:"win-notes"},{name:"Math_HW.canvas",type:"canvas",targetContent:"win-whiteboard"}]},Cce=()=>{const{currentWorkspace:t}=Ep(),[e,n]=N.useState(!1),[r,i]=N.useState(!1),[s,a]=N.useState(null);Ye.useEffect(()=>{const S=localStorage.getItem("focusdeck-wallpaper");S&&a(S);const k=()=>{const _=localStorage.getItem("focusdeck-wallpaper");_&&a(_)};return window.addEventListener("storage",k),window.addEventListener("focusdeck-wallpaper-changed",k),()=>{window.removeEventListener("storage",k),window.removeEventListener("focusdeck-wallpaper-changed",k)}},[]);const[l,u]=N.useState(wce),[d,p]=N.useState(null),g=S=>{i(!1);const k={note:{name:"Untitled",targetContent:"win-notes"},board:{name:"New Board",targetContent:"win-kanban"},canvas:{name:"New Canvas",targetContent:"win-whiteboard"},flashcard:{name:"Study Set",targetContent:"win-flashcards"}},_={name:`${k[S].name} ${l[t].length+1}`,type:S,targetContent:k[S].targetContent};u(A=>({...A,[t]:[...A[t],_]})),p(_)},b=S=>{p(S)},x=()=>{p(null)};return E.jsxs("div",{className:"flex flex-col h-screen w-full font-sans overflow-hidden bg-paper dark:bg-gray-900 text-ink dark:text-white transition-colors duration-300",children:[E.jsxs("main",{className:"flex-1 relative bg-paper dark:bg-gray-900 bg-dot-pattern overflow-hidden p-0 md:p-4",id:"desktop-area",style:s?{backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:[E.jsx(TL,{}),r&&E.jsx("div",{className:"absolute inset-0 z-[60] flex flex-col items-center justify-center p-8 backdrop-blur-sm bg-paper/80",children:E.jsxs("div",{className:"bg-white border-2 border-ink rounded-xl p-6 shadow-hard max-w-lg w-full",children:[E.jsx("h2",{className:"text-xl font-display font-bold mb-4",children:"Create New"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>g("note"),className:"p-4 border border-border rounded-lg hover:bg-yellow-50 hover:border-yellow-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-note-sticky text-2xl text-accent-yellow"}),E.jsx("span",{className:"font-bold text-sm",children:"Note"})]}),E.jsxs("button",{onClick:()=>g("board"),className:"p-4 border border-border rounded-lg hover:bg-teal-50 hover:border-teal-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-list-check text-2xl text-accent-teal"}),E.jsx("span",{className:"font-bold text-sm",children:"Kanban"})]}),E.jsxs("button",{onClick:()=>g("canvas"),className:"p-4 border border-border rounded-lg hover:bg-purple-50 hover:border-purple-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-pen-nib text-2xl text-accent-purple"}),E.jsx("span",{className:"font-bold text-sm",children:"Canvas"})]}),E.jsxs("button",{onClick:()=>g("flashcard"),className:"p-4 border border-border rounded-lg hover:bg-blue-50 hover:border-blue-400 flex flex-col items-center gap-2 transition-colors",children:[E.jsx("i",{className:"fa-solid fa-layer-group text-2xl text-accent-blue"}),E.jsx("span",{className:"font-bold text-sm",children:"Cards"})]})]}),E.jsx("button",{onClick:()=>i(!1),className:"w-full mt-4 py-3 text-sm text-gray-500 font-bold hover:text-black",children:"Cancel"})]})}),E.jsxs("div",{id:"windows-container",className:"w-full h-full relative",children:[E.jsx(Zl,{id:"win-dashboard",headerChips:E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-bold cursor-pointer border border-red-200",children:[E.jsx("i",{className:"fa-solid fa-stopwatch animate-pulse"})," 24:59"]}),E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-bold cursor-pointer border border-green-200",children:[E.jsx("i",{className:"fa-brands fa-spotify"})," Lo-Fi Beats"]})]}),children:E.jsx(BL,{})}),E.jsx(Zl,{id:"win-email",headerChips:E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-gray-200 text-gray-700 rounded-full text-xs font-bold cursor-pointer border border-gray-300",children:[E.jsx("i",{className:"fa-solid fa-filter"})," Unread: 4"]}),children:E.jsx(QQ,{})}),E.jsx(Zl,{id:"win-notes",headerChips:E.jsxs("div",{className:"smart-chip hidden md:flex items-center gap-2 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold cursor-pointer border border-yellow-200",children:[E.jsx("i",{className:"fa-solid fa-check"})," Saved"]}),children:E.jsx(PN,{})}),E.jsx(Zl,{id:"win-kanban",children:E.jsx(q9,{})}),E.jsx(Zl,{id:"win-whiteboard",children:E.jsx(MR,{})}),E.jsx(Zl,{id:"win-jarvis",children:E.jsx(bae,{})}),E.jsx(Zl,{id:"win-files",children:E.jsx(xce,{files:l,currentWorkspace:t,onOpenFile:b,onBack:x,activeFile:d,onCreateNew:()=>i(!0)})}),E.jsx(Zl,{id:"win-flashcards",children:E.jsx(z7,{})}),E.jsx(Zl,{id:"win-account-settings",children:E.jsx(Sce,{})})]})]}),E.jsx(kL,{isOpen:e,onClose:()=>n(!1)}),E.jsx(EL,{onToggleStart:()=>n(!e)})]})};/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V6="popstate";function Ece(t={}){function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return u3("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:X0(i)}return Tce(e,n,null,t)}function Fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kce(){return Math.random().toString(36).substring(2,10)}function Y6(t,e){return{usr:t.state,key:t.key,idx:e}}function u3(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wp(e):e,state:n,key:e&&e.key||r||kce()}}function X0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Tce(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",u=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function g(){l="POP";let _=p(),A=_==null?null:_-d;d=_,u&&u({action:l,location:k.location,delta:A})}function b(_,A){l="PUSH";let O=u3(k.location,_,A);d=p()+1;let z=Y6(O,d),L=k.createHref(O);try{a.pushState(z,"",L)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(L)}s&&u&&u({action:l,location:k.location,delta:1})}function x(_,A){l="REPLACE";let O=u3(k.location,_,A);d=p();let z=Y6(O,d),L=k.createHref(O);a.replaceState(z,"",L),s&&u&&u({action:l,location:k.location,delta:0})}function S(_){return _ce(_)}let k={get action(){return l},get location(){return t(i,a)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(V6,g),u=_,()=>{i.removeEventListener(V6,g),u=null}},createHref(_){return e(i,_)},createURL:S,encodeLocation(_){let A=S(_);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:x,go(_){return a.go(_)}};return k}function _ce(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:X0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function UO(t,e,n="/"){return Mce(t,e,n,!1)}function Mce(t,e,n,r){let i=typeof e=="string"?Wp(e):e,s=gc(i.pathname||"/",n);if(s==null)return null;let a=FO(t);Ace(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=Hce(s);l=Bce(a[u],d,r)}return l}function FO(t,e=[],n=[],r="",i=!1){let s=(a,l,u=i,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;Fn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=fc([r,p.relativePath]),b=n.concat(p);a.children&&a.children.length>0&&(Fn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FO(a.children,e,b,g,u)),!(a.path==null&&!a.index)&&e.push({path:g,score:Lce(g,a.index),routesMeta:b})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let u of GO(a.path))s(a,l,!0,u)}),e}function GO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=GO(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Ace(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pce(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Nce=/^:[\w-]+$/,Rce=3,Oce=2,Dce=1,zce=10,jce=-2,K6=t=>t==="*";function Lce(t,e){let n=t.split("/"),r=n.length;return n.some(K6)&&(r+=jce),e&&(r+=Oce),n.filter(i=>!K6(i)).reduce((i,s)=>i+(Nce.test(s)?Rce:s===""?Dce:zce),r)}function Pce(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Bce(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=wx({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),b=u.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=wx({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:fc([s,g.pathname]),pathnameBase:qce(fc([s,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(s=fc([s,g.pathnameBase]))}return a}function wx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ice(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:g},b)=>{if(p==="*"){let S=l[b]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const x=l[b];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function Ice(t,e=!1,n=!0){wo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Hce(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Uce(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wp(t):t;return{pathname:n?n.startsWith("/")?n:Fce(n,e):e,search:Vce(r),hash:Yce(i)}}function Fce(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dw(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gce(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function M4(t){let e=Gce(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function A4(t,e,n,r=!1){let i;typeof t=="string"?i=Wp(t):(i={...t},Fn(!i.pathname||!i.pathname.includes("?"),Dw("?","pathname","search",i)),Fn(!i.pathname||!i.pathname.includes("#"),Dw("#","pathname","hash",i)),Fn(!i.search||!i.search.includes("#"),Dw("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?e[g]:"/"}let u=Uce(i,l),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}var fc=t=>t.join("/").replace(/\/\/+/g,"/"),qce=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vce=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yce=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kce(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qO=["POST","PUT","PATCH","DELETE"];new Set(qO);var Xce=["GET",...qO];new Set(Xce);var Jp=N.createContext(null);Jp.displayName="DataRouter";var b2=N.createContext(null);b2.displayName="DataRouterState";N.createContext(!1);var VO=N.createContext({isTransitioning:!1});VO.displayName="ViewTransition";var Qce=N.createContext(new Map);Qce.displayName="Fetchers";var Wce=N.createContext(null);Wce.displayName="Await";var ko=N.createContext(null);ko.displayName="Navigation";var my=N.createContext(null);my.displayName="Location";var To=N.createContext({outlet:null,matches:[],isDataRoute:!1});To.displayName="Route";var N4=N.createContext(null);N4.displayName="RouteError";function Jce(t,{relative:e}={}){Fn($p(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(ko),{hash:i,pathname:s,search:a}=gy(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:fc([n,s])),r.createHref({pathname:l,search:a,hash:i})}function $p(){return N.useContext(my)!=null}function _o(){return Fn($p(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(my).location}var YO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KO(t){N.useContext(ko).static||N.useLayoutEffect(t)}function R4(){let{isDataRoute:t}=N.useContext(To);return t?due():$ce()}function $ce(){Fn($p(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Jp),{basename:e,navigator:n}=N.useContext(ko),{matches:r}=N.useContext(To),{pathname:i}=_o(),s=JSON.stringify(M4(r)),a=N.useRef(!1);return KO(()=>{a.current=!0}),N.useCallback((u,d={})=>{if(wo(a.current,YO),!a.current)return;if(typeof u=="number"){n.go(u);return}let p=A4(u,JSON.parse(s),i,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:fc([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,s,i,t])}var Zce=N.createContext(null);function eue(t){let e=N.useContext(To).outlet;return N.useMemo(()=>e&&N.createElement(Zce.Provider,{value:t},e),[e,t])}function gy(t,{relative:e}={}){let{matches:n}=N.useContext(To),{pathname:r}=_o(),i=JSON.stringify(M4(n));return N.useMemo(()=>A4(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tue(t,e){return XO(t,e)}function XO(t,e,n,r,i){Fn($p(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(ko),{matches:a}=N.useContext(To),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let O=g&&g.path||"";QO(d,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=_o(),x;if(e){let O=typeof e=="string"?Wp(e):e;Fn(p==="/"||O.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),x=O}else x=b;let S=x.pathname||"/",k=S;if(p!=="/"){let O=p.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let _=UO(t,{pathname:k});wo(g||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),wo(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=aue(_&&_.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:fc([p,s.encodeLocation?s.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:fc([p,s.encodeLocation?s.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),a,n,r,i);return e&&A?N.createElement(my.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},A):A}function nue(){let t=fue(),e=Kce(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,a)}var rue=N.createElement(nue,null),iue=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(To.Provider,{value:this.props.routeContext},N.createElement(N4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sue({routeContext:t,match:e,children:n}){let r=N.useContext(Jp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(To.Provider,{value:t},n)}function aue(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);Fn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=d),p.route.id){let{loaderData:g,errors:b}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,p,g)=>{let b,x=!1,S=null,k=null;n&&(b=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||rue,l&&(u<0&&g===0?(QO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,k=null):u===g&&(x=!0,k=p.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,g+1)),A=()=>{let O;return b?O=S:x?O=k:p.route.Component?O=N.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=d,N.createElement(sue,{match:p,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement(iue,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):A()},null)}function O4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oue(t){let e=N.useContext(Jp);return Fn(e,O4(t)),e}function lue(t){let e=N.useContext(b2);return Fn(e,O4(t)),e}function cue(t){let e=N.useContext(To);return Fn(e,O4(t)),e}function D4(t){let e=cue(t),n=e.matches[e.matches.length-1];return Fn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uue(){return D4("useRouteId")}function fue(){let t=N.useContext(N4),e=lue("useRouteError"),n=D4("useRouteError");return t!==void 0?t:e.errors?.[n]}function due(){let{router:t}=oue("useNavigate"),e=D4("useNavigate"),n=N.useRef(!1);return KO(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{wo(n.current,YO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var X6={};function QO(t,e,n){!e&&!X6[t]&&(X6[t]=!0,wo(!1,n))}N.memo(hue);function hue({routes:t,future:e,state:n,unstable_onError:r}){return XO(t,void 0,n,r,e)}function pue({to:t,replace:e,state:n,relative:r}){Fn($p(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(ko);wo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(To),{pathname:a}=_o(),l=R4(),u=A4(t,M4(s),a,r==="path"),d=JSON.stringify(u);return N.useEffect(()=>{l(JSON.parse(d),{replace:e,state:n,relative:r})},[l,d,r,e,n]),null}function WO(t){return eue(t.context)}function t0(t){Fn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mue({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Fn(!$p(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof n=="string"&&(n=Wp(n));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:b="default"}=n,x=N.useMemo(()=>{let S=gc(u,a);return S==null?null:{location:{pathname:S,search:d,hash:p,state:g,key:b},navigationType:r}},[a,u,d,p,g,b,r]);return wo(x!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:N.createElement(ko.Provider,{value:l},N.createElement(my.Provider,{children:e,value:x}))}function gue({children:t,location:e}){return tue(f3(t),e)}function f3(t,e=[]){let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,f3(r.props.children,s));return}Fn(r.type===t0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=f3(r.props.children,s)),n.push(a)}),n}var av="get",ov="application/x-www-form-urlencoded";function v2(t){return t!=null&&typeof t.tagName=="string"}function yue(t){return v2(t)&&t.tagName.toLowerCase()==="button"}function bue(t){return v2(t)&&t.tagName.toLowerCase()==="form"}function vue(t){return v2(t)&&t.tagName.toLowerCase()==="input"}function xue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sue(t,e){return t.button===0&&(!e||e==="_self")&&!xue(t)}var Vb=null;function wue(){if(Vb===null)try{new FormData(document.createElement("form"),0),Vb=!1}catch{Vb=!0}return Vb}var Cue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zw(t){return t!=null&&!Cue.has(t)?(wo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ov}"`),null):t}function Eue(t,e){let n,r,i,s,a;if(bue(t)){let l=t.getAttribute("action");r=l?gc(l,e):null,n=t.getAttribute("method")||av,i=zw(t.getAttribute("enctype"))||ov,s=new FormData(t)}else if(yue(t)||vue(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?gc(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||av,i=zw(t.getAttribute("formenctype"))||zw(l.getAttribute("enctype"))||ov,s=new FormData(l,t),!wue()){let{name:d,type:p,value:g}=t;if(p==="image"){let b=d?`${d}.`:"";s.append(`${b}x`,"0"),s.append(`${b}y`,"0")}else d&&s.append(d,g)}}else{if(v2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=av,r=null,i=ov,a=t}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kue(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&gc(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Tue(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _ue(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Mue(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Tue(s,n);return a.links?a.links():[]}return[]}));return Oue(r.flat(1).filter(_ue).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Q6(t,e,n,r,i,s){let a=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>n[d].pathname!==u.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,d)=>a(u,d)||l(u,d)):s==="data"?e.filter((u,d)=>{let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Aue(t,e,{includeHydrateFallback:n}={}){return Nue(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Nue(t){return[...new Set(t)]}function Rue(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Oue(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Rue(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function JO(){let t=N.useContext(Jp);return z4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Due(){let t=N.useContext(b2);return z4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var j4=N.createContext(void 0);j4.displayName="FrameworkContext";function $O(){let t=N.useContext(j4);return z4(t,"You must render this element inside a <HydratedRouter> element"),t}function zue(t,e){let n=N.useContext(j4),[r,i]=N.useState(!1),[s,a]=N.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,b=N.useRef(null);N.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let k=A=>{A.forEach(O=>{a(O.isIntersecting)})},_=new IntersectionObserver(k,{threshold:.5});return b.current&&_.observe(b.current),()=>{_.disconnect()}}},[t]),N.useEffect(()=>{if(r){let k=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(k)}}},[r]);let x=()=>{i(!0)},S=()=>{i(!1),a(!1)};return n?t!=="intent"?[s,b,{}]:[s,b,{onFocus:qg(l,x),onBlur:qg(u,S),onMouseEnter:qg(d,x),onMouseLeave:qg(p,S),onTouchStart:qg(g,x)}]:[!1,b,{}]}function qg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jue({page:t,...e}){let{router:n}=JO(),r=N.useMemo(()=>UO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?N.createElement(Pue,{page:t,matches:r,...e}):null}function Lue(t){let{manifest:e,routeModules:n}=$O(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return Mue(t,e,n).then(a=>{s||i(a)}),()=>{s=!0}},[t,e,n]),r}function Pue({page:t,matches:e,...n}){let r=_o(),{manifest:i,routeModules:s}=$O(),{basename:a}=JO(),{loaderData:l,matches:u}=Due(),d=N.useMemo(()=>Q6(t,e,u,i,r,"data"),[t,e,u,i,r]),p=N.useMemo(()=>Q6(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=N.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(A=>{let O=i.routes[A.route.id];!O||!O.hasLoader||(!d.some(z=>z.route.id===A.route.id)&&A.route.id in l&&s[A.route.id]?.shouldRevalidate||O.hasClientLoader?k=!0:S.add(A.route.id))}),S.size===0)return[];let _=kue(t,a,"data");return k&&S.size>0&&_.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[a,l,r,i,d,e,t,s]),b=N.useMemo(()=>Aue(p,i),[p,i]),x=Lue(p);return N.createElement(N.Fragment,null,g.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:k})=>N.createElement("link",{key:S,nonce:n.nonce,...k})))}function Bue(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZO&&(window.__reactRouterVersion="7.9.5")}catch{}function Iue({basename:t,children:e,window:n}){let r=N.useRef();r.current==null&&(r.current=Ece({window:n,v5Compat:!0}));let i=r.current,[s,a]=N.useState({action:i.action,location:i.location}),l=N.useCallback(u=>{N.startTransition(()=>a(u))},[a]);return N.useLayoutEffect(()=>i.listen(l),[i,l]),N.createElement(mue,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var eD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L4=N.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:p,viewTransition:g,...b},x){let{basename:S}=N.useContext(ko),k=typeof d=="string"&&eD.test(d),_,A=!1;if(typeof d=="string"&&k&&(_=d,ZO))try{let Y=new URL(window.location.href),G=d.startsWith("//")?new URL(Y.protocol+d):new URL(d),X=gc(G.pathname,S);G.origin===Y.origin&&X!=null?d=X+G.search+G.hash:A=!0}catch{wo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Jce(d,{relative:i}),[z,L,H]=zue(r,b),j=Fue(d,{replace:a,state:l,target:u,preventScrollReset:p,relative:i,viewTransition:g});function P(Y){e&&e(Y),Y.defaultPrevented||j(Y)}let I=N.createElement("a",{...b,...H,href:_||O,onClick:A||s?e:P,ref:Bue(x,L),target:u,"data-discover":!k&&n==="render"?"true":void 0});return z&&!k?N.createElement(N.Fragment,null,I,N.createElement(jue,{page:O})):I});L4.displayName="Link";var d3=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:u,...d},p){let g=gy(a,{relative:d.relative}),b=_o(),x=N.useContext(b2),{navigator:S,basename:k}=N.useContext(ko),_=x!=null&&Kue(g)&&l===!0,A=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,O=b.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(O=O.toLowerCase(),z=z?z.toLowerCase():null,A=A.toLowerCase()),z&&k&&(z=gc(z,k)||z);const L=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=O===A||!i&&O.startsWith(A)&&O.charAt(L)==="/",j=z!=null&&(z===A||!i&&z.startsWith(A)&&z.charAt(A.length)==="/"),P={isActive:H,isPending:j,isTransitioning:_},I=H?e:void 0,Y;typeof r=="function"?Y=r(P):Y=[r,H?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(P):s;return N.createElement(L4,{...d,"aria-current":I,className:Y,ref:p,style:G,to:a,viewTransition:l},typeof u=="function"?u(P):u)});d3.displayName="NavLink";var Hue=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:a=av,action:l,onSubmit:u,relative:d,preventScrollReset:p,viewTransition:g,...b},x)=>{let S=Vue(),k=Yue(l,{relative:d}),_=a.toLowerCase()==="get"?"get":"post",A=typeof l=="string"&&eD.test(l),O=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let L=z.nativeEvent.submitter,H=L?.getAttribute("formmethod")||a;S(L||z.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:g})};return N.createElement("form",{ref:x,method:_,action:k,onSubmit:r?u:O,...b,"data-discover":!A&&t==="render"?"true":void 0})});Hue.displayName="Form";function Uue(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tD(t){let e=N.useContext(Jp);return Fn(e,Uue(t)),e}function Fue(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let l=R4(),u=_o(),d=gy(t,{relative:s});return N.useCallback(p=>{if(Sue(p,e)){p.preventDefault();let g=n!==void 0?n:X0(u)===X0(d);l(t,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[u,l,d,n,r,e,t,i,s,a])}var Gue=0,que=()=>`__${String(++Gue)}__`;function Vue(){let{router:t}=tD("useSubmit"),{basename:e}=N.useContext(ko),n=uue();return N.useCallback(async(r,i={})=>{let{action:s,method:a,encType:l,formData:u,body:d}=Eue(r,e);if(i.navigate===!1){let p=i.fetcherKey||que();await t.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:d,formMethod:i.method||a,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Yue(t,{relative:e}={}){let{basename:n}=N.useContext(ko),r=N.useContext(To);Fn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...gy(t||".",{relative:e})},a=_o();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(p=>p==="")){l.delete("index"),u.filter(g=>g).forEach(g=>l.append("index",g));let p=l.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:fc([n,s.pathname])),X0(s)}function Kue(t,{relative:e}={}){let n=N.useContext(VO);Fn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tD("useViewTransitionState"),i=gy(t,{relative:e});if(!n.isTransitioning)return!1;let s=gc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=gc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wx(i.pathname,a)!=null||wx(i.pathname,s)!=null}const Xue=t=>{console.log(`Jarvis context: ${t}`)};function Que(){const[t,e]=N.useState(!1),[n,r]=N.useState(!1),i=_o(),[s,a]=N.useState([{id:"1",role:"system",content:"Hi! I see you are working on something. How can I assist?",timestamp:new Date}]),[l,u]=N.useState(""),d=N.useRef(null);N.useEffect(()=>{Xue(`I am looking at the ${i.pathname} page.`)},[i]);const p=()=>{d.current?.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{p()},[s,t,n]);const g=()=>{if(!l.trim())return;const S={id:Date.now().toString(),role:"user",content:l,timestamp:new Date};a(k=>[...k,S]),u(""),setTimeout(()=>{const k={id:(Date.now()+1).toString(),role:"system",content:`I am aware you are at **${i.pathname}**. Here is some help...`,timestamp:new Date};a(_=>[..._,k])},1e3)},b=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),g())},x=t||n;return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"w-4 h-full fixed right-0 top-0 z-40",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)}),E.jsxs("aside",{className:Nr("fixed top-0 right-0 h-full w-96 bg-surface/95 backdrop-blur-lg border-l border-border shadow-2xl transition-transform duration-300 ease-in-out z-50 transform flex flex-col",x?"translate-x-0":"translate-x-full"),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface-100/50",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),E.jsx("h2",{className:"text-lg font-semibold",children:"Jarvis"})]}),E.jsx("button",{onClick:()=>e(!t),className:Nr("p-2 rounded-md hover:bg-surface-200 transition-colors",t?"text-accent-blue bg-blue-50":"text-gray-500"),title:t?"Unpin":"Pin",children:E.jsx("i",{className:"fa-solid fa-thumbtack transform rotate-45"})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-surface-50/50",children:[s.map(S=>E.jsx(D7,{message:S},S.id)),E.jsx("div",{ref:d})]}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface-100/50",children:[E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{value:l,onChange:S=>u(S.target.value),onKeyDown:b,placeholder:"Ask about this page...",className:"w-full pl-4 pr-10 py-3 rounded-xl border border-border bg-white focus:outline-none focus:ring-2 focus:ring-accent-blue/50 resize-none h-12 min-h-[48px] text-sm"}),E.jsx("button",{onClick:g,disabled:!l.trim(),className:"absolute right-2 top-1/2 -translate-y-1/2 text-accent-blue hover:text-blue-700 disabled:opacity-50",children:E.jsx("i",{className:"fa-solid fa-paper-plane"})})]}),E.jsxs("p",{className:"text-[10px] text-gray-400 mt-2 text-center",children:["Context: ",i.pathname]})]})]})]})}function Wue(){const[t,e]=N.useState(null),[n,r]=N.useState(!0),[i,s]=N.useState(null),a=N.useCallback(async()=>{r(!0),s(null);try{const l=await cs("/v1/tenants/current"),u=await l.json().catch(()=>null);if(!l.ok||!u)throw new Error(u?.message||"Unable to load current tenant");e(u)}catch(l){e(null),s(l?.message||"Unable to resolve tenant")}finally{r(!1)}},[]);return N.useEffect(()=>{a()},[a]),{tenant:t,loading:n,error:i,refresh:a}}const jw=[{id:"1",name:"Personal"},{id:"2",name:"Work"}],Jue={1:[{id:"1",name:"Project A"},{id:"2",name:"Project B"}],2:[{id:"3",name:"Project C"},{id:"4",name:"Project D"}]};function $ue(){const t=R4(),{tenant:e,loading:n,error:r}=Wue(),[i,s]=N.useState(jw[0]);return E.jsxs("div",{className:"flex h-screen bg-background text-foreground",children:[E.jsxs("aside",{className:"w-72 flex-shrink-0 border-r border-border bg-surface/50",children:[E.jsxs("div",{className:"p-4",children:[E.jsx("h2",{className:"text-lg font-semibold",children:"Workspaces"}),E.jsx("select",{value:i.id,onChange:a=>{const l=jw.find(u=>u.id===a.target.value);l&&s(l)},className:"w-full mt-2 p-2 rounded-md bg-surface-100 border border-border",children:jw.map(a=>E.jsx("option",{value:a.id,children:a.name},a.id))})]}),E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold",children:"Projects"}),E.jsx("nav",{className:"mt-2 space-y-1",children:Jue[i.id]?.map(a=>E.jsx(d3,{to:`/projects/${a.id}/board`,className:({isActive:l})=>Nr("block px-4 py-2 rounded-md",l?"bg-primary/10 text-primary":"hover:bg-surface-100"),children:a.name},a.id))})]}),E.jsx("div",{className:"p-4 mt-auto",children:E.jsx(d3,{to:"/customize",className:({isActive:a})=>Nr("block px-4 py-2 rounded-md",a?"bg-primary/10 text-primary":"hover:bg-surface-100"),children:"Customize"})})]}),E.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsxs("header",{className:"h-16 border-b border-border flex items-center justify-between px-6",role:"banner",children:[E.jsx("div",{className:"flex items-center gap-4",children:E.jsx("h1",{className:"text-lg font-semibold sr-only",children:"FocusDeck"})}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("button",{className:"p-2 hover:bg-surface-100 rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Search",children:E.jsx("span",{className:"text-xl",children:""})}),E.jsx("button",{onClick:()=>t("/tenants"),className:"flex items-center gap-2 rounded-full border border-border bg-surface/70 px-3 py-1.5 text-sm text-foreground hover:bg-surface-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",title:e?.name??"Select tenant",children:e?E.jsxs(E.Fragment,{children:[E.jsx("span",{className:"font-medium",children:e.name}),E.jsxs("span",{className:"text-xs text-gray-400",children:["/",e.slug]})]}):n?E.jsx("span",{className:"text-xs text-gray-400",children:"Resolving tenant"}):r?E.jsx("span",{className:"text-xs text-red-300",children:"Tenant error"}):E.jsx("span",{className:"text-xs text-gray-400",children:"Select tenant"})}),E.jsx("button",{onClick:()=>Yw(),className:"px-3 py-2 hover:bg-surface-100 rounded-md transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","aria-label":"Logout",title:"Logout",children:"Logout"})]})]}),E.jsx("div",{id:"main-content",className:"flex-1 overflow-auto p-6",role:"main",tabIndex:-1,children:E.jsx("div",{className:"max-w-7xl mx-auto",children:E.jsx(WO,{})})})]}),E.jsx(Que,{})]})}function Zue(t=768){const[e,n]=N.useState(!1);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${t}px)`),i=()=>{n(r.matches)};return i(),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[t]),e}const efe="modulepreload",tfe=function(t){return"/"+t},W6={},nfe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=tfe(d),d in W6)return;W6[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":efe,p||(b.as="script"),b.crossOrigin="",b.href=d,l&&b.setAttribute("nonce",l),document.head.appendChild(b),p)return new Promise((x,S)=>{b.addEventListener("load",x),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},nD="/assets/argon2-BUCifEKR.wasm",Cx=globalThis;Cx.argon2WasmPath=Cx.argon2WasmPath??nD;let Lw=null;function rfe(){return fetch(nD).then(t=>{if(!t.ok)throw new Error("Failed to load Argon2 WASM");return t.arrayBuffer()})}Cx.loadArgon2WasmBinary=()=>(Lw||(Lw=rfe()),Lw);Cx.loadArgon2WasmModule=void 0;let Pw=null;async function ife(){return Pw||(Pw=nfe(()=>import("./argon2-DSmLEEx8.js").then(t=>t.a),[])),Pw}const sfe="AC6BDB41324A9A9BF166DE5E1389582FAF72B6651987EE07FC3192943DB56050A37329CBB4A099ED8193E0757767A13DD52312AB4B03310DCD7F48A9DA04FD50E8083969EDB767B0CF6096A4FA3B58F90F6A54B42A59D53B3A2A7C5F4F5F4E462E9F6A4E128E71B9F0C67C8E18CBF4C3BAFE8A31C5CFFFB4E90D54BD45BF37DF365C1A65E68CFDA76D4DA708DF1FB2BC2E4A4371";function rD(){if(typeof crypto>"u")throw new Error("WebCrypto is required for PAKE flows")}function afe(t){const e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),n=(Y,G)=>Y>>>G|Y<<32-G,r=(Y,G,X)=>Y&G^~Y&X,i=(Y,G,X)=>Y&G^Y&X^G&X,s=Y=>n(Y,2)^n(Y,13)^n(Y,22),a=Y=>n(Y,6)^n(Y,11)^n(Y,25),l=Y=>n(Y,7)^n(Y,18)^Y>>>3,u=Y=>n(Y,17)^n(Y,19)^Y>>>10,d=t.length,p=d*8,g=Math.ceil((d+9)/64)*64,b=new Uint8Array(g);b.set(t),b[d]=128;const x=new DataView(b.buffer);x.setUint32(g-4,p>>>0,!1),x.setUint32(g-8,p/4294967296>>>0,!1);let S=1779033703,k=3144134277,_=1013904242,A=2773480762,O=1359893119,z=2600822924,L=528734635,H=1541459225;const j=new Uint32Array(64);for(let Y=0;Y<g;Y+=64){for(let J=0;J<16;J++)j[J]=x.getUint32(Y+J*4,!1);for(let J=16;J<64;J++)j[J]=u(j[J-2])+j[J-7]+l(j[J-15])+j[J-16]>>>0;let G=S,X=k,W=_,le=A,ee=O,te=z,V=L,re=H;for(let J=0;J<64;J++){const fe=re+a(ee)+r(ee,te,V)+e[J]+j[J]>>>0,q=s(G)+i(G,X,W)>>>0;re=V,V=te,te=ee,ee=le+fe>>>0,le=W,W=X,X=G,G=fe+q>>>0}S=S+G>>>0,k=k+X>>>0,_=_+W>>>0,A=A+le>>>0,O=O+ee>>>0,z=z+te>>>0,L=L+V>>>0,H=H+re>>>0}const P=new Uint8Array(32),I=new DataView(P.buffer);return I.setUint32(0,S,!1),I.setUint32(4,k,!1),I.setUint32(8,_,!1),I.setUint32(12,A,!1),I.setUint32(16,O,!1),I.setUint32(20,z,!1),I.setUint32(24,L,!1),I.setUint32(28,H,!1),P}function h3(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function Ex(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function yy(t){let e="";for(const n of t)e+=n.toString(16).padStart(2,"0");return e.length===0?0n:BigInt("0x"+e)}function P4(t){if(t===0n)return new Uint8Array([0]);let e=t.toString(16);e.length%2!==0&&(e="0"+e);const n=new Uint8Array(e.length/2);for(let r=0;r<n.length;r++)n[r]=parseInt(e.substr(r*2,2),16);return n}function Du(t,e){const n=P4(t);if(n.length===e)return n;if(n.length>e)return n.slice(n.length-e);const r=new Uint8Array(e);return r.set(n,e-n.length),r}async function p3(t){if(rD(),crypto.subtle){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),n=await crypto.subtle.digest("SHA-256",e);return new Uint8Array(n)}return afe(t)}async function kx(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return p3(n)}async function iD(...t){const e=await kx(...t);return yy(e)}function w0(t,e){const n=t%e;return n>=0n?n:n+e}function lv(t,e,n){if(n===1n)return 0n;let r=1n,i=w0(t,n),s=e;for(;s>0n;)(s&1n)===1n&&(r=w0(r*i,n)),s>>=1n,i=w0(i*i,n);return r}const Bw=new Map;async function ofe(t,e){const n=t.toString(16)+":"+e.toString();if(!Bw.has(n)){const r=Math.ceil(t.toString(16).length/2);Bw.set(n,iD(Du(t,r),Du(e,r)))}return Bw.get(n)}function lfe(t){rD();const e=Math.ceil(t.toString(16).length/2);for(;;){const n=new Uint8Array(e);crypto.getRandomValues(n);const r=yy(n);if(r>0n&&r<t)return r}}async function cfe(t,e,n){const r=new TextEncoder,i=Ex(t),s=r.encode(`${e}:${n}`),a=await p3(s),l=new Uint8Array(i.length+a.length);l.set(i,0),l.set(a,i.length);const u=await p3(l);return yy(u)}async function ufe(t,e,n){if(!t?.salt)throw new Error("Missing Argon2id salt");const r=new TextEncoder,i=r.encode(n),s=t.aad===!1?null:r.encode(e),a=Ex(t.salt),l=t.t??3,u=t.m??65536,d=t.p??2,{ArgonType:p,hash:g}=await ife(),b=await g({pass:i,salt:a,time:l,mem:u,parallelism:d,hashLen:32,type:p.id,...s?{associatedData:s}:{}});return yy(new Uint8Array(b.hash))}function sD(t){if(!t)return null;try{return JSON.parse(t)}catch{return null}}async function aD(t,e,n,r){if(t?.alg?.toLowerCase()==="argon2id")return await ufe(t,n,r);const i=t?.salt??e;if(!i)throw new Error("Missing KDF salt");return cfe(i,n,r)}function ffe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}async function dfe(t,e){return kx(Du(t,e))}async function hfe(t,e){const n=await fetch("/v1/auth/pake/register/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,devicePlatform:"web"})});if(!n.ok)throw new Error("PAKE register start failed");const r=await n.json(),i=BigInt("0x"+r.modulusHex),s=BigInt(r.generator),a=sD(r.kdfParametersJson),l=a?.salt;if(!l)throw new Error("Server did not provide registration salt");const u=await aD(a,l,t,e),d=lv(s,u,i),p=h3(P4(d)),g=await fetch("/v1/auth/pake/register/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,verifierBase64:p,kdfParametersJson:r.kdfParametersJson,vaultDataBase64:null,vaultKdfMetadataJson:null,vaultCipherSuite:null})});if(!g.ok){const b=await g.json().catch(()=>({}));throw new Error(b?.error||"PAKE register finish failed")}return g.json()}async function pfe(t,e,n){const r=BigInt("0x"+sfe),i=2n,s=lfe(r),a=lv(i,s,r),l=h3(P4(a)),u=await fetch("/v1/auth/pake/login/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,clientPublicEphemeralBase64:l,clientId:navigator.userAgent,deviceName:navigator.userAgent,devicePlatform:"web"})});if(!u.ok){const le=await u.json().catch(()=>({}));throw new Error(le?.error||"PAKE login start failed")}const d=await u.json(),p=BigInt("0x"+d.modulusHex),g=BigInt(d.generator),b=Math.ceil(d.modulusHex.length/2),x=yy(Ex(d.serverPublicEphemeralBase64));if(x<=0n||x%p===0n)throw new Error("Invalid server public ephemeral value");const S=sD(d.kdfParametersJson),k=await aD(S,d.saltBase64,t,e),_=await iD(Du(a,b),Du(x,b));if(_===0n)throw new Error("SRP scramble parameter was zero");const A=await ofe(p,g),O=lv(g,k,p),z=w0(x-A*O,p),L=w0(s+_*k,p),H=lv(z,L,p),j=await dfe(H,b),P=await kx(Du(a,b),Du(x,b),j),I=h3(P),Y=await fetch("/v1/auth/pake/login/finish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,sessionId:d.sessionId,clientProofBase64:I,clientId:navigator.userAgent,deviceName:navigator.userAgent,devicePlatform:"web"})});if(!Y.ok){const le=await Y.json().catch(()=>({}));throw new Error(le?.error||"PAKE login finish failed")}const G=await Y.json();if(!G.success)throw new Error("Login failed");const X=await kx(Du(a,b),P,j),W=Ex(G.serverProofBase64);if(!ffe(X,W))throw new Error("Server proof validation failed");return G}const mfe=()=>{const t=_o(),[e,n]=N.useState(""),[r,i]=N.useState(""),[s,a]=N.useState(!1),[l,u]=N.useState(!1),[d,p]=N.useState(null),g=t.state?.from?.pathname||"/";function b(S){switch(S){case"Missing KDF salt":return"Account upgrade required  reset password or contact support.";case"Invalid KDF salt":return"Credential metadata mismatch  please retry or contact support.";case"User not found":return"No account found. Check your user ID or register.";case"Login failed":return"Authentication failed  verify credentials.";default:return S||"Authentication failed"}}async function x(S){S.preventDefault(),p(null),u(!0);try{console.log("[SignIn] Starting login for user:",e.trim());const k=await pfe(e.trim(),r);console.log("[SignIn] Login successful, storing tokens"),k3(k.accessToken,k.refreshToken,e.trim()),console.log("[SignIn] Tokens stored, reloading page"),window.location.href=g}catch(k){const _=b(k?.message);p(_),console.error("[SignIn] Login error:",k)}finally{u(!1)}}return E.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-paper dark:bg-gray-900 relative px-4 py-10",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--ink) 1px, transparent 0)",backgroundSize:"28px 28px"}}),E.jsx("div",{className:"max-w-md w-full relative z-10",children:E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard overflow-hidden flex flex-col",children:[E.jsxs("div",{className:"px-6 py-5 border-b-2 border-ink bg-subtle flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-ink text-white rounded-lg flex items-center justify-center shadow-inner",children:E.jsx("i",{className:"fa-solid fa-layer-group"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-display text-xl font-bold leading-none",children:"FocusDeck Login"}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 tracking-wide",children:"Secure SRP / PAKE Authentication"})]})]}),E.jsxs("div",{className:"hidden md:flex gap-1",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]}),E.jsxs("form",{onSubmit:x,className:"p-6 space-y-5",children:[d&&E.jsxs("div",{className:"border-2 border-red-600 bg-red-100 text-red-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation mt-0.5"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold mb-0.5",children:"Sign in failed"}),E.jsx("div",{children:d})]}),E.jsx("button",{type:"button",onClick:()=>p(null),className:"text-red-700 hover:text-red-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"User ID or Email"}),E.jsx("input",{autoComplete:"username",required:!0,value:e,onChange:S=>n(S.target.value),placeholder:"you@example.com",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"Password"}),E.jsx("button",{type:"button",onClick:()=>a(!s),className:"text-xs font-semibold text-primary hover:underline",children:s?"Hide":"Show"})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:s?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:S=>i(S.target.value),placeholder:"",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm pr-10"}),E.jsx("i",{className:"fa-solid fa-key absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"})]})]}),E.jsxs("button",{type:"submit",disabled:l,className:"w-full py-3 rounded-lg bg-ink text-white font-bold text-sm tracking-wide flex items-center justify-center gap-2 hover:opacity-90 transition disabled:opacity-50",children:[l&&E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),l?"Authenticating":"Sign In Securely"]}),E.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1 pt-2",children:[E.jsx("p",{children:"Encrypted SRP handshake protects your password."}),E.jsxs("p",{className:"italic",children:["Need an account? ",E.jsx("a",{href:"/register",className:"text-primary font-semibold hover:underline",children:"Register"})]})]})]}),E.jsxs("div",{className:"px-6 py-4 border-t-2 border-ink bg-subtle flex items-center justify-between text-xs text-gray-500",children:[E.jsxs("span",{className:"font-mono",children:["v","0.1.0"]}),E.jsx("span",{children:" FocusDeck"})]})]})})]})},gfe=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[a,l]=N.useState(!1),[u,d]=N.useState(!1),[p,g]=N.useState(null),[b,x]=N.useState(null);function S(_){switch(_){case"User already exists":return"An account with this ID already exists.";case"Invalid verifier":return"Verifier generation failed  retry.";case"Password too weak":return"Choose a stronger password.";case"PAKE register start failed":return"Registration handshake could not start.";case"PAKE register finish failed":return"Registration handshake failed to finalize.";default:return _||"Registration failed"}}async function k(_){if(_.preventDefault(),g(null),x(null),n!==i){g("Passwords do not match");return}if(n.length<8){g("Password must be at least 8 characters");return}d(!0);try{const A=await hfe(t.trim(),n);if(A?.accessToken&&A?.refreshToken){k3(A.accessToken,A.refreshToken,t.trim()),window.location.href="/";return}x("Account created. Redirecting to login"),setTimeout(()=>{window.location.href="/login"},1200)}catch(A){const O=S(A?.message);g(O),console.error("Register error:",A)}finally{d(!1)}}return E.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-paper dark:bg-gray-900 relative px-4 py-10",children:[E.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10 mix-blend-overlay",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--ink) 1px, transparent 0)",backgroundSize:"28px 28px"}}),E.jsx("div",{className:"max-w-md w-full relative z-10",children:E.jsxs("div",{className:"bg-surface border-2 border-ink rounded-xl shadow-hard overflow-hidden flex flex-col",children:[E.jsxs("div",{className:"px-6 py-5 border-b-2 border-ink bg-subtle flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 bg-ink text-white rounded-lg flex items-center justify-center shadow-inner",children:E.jsx("i",{className:"fa-solid fa-user-plus"})}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-display text-xl font-bold leading-none",children:"Create Account"}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 tracking-wide",children:"Secure SRP / PAKE Provisioning"})]})]}),E.jsxs("div",{className:"hidden md:flex gap-1",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),E.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]}),E.jsxs("form",{onSubmit:k,className:"p-6 space-y-5",children:[p&&E.jsxs("div",{className:"border-2 border-red-600 bg-red-100 text-red-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-triangle-exclamation mt-0.5"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold mb-0.5",children:"Registration failed"}),E.jsx("div",{children:p})]}),E.jsx("button",{type:"button",onClick:()=>g(null),className:"text-red-700 hover:text-red-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),b&&E.jsxs("div",{className:"border-2 border-green-600 bg-green-100 text-green-800 rounded-lg p-3 text-sm flex items-start gap-3 shadow-sm",children:[E.jsx("i",{className:"fa-solid fa-circle-check mt-0.5"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-bold mb-0.5",children:"Success"}),E.jsx("div",{children:b})]}),E.jsx("button",{type:"button",onClick:()=>x(null),className:"text-green-700 hover:text-green-900",children:E.jsx("i",{className:"fa-solid fa-xmark"})})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"User ID or Email"}),E.jsx("input",{autoComplete:"username",required:!0,value:t,onChange:_=>e(_.target.value),placeholder:"you@example.com",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"Password"}),E.jsx("button",{type:"button",onClick:()=>l(!a),className:"text-xs font-semibold text-primary hover:underline",children:a?"Hide":"Show"})]}),E.jsx("input",{type:a?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:_=>r(_.target.value),placeholder:"",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold tracking-wide uppercase text-gray-600 dark:text-gray-300",children:"Confirm Password"}),E.jsx("input",{type:a?"text":"password",autoComplete:"new-password",required:!0,value:i,onChange:_=>s(_.target.value),placeholder:"",className:"w-full px-4 py-2.5 rounded-lg bg-white dark:bg-gray-950 border-2 border-ink focus:outline-none focus:ring-2 focus:ring-primary/30 font-mono text-sm"})]}),E.jsxs("button",{type:"submit",disabled:u,className:"w-full py-3 rounded-lg bg-ink text-white font-bold text-sm tracking-wide flex items-center justify-center gap-2 hover:opacity-90 transition disabled:opacity-50",children:[u&&E.jsx("i",{className:"fa-solid fa-circle-notch fa-spin"}),u?"Provisioning":"Create Account Securely"]}),E.jsxs("div",{className:"text-center text-xs text-gray-500 space-y-1 pt-2",children:[E.jsx("p",{children:"Your password is never sent  SRP verifier stored."}),E.jsxs("p",{children:["Already have an account?"," ",E.jsx(L4,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Login"})]})]})]}),E.jsxs("div",{className:"px-6 py-4 border-t-2 border-ink bg-subtle flex items-center justify-between text-xs text-gray-500",children:[E.jsxs("span",{className:"font-mono",children:["v","0.1.0"]}),E.jsx("span",{children:" FocusDeck"})]})]})})]})};function yfe(){const t=_o(),[e,n]=N.useState(!0),[r,i]=N.useState(!1);if(N.useEffect(()=>{const s=localStorage.getItem("focusdeck_access_token");s&&s.length>0?bfe(s)?(console.warn("Token found but expired"),i(!1)):i(!0):i(!1),n(!1)},[]),e)return E.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-surface via-surface-100 to-surface text-gray-400",children:E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-4xl mb-4",children:""}),E.jsx("div",{className:"mb-4 font-medium",children:"Verifying your session"}),E.jsx("div",{className:"w-8 h-8 border-2 border-primary/30 border-t-primary rounded-full animate-spin mx-auto"})]})});if(!r){const s=t.pathname+t.search+t.hash;if(t.pathname!=="/login"&&t.pathname!=="/register")return console.info(`Unauthenticated. Redirecting to /login from ${t.pathname}`),E.jsx(pue,{to:`/login?redirectUrl=${encodeURIComponent(s)}`,replace:!0})}return E.jsx(WO,{})}function bfe(t){try{const e=t.split(".");if(e.length!==3)return console.warn("Invalid token format"),!0;const n=JSON.parse(atob(e[1]));if(!n.exp)return!1;const r=n.exp*1e3,i=Date.now()>=r-3e4;return i&&(console.info("Token has expired locally (allowing refresh attempt)"),!1)}catch(e){return console.error("Error checking token expiration:",e),!0}}function vfe(){const t=Zue();return E.jsx(Pj,{children:E.jsx(xL,{children:E.jsx(wL,{children:E.jsx(Iue,{children:E.jsxs(CL,{children:[E.jsxs(gue,{children:[E.jsx(t0,{path:"/login",element:E.jsx(mfe,{})}),E.jsx(t0,{path:"/register",element:E.jsx(gfe,{})}),E.jsx(t0,{element:E.jsx(yfe,{}),children:E.jsx(t0,{path:"/*",element:t?E.jsx($ue,{}):E.jsx(Cce,{})})})]}),E.jsx(T3,{})]})})})})})}const xfe=N.createContext(void 0),Sfe=({children:t})=>{const[e,n]=N.useState(null);return E.jsx(xfe.Provider,{value:{currentWorkspace:e,setCurrentWorkspace:n},children:t})},wfe=N.createContext(null);function Cfe({children:t}){const[e,n]=N.useState([]),[r,i]=N.useState(!0),s=N.useCallback(async()=>{i(!0);try{const d=await cs("/v1/privacy/consent");if(!d.ok)throw new Error("Failed to load privacy consent dashboard");const p=await d.json();n(p)}catch(d){if(d instanceof Error&&(d.message==="Not authenticated"||d.message==="Session expired"||d.message==="Refresh failed"))return;console.error("Unable to refresh privacy settings",d)}finally{i(!1)}},[]),a=N.useCallback(async(d,p)=>{const g=await cs("/v1/privacy/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contextType:d,isEnabled:p})});if(!g.ok){const x=await g.text();throw new Error(x||"Unable to update privacy setting")}const b=await g.json();return n(x=>x.map(S=>S.contextType===b.contextType?b:S)),b},[]),l=N.useCallback(d=>e.some(p=>p.contextType===d&&p.isEnabled),[e]);N.useEffect(()=>{s()},[s]);const u=N.useMemo(()=>({settings:e,loading:r,refresh:s,updateSetting:a,isEnabled:l}),[e,r,s,a,l]);return E.jsx(wfe.Provider,{value:u,children:t})}const Efe=new oP;QD.createRoot(document.getElementById("root")).render(E.jsx(N.StrictMode,{children:E.jsx(lP,{client:Efe,children:E.jsx(Cfe,{children:E.jsx(Sfe,{children:E.jsx(vfe,{})})})})}));export{nfe as _,Lp as a,kfe as g};
