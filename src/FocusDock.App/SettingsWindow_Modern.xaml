<Window x:Class="FocusDock.App.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="FocusDeck Settings" 
        Width="900" 
        Height="700"
        MinWidth="800"
        MinHeight="600"
        Style="{StaticResource ModernWindow}"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize">
    
    <Window.Resources>
        <!-- Settings Card Style -->
        <Style x:Key="SettingsCard" TargetType="Border" BasedOn="{StaticResource Card}">
            <Setter Property="Margin" Value="0,0,0,16"/>
        </Style>
        
        <!-- Settings Section Title -->
        <Style x:Key="SectionTitle" TargetType="TextBlock" BasedOn="{StaticResource TitleTextStyle}">
            <Setter Property="Margin" Value="0,0,0,16"/>
        </Style>
        
        <!-- Setting Row -->
        <Style x:Key="SettingRow" TargetType="Grid">
            <Setter Property="Margin" Value="0,0,0,20"/>
        </Style>
        
        <!-- Tab Item Style -->
        <Style TargetType="TabItem">
            <Setter Property="FontFamily" Value="Segoe UI Variable Text"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}"
                                BorderBrush="Transparent"
                                BorderThickness="0,0,0,3"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter ContentSource="Header" 
                                            HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                                <Setter Property="Foreground" Value="{StaticResource TextPrimaryBrush}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource GlassLightBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,24">
            <TextBlock Text="Settings" Style="{StaticResource DisplayTextStyle}"/>
            <TextBlock Text="Configure your FocusDeck experience" 
                       Style="{StaticResource SubtitleTextStyle}"
                       Margin="0,8,0,0"/>
        </StackPanel>

        <!-- Settings Content -->
        <TabControl Grid.Row="1" 
                    Background="Transparent" 
                    BorderThickness="0">
            
            <!-- ═══════════════ GENERAL TAB ═══════════════ -->
            <TabItem Header="General">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="0,24,16,0">
                        
                        <!-- Appearance Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <TextBlock Text="Appearance" Style="{StaticResource SectionTitle}"/>
                                
                                <!-- Theme -->
                                <Grid Style="{StaticResource SettingRow}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Theme" Style="{StaticResource BodyStrongTextStyle}"/>
                                        <TextBlock Text="Choose your preferred color theme" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <ComboBox Grid.Column="1" 
                                              x:Name="CmbTheme"
                                              Style="{StaticResource ModernComboBox}"
                                              Width="200"
                                              SelectedIndex="0">
                                        <ComboBoxItem Content="Dark (Default)"/>
                                        <ComboBoxItem Content="Light"/>
                                        <ComboBoxItem Content="System"/>
                                    </ComboBox>
                                </Grid>
                                
                                <!-- Compact Mode -->
                                <Grid Style="{StaticResource SettingRow}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Compact Mode" Style="{StaticResource BodyStrongTextStyle}"/>
                                        <TextBlock Text="Show only icons in the dock" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <CheckBox Grid.Column="1" 
                                              x:Name="ChkCompactMode"
                                              Style="{StaticResource ModernToggle}"
                                              Content=""/>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Behavior Section -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <TextBlock Text="Behavior" Style="{StaticResource SectionTitle}"/>
                                
                                <!-- Start with Windows -->
                                <Grid Style="{StaticResource SettingRow}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Start with Windows" Style="{StaticResource BodyStrongTextStyle}"/>
                                        <TextBlock Text="Launch FocusDeck automatically when Windows starts" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <CheckBox Grid.Column="1" 
                                              x:Name="ChkStartWithWindows"
                                              Style="{StaticResource ModernToggle}"
                                              Content=""/>
                                </Grid>
                                
                                <!-- Minimize to Tray -->
                                <Grid Style="{StaticResource SettingRow}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Minimize to System Tray" Style="{StaticResource BodyStrongTextStyle}"/>
                                        <TextBlock Text="Keep FocusDeck running in the background" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <CheckBox Grid.Column="1" 
                                              x:Name="ChkMinimizeToTray"
                                              Style="{StaticResource ModernToggle}"
                                              Content=""/>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Dock Position -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <TextBlock Text="Dock Position" Style="{StaticResource SectionTitle}"/>
                                
                                <Grid Style="{StaticResource SettingRow}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Screen Edge" Style="{StaticResource BodyStrongTextStyle}"/>
                                        <TextBlock Text="Where the dock appears on your screen" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <ComboBox Grid.Column="1" 
                                              x:Name="CmbDockPosition"
                                              Style="{StaticResource ModernComboBox}"
                                              Width="200"
                                              SelectedIndex="0">
                                        <ComboBoxItem Content="Top (Default)"/>
                                        <ComboBoxItem Content="Bottom"/>
                                        <ComboBoxItem Content="Left"/>
                                        <ComboBoxItem Content="Right"/>
                                    </ComboBox>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ═══════════════ INTEGRATIONS TAB ═══════════════ -->
            <TabItem Header="Integrations">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="0,24,16,0">
                        
                        <!-- Google Calendar -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Google Calendar" Style="{StaticResource TitleTextStyle}"/>
                                        <TextBlock Text="Sync your calendar events and assignments" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <CheckBox Grid.Column="1" 
                                              x:Name="ChkEnableGoogle"
                                              Style="{StaticResource ModernToggle}"
                                              Content="Enable"/>
                                </Grid>
                                
                                <TextBlock Text="Client ID" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,8"/>
                                <TextBox x:Name="TxtGoogleClientId" 
                                         Style="{StaticResource ModernTextBox}"
                                         Margin="0,0,0,16"/>
                                
                                <TextBlock Text="Client Secret" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,8"/>
                                <PasswordBox x:Name="PwdGoogleClientSecret" 
                                             Style="{StaticResource ModernTextBox}"
                                             Margin="0,0,0,16"/>
                                
                                <Button x:Name="BtnGoogleAuth" 
                                        Content="Authorize with Google" 
                                        Style="{StaticResource PrimaryButton}"
                                        Click="OnGoogleAuthClick"
                                        HorizontalAlignment="Left"/>
                            </StackPanel>
                        </Border>

                        <!-- Canvas LMS -->
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <Grid Margin="0,0,0,16">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Canvas LMS" Style="{StaticResource TitleTextStyle}"/>
                                        <TextBlock Text="Connect to your Canvas courses and assignments" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <CheckBox Grid.Column="1" 
                                              x:Name="ChkEnableCanvas"
                                              Style="{StaticResource ModernToggle}"
                                              Content="Enable"/>
                                </Grid>
                                
                                <TextBlock Text="Canvas Instance URL" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,8"/>
                                <TextBox x:Name="TxtCanvasUrl" 
                                         Style="{StaticResource ModernTextBox}"
                                         Text="https://canvas.instructure.com"
                                         Margin="0,0,0,4"/>
                                <TextBlock Text="Example: https://myschool.instructure.com" 
                                           Style="{StaticResource CaptionTextStyle}"
                                           Margin="0,0,0,16"/>
                                
                                <TextBlock Text="API Token" Style="{StaticResource LabelTextStyle}" Margin="0,0,0,8"/>
                                <PasswordBox x:Name="PwdCanvasToken" 
                                             Style="{StaticResource ModernTextBox}"
                                             Margin="0,0,0,16"/>
                                
                                <Button x:Name="BtnCanvasTest" 
                                        Content="Test Connection" 
                                        Style="{StaticResource SecondaryButton}"
                                        Click="OnCanvasTestClick"
                                        HorizontalAlignment="Left"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ═══════════════ NOTIFICATIONS TAB ═══════════════ -->
            <TabItem Header="Notifications">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="0,24,16,0">
                        
                        <Border Style="{StaticResource SettingsCard}">
                            <StackPanel>
                                <TextBlock Text="Notification Settings" Style="{StaticResource SectionTitle}"/>
                                
                                <!-- Enable Notifications -->
                                <Grid Style="{StaticResource SettingRow}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Enable Notifications" Style="{StaticResource BodyStrongTextStyle}"/>
                                        <TextBlock Text="Receive alerts for tasks and events" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <CheckBox Grid.Column="1" 
                                              x:Name="ChkEnableNotifications"
                                              Style="{StaticResource ModernToggle}"
                                              Content=""
                                              IsChecked="True"/>
                                </Grid>
                                
                                <!-- Sound -->
                                <Grid Style="{StaticResource SettingRow}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel>
                                        <TextBlock Text="Notification Sound" Style="{StaticResource BodyStrongTextStyle}"/>
                                        <TextBlock Text="Play sound when notifications appear" 
                                                   Style="{StaticResource CaptionTextStyle}"
                                                   Margin="0,4,0,0"/>
                                    </StackPanel>
                                    <CheckBox Grid.Column="1" 
                                              x:Name="ChkNotificationSound"
                                              Style="{StaticResource ModernToggle}"
                                              Content=""
                                              IsChecked="True"/>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ═══════════════ ABOUT TAB ═══════════════ -->
            <TabItem Header="About">
                <StackPanel Margin="0,24,16,0" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="FocusDeck" 
                               Style="{StaticResource DisplayTextStyle}"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Version 1.0.0" 
                               Style="{StaticResource SubtitleTextStyle}"
                               HorizontalAlignment="Center"
                               Margin="0,8,0,32"/>
                    
                    <TextBlock Text="Modern workspace management for Windows" 
                               Style="{StaticResource BodyTextStyle}"
                               HorizontalAlignment="Center"
                               TextAlignment="Center"
                               Margin="0,0,0,32"/>
                    
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button Content="Documentation" 
                                Style="{StaticResource SecondaryButton}"
                                Margin="0,0,12,0"/>
                        <Button Content="GitHub Repository" 
                                Style="{StaticResource SecondaryButton}"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Footer Actions -->
        <Border Grid.Row="2" 
                BorderBrush="{StaticResource GlassStrokeBrush}" 
                BorderThickness="0,1,0,0" 
                Padding="0,20,0,0"
                Margin="0,20,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="1" 
                        x:Name="BtnCancel"
                        Content="Cancel" 
                        Style="{StaticResource SecondaryButton}"
                        Padding="24,10"
                        Margin="0,0,12,0"
                        Click="OnCancelClick"/>
                
                <Button Grid.Column="2" 
                        x:Name="BtnSave"
                        Content="Save Changes" 
                        Style="{StaticResource PrimaryButton}"
                        Padding="24,10"
                        Click="OnSaveClick"/>
            </Grid>
        </Border>
    </Grid>
</Window>
